export default {
  __extends,
  __assign,
  __rest,
  __decorate,
  __param,
  __metadata,
  __awaiter,
  __generator,
  __createBinding,
  __exportStar,
  __values,
  __read,
  __spread,
  __spreadArrays,
  __spreadArray,
  __await,
  __asyncGenerator,
  __asyncDelegator,
  __asyncValues,
  __makeTemplateObject,
  __importStar,
  __importDefault,
  __classPrivateFieldGet,
  __classPrivateFieldSet,
  __classPrivateFieldIn,
  __addDisposableResource,
  __disposeResources,
};
var jI = Object.create,
  l4 = Object.defineProperty,
  WI = Object.getOwnPropertyDescriptor,
  Ng = Object.getOwnPropertyNames,
  HI = Object.getPrototypeOf,
  zI = Object.prototype.hasOwnProperty,
  Bg = ((t) =>
    typeof require < 'u'
      ? require
      : typeof Proxy < 'u'
      ? new Proxy(t, { get: (e, i) => (typeof require < 'u' ? require : e)[i] })
      : t)(function (t) {
    if (typeof require < 'u') return require.apply(this, arguments);
    throw Error('Dynamic require of "' + t + '" is not supported');
  }),
  b = (t, e) =>
    function () {
      return t && (e = (0, t[Ng(t)[0]])((t = 0))), e;
    },
  VI = (t, e) =>
    function () {
      return e || (0, t[Ng(t)[0]])((e = { exports: {} }).exports, e), e.exports;
    },
  GI = (t, e, i, s) => {
    if ((e && typeof e == 'object') || typeof e == 'function')
      for (let r of Ng(e))
        !zI.call(t, r) &&
          r !== i &&
          l4(t, r, { get: () => e[r], enumerable: !(s = WI(e, r)) || s.enumerable });
    return t;
  },
  u4 = (t, e, i) => (
    (i = t != null ? jI(HI(t)) : {}),
    GI(e || !t || !t.__esModule ? l4(i, 'default', { value: t, enumerable: !0 }) : i, t)
  );
function Ug(t) {
  const e = [];
  typeof t == 'number' && e.push('code/timeOrigin', t);
  function i(r, n) {
    e.push(r, n?.startTime ?? Date.now());
  }
  function s() {
    const r = [];
    for (let n = 0; n < e.length; n += 2) r.push({ name: e[n], startTime: e[n + 1] });
    return r;
  }
  return { mark: i, getMarks: s };
}
function qI() {
  if (
    typeof performance == 'object' &&
    typeof performance.mark == 'function' &&
    !performance.nodeTiming
  )
    return typeof performance.timeOrigin != 'number' && !performance.timing
      ? Ug()
      : {
          mark(t, e) {
            performance.mark(t, e);
          },
          getMarks() {
            let t = performance.timeOrigin;
            typeof t != 'number' &&
              (t =
                performance.timing.navigationStart ||
                performance.timing.redirectStart ||
                performance.timing.fetchStart);
            const e = [{ name: 'code/timeOrigin', startTime: Math.round(t) }];
            for (const i of performance.getEntriesByType('mark'))
              e.push({ name: i.name, startTime: Math.round(t + i.startTime) });
            return e;
          },
        };
  if (typeof process == 'object') {
    const t = performance?.timeOrigin;
    return Ug(t);
  } else return console.trace('perf-util loaded in UNKNOWN environment'), Ug();
}
function KI(t) {
  return t.MonacoPerformanceMarks || (t.MonacoPerformanceMarks = qI()), t.MonacoPerformanceMarks;
}
var jg,
  Xe,
  Wg,
  jr = b({
    'out-build/vs/base/common/performance.js'() {
      'use strict';
      (jg = KI(globalThis)), (Xe = jg.mark), (Wg = jg.getMarks);
    },
  });
import * as h4 from 'os';
import * as Cn from 'path';
function Hg(t, e) {
  const i = JI(t, e),
    s = [i];
  return Cn.isAbsolute(i) || s.unshift(d4), Cn.resolve(...s);
}
function JI(t, e) {
  const i = process.env.VSCODE_PORTABLE;
  if (i) return Cn.join(i, 'user-data');
  let s = process.env.VSCODE_APPDATA;
  if (s) return Cn.join(s, e);
  const r = t['user-data-dir'];
  if (r) return r;
  switch (process.platform) {
    case 'win32':
      if (((s = process.env.APPDATA), !s)) {
        const n = process.env.USERPROFILE;
        if (typeof n != 'string')
          throw new Error('Windows: Unexpected undefined %USERPROFILE% environment variable');
        s = Cn.join(n, 'AppData', 'Roaming');
      }
      break;
    case 'darwin':
      s = Cn.join(h4.homedir(), 'Library', 'Application Support');
      break;
    case 'linux':
      s = process.env.XDG_CONFIG_HOME || Cn.join(h4.homedir(), '.config');
      break;
    default:
      throw new Error('Platform not supported');
  }
  return Cn.join(s, e);
}
var d4,
  zg = b({
    'out-build/vs/platform/environment/node/userDataPath.js'() {
      'use strict';
      d4 = process.env.VSCODE_CWD || process.cwd();
    },
  });
function f4(t) {
  Vg.setUnexpectedErrorHandler(t);
}
function XI(t) {
  if (!t || typeof t != 'object') return !1;
  const e = t;
  return e.code === 'EPIPE' && e.syscall?.toUpperCase() === 'WRITE';
}
function Xt(t) {
  qh(t) || Vg.onUnexpectedError(t);
}
function qh(t) {
  return t instanceof Hi ? !0 : t instanceof Error && t.name === Hc && t.message === Hc;
}
function ba() {
  const t = new Error(Hc);
  return (t.name = t.message), t;
}
function YI(t) {
  return t ? new Error(`Illegal argument: ${t}`) : new Error('Illegal argument');
}
function p4(t) {
  return t ? new Error(`Illegal state: ${t}`) : new Error('Illegal state');
}
function Ds(t) {
  return t
    ? t.message
      ? t.message
      : t.stack
      ? t.stack.split(`
`)[0]
      : String(t)
    : 'Error';
}
var g4,
  Vg,
  Hc,
  Hi,
  Kh,
  Dn,
  m4,
  He = b({
    'out-build/vs/base/common/errors.js'() {
      'use strict';
      (g4 = class {
        constructor() {
          (this.b = []),
            (this.a = function (t) {
              setTimeout(() => {
                throw t.stack
                  ? Dn.isErrorNoTelemetry(t)
                    ? new Dn(
                        t.message +
                          `

` +
                          t.stack
                      )
                    : new Error(
                        t.message +
                          `

` +
                          t.stack
                      )
                  : t;
              }, 0);
            });
        }
        addListener(t) {
          return (
            this.b.push(t),
            () => {
              this.d(t);
            }
          );
        }
        c(t) {
          this.b.forEach((e) => {
            e(t);
          });
        }
        d(t) {
          this.b.splice(this.b.indexOf(t), 1);
        }
        setUnexpectedErrorHandler(t) {
          this.a = t;
        }
        getUnexpectedErrorHandler() {
          return this.a;
        }
        onUnexpectedError(t) {
          this.a(t), this.c(t);
        }
        onUnexpectedExternalError(t) {
          this.a(t);
        }
      }),
        (Vg = new g4()),
        (Hc = 'Canceled'),
        (Hi = class extends Error {
          constructor() {
            super(Hc), (this.name = this.message);
          }
        }),
        (Kh = class extends Error {
          constructor() {
            super(...arguments), (this.isExpected = !0);
          }
        }),
        (Dn = class Xy extends Error {
          constructor(e) {
            super(e), (this.name = 'CodeExpectedError');
          }
          static fromError(e) {
            if (e instanceof Xy) return e;
            const i = new Xy();
            return (i.message = e.message), (i.stack = e.stack), i;
          }
          static isErrorNoTelemetry(e) {
            return e.name === 'CodeExpectedError';
          }
        }),
        (m4 = class YA extends Error {
          constructor(e) {
            super(e || 'An unexpected bug occurred.'), Object.setPrototypeOf(this, YA.prototype);
          }
        });
    },
  });
function Gg(t, e) {
  if (!t) throw new Error(e ? `Assertion failed (${e})` : 'Assertion Failed');
}
function QI(t, e = 'Unreachable') {
  throw new Error(e);
}
function ZI(t, e = 'unexpected state') {
  if (!t) throw typeof e == 'string' ? new m4(`Assertion Failed: ${e}`) : e;
}
var Jh = b({
  'out-build/vs/base/common/assert.js'() {
    'use strict';
    He();
  },
});
function ot(t) {
  return typeof t == 'string';
}
function Lt(t) {
  return (
    typeof t == 'object' &&
    t !== null &&
    !Array.isArray(t) &&
    !(t instanceof RegExp) &&
    !(t instanceof Date)
  );
}
function e$(t) {
  const e = Object.getPrototypeOf(Uint8Array);
  return typeof t == 'object' && t instanceof e;
}
function Xh(t) {
  return typeof t == 'number' && !isNaN(t);
}
function t$(t) {
  return !!t && typeof t[Symbol.iterator] == 'function';
}
function mo(t) {
  return t === !0 || t === !1;
}
function Wr(t) {
  return typeof t > 'u';
}
function Ii(t) {
  return Wr(t) || t === null;
}
function i$(t, e) {
  if (!t) throw new Error(e ? `Unexpected type, expected '${e}'` : 'Unexpected type');
}
function zc(t) {
  return ZI(t != null, 'Argument is `undefined` or `null`.'), t;
}
function w4(t) {
  if (!Lt(t)) return !1;
  for (const e in t) if (b4.call(t, e)) return !1;
  return !0;
}
function qg(t) {
  return typeof t == 'function';
}
function s$(t, e) {
  const i = Math.min(t.length, e.length);
  for (let s = 0; s < i; s++) r$(t[s], e[s]);
}
function r$(t, e) {
  if (ot(e)) {
    if (typeof t !== e) throw new Error(`argument does not match constraint: typeof ${e}`);
  } else if (qg(e)) {
    try {
      if (t instanceof e) return;
    } catch {}
    if ((!Ii(t) && t.constructor === e) || (e.length === 1 && e.call(void 0, t) === !0)) return;
    throw new Error(
      'argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true'
    );
  }
}
function CZ(t) {
  return t;
}
var b4,
  $e = b({
    'out-build/vs/base/common/types.js'() {
      'use strict';
      Jh(), (b4 = Object.prototype.hasOwnProperty);
    },
  });
function ms(t) {
  if (!t || typeof t != 'object' || t instanceof RegExp) return t;
  const e = Array.isArray(t) ? [] : {};
  return (
    Object.entries(t).forEach(([i, s]) => {
      e[i] = s && typeof s == 'object' ? ms(s) : s;
    }),
    e
  );
}
function n$(t) {
  if (!t || typeof t != 'object') return t;
  const e = [t];
  for (; e.length > 0; ) {
    const i = e.shift();
    Object.freeze(i);
    for (const s in i)
      if (Jg.call(i, s)) {
        const r = i[s];
        typeof r == 'object' && !Object.isFrozen(r) && !e$(r) && e.push(r);
      }
  }
  return t;
}
function o$(t, e) {
  return Kg(t, e, new Set());
}
function Kg(t, e, i) {
  if (Ii(t)) return t;
  const s = e(t);
  if (typeof s < 'u') return s;
  if (Array.isArray(t)) {
    const r = [];
    for (const n of t) r.push(Kg(n, e, i));
    return r;
  }
  if (Lt(t)) {
    if (i.has(t)) throw new Error('Cannot clone recursive data-structure');
    i.add(t);
    const r = {};
    for (const n in t) Jg.call(t, n) && (r[n] = Kg(t[n], e, i));
    return i.delete(t), r;
  }
  return t;
}
function dr(t, e, i = !0) {
  return Lt(t)
    ? (Lt(e) &&
        Object.keys(e).forEach((s) => {
          s in t ? i && (Lt(t[s]) && Lt(e[s]) ? dr(t[s], e[s], i) : (t[s] = e[s])) : (t[s] = e[s]);
        }),
      t)
    : e;
}
function Ws(t, e) {
  if (t === e) return !0;
  if (
    t == null ||
    e === null ||
    e === void 0 ||
    typeof t != typeof e ||
    typeof t != 'object' ||
    Array.isArray(t) !== Array.isArray(e)
  )
    return !1;
  let i, s;
  if (Array.isArray(t)) {
    if (t.length !== e.length) return !1;
    for (i = 0; i < t.length; i++) if (!Ws(t[i], e[i])) return !1;
  } else {
    const r = [];
    for (s in t) r.push(s);
    r.sort();
    const n = [];
    for (s in e) n.push(s);
    if ((n.sort(), !Ws(r, n))) return !1;
    for (i = 0; i < r.length; i++) if (!Ws(t[r[i]], e[r[i]])) return !1;
  }
  return !0;
}
function v4(t, e) {
  const i = e.toLowerCase(),
    s = Object.keys(t).find((r) => r.toLowerCase() === i);
  return s ? t[s] : t[e];
}
function a$(t, e) {
  const i = {};
  for (const [s, r] of Object.entries(t)) i[s] = e(r, s);
  return i;
}
var Jg,
  mi = b({
    'out-build/vs/base/common/objects.js'() {
      'use strict';
      $e(), (Jg = Object.prototype.hasOwnProperty);
    },
  }),
  y4 = VI({
    'node_modules/minimist/index.js'(t, e) {
      'use strict';
      function i(n, o) {
        var a = n;
        o.slice(0, -1).forEach(function (l) {
          a = a[l] || {};
        });
        var c = o[o.length - 1];
        return c in a;
      }
      function s(n) {
        return typeof n == 'number' || /^0x[0-9a-f]+$/i.test(n)
          ? !0
          : /^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(n);
      }
      function r(n, o) {
        return (o === 'constructor' && typeof n[o] == 'function') || o === '__proto__';
      }
      e.exports = function (n, o) {
        o || (o = {});
        var a = { bools: {}, strings: {}, unknownFn: null };
        typeof o.unknown == 'function' && (a.unknownFn = o.unknown),
          typeof o.boolean == 'boolean' && o.boolean
            ? (a.allBools = !0)
            : []
                .concat(o.boolean)
                .filter(Boolean)
                .forEach(function (B) {
                  a.bools[B] = !0;
                });
        var c = {};
        function l(B) {
          return c[B].some(function (ae) {
            return a.bools[ae];
          });
        }
        Object.keys(o.alias || {}).forEach(function (B) {
          (c[B] = [].concat(o.alias[B])),
            c[B].forEach(function (ae) {
              c[ae] = [B].concat(
                c[B].filter(function (Me) {
                  return ae !== Me;
                })
              );
            });
        }),
          []
            .concat(o.string)
            .filter(Boolean)
            .forEach(function (B) {
              (a.strings[B] = !0),
                c[B] &&
                  [].concat(c[B]).forEach(function (ae) {
                    a.strings[ae] = !0;
                  });
            });
        var h = o.default || {},
          d = { _: [] };
        function p(B, ae) {
          return (a.allBools && /^--[^=]+$/.test(ae)) || a.strings[B] || a.bools[B] || c[B];
        }
        function m(B, ae, Me) {
          for (var fe = B, _t = 0; _t < ae.length - 1; _t++) {
            var V = ae[_t];
            if (r(fe, V)) return;
            fe[V] === void 0 && (fe[V] = {}),
              (fe[V] === Object.prototype ||
                fe[V] === Number.prototype ||
                fe[V] === String.prototype) &&
                (fe[V] = {}),
              fe[V] === Array.prototype && (fe[V] = []),
              (fe = fe[V]);
          }
          var R = ae[ae.length - 1];
          r(fe, R) ||
            ((fe === Object.prototype || fe === Number.prototype || fe === String.prototype) &&
              (fe = {}),
            fe === Array.prototype && (fe = []),
            fe[R] === void 0 || a.bools[R] || typeof fe[R] == 'boolean'
              ? (fe[R] = Me)
              : Array.isArray(fe[R])
              ? fe[R].push(Me)
              : (fe[R] = [fe[R], Me]));
        }
        function w(B, ae, Me) {
          if (!(Me && a.unknownFn && !p(B, Me) && a.unknownFn(Me) === !1)) {
            var fe = !a.strings[B] && s(ae) ? Number(ae) : ae;
            m(d, B.split('.'), fe),
              (c[B] || []).forEach(function (_t) {
                m(d, _t.split('.'), fe);
              });
          }
        }
        Object.keys(a.bools).forEach(function (B) {
          w(B, h[B] === void 0 ? !1 : h[B]);
        });
        var v = [];
        n.indexOf('--') !== -1 &&
          ((v = n.slice(n.indexOf('--') + 1)), (n = n.slice(0, n.indexOf('--'))));
        for (var k = 0; k < n.length; k++) {
          var y = n[k],
            C,
            I;
          if (/^--.+=/.test(y)) {
            var E = y.match(/^--([^=]+)=([\s\S]*)$/);
            C = E[1];
            var x = E[2];
            a.bools[C] && (x = x !== 'false'), w(C, x, y);
          } else if (/^--no-.+/.test(y)) (C = y.match(/^--no-(.+)/)[1]), w(C, !1, y);
          else if (/^--.+/.test(y))
            (C = y.match(/^--(.+)/)[1]),
              (I = n[k + 1]),
              I !== void 0 &&
              !/^(-|--)[^-]/.test(I) &&
              !a.bools[C] &&
              !a.allBools &&
              (!c[C] || !l(C))
                ? (w(C, I, y), (k += 1))
                : /^(true|false)$/.test(I)
                ? (w(C, I === 'true', y), (k += 1))
                : w(C, a.strings[C] ? '' : !0, y);
          else if (/^-[^-]+/.test(y)) {
            for (var F = y.slice(1, -1).split(''), Y = !1, oe = 0; oe < F.length; oe++) {
              if (((I = y.slice(oe + 2)), I === '-')) {
                w(F[oe], I, y);
                continue;
              }
              if (/[A-Za-z]/.test(F[oe]) && I[0] === '=') {
                w(F[oe], I.slice(1), y), (Y = !0);
                break;
              }
              if (/[A-Za-z]/.test(F[oe]) && /-?\d+(\.\d*)?(e-?\d+)?$/.test(I)) {
                w(F[oe], I, y), (Y = !0);
                break;
              }
              if (F[oe + 1] && F[oe + 1].match(/\W/)) {
                w(F[oe], y.slice(oe + 2), y), (Y = !0);
                break;
              } else w(F[oe], a.strings[F[oe]] ? '' : !0, y);
            }
            (C = y.slice(-1)[0]),
              !Y &&
                C !== '-' &&
                (n[k + 1] && !/^(-|--)[^-]/.test(n[k + 1]) && !a.bools[C] && (!c[C] || !l(C))
                  ? (w(C, n[k + 1], y), (k += 1))
                  : n[k + 1] && /^(true|false)$/.test(n[k + 1])
                  ? (w(C, n[k + 1] === 'true', y), (k += 1))
                  : w(C, a.strings[C] ? '' : !0, y));
          } else if (
            ((!a.unknownFn || a.unknownFn(y) !== !1) &&
              d._.push(a.strings._ || !s(y) ? y : Number(y)),
            o.stopEarly)
          ) {
            d._.push.apply(d._, n.slice(k + 1));
            break;
          }
        }
        return (
          Object.keys(h).forEach(function (B) {
            i(d, B.split('.')) ||
              (m(d, B.split('.'), h[B]),
              (c[B] || []).forEach(function (ae) {
                m(d, ae.split('.'), h[B]);
              }));
          }),
          o['--']
            ? (d['--'] = v.slice())
            : v.forEach(function (B) {
                d._.push(B);
              }),
          d
        );
      };
    },
  });
function Vc(t) {
  return t.replace(S4, function (e, i, s, r, n, o) {
    if (r) return '';
    if (n) {
      const a = n.length;
      return n[a - 1] ===
        `
`
        ? n[a - 2] === '\r'
          ? `\r
`
          : `
`
        : '';
    } else return o ? e.substring(1) : e;
  });
}
function k4(t) {
  const e = Vc(t);
  try {
    return JSON.parse(e);
  } catch {
    const s = e.replace(/,\s*([}\]])/g, '$1');
    return JSON.parse(s);
  }
}
var S4,
  Gc = b({
    'out-build/vs/base/common/jsonc.js'() {
      'use strict';
      S4 =
        /("[^"\\]*(?:\\.[^"\\]*)*")|('[^'\\]*(?:\\.[^'\\]*)*')|(\/\*[^\/\*]*(?:(?:\*|\/)[^\/\*]*)*?\*\/)|(\/{2,}.*?(?:(?:\r?\n)|$))|(,\s*[}\]])/g;
    },
  });
function wo(t) {
  return t.quality ? (t.quality === 'insider' ? 'beta' : t.quality) : 'stable';
}
function E4(t) {
  return `${wo(t)}_${t.providerCode}`;
}
async function c$(t) {
  const e = async () => {
    const i = Xg.CN === t.providerCode ? 'cn' : 'sg';
    try {
      const r = await (
          await Promise.any(
            ['trae.ai', 'trae.com.cn'].map((a) =>
              fetch(`https://api.${a}/cloudide/api/v3/public/GetLoginGuidanceForBytedance`, {
                method: 'POST',
              })
            )
          )
        ).json(),
        n = r?.Result?.Region?.toLowerCase(),
        o = r?.Result?.CountryCode;
      return (Yh = { cdnRegion: n, countryCode: o }), Yh;
    } catch {
      return { cdnRegion: i, countryCode: '' };
    }
  };
  return Yh ? (e(), Yh) : await e();
}
function l$(t) {
  return t ? t === 'dev' : !1;
}
var C4,
  zi,
  Xg,
  D4,
  Yh,
  wi = b({
    'out-build/vs/base/common/product.js'() {
      'use strict';
      (function (t) {
        (t[(t.PRO = 0)] = 'PRO'), (t[(t.LITE = 1)] = 'LITE'), (t[(t.UX_SIMPLE = 2)] = 'UX_SIMPLE');
      })(C4 || (C4 = {})),
        (function (t) {
          (t.YINLI = 'Yinli'), (t.SPRING = 'Spring');
        })(zi || (zi = {})),
        (function (t) {
          (t.CN = 'cn'), (t.I18N = 'i18n');
        })(Xg || (Xg = {})),
        (function (t) {
          (t.Yinli = 'Yinli'), (t.Spring = 'Spring');
        })(D4 || (D4 = {}));
    },
  });
function u$() {
  const t = x4();
  return t ? Array.from(t) : [];
}
function x4() {
  return process.uncHostAllowlist;
}
function qc(t) {
  if (process.platform !== 'win32') return;
  const e = x4();
  if (e)
    if (typeof t == 'string') e.add(t.toLowerCase());
    else for (const i of h$(t)) qc(i);
}
function h$(t) {
  const e = new Set();
  if (Array.isArray(t)) for (const i of t) typeof i == 'string' && e.add(i);
  return Array.from(e);
}
function A4(t) {
  if (typeof t != 'string') return;
  const e = ['\\\\.\\UNC\\', '\\\\?\\UNC\\', '\\\\'];
  let i;
  for (const s of e) {
    if (t.indexOf(s) !== 0) continue;
    const n = t.indexOf('\\', s.length);
    if (n === -1) continue;
    const o = t.substring(s.length, n);
    if (o) {
      i = o;
      break;
    }
  }
  return i;
}
function d$() {
  process.platform === 'win32' && (process.restrictUNCAccess = !1);
}
function f$() {
  return process.platform !== 'win32' ? !0 : process.restrictUNCAccess === !1;
}
var Kc = b({
  'out-build/vs/base/node/unc.js'() {
    'use strict';
  },
});
import * as I4 from 'os';
function $4(t) {
  const e = t.replace(/\-/g, ':').toLowerCase();
  return !_4.has(e);
}
function p$() {
  const t = I4.networkInterfaces();
  for (const e in t) {
    const i = t[e];
    if (i) {
      for (const { mac: s } of i) if ($4(s)) return s;
    }
  }
  throw new Error('Unable to retrieve mac address (unexpected format)');
}
function P4() {
  const t = I4.networkInterfaces();
  let e;
  const i = L4[process.platform] || [];
  for (const s of i) {
    const r = t[s];
    if (r) {
      for (const { mac: n, internal: o } of r)
        if ($4(n) && !o) {
          e = n;
          break;
        }
    }
    if (e) break;
  }
  return e || p$();
}
var _4,
  L4,
  T4 = b({
    'out-build/vs/base/node/getMacAddress.js'() {
      'use strict';
      (_4 = new Set(['00:00:00:00:00:00', 'ff:ff:ff:ff:ff:ff', 'ac:de:48:00:11:22'])),
        (L4 = {
          darwin: ['en0', 'en1', 'llw0'],
          linux: ['wlan0', 'eth0'],
          win32: ['Wi-Fi', 'WLAN', 'Ethernet'],
        });
    },
  });
function M4(t) {
  return ['zh-cn', 'en', 'ja'].includes(t.toLowerCase());
}
function g$() {
  return { 'zh-cn': 'zh-cn', en: 'en', ja: 'ja' };
}
function m$(t) {
  const e = g$(),
    i = { 'zh-cn': '\u6211', en: 'Me', ja: '\u79C1' };
  return e[t] ? i[e[t]] : t.includes('zh') ? i['zh-cn'] : i.en;
}
var F4 = b({
    'out-build/vs/base/common/iCube/tools.js'() {
      'use strict';
    },
  }),
  O4,
  Qh,
  w$,
  b$,
  R4 = b({
    'out-build/vs/base/common/iCube/iCubeClientFlags.js'() {
      'use strict';
      wi(),
        (O4 = 'ByteIDEClientFlag'),
        (Qh = 'icube-icube-themes'),
        (w$ = [
          `vs-dark ${Qh}-themes-dark_plus-json`,
          `vs-dark ${Qh}-themes-dark_blue-json`,
          `vs ${Qh}-themes-light-json`,
        ]),
        (b$ = class Yy {
          static {
            this.a = !1;
          }
          static get isICubeTheme() {
            return Yy.a;
          }
          static setICubeTheme(e) {
            Yy.a = e;
          }
        });
    },
  });
function Zh() {
  return globalThis._VSCODE_NLS_MESSAGES;
}
function Jc() {
  return globalThis._VSCODE_NLS_LANGUAGE;
}
var Yg = b({
  'out-build/vs/nls.messages.js'() {
    'use strict';
  },
});
function ed(t, e) {
  let i;
  return (
    e.length === 0
      ? (i = t)
      : (i = t.replace(/\{(\d+)\}/g, (s, r) => {
          const n = r[0],
            o = e[n];
          let a = s;
          return (
            typeof o == 'string'
              ? (a = o)
              : (typeof o == 'number' || typeof o == 'boolean' || o === void 0 || o === null) &&
                (a = String(o)),
            a
          );
        })),
    U4 && (i = '\uFF3B' + i.replace(/[aouei]/g, '$&$&') + '\uFF3D'),
    i
  );
}
function u(t, e, ...i) {
  return ed(typeof t == 'number' ? N4(t, e) : e, i);
}
function N4(t, e) {
  const i = Zh()?.[t];
  if (typeof i != 'string') {
    if (typeof e == 'string') return e;
    throw new Error(`!!! NLS MISSING: ${t} !!!`);
  }
  return i;
}
function B4(t, e, ...i) {
  let s;
  typeof t == 'number' ? (s = N4(t, e)) : (s = e);
  const r = ed(s, i);
  return { value: r, original: e === s ? r : ed(e, i) };
}
var U4,
  he = b({
    'out-build/vs/nls.js'() {
      'use strict';
      Yg(),
        Yg(),
        (U4 =
          Jc() === 'pseudo' ||
          (typeof document < 'u' &&
            document.location &&
            typeof document.location.hash == 'string' &&
            document.location.hash.indexOf('pseudo=true') >= 0));
    },
  });
function Qg(t) {
  switch (t) {
    case 1:
      return 'Mac';
    case 2:
      return 'Linux';
    case 3:
      return 'Windows';
    case 0:
    default:
      return 'Web';
  }
}
function v$(t) {
  return parseFloat(t) >= 20;
}
var bo,
  vo,
  yo,
  va,
  Zg,
  e0,
  td,
  t0,
  id,
  i0,
  j4,
  Xc,
  Yc,
  sd,
  s0,
  fr,
  W4,
  pr,
  os,
  r0,
  H4,
  z4,
  Qc,
  J,
  Q,
  Fe,
  n0,
  o0,
  V4,
  xn,
  G4,
  q4,
  K4,
  ya,
  Hs,
  $i,
  J4,
  X4,
  a0,
  Y4,
  Q4,
  Z4,
  e2,
  ws,
  t2,
  c0,
  i2,
  s2,
  r2,
  y$,
  ie = b({
    'out-build/vs/base/common/platform.js'() {
      'use strict';
      if (
        (R4(),
        he(),
        (bo = 'en'),
        (vo = !1),
        (yo = !1),
        (va = !1),
        (Zg = !1),
        (e0 = !1),
        (td = !1),
        (t0 = !1),
        (id = !1),
        (i0 = !1),
        (j4 = !1),
        (Xc = void 0),
        (Yc = bo),
        (sd = bo),
        (s0 = void 0),
        (fr = void 0),
        (W4 = !1),
        (pr = globalThis),
        (os = void 0),
        typeof pr.vscode < 'u' && typeof pr.vscode.process < 'u'
          ? (os = pr.vscode.process)
          : typeof process < 'u' && typeof process?.versions?.node == 'string' && (os = process),
        (r0 = typeof os?.versions?.electron == 'string'),
        (H4 = r0 && os?.type === 'renderer'),
        typeof os == 'object')
      ) {
        (vo = os.platform === 'win32'),
          (yo = os.platform === 'darwin'),
          (va = os.platform === 'linux'),
          (Zg = va && !!os.env.SNAP && !!os.env.SNAP_REVISION),
          (t0 = r0),
          (i0 = !!os.env.CI || !!os.env.BUILD_ARTIFACTSTAGINGDIRECTORY),
          (Xc = bo),
          (Yc = bo);
        const t = os.env.VSCODE_NLS_CONFIG;
        if (t)
          try {
            const e = JSON.parse(t);
            (Xc = e.userLocale),
              (sd = e.osLocale),
              (Yc = e.resolvedLanguage || bo),
              (s0 = e.languagePack?.translationsConfigFile);
          } catch {}
        e0 = !0;
      } else
        typeof navigator == 'object' && !H4
          ? ((fr = navigator.userAgent),
            (vo = fr.indexOf('Windows') >= 0),
            (yo = fr.indexOf('Macintosh') >= 0),
            (id =
              (fr.indexOf('Macintosh') >= 0 ||
                fr.indexOf('iPad') >= 0 ||
                fr.indexOf('iPhone') >= 0) &&
              !!navigator.maxTouchPoints &&
              navigator.maxTouchPoints > 0),
            (va = fr.indexOf('Linux') >= 0),
            (j4 = fr?.indexOf('Mobi') >= 0),
            (td = !0),
            (W4 = O4 in globalThis),
            (Yc = Jc() || bo),
            (Xc = navigator.language.toLowerCase()),
            (sd = Xc))
          : console.error('Unable to resolve platform.');
      (function (t) {
        (t[(t.Web = 0)] = 'Web'),
          (t[(t.Mac = 1)] = 'Mac'),
          (t[(t.Linux = 2)] = 'Linux'),
          (t[(t.Windows = 3)] = 'Windows');
      })(z4 || (z4 = {})),
        (Qc = 0),
        yo ? (Qc = 1) : vo ? (Qc = 3) : va && (Qc = 2),
        (J = vo),
        (Q = yo),
        (Fe = va),
        (n0 = Zg),
        (o0 = e0),
        (V4 = t0),
        (xn = td),
        (G4 = td && typeof pr.importScripts == 'function'),
        (q4 = G4 ? pr.origin : void 0),
        (K4 = i0),
        (ya = Qc),
        (Hs = fr),
        ($i = Yc),
        (function (t) {
          function e() {
            return $i;
          }
          t.value = e;
          function i() {
            return $i.length === 2
              ? $i === 'en'
              : $i.length >= 3
              ? $i[0] === 'e' && $i[1] === 'n' && $i[2] === '-'
              : !1;
          }
          t.isDefaultVariant = i;
          function s() {
            return $i === 'en';
          }
          t.isDefault = s;
        })(J4 || (J4 = {})),
        (X4 = sd),
        (a0 = s0),
        (Y4 = typeof pr.postMessage == 'function' && !pr.importScripts),
        (Q4 = (() => {
          if (Y4) {
            const t = [];
            pr.addEventListener('message', (i) => {
              if (i.data && i.data.vscodeScheduleAsyncWork)
                for (let s = 0, r = t.length; s < r; s++) {
                  const n = t[s];
                  if (n.id === i.data.vscodeScheduleAsyncWork) {
                    t.splice(s, 1), n.callback();
                    return;
                  }
                }
            });
            let e = 0;
            return (i) => {
              const s = ++e;
              t.push({ id: s, callback: i }), pr.postMessage({ vscodeScheduleAsyncWork: s }, '*');
            };
          }
          return (t) => setTimeout(t);
        })()),
        (function (t) {
          (t[(t.Windows = 1)] = 'Windows'),
            (t[(t.Macintosh = 2)] = 'Macintosh'),
            (t[(t.Linux = 3)] = 'Linux');
        })(Z4 || (Z4 = {})),
        (function (t) {
          (t.Windows = 'Win'), (t.Macintosh = 'Mac'), (t.Linux = 'Linux');
        })(e2 || (e2 = {})),
        (ws = yo || id ? 2 : vo ? 1 : 3),
        (t2 = yo || id ? 'Mac' : vo ? 'Win' : 'Linux'),
        (c0 = !!(Hs && Hs.indexOf('Chrome') >= 0)),
        (i2 = !!(Hs && Hs.indexOf('Firefox') >= 0)),
        (s2 = !!(!c0 && Hs && Hs.indexOf('Safari') >= 0)),
        (r2 = !!(Hs && Hs.indexOf('Edg/') >= 0)),
        (y$ = !!(Hs && Hs.indexOf('Android') >= 0));
    },
  });
function k$(t, e, i = 0, s = t.length) {
  let r = i,
    n = s;
  for (; r < n; ) {
    const o = Math.floor((r + n) / 2);
    e(t[o]) ? (r = o + 1) : (n = o);
  }
  return r - 1;
}
function S$(t, e, i = 0, s = t.length) {
  let r = i,
    n = s;
  for (; r < n; ) {
    const o = Math.floor((r + n) / 2);
    e(t[o]) ? (n = o) : (r = o + 1);
  }
  return r;
}
var E$,
  C$ = b({
    'out-build/vs/base/common/arraysFind.js'() {
      'use strict';
      E$ = class QA {
        static {
          this.assertInvariants = !1;
        }
        constructor(e) {
          (this.e = e), (this.c = 0);
        }
        findLastMonotonous(e) {
          if (QA.assertInvariants) {
            if (this.d) {
              for (const s of this.e)
                if (this.d(s) && !e(s))
                  throw new Error(
                    'MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.'
                  );
            }
            this.d = e;
          }
          const i = k$(this.e, e, this.c);
          return (this.c = i + 1), i === -1 ? void 0 : this.e[i];
        }
      };
    },
  });
function Zc(t, e, i = (s, r) => s === r) {
  if (t === e) return !0;
  if (!t || !e || t.length !== e.length) return !1;
  for (let s = 0, r = t.length; s < r; s++) if (!i(t[s], e[s])) return !1;
  return !0;
}
function D$(t, e, i) {
  if (i === 0) return [];
  const s = t.slice(0, i).sort(e);
  return x$(t, e, s, i, t.length), s;
}
function x$(t, e, i, s, r) {
  for (const n = i.length; s < r; s++) {
    const o = t[s];
    if (e(o, i[n - 1]) < 0) {
      i.pop();
      const a = S$(i, (c) => e(o, c) < 0);
      i.splice(a, 0, o);
    }
  }
}
function Yt(t) {
  return t.filter((e) => !!e);
}
function zs(t, e = (i) => i) {
  const i = new Set();
  return t.filter((s) => {
    const r = e(s);
    return i.has(r) ? !1 : (i.add(r), !0);
  });
}
function n2(t, e) {
  return t.push(e), () => A$(t, e);
}
function A$(t, e) {
  const i = t.indexOf(e);
  if (i > -1) return t.splice(i, 1), e;
}
function o2(t, e) {
  let i;
  if (typeof e == 'number') {
    let s = e;
    i = () => {
      const r = Math.sin(s++) * 179426549;
      return r - Math.floor(r);
    };
  } else i = Math.random;
  for (let s = t.length - 1; s > 0; s -= 1) {
    const r = Math.floor(i() * (s + 1)),
      n = t[s];
    (t[s] = t[r]), (t[r] = n);
  }
}
function I$(t) {
  return t[Math.floor(Math.random() * t.length)];
}
function $$(t, e) {
  return (i, s) => e(t(i), t(s));
}
function P$(t, e = 0) {
  e <= 0 && (e = t.length);
  const i = [];
  for (let s = 0, r = t.length; s < r; s += e) i.push(t.slice(s, s + e));
  return i;
}
var l0,
  a2,
  _$,
  ni = b({
    'out-build/vs/base/common/arrays.js'() {
      'use strict';
      C$(),
        He(),
        (function (t) {
          function e(n) {
            return n < 0;
          }
          t.isLessThan = e;
          function i(n) {
            return n <= 0;
          }
          t.isLessThanOrEqual = i;
          function s(n) {
            return n > 0;
          }
          t.isGreaterThan = s;
          function r(n) {
            return n === 0;
          }
          (t.isNeitherLessOrGreaterThan = r),
            (t.greaterThan = 1),
            (t.lessThan = -1),
            (t.neitherLessOrGreaterThan = 0);
        })(l0 || (l0 = {})),
        (a2 = (t, e) => t - e),
        (_$ = class Sg {
          static {
            this.empty = new Sg((e) => {});
          }
          constructor(e) {
            this.iterate = e;
          }
          forEach(e) {
            this.iterate((i) => (e(i), !0));
          }
          toArray() {
            const e = [];
            return this.iterate((i) => (e.push(i), !0)), e;
          }
          filter(e) {
            return new Sg((i) => this.iterate((s) => (e(s) ? i(s) : !0)));
          }
          map(e) {
            return new Sg((i) => this.iterate((s) => i(e(s))));
          }
          some(e) {
            let i = !1;
            return this.iterate((s) => ((i = e(s)), !i)), i;
          }
          findFirst(e) {
            let i;
            return this.iterate((s) => (e(s) ? ((i = s), !1) : !0)), i;
          }
          findLast(e) {
            let i;
            return this.iterate((s) => (e(s) && (i = s), !0)), i;
          }
          findLastMaxBy(e) {
            let i,
              s = !0;
            return (
              this.iterate((r) => ((s || l0.isGreaterThan(e(r, i))) && ((s = !1), (i = r)), !0)), i
            );
          }
        });
    },
  });
function L$(t, e) {
  const i = Object.create(null);
  for (const s of t) {
    const r = e(s);
    let n = i[r];
    n || (n = i[r] = []), n.push(s);
  }
  return i;
}
var c2,
  T$,
  l2 = b({
    'out-build/vs/base/common/collections.js'() {
      'use strict';
      T$ = class {
        static {
          c2 = Symbol.toStringTag;
        }
        constructor(t, e) {
          (this.b = e), (this.a = new Map()), (this[c2] = 'SetWithKey');
          for (const i of t) this.add(i);
        }
        get size() {
          return this.a.size;
        }
        add(t) {
          const e = this.b(t);
          return this.a.set(e, t), this;
        }
        delete(t) {
          return this.a.delete(this.b(t));
        }
        has(t) {
          return this.a.has(this.b(t));
        }
        *entries() {
          for (const t of this.a.values()) yield [t, t];
        }
        keys() {
          return this.values();
        }
        *values() {
          for (const t of this.a.values()) yield t;
        }
        clear() {
          this.a.clear();
        }
        forEach(t, e) {
          this.a.forEach((i) => t.call(e, i, i, this));
        }
        [Symbol.iterator]() {
          return this.values();
        }
      };
    },
  });
function u0(t, e) {
  const i = this;
  let s = !1,
    r;
  return function () {
    if (s) return r;
    if (((s = !0), e))
      try {
        r = t.apply(i, arguments);
      } finally {
        e();
      }
    else r = t.apply(i, arguments);
    return r;
  };
}
var h0 = b({
  'out-build/vs/base/common/functional.js'() {
    'use strict';
  },
});
function M$(t) {
  const e = [];
  return (
    t.forEach((i, s) => {
      e.push(`${s} => ${i}`);
    }),
    `Map(${t.size}) {${e.join(', ')}}`
  );
}
function F$(t) {
  const e = [];
  return (
    t.forEach((i) => {
      e.push(i);
    }),
    `Set(${t.size}) {${e.join(', ')}}`
  );
}
function O$(t) {
  return Array.isArray(t);
}
var u2,
  h2,
  d2,
  f2,
  bi,
  d0,
  p2,
  g2,
  m2,
  ka,
  w2,
  Pi = b({
    'out-build/vs/base/common/map.js'() {
      'use strict';
      (f2 = class {
        constructor(t, e) {
          (this.uri = t), (this.value = e);
        }
      }),
        (bi = class Th {
          static {
            this.c = (e) => e.toString();
          }
          constructor(e, i) {
            if (((this[u2] = 'ResourceMap'), e instanceof Th))
              (this.d = new Map(e.d)), (this.e = i ?? Th.c);
            else if (O$(e)) {
              (this.d = new Map()), (this.e = i ?? Th.c);
              for (const [s, r] of e) this.set(s, r);
            } else (this.d = new Map()), (this.e = e ?? Th.c);
          }
          set(e, i) {
            return this.d.set(this.e(e), new f2(e, i)), this;
          }
          get(e) {
            return this.d.get(this.e(e))?.value;
          }
          has(e) {
            return this.d.has(this.e(e));
          }
          get size() {
            return this.d.size;
          }
          clear() {
            this.d.clear();
          }
          delete(e) {
            return this.d.delete(this.e(e));
          }
          forEach(e, i) {
            typeof i < 'u' && (e = e.bind(i));
            for (const [s, r] of this.d) e(r.value, r.uri, this);
          }
          *values() {
            for (const e of this.d.values()) yield e.value;
          }
          *keys() {
            for (const e of this.d.values()) yield e.uri;
          }
          *entries() {
            for (const e of this.d.values()) yield [e.uri, e.value];
          }
          *[((u2 = Symbol.toStringTag), Symbol.iterator)]() {
            for (const [, e] of this.d) yield [e.uri, e.value];
          }
        }),
        (d0 = class {
          constructor(t, e) {
            (this[h2] = 'ResourceSet'),
              !t || typeof t == 'function'
                ? (this.c = new bi(t))
                : ((this.c = new bi(e)), t.forEach(this.add, this));
          }
          get size() {
            return this.c.size;
          }
          add(t) {
            return this.c.set(t, t), this;
          }
          clear() {
            this.c.clear();
          }
          delete(t) {
            return this.c.delete(t);
          }
          forEach(t, e) {
            this.c.forEach((i, s) => t.call(e, s, s, this));
          }
          has(t) {
            return this.c.has(t);
          }
          entries() {
            return this.c.entries();
          }
          keys() {
            return this.c.keys();
          }
          values() {
            return this.c.keys();
          }
          [((h2 = Symbol.toStringTag), Symbol.iterator)]() {
            return this.keys();
          }
        }),
        (function (t) {
          (t[(t.None = 0)] = 'None'), (t[(t.AsOld = 1)] = 'AsOld'), (t[(t.AsNew = 2)] = 'AsNew');
        })(p2 || (p2 = {})),
        (g2 = class {
          constructor() {
            (this[d2] = 'LinkedMap'),
              (this.c = new Map()),
              (this.d = void 0),
              (this.e = void 0),
              (this.f = 0),
              (this.g = 0);
          }
          clear() {
            this.c.clear(), (this.d = void 0), (this.e = void 0), (this.f = 0), this.g++;
          }
          isEmpty() {
            return !this.d && !this.e;
          }
          get size() {
            return this.f;
          }
          get first() {
            return this.d?.value;
          }
          get last() {
            return this.e?.value;
          }
          has(t) {
            return this.c.has(t);
          }
          get(t, e = 0) {
            const i = this.c.get(t);
            if (i) return e !== 0 && this.n(i, e), i.value;
          }
          set(t, e, i = 0) {
            let s = this.c.get(t);
            if (s) (s.value = e), i !== 0 && this.n(s, i);
            else {
              switch (((s = { key: t, value: e, next: void 0, previous: void 0 }), i)) {
                case 0:
                  this.l(s);
                  break;
                case 1:
                  this.k(s);
                  break;
                case 2:
                  this.l(s);
                  break;
                default:
                  this.l(s);
                  break;
              }
              this.c.set(t, s), this.f++;
            }
            return this;
          }
          delete(t) {
            return !!this.remove(t);
          }
          remove(t) {
            const e = this.c.get(t);
            if (e) return this.c.delete(t), this.m(e), this.f--, e.value;
          }
          shift() {
            if (!this.d && !this.e) return;
            if (!this.d || !this.e) throw new Error('Invalid list');
            const t = this.d;
            return this.c.delete(t.key), this.m(t), this.f--, t.value;
          }
          forEach(t, e) {
            const i = this.g;
            let s = this.d;
            for (; s; ) {
              if ((e ? t.bind(e)(s.value, s.key, this) : t(s.value, s.key, this), this.g !== i))
                throw new Error('LinkedMap got modified during iteration.');
              s = s.next;
            }
          }
          keys() {
            const t = this,
              e = this.g;
            let i = this.d;
            const s = {
              [Symbol.iterator]() {
                return s;
              },
              next() {
                if (t.g !== e) throw new Error('LinkedMap got modified during iteration.');
                if (i) {
                  const r = { value: i.key, done: !1 };
                  return (i = i.next), r;
                } else return { value: void 0, done: !0 };
              },
            };
            return s;
          }
          values() {
            const t = this,
              e = this.g;
            let i = this.d;
            const s = {
              [Symbol.iterator]() {
                return s;
              },
              next() {
                if (t.g !== e) throw new Error('LinkedMap got modified during iteration.');
                if (i) {
                  const r = { value: i.value, done: !1 };
                  return (i = i.next), r;
                } else return { value: void 0, done: !0 };
              },
            };
            return s;
          }
          entries() {
            const t = this,
              e = this.g;
            let i = this.d;
            const s = {
              [Symbol.iterator]() {
                return s;
              },
              next() {
                if (t.g !== e) throw new Error('LinkedMap got modified during iteration.');
                if (i) {
                  const r = { value: [i.key, i.value], done: !1 };
                  return (i = i.next), r;
                } else return { value: void 0, done: !0 };
              },
            };
            return s;
          }
          [((d2 = Symbol.toStringTag), Symbol.iterator)]() {
            return this.entries();
          }
          h(t) {
            if (t >= this.size) return;
            if (t === 0) {
              this.clear();
              return;
            }
            let e = this.d,
              i = this.size;
            for (; e && i > t; ) this.c.delete(e.key), (e = e.next), i--;
            (this.d = e), (this.f = i), e && (e.previous = void 0), this.g++;
          }
          j(t) {
            if (t >= this.size) return;
            if (t === 0) {
              this.clear();
              return;
            }
            let e = this.e,
              i = this.size;
            for (; e && i > t; ) this.c.delete(e.key), (e = e.previous), i--;
            (this.e = e), (this.f = i), e && (e.next = void 0), this.g++;
          }
          k(t) {
            if (!this.d && !this.e) this.e = t;
            else if (this.d) (t.next = this.d), (this.d.previous = t);
            else throw new Error('Invalid list');
            (this.d = t), this.g++;
          }
          l(t) {
            if (!this.d && !this.e) this.d = t;
            else if (this.e) (t.previous = this.e), (this.e.next = t);
            else throw new Error('Invalid list');
            (this.e = t), this.g++;
          }
          m(t) {
            if (t === this.d && t === this.e) (this.d = void 0), (this.e = void 0);
            else if (t === this.d) {
              if (!t.next) throw new Error('Invalid list');
              (t.next.previous = void 0), (this.d = t.next);
            } else if (t === this.e) {
              if (!t.previous) throw new Error('Invalid list');
              (t.previous.next = void 0), (this.e = t.previous);
            } else {
              const e = t.next,
                i = t.previous;
              if (!e || !i) throw new Error('Invalid list');
              (e.previous = i), (i.next = e);
            }
            (t.next = void 0), (t.previous = void 0), this.g++;
          }
          n(t, e) {
            if (!this.d || !this.e) throw new Error('Invalid list');
            if (!(e !== 1 && e !== 2)) {
              if (e === 1) {
                if (t === this.d) return;
                const i = t.next,
                  s = t.previous;
                t === this.e ? ((s.next = void 0), (this.e = s)) : ((i.previous = s), (s.next = i)),
                  (t.previous = void 0),
                  (t.next = this.d),
                  (this.d.previous = t),
                  (this.d = t),
                  this.g++;
              } else if (e === 2) {
                if (t === this.e) return;
                const i = t.next,
                  s = t.previous;
                t === this.d
                  ? ((i.previous = void 0), (this.d = i))
                  : ((i.previous = s), (s.next = i)),
                  (t.next = void 0),
                  (t.previous = this.e),
                  (this.e.next = t),
                  (this.e = t),
                  this.g++;
              }
            }
          }
          toJSON() {
            const t = [];
            return (
              this.forEach((e, i) => {
                t.push([i, e]);
              }),
              t
            );
          }
          fromJSON(t) {
            this.clear();
            for (const [e, i] of t) this.set(e, i);
          }
        }),
        (m2 = class extends g2 {
          constructor(t, e = 1) {
            super(), (this.o = t), (this.p = Math.min(Math.max(0, e), 1));
          }
          get limit() {
            return this.o;
          }
          set limit(t) {
            (this.o = t), this.q();
          }
          get ratio() {
            return this.p;
          }
          set ratio(t) {
            (this.p = Math.min(Math.max(0, t), 1)), this.q();
          }
          get(t, e = 2) {
            return super.get(t, e);
          }
          peek(t) {
            return super.get(t, 0);
          }
          set(t, e) {
            return super.set(t, e, 2), this;
          }
          q() {
            this.size > this.o && this.r(Math.round(this.o * this.p));
          }
        }),
        (ka = class extends m2 {
          constructor(t, e = 1) {
            super(t, e);
          }
          r(t) {
            this.h(t);
          }
          set(t, e) {
            return super.set(t, e), this.q(), this;
          }
        }),
        (w2 = class {
          constructor() {
            this.c = new Map();
          }
          add(t, e) {
            let i = this.c.get(t);
            i || ((i = new Set()), this.c.set(t, i)), i.add(e);
          }
          delete(t, e) {
            const i = this.c.get(t);
            i && (i.delete(e), i.size === 0 && this.c.delete(t));
          }
          forEach(t, e) {
            const i = this.c.get(t);
            i && i.forEach(e);
          }
          get(t) {
            const e = this.c.get(t);
            return e || new Set();
          }
        });
    },
  }),
  An,
  el = b({
    'out-build/vs/base/common/iterator.js'() {
      'use strict';
      $e(),
        (function (t) {
          function e(E) {
            return E && typeof E == 'object' && typeof E[Symbol.iterator] == 'function';
          }
          t.is = e;
          const i = Object.freeze([]);
          function s() {
            return i;
          }
          t.empty = s;
          function* r(E) {
            yield E;
          }
          t.single = r;
          function n(E) {
            return e(E) ? E : r(E);
          }
          t.wrap = n;
          function o(E) {
            return E || i;
          }
          t.from = o;
          function* a(E) {
            for (let x = E.length - 1; x >= 0; x--) yield E[x];
          }
          t.reverse = a;
          function c(E) {
            return !E || E[Symbol.iterator]().next().done === !0;
          }
          t.isEmpty = c;
          function l(E) {
            return E[Symbol.iterator]().next().value;
          }
          t.first = l;
          function h(E, x) {
            let F = 0;
            for (const Y of E) if (x(Y, F++)) return !0;
            return !1;
          }
          t.some = h;
          function d(E, x) {
            for (const F of E) if (x(F)) return F;
          }
          t.find = d;
          function* p(E, x) {
            for (const F of E) x(F) && (yield F);
          }
          t.filter = p;
          function* m(E, x) {
            let F = 0;
            for (const Y of E) yield x(Y, F++);
          }
          t.map = m;
          function* w(E, x) {
            let F = 0;
            for (const Y of E) yield* x(Y, F++);
          }
          t.flatMap = w;
          function* v(...E) {
            for (const x of E) t$(x) ? yield* x : yield x;
          }
          t.concat = v;
          function k(E, x, F) {
            let Y = F;
            for (const oe of E) Y = x(Y, oe);
            return Y;
          }
          t.reduce = k;
          function* y(E, x, F = E.length) {
            for (
              x < -E.length && (x = 0),
                x < 0 && (x += E.length),
                F < 0 ? (F += E.length) : F > E.length && (F = E.length);
              x < F;
              x++
            )
              yield E[x];
          }
          t.slice = y;
          function C(E, x = Number.POSITIVE_INFINITY) {
            const F = [];
            if (x === 0) return [F, E];
            const Y = E[Symbol.iterator]();
            for (let oe = 0; oe < x; oe++) {
              const B = Y.next();
              if (B.done) return [F, t.empty()];
              F.push(B.value);
            }
            return [
              F,
              {
                [Symbol.iterator]() {
                  return Y;
                },
              },
            ];
          }
          t.consume = C;
          async function I(E) {
            const x = [];
            for await (const F of E) x.push(F);
            return Promise.resolve(x);
          }
          t.asyncToArray = I;
        })(An || (An = {}));
    },
  });
function R$(t) {
  In = t;
}
function tl(t) {
  return In?.trackDisposable(t), t;
}
function il(t) {
  In?.markAsDisposed(t);
}
function sl(t, e) {
  In?.setParent(t, e);
}
function N$(t, e) {
  if (In) for (const i of t) In.setParent(i, e);
}
function B$(t) {
  return In?.markAsSingleton(t), t;
}
function U$(t) {
  return (
    typeof t == 'object' && t !== null && typeof t.dispose == 'function' && t.dispose.length === 0
  );
}
function Qt(t) {
  if (An.is(t)) {
    const e = [];
    for (const i of t)
      if (i)
        try {
          i.dispose();
        } catch (s) {
          e.push(s);
        }
    if (e.length === 1) throw e[0];
    if (e.length > 1) throw new AggregateError(e, 'Encountered errors while disposing of store');
    return Array.isArray(t) ? [] : t;
  } else if (t) return t.dispose(), t;
}
function j$(...t) {
  const e = _e(() => Qt(t));
  return N$(t, e), e;
}
function _e(t) {
  const e = tl({
    dispose: u0(() => {
      il(e), t();
    }),
  });
  return e;
}
var b2,
  In,
  W$,
  je,
  H,
  ko,
  f0,
  U = b({
    'out-build/vs/base/common/lifecycle.js'() {
      'use strict';
      if (
        (ni(),
        l2(),
        Pi(),
        h0(),
        el(),
        (b2 = !1),
        (In = null),
        (W$ = class ZA {
          constructor() {
            this.b = new Map();
          }
          static {
            this.a = 0;
          }
          c(e) {
            let i = this.b.get(e);
            return (
              i ||
                ((i = { parent: null, source: null, isSingleton: !1, value: e, idx: ZA.a++ }),
                this.b.set(e, i)),
              i
            );
          }
          trackDisposable(e) {
            const i = this.c(e);
            i.source || (i.source = new Error().stack);
          }
          setParent(e, i) {
            const s = this.c(e);
            s.parent = i;
          }
          markAsDisposed(e) {
            this.b.delete(e);
          }
          markAsSingleton(e) {
            this.c(e).isSingleton = !0;
          }
          f(e, i) {
            const s = i.get(e);
            if (s) return s;
            const r = e.parent ? this.f(this.c(e.parent), i) : e;
            return i.set(e, r), r;
          }
          getTrackedDisposables() {
            const e = new Map();
            return [...this.b.entries()]
              .filter(([, s]) => s.source !== null && !this.f(s, e).isSingleton)
              .flatMap(([s]) => s);
          }
          computeLeakingDisposables(e = 10, i) {
            let s;
            if (i) s = i;
            else {
              const c = new Map(),
                l = [...this.b.values()].filter(
                  (d) => d.source !== null && !this.f(d, c).isSingleton
                );
              if (l.length === 0) return;
              const h = new Set(l.map((d) => d.value));
              if (((s = l.filter((d) => !(d.parent && h.has(d.parent)))), s.length === 0))
                throw new Error('There are cyclic diposable chains!');
            }
            if (!s) return;
            function r(c) {
              function l(d, p) {
                for (
                  ;
                  d.length > 0 &&
                  p.some((m) => (typeof m == 'string' ? m === d[0] : d[0].match(m)));

                )
                  d.shift();
              }
              const h = c.source
                .split(
                  `
`
                )
                .map((d) => d.trim().replace('at ', ''))
                .filter((d) => d !== '');
              return (
                l(h, [
                  'Error',
                  /^trackDisposable \(.*\)$/,
                  /^DisposableTracker.trackDisposable \(.*\)$/,
                ]),
                h.reverse()
              );
            }
            const n = new w2();
            for (const c of s) {
              const l = r(c);
              for (let h = 0; h <= l.length; h++)
                n.add(
                  l.slice(0, h).join(`
`),
                  c
                );
            }
            s.sort($$((c) => c.idx, a2));
            let o = '',
              a = 0;
            for (const c of s.slice(0, e)) {
              a++;
              const l = r(c),
                h = [];
              for (let d = 0; d < l.length; d++) {
                let p = l[d];
                p = `(shared with ${
                  n.get(
                    l.slice(0, d + 1).join(`
`)
                  ).size
                }/${s.length} leaks) at ${p}`;
                const w = n.get(
                    l.slice(0, d).join(`
`)
                  ),
                  v = L$(
                    [...w].map((k) => r(k)[d]),
                    (k) => k
                  );
                delete v[l[d]];
                for (const [k, y] of Object.entries(v))
                  h.unshift(`    - stacktraces of ${y.length} other leaks continue with ${k}`);
                h.unshift(p);
              }
              o += `


==================== Leaking disposable ${a}/${s.length}: ${
                c.value.constructor.name
              } ====================
${h.join(`
`)}
============================================================

`;
            }
            return (
              s.length > e &&
                (o += `


... and ${s.length - e} more leaking disposables

`),
              { leaks: s, details: o }
            );
          }
        }),
        b2)
      ) {
        const t = '__is_disposable_tracked__';
        R$(
          new (class {
            trackDisposable(e) {
              const i = new Error('Potentially leaked disposable').stack;
              setTimeout(() => {
                e[t] || console.log(i);
              }, 3e3);
            }
            setParent(e, i) {
              if (e && e !== H.None)
                try {
                  e[t] = !0;
                } catch {}
            }
            markAsDisposed(e) {
              if (e && e !== H.None)
                try {
                  e[t] = !0;
                } catch {}
            }
            markAsSingleton(e) {}
          })()
        );
      }
      (je = class eI {
        static {
          this.DISABLE_DISPOSED_WARNING = !1;
        }
        constructor() {
          (this.f = new Set()), (this.g = !1), tl(this);
        }
        dispose() {
          this.g || (il(this), (this.g = !0), this.clear());
        }
        get isDisposed() {
          return this.g;
        }
        clear() {
          if (this.f.size !== 0)
            try {
              Qt(this.f);
            } finally {
              this.f.clear();
            }
        }
        add(e) {
          if (!e) return e;
          if (e === this) throw new Error('Cannot register a disposable on itself!');
          return (
            sl(e, this),
            this.g
              ? eI.DISABLE_DISPOSED_WARNING ||
                console.warn(
                  new Error(
                    'Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!'
                  ).stack
                )
              : this.f.add(e),
            e
          );
        }
        delete(e) {
          if (e) {
            if (e === this) throw new Error('Cannot dispose a disposable on itself!');
            this.f.delete(e), e.dispose();
          }
        }
        deleteAndLeak(e) {
          e && this.f.has(e) && (this.f.delete(e), sl(e, null));
        }
      }),
        (H = class {
          static {
            this.None = Object.freeze({ dispose() {} });
          }
          constructor() {
            (this.q = new je()), tl(this), sl(this.q, this);
          }
          dispose() {
            il(this), this.q.dispose();
          }
          B(t) {
            if (t === this) throw new Error('Cannot register a disposable on itself!');
            return this.q.add(t);
          }
          registerDisposableEvent(t) {
            return this.B(t);
          }
        }),
        (ko = class {
          constructor() {
            (this.b = !1), tl(this);
          }
          get value() {
            return this.b ? void 0 : this.a;
          }
          set value(t) {
            this.b || t === this.a || (this.a?.dispose(), t && sl(t, this), (this.a = t));
          }
          clear() {
            this.value = void 0;
          }
          dispose() {
            (this.b = !0), il(this), this.a?.dispose(), (this.a = void 0);
          }
          clearAndLeak() {
            const t = this.a;
            return (this.a = void 0), t && sl(t, null), t;
          }
        }),
        (f0 = class {
          constructor() {
            (this.a = new Map()), (this.b = !1), tl(this);
          }
          dispose() {
            il(this), (this.b = !0), this.clearAndDisposeAll();
          }
          clearAndDisposeAll() {
            if (this.a.size)
              try {
                Qt(this.a.values());
              } finally {
                this.a.clear();
              }
          }
          has(t) {
            return this.a.has(t);
          }
          get size() {
            return this.a.size;
          }
          get(t) {
            return this.a.get(t);
          }
          set(t, e, i = !1) {
            this.b &&
              console.warn(
                new Error(
                  'Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!'
                ).stack
              ),
              i || this.a.get(t)?.dispose(),
              this.a.set(t, e);
          }
          deleteAndDispose(t) {
            this.a.get(t)?.dispose(), this.a.delete(t);
          }
          deleteAndLeak(t) {
            const e = this.a.get(t);
            return this.a.delete(t), e;
          }
          keys() {
            return this.a.keys();
          }
          values() {
            return this.a.values();
          }
          [Symbol.iterator]() {
            return this.a[Symbol.iterator]();
          }
        });
    },
  }),
  It,
  rd,
  p0 = b({
    'out-build/vs/base/common/linkedList.js'() {
      'use strict';
      (It = class Eg {
        static {
          this.Undefined = new Eg(void 0);
        }
        constructor(e) {
          (this.element = e), (this.next = Eg.Undefined), (this.prev = Eg.Undefined);
        }
      }),
        (rd = class {
          constructor() {
            (this.a = It.Undefined), (this.b = It.Undefined), (this.c = 0);
          }
          get size() {
            return this.c;
          }
          isEmpty() {
            return this.a === It.Undefined;
          }
          clear() {
            let t = this.a;
            for (; t !== It.Undefined; ) {
              const e = t.next;
              (t.prev = It.Undefined), (t.next = It.Undefined), (t = e);
            }
            (this.a = It.Undefined), (this.b = It.Undefined), (this.c = 0);
          }
          unshift(t) {
            return this.d(t, !1);
          }
          push(t) {
            return this.d(t, !0);
          }
          d(t, e) {
            const i = new It(t);
            if (this.a === It.Undefined) (this.a = i), (this.b = i);
            else if (e) {
              const r = this.b;
              (this.b = i), (i.prev = r), (r.next = i);
            } else {
              const r = this.a;
              (this.a = i), (i.next = r), (r.prev = i);
            }
            this.c += 1;
            let s = !1;
            return () => {
              s || ((s = !0), this.e(i));
            };
          }
          shift() {
            if (this.a !== It.Undefined) {
              const t = this.a.element;
              return this.e(this.a), t;
            }
          }
          pop() {
            if (this.b !== It.Undefined) {
              const t = this.b.element;
              return this.e(this.b), t;
            }
          }
          e(t) {
            if (t.prev !== It.Undefined && t.next !== It.Undefined) {
              const e = t.prev;
              (e.next = t.next), (t.next.prev = e);
            } else
              t.prev === It.Undefined && t.next === It.Undefined
                ? ((this.a = It.Undefined), (this.b = It.Undefined))
                : t.next === It.Undefined
                ? ((this.b = this.b.prev), (this.b.next = It.Undefined))
                : t.prev === It.Undefined && ((this.a = this.a.next), (this.a.prev = It.Undefined));
            this.c -= 1;
          }
          *[Symbol.iterator]() {
            let t = this.a;
            for (; t !== It.Undefined; ) yield t.element, (t = t.next);
          }
        });
    },
  }),
  v2,
  gr,
  Hr = b({
    'out-build/vs/base/common/stopwatch.js'() {
      'use strict';
      (v2 = globalThis.performance && typeof globalThis.performance.now == 'function'),
        (gr = class tI {
          static create(e) {
            return new tI(e);
          }
          constructor(e) {
            (this.c =
              v2 && e === !1 ? Date.now : globalThis.performance.now.bind(globalThis.performance)),
              (this.a = this.c()),
              (this.b = -1);
          }
          stop() {
            this.b = this.c();
          }
          reset() {
            (this.a = this.c()), (this.b = -1);
          }
          elapsed() {
            return this.b !== -1 ? this.b - this.a : this.c() - this.a;
          }
        });
    },
  }),
  g0,
  y2,
  P,
  k2,
  m0,
  S2,
  nd,
  E2,
  C2,
  D2,
  rl,
  x2,
  A2,
  $,
  I2,
  od,
  $2,
  w0,
  X = b({
    'out-build/vs/base/common/event.js'() {
      'use strict';
      l2(),
        He(),
        h0(),
        U(),
        p0(),
        Hr(),
        (g0 = !1),
        (y2 = !1),
        (function (t) {
          t.None = () => H.None;
          function e(V) {
            if (y2) {
              const { onDidAddListener: R } = V,
                z = nd.create();
              let q = 0;
              V.onDidAddListener = () => {
                ++q === 2 &&
                  (console.warn(
                    'snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here'
                  ),
                  z.print()),
                  R?.();
              };
            }
          }
          function i(V, R) {
            return m(V, () => {}, 0, void 0, !0, void 0, R);
          }
          t.defer = i;
          function s(V) {
            return (R, z = null, q) => {
              let ne = !1,
                me;
              return (
                (me = V(
                  (pe) => {
                    if (!ne) return me ? me.dispose() : (ne = !0), R.call(z, pe);
                  },
                  null,
                  q
                )),
                ne && me.dispose(),
                me
              );
            };
          }
          t.once = s;
          function r(V, R) {
            return t.once(t.filter(V, R));
          }
          t.onceIf = r;
          function n(V, R, z) {
            return d((q, ne = null, me) => V((pe) => q.call(ne, R(pe)), null, me), z);
          }
          t.map = n;
          function o(V, R, z) {
            return d(
              (q, ne = null, me) =>
                V(
                  (pe) => {
                    R(pe), q.call(ne, pe);
                  },
                  null,
                  me
                ),
              z
            );
          }
          t.forEach = o;
          function a(V, R, z) {
            return d((q, ne = null, me) => V((pe) => R(pe) && q.call(ne, pe), null, me), z);
          }
          t.filter = a;
          function c(V) {
            return V;
          }
          t.signal = c;
          function l(...V) {
            return (R, z = null, q) => {
              const ne = j$(...V.map((me) => me((pe) => R.call(z, pe))));
              return p(ne, q);
            };
          }
          t.any = l;
          function h(V, R, z, q) {
            let ne = z;
            return n(V, (me) => ((ne = R(ne, me)), ne), q);
          }
          t.reduce = h;
          function d(V, R) {
            let z;
            const q = {
              onWillAddFirstListener() {
                z = V(ne.fire, ne);
              },
              onDidRemoveLastListener() {
                z?.dispose();
              },
            };
            R || e(q);
            const ne = new $(q);
            return R?.add(ne), ne.event;
          }
          function p(V, R) {
            return R instanceof Array ? R.push(V) : R && R.add(V), V;
          }
          function m(V, R, z = 100, q = !1, ne = !1, me, pe) {
            let O,
              Ee,
              ze,
              Br = 0,
              Us;
            const En = {
              leakWarningThreshold: me,
              onWillAddFirstListener() {
                O = V((ut) => {
                  Br++,
                    (Ee = R(Ee, ut)),
                    q && !ze && (Es.fire(Ee), (Ee = void 0)),
                    (Us = () => {
                      const Wh = Ee;
                      (Ee = void 0), (ze = void 0), (!q || Br > 1) && Es.fire(Wh), (Br = 0);
                    }),
                    typeof z == 'number'
                      ? (clearTimeout(ze), (ze = setTimeout(Us, z)))
                      : ze === void 0 && ((ze = 0), queueMicrotask(Us));
                });
              },
              onWillRemoveListener() {
                ne && Br > 0 && Us?.();
              },
              onDidRemoveLastListener() {
                (Us = void 0), O.dispose();
              },
            };
            pe || e(En);
            const Es = new $(En);
            return pe?.add(Es), Es.event;
          }
          t.debounce = m;
          function w(V, R = 0, z) {
            return t.debounce(V, (q, ne) => (q ? (q.push(ne), q) : [ne]), R, void 0, !0, void 0, z);
          }
          t.accumulate = w;
          function v(V, R = (q, ne) => q === ne, z) {
            let q = !0,
              ne;
            return a(
              V,
              (me) => {
                const pe = q || !R(me, ne);
                return (q = !1), (ne = me), pe;
              },
              z
            );
          }
          t.latch = v;
          function k(V, R, z) {
            return [t.filter(V, R, z), t.filter(V, (q) => !R(q), z)];
          }
          t.split = k;
          function y(V, R = !1, z = [], q) {
            let ne = z.slice(),
              me = V((Ee) => {
                ne ? ne.push(Ee) : O.fire(Ee);
              });
            q && q.add(me);
            const pe = () => {
                ne?.forEach((Ee) => O.fire(Ee)), (ne = null);
              },
              O = new $({
                onWillAddFirstListener() {
                  me || ((me = V((Ee) => O.fire(Ee))), q && q.add(me));
                },
                onDidAddFirstListener() {
                  ne && (R ? setTimeout(pe) : pe());
                },
                onDidRemoveLastListener() {
                  me && me.dispose(), (me = null);
                },
              });
            return q && q.add(O), O.event;
          }
          t.buffer = y;
          function C(V, R) {
            return (q, ne, me) => {
              const pe = R(new E());
              return V(
                function (O) {
                  const Ee = pe.evaluate(O);
                  Ee !== I && q.call(ne, Ee);
                },
                void 0,
                me
              );
            };
          }
          t.chain = C;
          const I = Symbol('HaltChainable');
          class E {
            constructor() {
              this.f = [];
            }
            map(R) {
              return this.f.push(R), this;
            }
            forEach(R) {
              return this.f.push((z) => (R(z), z)), this;
            }
            filter(R) {
              return this.f.push((z) => (R(z) ? z : I)), this;
            }
            reduce(R, z) {
              let q = z;
              return this.f.push((ne) => ((q = R(q, ne)), q)), this;
            }
            latch(R = (z, q) => z === q) {
              let z = !0,
                q;
              return (
                this.f.push((ne) => {
                  const me = z || !R(ne, q);
                  return (z = !1), (q = ne), me ? ne : I;
                }),
                this
              );
            }
            evaluate(R) {
              for (const z of this.f) if (((R = z(R)), R === I)) break;
              return R;
            }
          }
          function x(V, R, z = (q) => q) {
            const q = (...O) => pe.fire(z(...O)),
              ne = () => V.on(R, q),
              me = () => V.removeListener(R, q),
              pe = new $({ onWillAddFirstListener: ne, onDidRemoveLastListener: me });
            return pe.event;
          }
          t.fromNodeEventEmitter = x;
          function F(V, R, z = (q) => q) {
            const q = (...O) => pe.fire(z(...O)),
              ne = () => V.addEventListener(R, q),
              me = () => V.removeEventListener(R, q),
              pe = new $({ onWillAddFirstListener: ne, onDidRemoveLastListener: me });
            return pe.event;
          }
          t.fromDOMEventEmitter = F;
          function Y(V, R) {
            return new Promise((z) => s(V)(z, null, R));
          }
          t.toPromise = Y;
          function oe(V) {
            const R = new $();
            return (
              V.then(
                (z) => {
                  R.fire(z);
                },
                () => {
                  R.fire(void 0);
                }
              ).finally(() => {
                R.dispose();
              }),
              R.event
            );
          }
          t.fromPromise = oe;
          function B(V, R) {
            return V((z) => R.fire(z));
          }
          t.forward = B;
          function ae(V, R, z) {
            return R(z), V((q) => R(q));
          }
          t.runAndSubscribe = ae;
          class Me {
            constructor(R, z) {
              (this._observable = R), (this.f = 0), (this.g = !1);
              const q = {
                onWillAddFirstListener: () => {
                  R.addObserver(this), this._observable.reportChanges();
                },
                onDidRemoveLastListener: () => {
                  R.removeObserver(this);
                },
              };
              z || e(q), (this.emitter = new $(q)), z && z.add(this.emitter);
            }
            beginUpdate(R) {
              this.f++;
            }
            handlePossibleChange(R) {}
            handleChange(R, z) {
              this.g = !0;
            }
            endUpdate(R) {
              this.f--,
                this.f === 0 &&
                  (this._observable.reportChanges(),
                  this.g && ((this.g = !1), this.emitter.fire(this._observable.get())));
            }
          }
          function fe(V, R) {
            return new Me(V, R).emitter.event;
          }
          t.fromObservable = fe;
          function _t(V) {
            return (R, z, q) => {
              let ne = 0,
                me = !1;
              const pe = {
                beginUpdate() {
                  ne++;
                },
                endUpdate() {
                  ne--, ne === 0 && (V.reportChanges(), me && ((me = !1), R.call(z)));
                },
                handlePossibleChange() {},
                handleChange() {
                  me = !0;
                },
              };
              V.addObserver(pe), V.reportChanges();
              const O = {
                dispose() {
                  V.removeObserver(pe);
                },
              };
              return q instanceof je ? q.add(O) : Array.isArray(q) && q.push(O), O;
            };
          }
          t.fromObservableLight = _t;
        })(P || (P = {})),
        (k2 = class Qy {
          static {
            this.all = new Set();
          }
          static {
            this.f = 0;
          }
          constructor(e) {
            (this.listenerCount = 0),
              (this.invocationCount = 0),
              (this.elapsedOverall = 0),
              (this.durations = []),
              (this.name = `${e}_${Qy.f++}`),
              Qy.all.add(this);
          }
          start(e) {
            (this.g = new gr()), (this.listenerCount = e);
          }
          stop() {
            if (this.g) {
              const e = this.g.elapsed();
              this.durations.push(e),
                (this.elapsedOverall += e),
                (this.invocationCount += 1),
                (this.g = void 0);
            }
          }
        }),
        (m0 = -1),
        (S2 = class iI {
          static {
            this.f = 1;
          }
          constructor(e, i, s = (iI.f++).toString(16).padStart(3, '0')) {
            (this.j = e), (this.threshold = i), (this.name = s), (this.h = 0);
          }
          dispose() {
            this.g?.clear();
          }
          check(e, i) {
            const s = this.threshold;
            if (s <= 0 || i < s) return;
            this.g || (this.g = new Map());
            const r = this.g.get(e.value) || 0;
            if ((this.g.set(e.value, r + 1), (this.h -= 1), this.h <= 0)) {
              this.h = s * 0.5;
              const [n, o] = this.getMostFrequentStack(),
                a = `[${this.name}] potential listener LEAK detected, having ${i} listeners already. MOST frequent listener (${o}):`;
              console.warn(a), console.warn(n);
              const c = new E2(a, n);
              this.j(c);
            }
            return () => {
              const n = this.g.get(e.value) || 0;
              this.g.set(e.value, n - 1);
            };
          }
          getMostFrequentStack() {
            if (!this.g) return;
            let e,
              i = 0;
            for (const [s, r] of this.g) (!e || i < r) && ((e = [s, r]), (i = r));
            return e;
          }
        }),
        (nd = class sI {
          static create() {
            const e = new Error();
            return new sI(e.stack ?? '');
          }
          constructor(e) {
            this.value = e;
          }
          print() {
            console.warn(
              this.value
                .split(
                  `
`
                )
                .slice(2).join(`
`)
            );
          }
        }),
        (E2 = class extends Error {
          constructor(t, e) {
            super(t), (this.name = 'ListenerLeakError'), (this.stack = e);
          }
        }),
        (C2 = class extends Error {
          constructor(t, e) {
            super(t), (this.name = 'ListenerRefusalError'), (this.stack = e);
          }
        }),
        (D2 = 0),
        (rl = class {
          constructor(t) {
            (this.value = t), (this.id = D2++);
          }
        }),
        (x2 = 2),
        (A2 = (t, e) => {
          if (t instanceof rl) e(t);
          else
            for (let i = 0; i < t.length; i++) {
              const s = t[i];
              s && e(s);
            }
        }),
        ($ = class {
          constructor(t) {
            (this.z = 0),
              (this.f = t),
              (this.g =
                m0 > 0 || this.f?.leakWarningThreshold
                  ? new S2(t?.onListenerError ?? Xt, this.f?.leakWarningThreshold ?? m0)
                  : void 0),
              (this.j = this.f?._profName ? new k2(this.f._profName) : void 0),
              (this.w = this.f?.deliveryQueue);
          }
          dispose() {
            if (!this.m) {
              if (((this.m = !0), this.w?.current === this && this.w.reset(), this.u)) {
                if (g0) {
                  const t = this.u;
                  queueMicrotask(() => {
                    A2(t, (e) => e.stack?.print());
                  });
                }
                (this.u = void 0), (this.z = 0);
              }
              this.f?.onDidRemoveLastListener?.(), this.g?.dispose();
            }
          }
          get event() {
            return (
              (this.q ??= (t, e, i) => {
                if (this.g && this.z > this.g.threshold ** 2) {
                  const a = `[${this.g.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this.z} vs ${this.g.threshold})`;
                  console.warn(a);
                  const c = this.g.getMostFrequentStack() ?? ['UNKNOWN stack', -1],
                    l = new C2(
                      `${a}. HINT: Stack shows most frequent listener (${c[1]}-times)`,
                      c[0]
                    );
                  return (this.f?.onListenerError || Xt)(l), H.None;
                }
                if (this.m) return H.None;
                e && (t = t.bind(e));
                const s = new rl(t);
                let r, n;
                this.g &&
                  this.z >= Math.ceil(this.g.threshold * 0.2) &&
                  ((s.stack = nd.create()), (r = this.g.check(s.stack, this.z + 1))),
                  g0 && (s.stack = n ?? nd.create()),
                  this.u
                    ? this.u instanceof rl
                      ? ((this.w ??= new I2()), (this.u = [this.u, s]))
                      : this.u.push(s)
                    : (this.f?.onWillAddFirstListener?.(this),
                      (this.u = s),
                      this.f?.onDidAddFirstListener?.(this)),
                  this.f?.onDidAddListener?.(this),
                  this.z++;
                const o = _e(() => {
                  r?.(), this.A(s);
                });
                return i instanceof je ? i.add(o) : Array.isArray(i) && i.push(o), o;
              }),
              this.q
            );
          }
          A(t) {
            if ((this.f?.onWillRemoveListener?.(this), !this.u)) return;
            if (this.z === 1) {
              (this.u = void 0), this.f?.onDidRemoveLastListener?.(this), (this.z = 0);
              return;
            }
            const e = this.u,
              i = e.indexOf(t);
            if (i === -1)
              throw (
                (console.log('disposed?', this.m),
                console.log('size?', this.z),
                console.log('arr?', JSON.stringify(this.u)),
                new Error('Attempted to dispose unknown listener'))
              );
            this.z--, (e[i] = void 0);
            const s = this.w.current === this;
            if (this.z * x2 <= e.length) {
              let r = 0;
              for (let n = 0; n < e.length; n++)
                e[n]
                  ? (e[r++] = e[n])
                  : s && r < this.w.end && (this.w.end--, r < this.w.i && this.w.i--);
              e.length = r;
            }
          }
          B(t, e) {
            if (!t) return;
            const i = this.f?.onListenerError || Xt;
            if (!i) {
              t.value(e);
              return;
            }
            try {
              t.value(e);
            } catch (s) {
              i(s);
            }
          }
          C(t) {
            const e = t.current.u;
            for (; t.i < t.end; ) this.B(e[t.i++], t.value);
            t.reset();
          }
          fire(t) {
            if (
              (this.w?.current && (this.C(this.w), this.j?.stop()), this.j?.start(this.z), this.u)
            )
              if (this.u instanceof rl) this.B(this.u, t);
              else {
                const e = this.w;
                e.enqueue(this, t, this.u.length), this.C(e);
              }
            this.j?.stop();
          }
          hasListeners() {
            return this.z > 0;
          }
        }),
        (I2 = class {
          constructor() {
            (this.i = -1), (this.end = 0);
          }
          enqueue(t, e, i) {
            (this.i = 0), (this.end = i), (this.current = t), (this.value = e);
          }
          reset() {
            (this.i = this.end), (this.current = void 0), (this.value = void 0);
          }
        }),
        (od = class extends $ {
          get isPaused() {
            return this.h !== 0;
          }
          constructor(t) {
            super(t), (this.h = 0), (this.s = new rd()), (this.t = t?.merge);
          }
          pause() {
            this.h++;
          }
          resume() {
            if (this.h !== 0 && --this.h === 0)
              if (this.t) {
                if (this.s.size > 0) {
                  const t = Array.from(this.s);
                  this.s.clear(), super.fire(this.t(t));
                }
              } else for (; !this.h && this.s.size !== 0; ) super.fire(this.s.shift());
          }
          fire(t) {
            this.z && (this.h !== 0 ? this.s.push(t) : super.fire(t));
          }
        }),
        ($2 = class {
          constructor() {
            (this.g = !1),
              (this.h = []),
              (this.f = new $({
                onWillAddFirstListener: () => this.j(),
                onDidRemoveLastListener: () => this.k(),
              }));
          }
          get event() {
            return this.f.event;
          }
          add(t) {
            const e = { event: t, listener: null };
            return (
              this.h.push(e),
              this.g && this.m(e),
              _e(
                u0(() => {
                  this.g && this.o(e);
                  const s = this.h.indexOf(e);
                  this.h.splice(s, 1);
                })
              )
            );
          }
          j() {
            (this.g = !0), this.h.forEach((t) => this.m(t));
          }
          k() {
            (this.g = !1), this.h.forEach((t) => this.o(t));
          }
          m(t) {
            t.listener = t.event((e) => this.f.fire(e));
          }
          o(t) {
            t.listener?.dispose(), (t.listener = null);
          }
          dispose() {
            this.f.dispose();
            for (const t of this.h) t.listener?.dispose();
            this.h = [];
          }
        }),
        (w0 = class {
          constructor() {
            (this.f = !1),
              (this.g = P.None),
              (this.h = H.None),
              (this.j = new $({
                onDidAddFirstListener: () => {
                  (this.f = !0), (this.h = this.g(this.j.fire, this.j));
                },
                onDidRemoveLastListener: () => {
                  (this.f = !1), this.h.dispose();
                },
              })),
              (this.event = this.j.event);
          }
          set input(t) {
            (this.g = t), this.f && (this.h.dispose(), (this.h = t(this.j.fire, this.j)));
          }
          dispose() {
            this.h.dispose(), this.j.dispose();
          }
        });
    },
  }),
  So,
  ad,
  zr,
  Ye,
  Vr,
  b0,
  Vs = b({
    'out-build/vs/base/common/process.js'() {
      'use strict';
      if ((ie(), (ad = globalThis.vscode), typeof ad < 'u' && typeof ad.process < 'u')) {
        const t = ad.process;
        So = {
          get platform() {
            return t.platform;
          },
          get arch() {
            return t.arch;
          },
          get env() {
            return t.env;
          },
          cwd() {
            return t.cwd();
          },
        };
      } else
        typeof process < 'u' && typeof process?.versions?.node == 'string'
          ? (So = {
              get platform() {
                return process.platform;
              },
              get arch() {
                return process.arch;
              },
              get env() {
                return process.env;
              },
              cwd() {
                return process.env.VSCODE_CWD || process.cwd();
              },
            })
          : (So = {
              get platform() {
                return J ? 'win32' : Q ? 'darwin' : 'linux';
              },
              get arch() {},
              get env() {
                return {};
              },
              cwd() {
                return '/';
              },
            });
      (zr = So.cwd), (Ye = So.env), (Vr = So.platform), (b0 = So.arch);
    },
  });
function H$(t, e) {
  if (t === null || typeof t != 'object') throw new y0(e, 'Object', t);
}
function Ot(t, e) {
  if (typeof t != 'string') throw new y0(e, 'string', t);
}
function Pe(t) {
  return t === oi || t === Vi;
}
function v0(t) {
  return t === oi;
}
function Gr(t) {
  return (t >= _2 && t <= T2) || (t >= L2 && t <= M2);
}
function cd(t, e, i, s) {
  let r = '',
    n = 0,
    o = -1,
    a = 0,
    c = 0;
  for (let l = 0; l <= t.length; ++l) {
    if (l < t.length) c = t.charCodeAt(l);
    else {
      if (s(c)) break;
      c = oi;
    }
    if (s(c)) {
      if (!(o === l - 1 || a === 1))
        if (a === 2) {
          if (
            r.length < 2 ||
            n !== 2 ||
            r.charCodeAt(r.length - 1) !== $n ||
            r.charCodeAt(r.length - 2) !== $n
          ) {
            if (r.length > 2) {
              const h = r.lastIndexOf(i);
              h === -1
                ? ((r = ''), (n = 0))
                : ((r = r.slice(0, h)), (n = r.length - 1 - r.lastIndexOf(i))),
                (o = l),
                (a = 0);
              continue;
            } else if (r.length !== 0) {
              (r = ''), (n = 0), (o = l), (a = 0);
              continue;
            }
          }
          e && ((r += r.length > 0 ? `${i}..` : '..'), (n = 2));
        } else
          r.length > 0 ? (r += `${i}${t.slice(o + 1, l)}`) : (r = t.slice(o + 1, l)),
            (n = l - o - 1);
      (o = l), (a = 0);
    } else c === $n && a !== -1 ? ++a : (a = -1);
  }
  return r;
}
function z$(t) {
  return t ? `${t[0] === '.' ? '' : '.'}${t}` : '';
}
function P2(t, e) {
  H$(e, 'pathObject');
  const i = e.dir || e.root,
    s = e.base || `${e.name || ''}${z$(e.ext)}`;
  return i ? (i === e.root ? `${i}${s}` : `${i}${t}${s}`) : s;
}
var _2,
  L2,
  T2,
  M2,
  $n,
  oi,
  Vi,
  mr,
  F2,
  y0,
  Gi,
  wt,
  O2,
  Ce,
  _i,
  Sa,
  M,
  Gs,
  k0,
  vi,
  ct,
  ld,
  V$,
  G$,
  q$,
  yi,
  ud,
  xe = b({
    'out-build/vs/base/common/path.js'() {
      'use strict';
      Vs(),
        (_2 = 65),
        (L2 = 97),
        (T2 = 90),
        (M2 = 122),
        ($n = 46),
        (oi = 47),
        (Vi = 92),
        (mr = 58),
        (F2 = 63),
        (y0 = class extends Error {
          constructor(t, e, i) {
            let s;
            typeof e == 'string' && e.indexOf('not ') === 0
              ? ((s = 'must not be'), (e = e.replace(/^not /, '')))
              : (s = 'must be');
            const r = t.indexOf('.') !== -1 ? 'property' : 'argument';
            let n = `The "${t}" ${r} ${s} of type ${e}`;
            (n += `. Received type ${typeof i}`), super(n), (this.code = 'ERR_INVALID_ARG_TYPE');
          }
        }),
        (Gi = Vr === 'win32'),
        (wt = {
          resolve(...t) {
            let e = '',
              i = '',
              s = !1;
            for (let r = t.length - 1; r >= -1; r--) {
              let n;
              if (r >= 0) {
                if (((n = t[r]), Ot(n, `paths[${r}]`), n.length === 0)) continue;
              } else
                e.length === 0
                  ? (n = zr())
                  : ((n = Ye[`=${e}`] || zr()),
                    (n === void 0 ||
                      (n.slice(0, 2).toLowerCase() !== e.toLowerCase() &&
                        n.charCodeAt(2) === Vi)) &&
                      (n = `${e}\\`));
              const o = n.length;
              let a = 0,
                c = '',
                l = !1;
              const h = n.charCodeAt(0);
              if (o === 1) Pe(h) && ((a = 1), (l = !0));
              else if (Pe(h))
                if (((l = !0), Pe(n.charCodeAt(1)))) {
                  let d = 2,
                    p = d;
                  for (; d < o && !Pe(n.charCodeAt(d)); ) d++;
                  if (d < o && d !== p) {
                    const m = n.slice(p, d);
                    for (p = d; d < o && Pe(n.charCodeAt(d)); ) d++;
                    if (d < o && d !== p) {
                      for (p = d; d < o && !Pe(n.charCodeAt(d)); ) d++;
                      (d === o || d !== p) && ((c = `\\\\${m}\\${n.slice(p, d)}`), (a = d));
                    }
                  }
                } else a = 1;
              else
                Gr(h) &&
                  n.charCodeAt(1) === mr &&
                  ((c = n.slice(0, 2)),
                  (a = 2),
                  o > 2 && Pe(n.charCodeAt(2)) && ((l = !0), (a = 3)));
              if (c.length > 0)
                if (e.length > 0) {
                  if (c.toLowerCase() !== e.toLowerCase()) continue;
                } else e = c;
              if (s) {
                if (e.length > 0) break;
              } else if (((i = `${n.slice(a)}\\${i}`), (s = l), l && e.length > 0)) break;
            }
            return (i = cd(i, !s, '\\', Pe)), s ? `${e}\\${i}` : `${e}${i}` || '.';
          },
          normalize(t) {
            Ot(t, 'path');
            const e = t.length;
            if (e === 0) return '.';
            let i = 0,
              s,
              r = !1;
            const n = t.charCodeAt(0);
            if (e === 1) return v0(n) ? '\\' : t;
            if (Pe(n))
              if (((r = !0), Pe(t.charCodeAt(1)))) {
                let a = 2,
                  c = a;
                for (; a < e && !Pe(t.charCodeAt(a)); ) a++;
                if (a < e && a !== c) {
                  const l = t.slice(c, a);
                  for (c = a; a < e && Pe(t.charCodeAt(a)); ) a++;
                  if (a < e && a !== c) {
                    for (c = a; a < e && !Pe(t.charCodeAt(a)); ) a++;
                    if (a === e) return `\\\\${l}\\${t.slice(c)}\\`;
                    a !== c && ((s = `\\\\${l}\\${t.slice(c, a)}`), (i = a));
                  }
                }
              } else i = 1;
            else
              Gr(n) &&
                t.charCodeAt(1) === mr &&
                ((s = t.slice(0, 2)), (i = 2), e > 2 && Pe(t.charCodeAt(2)) && ((r = !0), (i = 3)));
            let o = i < e ? cd(t.slice(i), !r, '\\', Pe) : '';
            if (
              (o.length === 0 && !r && (o = '.'),
              o.length > 0 && Pe(t.charCodeAt(e - 1)) && (o += '\\'),
              !r && s === void 0 && t.includes(':'))
            ) {
              if (o.length >= 2 && Gr(o.charCodeAt(0)) && o.charCodeAt(1) === mr) return `.\\${o}`;
              let a = t.indexOf(':');
              do if (a === e - 1 || Pe(t.charCodeAt(a + 1))) return `.\\${o}`;
              while ((a = t.indexOf(':', a + 1)) !== -1);
            }
            return s === void 0 ? (r ? `\\${o}` : o) : r ? `${s}\\${o}` : `${s}${o}`;
          },
          isAbsolute(t) {
            Ot(t, 'path');
            const e = t.length;
            if (e === 0) return !1;
            const i = t.charCodeAt(0);
            return Pe(i) || (e > 2 && Gr(i) && t.charCodeAt(1) === mr && Pe(t.charCodeAt(2)));
          },
          join(...t) {
            if (t.length === 0) return '.';
            let e, i;
            for (let n = 0; n < t.length; ++n) {
              const o = t[n];
              Ot(o, 'path'), o.length > 0 && (e === void 0 ? (e = i = o) : (e += `\\${o}`));
            }
            if (e === void 0) return '.';
            let s = !0,
              r = 0;
            if (typeof i == 'string' && Pe(i.charCodeAt(0))) {
              ++r;
              const n = i.length;
              n > 1 &&
                Pe(i.charCodeAt(1)) &&
                (++r, n > 2 && (Pe(i.charCodeAt(2)) ? ++r : (s = !1)));
            }
            if (s) {
              for (; r < e.length && Pe(e.charCodeAt(r)); ) r++;
              r >= 2 && (e = `\\${e.slice(r)}`);
            }
            return wt.normalize(e);
          },
          relative(t, e) {
            if ((Ot(t, 'from'), Ot(e, 'to'), t === e)) return '';
            const i = wt.resolve(t),
              s = wt.resolve(e);
            if (i === s || ((t = i.toLowerCase()), (e = s.toLowerCase()), t === e)) return '';
            if (i.length !== t.length || s.length !== e.length) {
              const w = i.split('\\'),
                v = s.split('\\');
              w[w.length - 1] === '' && w.pop(), v[v.length - 1] === '' && v.pop();
              const k = w.length,
                y = v.length,
                C = k < y ? k : y;
              let I;
              for (I = 0; I < C && w[I].toLowerCase() === v[I].toLowerCase(); I++);
              return I === 0
                ? s
                : I === C
                ? y > C
                  ? v.slice(I).join('\\')
                  : k > C
                  ? '..\\'.repeat(k - 1 - I) + '..'
                  : ''
                : '..\\'.repeat(k - I) + v.slice(I).join('\\');
            }
            let r = 0;
            for (; r < t.length && t.charCodeAt(r) === Vi; ) r++;
            let n = t.length;
            for (; n - 1 > r && t.charCodeAt(n - 1) === Vi; ) n--;
            const o = n - r;
            let a = 0;
            for (; a < e.length && e.charCodeAt(a) === Vi; ) a++;
            let c = e.length;
            for (; c - 1 > a && e.charCodeAt(c - 1) === Vi; ) c--;
            const l = c - a,
              h = o < l ? o : l;
            let d = -1,
              p = 0;
            for (; p < h; p++) {
              const w = t.charCodeAt(r + p);
              if (w !== e.charCodeAt(a + p)) break;
              w === Vi && (d = p);
            }
            if (p !== h) {
              if (d === -1) return s;
            } else {
              if (l > h) {
                if (e.charCodeAt(a + p) === Vi) return s.slice(a + p + 1);
                if (p === 2) return s.slice(a + p);
              }
              o > h && (t.charCodeAt(r + p) === Vi ? (d = p) : p === 2 && (d = 3)),
                d === -1 && (d = 0);
            }
            let m = '';
            for (p = r + d + 1; p <= n; ++p)
              (p === n || t.charCodeAt(p) === Vi) && (m += m.length === 0 ? '..' : '\\..');
            return (
              (a += d),
              m.length > 0 ? `${m}${s.slice(a, c)}` : (s.charCodeAt(a) === Vi && ++a, s.slice(a, c))
            );
          },
          toNamespacedPath(t) {
            if (typeof t != 'string' || t.length === 0) return t;
            const e = wt.resolve(t);
            if (e.length <= 2) return t;
            if (e.charCodeAt(0) === Vi) {
              if (e.charCodeAt(1) === Vi) {
                const i = e.charCodeAt(2);
                if (i !== F2 && i !== $n) return `\\\\?\\UNC\\${e.slice(2)}`;
              }
            } else if (Gr(e.charCodeAt(0)) && e.charCodeAt(1) === mr && e.charCodeAt(2) === Vi)
              return `\\\\?\\${e}`;
            return e;
          },
          dirname(t) {
            Ot(t, 'path');
            const e = t.length;
            if (e === 0) return '.';
            let i = -1,
              s = 0;
            const r = t.charCodeAt(0);
            if (e === 1) return Pe(r) ? t : '.';
            if (Pe(r)) {
              if (((i = s = 1), Pe(t.charCodeAt(1)))) {
                let a = 2,
                  c = a;
                for (; a < e && !Pe(t.charCodeAt(a)); ) a++;
                if (a < e && a !== c) {
                  for (c = a; a < e && Pe(t.charCodeAt(a)); ) a++;
                  if (a < e && a !== c) {
                    for (c = a; a < e && !Pe(t.charCodeAt(a)); ) a++;
                    if (a === e) return t;
                    a !== c && (i = s = a + 1);
                  }
                }
              }
            } else
              Gr(r) &&
                t.charCodeAt(1) === mr &&
                ((i = e > 2 && Pe(t.charCodeAt(2)) ? 3 : 2), (s = i));
            let n = -1,
              o = !0;
            for (let a = e - 1; a >= s; --a)
              if (Pe(t.charCodeAt(a))) {
                if (!o) {
                  n = a;
                  break;
                }
              } else o = !1;
            if (n === -1) {
              if (i === -1) return '.';
              n = i;
            }
            return t.slice(0, n);
          },
          basename(t, e) {
            e !== void 0 && Ot(e, 'suffix'), Ot(t, 'path');
            let i = 0,
              s = -1,
              r = !0,
              n;
            if (
              (t.length >= 2 && Gr(t.charCodeAt(0)) && t.charCodeAt(1) === mr && (i = 2),
              e !== void 0 && e.length > 0 && e.length <= t.length)
            ) {
              if (e === t) return '';
              let o = e.length - 1,
                a = -1;
              for (n = t.length - 1; n >= i; --n) {
                const c = t.charCodeAt(n);
                if (Pe(c)) {
                  if (!r) {
                    i = n + 1;
                    break;
                  }
                } else
                  a === -1 && ((r = !1), (a = n + 1)),
                    o >= 0 && (c === e.charCodeAt(o) ? --o === -1 && (s = n) : ((o = -1), (s = a)));
              }
              return i === s ? (s = a) : s === -1 && (s = t.length), t.slice(i, s);
            }
            for (n = t.length - 1; n >= i; --n)
              if (Pe(t.charCodeAt(n))) {
                if (!r) {
                  i = n + 1;
                  break;
                }
              } else s === -1 && ((r = !1), (s = n + 1));
            return s === -1 ? '' : t.slice(i, s);
          },
          extname(t) {
            Ot(t, 'path');
            let e = 0,
              i = -1,
              s = 0,
              r = -1,
              n = !0,
              o = 0;
            t.length >= 2 && t.charCodeAt(1) === mr && Gr(t.charCodeAt(0)) && (e = s = 2);
            for (let a = t.length - 1; a >= e; --a) {
              const c = t.charCodeAt(a);
              if (Pe(c)) {
                if (!n) {
                  s = a + 1;
                  break;
                }
                continue;
              }
              r === -1 && ((n = !1), (r = a + 1)),
                c === $n ? (i === -1 ? (i = a) : o !== 1 && (o = 1)) : i !== -1 && (o = -1);
            }
            return i === -1 || r === -1 || o === 0 || (o === 1 && i === r - 1 && i === s + 1)
              ? ''
              : t.slice(i, r);
          },
          format: P2.bind(null, '\\'),
          parse(t) {
            Ot(t, 'path');
            const e = { root: '', dir: '', base: '', ext: '', name: '' };
            if (t.length === 0) return e;
            const i = t.length;
            let s = 0,
              r = t.charCodeAt(0);
            if (i === 1) return Pe(r) ? ((e.root = e.dir = t), e) : ((e.base = e.name = t), e);
            if (Pe(r)) {
              if (((s = 1), Pe(t.charCodeAt(1)))) {
                let d = 2,
                  p = d;
                for (; d < i && !Pe(t.charCodeAt(d)); ) d++;
                if (d < i && d !== p) {
                  for (p = d; d < i && Pe(t.charCodeAt(d)); ) d++;
                  if (d < i && d !== p) {
                    for (p = d; d < i && !Pe(t.charCodeAt(d)); ) d++;
                    d === i ? (s = d) : d !== p && (s = d + 1);
                  }
                }
              }
            } else if (Gr(r) && t.charCodeAt(1) === mr) {
              if (i <= 2) return (e.root = e.dir = t), e;
              if (((s = 2), Pe(t.charCodeAt(2)))) {
                if (i === 3) return (e.root = e.dir = t), e;
                s = 3;
              }
            }
            s > 0 && (e.root = t.slice(0, s));
            let n = -1,
              o = s,
              a = -1,
              c = !0,
              l = t.length - 1,
              h = 0;
            for (; l >= s; --l) {
              if (((r = t.charCodeAt(l)), Pe(r))) {
                if (!c) {
                  o = l + 1;
                  break;
                }
                continue;
              }
              a === -1 && ((c = !1), (a = l + 1)),
                r === $n ? (n === -1 ? (n = l) : h !== 1 && (h = 1)) : n !== -1 && (h = -1);
            }
            return (
              a !== -1 &&
                (n === -1 || h === 0 || (h === 1 && n === a - 1 && n === o + 1)
                  ? (e.base = e.name = t.slice(o, a))
                  : ((e.name = t.slice(o, n)), (e.base = t.slice(o, a)), (e.ext = t.slice(n, a)))),
              o > 0 && o !== s ? (e.dir = t.slice(0, o - 1)) : (e.dir = e.root),
              e
            );
          },
          sep: '\\',
          delimiter: ';',
          win32: null,
          posix: null,
        }),
        (O2 = (() => {
          if (Gi) {
            const t = /\\/g;
            return () => {
              const e = zr().replace(t, '/');
              return e.slice(e.indexOf('/'));
            };
          }
          return () => zr();
        })()),
        (Ce = {
          resolve(...t) {
            let e = '',
              i = !1;
            for (let s = t.length - 1; s >= 0 && !i; s--) {
              const r = t[s];
              Ot(r, `paths[${s}]`),
                r.length !== 0 && ((e = `${r}/${e}`), (i = r.charCodeAt(0) === oi));
            }
            if (!i) {
              const s = O2();
              (e = `${s}/${e}`), (i = s.charCodeAt(0) === oi);
            }
            return (e = cd(e, !i, '/', v0)), i ? `/${e}` : e.length > 0 ? e : '.';
          },
          normalize(t) {
            if ((Ot(t, 'path'), t.length === 0)) return '.';
            const e = t.charCodeAt(0) === oi,
              i = t.charCodeAt(t.length - 1) === oi;
            return (
              (t = cd(t, !e, '/', v0)),
              t.length === 0 ? (e ? '/' : i ? './' : '.') : (i && (t += '/'), e ? `/${t}` : t)
            );
          },
          isAbsolute(t) {
            return Ot(t, 'path'), t.length > 0 && t.charCodeAt(0) === oi;
          },
          join(...t) {
            if (t.length === 0) return '.';
            const e = [];
            for (let i = 0; i < t.length; ++i) {
              const s = t[i];
              Ot(s, 'path'), s.length > 0 && e.push(s);
            }
            return e.length === 0 ? '.' : Ce.normalize(e.join('/'));
          },
          relative(t, e) {
            if (
              (Ot(t, 'from'),
              Ot(e, 'to'),
              t === e || ((t = Ce.resolve(t)), (e = Ce.resolve(e)), t === e))
            )
              return '';
            const i = 1,
              s = t.length,
              r = s - i,
              n = 1,
              o = e.length - n,
              a = r < o ? r : o;
            let c = -1,
              l = 0;
            for (; l < a; l++) {
              const d = t.charCodeAt(i + l);
              if (d !== e.charCodeAt(n + l)) break;
              d === oi && (c = l);
            }
            if (l === a)
              if (o > a) {
                if (e.charCodeAt(n + l) === oi) return e.slice(n + l + 1);
                if (l === 0) return e.slice(n + l);
              } else r > a && (t.charCodeAt(i + l) === oi ? (c = l) : l === 0 && (c = 0));
            let h = '';
            for (l = i + c + 1; l <= s; ++l)
              (l === s || t.charCodeAt(l) === oi) && (h += h.length === 0 ? '..' : '/..');
            return `${h}${e.slice(n + c)}`;
          },
          toNamespacedPath(t) {
            return t;
          },
          dirname(t) {
            if ((Ot(t, 'path'), t.length === 0)) return '.';
            const e = t.charCodeAt(0) === oi;
            let i = -1,
              s = !0;
            for (let r = t.length - 1; r >= 1; --r)
              if (t.charCodeAt(r) === oi) {
                if (!s) {
                  i = r;
                  break;
                }
              } else s = !1;
            return i === -1 ? (e ? '/' : '.') : e && i === 1 ? '//' : t.slice(0, i);
          },
          basename(t, e) {
            e !== void 0 && Ot(e, 'suffix'), Ot(t, 'path');
            let i = 0,
              s = -1,
              r = !0,
              n;
            if (e !== void 0 && e.length > 0 && e.length <= t.length) {
              if (e === t) return '';
              let o = e.length - 1,
                a = -1;
              for (n = t.length - 1; n >= 0; --n) {
                const c = t.charCodeAt(n);
                if (c === oi) {
                  if (!r) {
                    i = n + 1;
                    break;
                  }
                } else
                  a === -1 && ((r = !1), (a = n + 1)),
                    o >= 0 && (c === e.charCodeAt(o) ? --o === -1 && (s = n) : ((o = -1), (s = a)));
              }
              return i === s ? (s = a) : s === -1 && (s = t.length), t.slice(i, s);
            }
            for (n = t.length - 1; n >= 0; --n)
              if (t.charCodeAt(n) === oi) {
                if (!r) {
                  i = n + 1;
                  break;
                }
              } else s === -1 && ((r = !1), (s = n + 1));
            return s === -1 ? '' : t.slice(i, s);
          },
          extname(t) {
            Ot(t, 'path');
            let e = -1,
              i = 0,
              s = -1,
              r = !0,
              n = 0;
            for (let o = t.length - 1; o >= 0; --o) {
              const a = t[o];
              if (a === '/') {
                if (!r) {
                  i = o + 1;
                  break;
                }
                continue;
              }
              s === -1 && ((r = !1), (s = o + 1)),
                a === '.' ? (e === -1 ? (e = o) : n !== 1 && (n = 1)) : e !== -1 && (n = -1);
            }
            return e === -1 || s === -1 || n === 0 || (n === 1 && e === s - 1 && e === i + 1)
              ? ''
              : t.slice(e, s);
          },
          format: P2.bind(null, '/'),
          parse(t) {
            Ot(t, 'path');
            const e = { root: '', dir: '', base: '', ext: '', name: '' };
            if (t.length === 0) return e;
            const i = t.charCodeAt(0) === oi;
            let s;
            i ? ((e.root = '/'), (s = 1)) : (s = 0);
            let r = -1,
              n = 0,
              o = -1,
              a = !0,
              c = t.length - 1,
              l = 0;
            for (; c >= s; --c) {
              const h = t.charCodeAt(c);
              if (h === oi) {
                if (!a) {
                  n = c + 1;
                  break;
                }
                continue;
              }
              o === -1 && ((a = !1), (o = c + 1)),
                h === $n ? (r === -1 ? (r = c) : l !== 1 && (l = 1)) : r !== -1 && (l = -1);
            }
            if (o !== -1) {
              const h = n === 0 && i ? 1 : n;
              r === -1 || l === 0 || (l === 1 && r === o - 1 && r === n + 1)
                ? (e.base = e.name = t.slice(h, o))
                : ((e.name = t.slice(h, r)), (e.base = t.slice(h, o)), (e.ext = t.slice(r, o)));
            }
            return n > 0 ? (e.dir = t.slice(0, n - 1)) : i && (e.dir = '/'), e;
          },
          sep: '/',
          delimiter: ':',
          win32: null,
          posix: null,
        }),
        (Ce.win32 = wt.win32 = wt),
        (Ce.posix = wt.posix = Ce),
        (_i = Gi ? wt.normalize : Ce.normalize),
        (Sa = Gi ? wt.isAbsolute : Ce.isAbsolute),
        (M = Gi ? wt.join : Ce.join),
        (Gs = Gi ? wt.resolve : Ce.resolve),
        (k0 = Gi ? wt.relative : Ce.relative),
        (vi = Gi ? wt.dirname : Ce.dirname),
        (ct = Gi ? wt.basename : Ce.basename),
        (ld = Gi ? wt.extname : Ce.extname),
        (V$ = Gi ? wt.format : Ce.format),
        (G$ = Gi ? wt.parse : Ce.parse),
        (q$ = Gi ? wt.toNamespacedPath : Ce.toNamespacedPath),
        (yi = Gi ? wt.sep : Ce.sep),
        (ud = Gi ? wt.delimiter : Ce.delimiter);
    },
  });
function K$(t, e) {
  if (!t.scheme && e)
    throw new Error(
      `[UriError]: Scheme is missing: {scheme: "", authority: "${t.authority}", path: "${t.path}", query: "${t.query}", fragment: "${t.fragment}"}`
    );
  if (t.scheme && !B2.test(t.scheme))
    throw new Error('[UriError]: Scheme contains illegal characters.');
  if (t.path) {
    if (t.authority) {
      if (!U2.test(t.path))
        throw new Error(
          '[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character'
        );
    } else if (j2.test(t.path))
      throw new Error(
        '[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")'
      );
  }
}
function J$(t, e) {
  return !t && !e ? 'file' : t;
}
function X$(t, e) {
  switch (t) {
    case 'https':
    case 'http':
    case 'file':
      e ? e[0] !== xs && (e = xs + e) : (e = xs);
      break;
  }
  return e;
}
function R2(t, e, i) {
  let s,
    r = -1;
  for (let n = 0; n < t.length; n++) {
    const o = t.charCodeAt(n);
    if (
      (o >= 97 && o <= 122) ||
      (o >= 65 && o <= 90) ||
      (o >= 48 && o <= 57) ||
      o === 45 ||
      o === 46 ||
      o === 95 ||
      o === 126 ||
      (e && o === 47) ||
      (i && o === 91) ||
      (i && o === 93) ||
      (i && o === 58)
    )
      r !== -1 && ((s += encodeURIComponent(t.substring(r, n))), (r = -1)),
        s !== void 0 && (s += t.charAt(n));
    else {
      s === void 0 && (s = t.substr(0, n));
      const a = C0[o];
      a !== void 0
        ? (r !== -1 && ((s += encodeURIComponent(t.substring(r, n))), (r = -1)), (s += a))
        : r === -1 && (r = n);
    }
  }
  return r !== -1 && (s += encodeURIComponent(t.substring(r))), s !== void 0 ? s : t;
}
function Y$(t) {
  let e;
  for (let i = 0; i < t.length; i++) {
    const s = t.charCodeAt(i);
    s === 35 || s === 63
      ? (e === void 0 && (e = t.substr(0, i)), (e += C0[s]))
      : e !== void 0 && (e += t[i]);
  }
  return e !== void 0 ? e : t;
}
function hd(t, e) {
  let i;
  return (
    t.authority && t.path.length > 1 && t.scheme === 'file'
      ? (i = `//${t.authority}${t.path}`)
      : t.path.charCodeAt(0) === 47 &&
        ((t.path.charCodeAt(1) >= 65 && t.path.charCodeAt(1) <= 90) ||
          (t.path.charCodeAt(1) >= 97 && t.path.charCodeAt(1) <= 122)) &&
        t.path.charCodeAt(2) === 58
      ? e
        ? (i = t.path.substr(1))
        : (i = t.path[1].toLowerCase() + t.path.substr(2))
      : (i = t.path),
    J && (i = i.replace(/\//g, '\\')),
    i
  );
}
function S0(t, e) {
  const i = e ? Y$ : R2;
  let s = '',
    { scheme: r, authority: n, path: o, query: a, fragment: c } = t;
  if ((r && ((s += r), (s += ':')), (n || r === 'file') && ((s += xs), (s += xs)), n)) {
    let l = n.indexOf('@');
    if (l !== -1) {
      const h = n.substr(0, l);
      (n = n.substr(l + 1)),
        (l = h.lastIndexOf(':')),
        l === -1
          ? (s += i(h, !1, !1))
          : ((s += i(h.substr(0, l), !1, !1)), (s += ':'), (s += i(h.substr(l + 1), !1, !0))),
        (s += '@');
    }
    (n = n.toLowerCase()),
      (l = n.lastIndexOf(':')),
      l === -1 ? (s += i(n, !1, !0)) : ((s += i(n.substr(0, l), !1, !0)), (s += n.substr(l)));
  }
  if (o) {
    if (o.length >= 3 && o.charCodeAt(0) === 47 && o.charCodeAt(2) === 58) {
      const l = o.charCodeAt(1);
      l >= 65 && l <= 90 && (o = `/${String.fromCharCode(l + 32)}:${o.substr(3)}`);
    } else if (o.length >= 2 && o.charCodeAt(1) === 58) {
      const l = o.charCodeAt(0);
      l >= 65 && l <= 90 && (o = `${String.fromCharCode(l + 32)}:${o.substr(2)}`);
    }
    s += i(o, !0, !1);
  }
  return a && ((s += '?'), (s += i(a, !1, !1))), c && ((s += '#'), (s += e ? c : R2(c, !1, !1))), s;
}
function N2(t) {
  try {
    return decodeURIComponent(t);
  } catch {
    return t.length > 3 ? t.substr(0, 3) + N2(t.substr(3)) : t;
  }
}
function dd(t) {
  return t.match(D0) ? t.replace(D0, (e) => N2(e)) : t;
}
var B2,
  U2,
  j2,
  ht,
  xs,
  W2,
  _,
  E0,
  qr,
  C0,
  D0,
  be = b({
    'out-build/vs/base/common/uri.js'() {
      'use strict';
      xe(),
        ie(),
        (B2 = /^\w[\w\d+.-]*$/),
        (U2 = /^\//),
        (j2 = /^\/\//),
        (ht = ''),
        (xs = '/'),
        (W2 = /^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/),
        (_ = class Cg {
          static isUri(e) {
            return e instanceof Cg
              ? !0
              : e
              ? typeof e.authority == 'string' &&
                typeof e.fragment == 'string' &&
                typeof e.path == 'string' &&
                typeof e.query == 'string' &&
                typeof e.scheme == 'string' &&
                typeof e.fsPath == 'string' &&
                typeof e.with == 'function' &&
                typeof e.toString == 'function'
              : !1;
          }
          constructor(e, i, s, r, n, o = !1) {
            typeof e == 'object'
              ? ((this.scheme = e.scheme || ht),
                (this.authority = e.authority || ht),
                (this.path = e.path || ht),
                (this.query = e.query || ht),
                (this.fragment = e.fragment || ht))
              : ((this.scheme = J$(e, o)),
                (this.authority = i || ht),
                (this.path = X$(this.scheme, s || ht)),
                (this.query = r || ht),
                (this.fragment = n || ht),
                K$(this, o));
          }
          get fsPath() {
            return hd(this, !1);
          }
          with(e) {
            if (!e) return this;
            let { scheme: i, authority: s, path: r, query: n, fragment: o } = e;
            return (
              i === void 0 ? (i = this.scheme) : i === null && (i = ht),
              s === void 0 ? (s = this.authority) : s === null && (s = ht),
              r === void 0 ? (r = this.path) : r === null && (r = ht),
              n === void 0 ? (n = this.query) : n === null && (n = ht),
              o === void 0 ? (o = this.fragment) : o === null && (o = ht),
              i === this.scheme &&
              s === this.authority &&
              r === this.path &&
              n === this.query &&
              o === this.fragment
                ? this
                : new qr(i, s, r, n, o)
            );
          }
          static parse(e, i = !1) {
            const s = W2.exec(e);
            return s
              ? new qr(
                  s[2] || ht,
                  dd(s[4] || ht),
                  dd(s[5] || ht),
                  dd(s[7] || ht),
                  dd(s[9] || ht),
                  i
                )
              : new qr(ht, ht, ht, ht, ht);
          }
          static file(e) {
            let i = ht;
            if ((J && (e = e.replace(/\\/g, xs)), e[0] === xs && e[1] === xs)) {
              const s = e.indexOf(xs, 2);
              s === -1
                ? ((i = e.substring(2)), (e = xs))
                : ((i = e.substring(2, s)), (e = e.substring(s) || xs));
            }
            return new qr('file', i, e, ht, ht);
          }
          static from(e, i) {
            return new qr(e.scheme, e.authority, e.path, e.query, e.fragment, i);
          }
          static joinPath(e, ...i) {
            if (!e.path) throw new Error('[UriError]: cannot call joinPath on URI without path');
            let s;
            return (
              J && e.scheme === 'file'
                ? (s = Cg.file(wt.join(hd(e, !0), ...i)).path)
                : (s = Ce.join(e.path, ...i)),
              e.with({ path: s })
            );
          }
          toString(e = !1) {
            return S0(this, e);
          }
          toJSON() {
            return this;
          }
          static revive(e) {
            if (e) {
              if (e instanceof Cg) return e;
              {
                const i = new qr(e);
                return (
                  (i._formatted = e.external ?? null),
                  (i._fsPath = e._sep === E0 ? e.fsPath ?? null : null),
                  i
                );
              }
            } else return e;
          }
          [Symbol.for('debug.description')]() {
            return `URI(${this.toString()})`;
          }
        }),
        (E0 = J ? 1 : void 0),
        (qr = class extends _ {
          constructor() {
            super(...arguments), (this._formatted = null), (this._fsPath = null);
          }
          get fsPath() {
            return this._fsPath || (this._fsPath = hd(this, !1)), this._fsPath;
          }
          toString(t = !1) {
            return t
              ? S0(this, !0)
              : (this._formatted || (this._formatted = S0(this, !1)), this._formatted);
          }
          toJSON() {
            const t = { $mid: 1 };
            return (
              this._fsPath && ((t.fsPath = this._fsPath), (t._sep = E0)),
              this._formatted && (t.external = this._formatted),
              this.path && (t.path = this.path),
              this.scheme && (t.scheme = this.scheme),
              this.authority && (t.authority = this.authority),
              this.query && (t.query = this.query),
              this.fragment && (t.fragment = this.fragment),
              t
            );
          }
        }),
        (C0 = {
          58: '%3A',
          47: '%2F',
          63: '%3F',
          35: '%23',
          91: '%5B',
          93: '%5D',
          64: '%40',
          33: '%21',
          36: '%24',
          38: '%26',
          39: '%27',
          40: '%28',
          41: '%29',
          42: '%2A',
          43: '%2B',
          44: '%2C',
          59: '%3B',
          61: '%3D',
          32: '%20',
        }),
        (D0 = /(%[0-9A-Za-z][0-9A-Za-z])+/g);
    },
  }),
  H2,
  z2 = b({
    'out-build/vs/workbench/common/icubeExport.js'() {
      'use strict';
      H2 = {};
    },
  }),
  ve,
  Eo = b({
    'out-build/vs/platform/instantiation/common/descriptors.js'() {
      'use strict';
      ve = class {
        constructor(t, e = [], i = !1) {
          (this.ctor = t), (this.staticArguments = e), (this.supportsDelayedInstantiation = i);
        }
      };
    },
  });
function Q$(t, e, i) {
  e[qs.DI_TARGET] === e
    ? e[qs.DI_DEPENDENCIES].push({ id: t, index: i })
    : ((e[qs.DI_DEPENDENCIES] = [{ id: t, index: i }]), (e[qs.DI_TARGET] = e));
}
function W(t) {
  if (qs.serviceIds.has(t)) return qs.serviceIds.get(t);
  const e = function (i, s, r) {
    if (arguments.length !== 3)
      throw new Error('@IServiceName-decorator can only be used to decorate a parameter');
    Q$(e, i, r);
  };
  return (e.toString = () => t), qs.serviceIds.set(t, e), e;
}
function DZ(t) {
  return t;
}
var qs,
  Ks,
  K = b({
    'out-build/vs/platform/instantiation/common/instantiation.js'() {
      'use strict';
      z2(),
        Eo(),
        (function (t) {
          (t.serviceIds = new Map()),
            (t.DI_TARGET = '$di$target'),
            (t.DI_DEPENDENCIES = '$di$dependencies');
          function e(i) {
            return i[t.DI_DEPENDENCIES] || [];
          }
          t.getServiceDependencies = e;
        })(qs || (qs = {})),
        (Ks = W('instantiationService'));
    },
  });
function x0(t) {
  return (
    t &&
    typeof t == 'object' &&
    (!t.overrideIdentifier || typeof t.overrideIdentifier == 'string') &&
    (!t.resource || t.resource instanceof _)
  );
}
function Z$(t) {
  return (
    t &&
    typeof t == 'object' &&
    (!t.overrideIdentifiers || Array.isArray(t.overrideIdentifiers)) &&
    !t.overrideIdentifier &&
    (!t.resource || t.resource instanceof _)
  );
}
function A0(t, e) {
  const i = Object.create(null);
  for (const s in t) V2(i, s, t[s], e);
  return i;
}
function V2(t, e, i, s) {
  const r = e.split('.'),
    n = r.pop();
  let o = t;
  for (let a = 0; a < r.length; a++) {
    const c = r[a];
    let l = o[c];
    switch (typeof l) {
      case 'undefined':
        l = o[c] = Object.create(null);
        break;
      case 'object':
        if (l === null) {
          s(`Ignoring ${e} as ${r.slice(0, a + 1).join('.')} is null`);
          return;
        }
        break;
      default:
        s(`Ignoring ${e} as ${r.slice(0, a + 1).join('.')} is ${JSON.stringify(l)}`);
        return;
    }
    o = l;
  }
  if (typeof o == 'object' && o !== null)
    try {
      o[n] = i;
    } catch {
      s(`Ignoring ${e} as ${r.join('.')} is ${JSON.stringify(o)}`);
    }
  else s(`Ignoring ${e} as ${r.join('.')} is ${JSON.stringify(o)}`);
}
function eP(t, e) {
  const i = e.split('.');
  G2(t, i);
}
function G2(t, e) {
  if (!t) return;
  const i = e.shift();
  if (e.length === 0) {
    delete t[i];
    return;
  }
  if (Object.keys(t).indexOf(i) !== -1) {
    const s = t[i];
    typeof s == 'object' &&
      !Array.isArray(s) &&
      (G2(s, e), Object.keys(s).length === 0 && delete t[i]);
  }
}
function fd(t, e, i) {
  function s(o, a) {
    let c = o;
    for (const l of a) {
      if (typeof c != 'object' || c === null) return;
      c = c[l];
    }
    return c;
  }
  const r = e.split('.'),
    n = s(t, r);
  return typeof n > 'u' ? i : n;
}
function tP(t) {
  return t.replace(/[\[\]]/g, '');
}
var Ve,
  q2,
  Ge = b({
    'out-build/vs/platform/configuration/common/configuration.js'() {
      'use strict';
      $e(),
        be(),
        K(),
        (Ve = W('configurationService')),
        (function (t) {
          (t[(t.APPLICATION = 1)] = 'APPLICATION'),
            (t[(t.USER = 2)] = 'USER'),
            (t[(t.USER_LOCAL = 3)] = 'USER_LOCAL'),
            (t[(t.USER_REMOTE = 4)] = 'USER_REMOTE'),
            (t[(t.WORKSPACE = 5)] = 'WORKSPACE'),
            (t[(t.WORKSPACE_FOLDER = 6)] = 'WORKSPACE_FOLDER'),
            (t[(t.DEFAULT = 7)] = 'DEFAULT'),
            (t[(t.MEMORY = 8)] = 'MEMORY');
        })(q2 || (q2 = {}));
    },
  });
function iP(t) {
  let e = !1;
  const i = new Map(),
    s = new Map();
  if (
    (sP(t, (h) => {
      if (t === h) return !0;
      const d = JSON.stringify(h);
      if (d.length < 30) return !0;
      const p = i.get(d);
      if (!p) {
        const m = { schemas: [h] };
        return i.set(d, m), s.set(h, m), !0;
      }
      return p.schemas.push(h), s.set(h, p), (e = !0), !1;
    }),
    i.clear(),
    !e)
  )
    return JSON.stringify(t);
  let n = '$defs';
  for (; t.hasOwnProperty(n); ) n += '_';
  const o = [];
  function a(h) {
    return JSON.stringify(h, (d, p) => {
      if (p !== h) {
        const m = s.get(p);
        if (m && m.schemas.length > 1)
          return (
            m.id || ((m.id = `_${o.length}`), o.push(m.schemas[0])), { $ref: `#/${n}/${m.id}` }
          );
      }
      return p;
    });
  }
  const c = a(t),
    l = [];
  for (let h = 0; h < o.length; h++) l.push(`"_${h}":${a(o[h])}`);
  return l.length ? `${c.substring(0, c.length - 1)},"${n}":{${l.join(',')}}}` : c;
}
function Ea(t) {
  return typeof t == 'object' && t !== null;
}
function sP(t, e) {
  if (!t || typeof t != 'object') return;
  const i = (...c) => {
      for (const l of c) Ea(l) && o.push(l);
    },
    s = (...c) => {
      for (const l of c)
        if (Ea(l))
          for (const h in l) {
            const d = l[h];
            Ea(d) && o.push(d);
          }
    },
    r = (...c) => {
      for (const l of c) if (Array.isArray(l)) for (const h of l) Ea(h) && o.push(h);
    },
    n = (c) => {
      if (Array.isArray(c)) for (const l of c) Ea(l) && o.push(l);
      else Ea(c) && o.push(c);
    },
    o = [t];
  let a = o.pop();
  for (; a; )
    e(a) &&
      (i(
        a.additionalItems,
        a.additionalProperties,
        a.not,
        a.contains,
        a.propertyNames,
        a.if,
        a.then,
        a.else,
        a.unevaluatedItems,
        a.unevaluatedProperties
      ),
      s(
        a.definitions,
        a.$defs,
        a.properties,
        a.patternProperties,
        a.dependencies,
        a.dependentSchemas
      ),
      r(a.anyOf, a.allOf, a.oneOf, a.prefixItems),
      n(a.items)),
      (a = o.pop());
}
var rP = b({
    'out-build/vs/base/common/jsonSchema.js'() {
      'use strict';
    },
  }),
  K2,
  tt,
  li = b({
    'out-build/vs/platform/registry/common/platform.js'() {
      'use strict';
      Jh(),
        $e(),
        (K2 = class {
          constructor() {
            this.a = new Map();
          }
          add(t, e) {
            Gg(ot(t)),
              Gg(Lt(e)),
              Gg(!this.a.has(t), 'There is already an extension with this id'),
              this.a.set(t, e);
          }
          knows(t) {
            return this.a.has(t);
          }
          as(t) {
            return this.a.get(t) || null;
          }
        }),
        (tt = new K2());
    },
  });
function nP(t) {
  return t.length > 0 && t.charAt(t.length - 1) === '#' ? t.substring(0, t.length - 1) : t;
}
var Ca,
  J2,
  X2,
  pd = b({
    'out-build/vs/platform/jsonschemas/common/jsonContributionRegistry.js'() {
      'use strict';
      X(),
        rP(),
        li(),
        (Ca = { JSONContribution: 'base.contributions.json' }),
        (J2 = class {
          constructor() {
            (this.b = new $()), (this.onDidChangeSchema = this.b.event), (this.a = {});
          }
          registerSchema(t, e) {
            (this.a[nP(t)] = e), this.b.fire(t);
          }
          notifySchemaChanged(t) {
            this.b.fire(t);
          }
          getSchemaContributions() {
            return { schemas: this.a };
          }
          getSchemaContent(t) {
            const e = this.a[t];
            return e ? iP(e) : void 0;
          }
          hasSchemaContent(t) {
            return !!this.a[t];
          }
        }),
        (X2 = new J2()),
        tt.add(Ca.JSONContribution, X2);
    },
  });
function nl(t) {
  const e = [];
  if (wr.test(t)) {
    let i = $0.exec(t);
    for (; i?.length; ) {
      const s = i[1].trim();
      s && e.push(s), (i = $0.exec(t));
    }
  }
  return zs(e);
}
function oP(t) {
  return t.reduce((e, i) => `${e}[${i}]`, '');
}
function aP(t) {
  switch (Array.isArray(t) ? t[0] : t) {
    case 'boolean':
      return !1;
    case 'integer':
    case 'number':
      return 0;
    case 'string':
      return '';
    case 'array':
      return [];
    case 'object':
      return {};
    default:
      return null;
  }
}
function cP(t, e) {
  return t.trim()
    ? wr.test(t)
      ? u(1779, null, t)
      : fl.getConfigurationProperties()[t] !== void 0
      ? u(1780, null, t)
      : e.policy?.name && fl.getPolicyConfigurations().get(e.policy?.name) !== void 0
      ? u(1781, null, t, e.policy?.name, fl.getPolicyConfigurations().get(e.policy?.name))
      : null
    : u(1778, null);
}
var Y2,
  Li,
  Q2,
  ol,
  al,
  cl,
  ll,
  ul,
  hl,
  Da,
  Pn,
  dl,
  Z2,
  I0,
  $0,
  Kr,
  wr,
  fl,
  _n = b({
    'out-build/vs/platform/configuration/common/configurationRegistry.js'() {
      'use strict';
      ni(),
        X(),
        $e(),
        he(),
        Ge(),
        pd(),
        li(),
        (function (t) {
          (t.Multiline = 'multilineText'), (t.Singleline = 'singlelineText');
        })(Y2 || (Y2 = {})),
        (Li = { Configuration: 'base.contributions.configuration' }),
        (function (t) {
          (t[(t.APPLICATION = 1)] = 'APPLICATION'),
            (t[(t.MACHINE = 2)] = 'MACHINE'),
            (t[(t.APPLICATION_MACHINE = 3)] = 'APPLICATION_MACHINE'),
            (t[(t.WINDOW = 4)] = 'WINDOW'),
            (t[(t.RESOURCE = 5)] = 'RESOURCE'),
            (t[(t.LANGUAGE_OVERRIDABLE = 6)] = 'LANGUAGE_OVERRIDABLE'),
            (t[(t.MACHINE_OVERRIDABLE = 7)] = 'MACHINE_OVERRIDABLE');
        })(Q2 || (Q2 = {})),
        (ol = { properties: {}, patternProperties: {} }),
        (al = { properties: {}, patternProperties: {} }),
        (cl = { properties: {}, patternProperties: {} }),
        (ll = { properties: {}, patternProperties: {} }),
        (ul = { properties: {}, patternProperties: {} }),
        (hl = { properties: {}, patternProperties: {} }),
        (Da = { properties: {}, patternProperties: {} }),
        (Pn = 'vscode://schemas/settings/resourceLanguage'),
        (dl = tt.as(Ca.JSONContribution)),
        (Z2 = class {
          constructor() {
            (this.a = []),
              (this.i = new Set()),
              (this.j = new $()),
              (this.onDidSchemaChange = this.j.event),
              (this.k = new $()),
              (this.onDidUpdateConfiguration = this.k.event),
              (this.b = new Map()),
              (this.c = { id: 'defaultOverrides', title: u(1772, null), properties: {} }),
              (this.d = [this.c]),
              (this.h = {
                properties: {},
                patternProperties: {},
                additionalProperties: !0,
                allowTrailingCommas: !0,
                allowComments: !0,
              }),
              (this.e = {}),
              (this.f = new Map()),
              (this.g = {}),
              dl.registerSchema(Pn, this.h),
              this.z();
          }
          registerConfiguration(t, e = !0) {
            this.registerConfigurations([t], e);
          }
          registerConfigurations(t, e = !0) {
            const i = new Set();
            this.r(t, e, i),
              dl.registerSchema(Pn, this.h),
              this.j.fire(),
              this.k.fire({ properties: i });
          }
          deregisterConfigurations(t) {
            const e = new Set();
            this.s(t, e),
              dl.registerSchema(Pn, this.h),
              this.j.fire(),
              this.k.fire({ properties: e });
          }
          updateConfigurations({ add: t, remove: e }) {
            const i = new Set();
            this.s(e, i),
              this.r(t, !1, i),
              dl.registerSchema(Pn, this.h),
              this.j.fire(),
              this.k.fire({ properties: i });
          }
          registerDefaultConfigurations(t) {
            const e = new Set();
            this.l(t, e), this.j.fire(), this.k.fire({ properties: e, defaultsOverrides: !0 });
          }
          l(t, e) {
            this.a.push(...t);
            const i = [];
            for (const { overrides: s, source: r } of t)
              for (const n in s) {
                e.add(n);
                const o =
                    this.b.get(n) ?? this.b.set(n, { configurationDefaultOverrides: [] }).get(n),
                  a = s[n];
                if ((o.configurationDefaultOverrides.push({ value: a, source: r }), wr.test(n))) {
                  const c = this.o(n, a, r, o.configurationDefaultOverrideValue);
                  if (!c) continue;
                  (o.configurationDefaultOverrideValue = c), this.n(n, c, r), i.push(...nl(n));
                } else {
                  const c = this.p(n, a, r, o.configurationDefaultOverrideValue);
                  if (!c) continue;
                  o.configurationDefaultOverrideValue = c;
                  const l = this.e[n];
                  l && (this.A(n, l), this.w(n, l));
                }
              }
            this.q(i);
          }
          deregisterDefaultConfigurations(t) {
            const e = new Set();
            this.m(t, e), this.j.fire(), this.k.fire({ properties: e, defaultsOverrides: !0 });
          }
          m(t, e) {
            for (const i of t) {
              const s = this.a.indexOf(i);
              s !== -1 && this.a.splice(s, 1);
            }
            for (const { overrides: i, source: s } of t)
              for (const r in i) {
                const n = this.b.get(r);
                if (!n) continue;
                const o = n.configurationDefaultOverrides.findIndex((a) =>
                  s ? a.source?.id === s.id : a.value === i[r]
                );
                if (o !== -1) {
                  if (
                    (n.configurationDefaultOverrides.splice(o, 1),
                    n.configurationDefaultOverrides.length === 0 && this.b.delete(r),
                    wr.test(r))
                  ) {
                    let a;
                    for (const c of n.configurationDefaultOverrides)
                      a = this.o(r, c.value, c.source, a);
                    a && !w4(a.value)
                      ? ((n.configurationDefaultOverrideValue = a), this.n(r, a, s))
                      : (this.b.delete(r), delete this.e[r], delete this.c.properties[r]);
                  } else {
                    let a;
                    for (const l of n.configurationDefaultOverrides)
                      a = this.p(r, l.value, l.source, a);
                    n.configurationDefaultOverrideValue = a;
                    const c = this.e[r];
                    c && (this.A(r, c), this.w(r, c));
                  }
                  e.add(r);
                }
              }
            this.y();
          }
          n(t, e, i) {
            const s = {
              type: 'object',
              default: e.value,
              description: u(1773, null, tP(t)),
              $ref: Pn,
              defaultDefaultValue: e.value,
              source: i,
              defaultValueSource: i,
            };
            (this.e[t] = s), (this.c.properties[t] = s);
          }
          o(t, e, i, s) {
            const r = s?.value || {},
              n = s?.source ?? new Map();
            if (!(n instanceof Map)) {
              console.error('objectConfigurationSources is not a Map');
              return;
            }
            for (const o of Object.keys(e)) {
              const a = e[o];
              if (Lt(a) && (Wr(r[o]) || Lt(r[o]))) {
                if (((r[o] = { ...(r[o] ?? {}), ...a }), i))
                  for (const l in a) n.set(`${o}.${l}`, i);
              } else (r[o] = a), i ? n.set(o, i) : n.delete(o);
            }
            return { value: r, source: n };
          }
          p(t, e, i, s) {
            const r = this.e[t],
              n = s?.value ?? r?.defaultDefaultValue;
            let o = i;
            if (
              Lt(e) &&
              ((r !== void 0 && r.type === 'object') || (r === void 0 && (Wr(n) || Lt(n))))
            ) {
              if (((o = s?.source ?? new Map()), !(o instanceof Map))) {
                console.error('defaultValueSource is not a Map');
                return;
              }
              for (const c in e) i && o.set(`${t}.${c}`, i);
              e = { ...(Lt(n) ? n : {}), ...e };
            }
            return { value: e, source: o };
          }
          deltaConfiguration(t) {
            let e = !1;
            const i = new Set();
            t.removedDefaults && (this.m(t.removedDefaults, i), (e = !0)),
              t.addedDefaults && (this.l(t.addedDefaults, i), (e = !0)),
              t.removedConfigurations && this.s(t.removedConfigurations, i),
              t.addedConfigurations && this.r(t.addedConfigurations, !1, i),
              this.j.fire(),
              this.k.fire({ properties: i, defaultsOverrides: e });
          }
          notifyConfigurationSchemaUpdated(...t) {
            this.j.fire();
          }
          registerOverrideIdentifiers(t) {
            this.q(t), this.j.fire();
          }
          q(t) {
            for (const e of t) this.i.add(e);
            this.y();
          }
          r(t, e, i) {
            t.forEach((s) => {
              this.u(s, e, s.extensionInfo, s.restrictedProperties, void 0, i),
                this.d.push(s),
                this.v(s);
            });
          }
          s(t, e) {
            const i = (s) => {
              if (s.properties)
                for (const r in s.properties) {
                  e.add(r);
                  const n = this.e[r];
                  n?.policy?.name && this.f.delete(n.policy.name),
                    delete this.e[r],
                    this.x(r, s.properties[r]);
                }
              s.allOf?.forEach((r) => i(r));
            };
            for (const s of t) {
              i(s);
              const r = this.d.indexOf(s);
              r !== -1 && this.d.splice(r, 1);
            }
          }
          u(t, e = !0, i, s, r = 4, n) {
            r = Ii(t.scope) ? r : t.scope;
            const o = t.properties;
            if (o)
              for (const c in o) {
                const l = o[c];
                if (e && cP(c, l)) {
                  delete o[c];
                  continue;
                }
                if (
                  ((l.source = i),
                  (l.defaultDefaultValue = o[c].default),
                  this.A(c, l),
                  wr.test(c)
                    ? (l.scope = void 0)
                    : ((l.scope = Ii(l.scope) ? r : l.scope),
                      (l.restricted = Ii(l.restricted) ? !!s?.includes(c) : l.restricted)),
                  o[c].hasOwnProperty('included') && !o[c].included)
                ) {
                  (this.g[c] = o[c]), delete o[c];
                  continue;
                } else (this.e[c] = o[c]), o[c].policy?.name && this.f.set(o[c].policy.name, c);
                !o[c].deprecationMessage &&
                  o[c].markdownDeprecationMessage &&
                  (o[c].deprecationMessage = o[c].markdownDeprecationMessage),
                  n.add(c);
              }
            const a = t.allOf;
            if (a) for (const c of a) this.u(c, e, i, s, r, n);
          }
          getConfigurations() {
            return this.d;
          }
          getConfigurationProperties() {
            return this.e;
          }
          getPolicyConfigurations() {
            return this.f;
          }
          getExcludedConfigurationProperties() {
            return this.g;
          }
          getRegisteredDefaultConfigurations() {
            return [...this.a];
          }
          getConfigurationDefaultsOverrides() {
            const t = new Map();
            for (const [e, i] of this.b)
              i.configurationDefaultOverrideValue && t.set(e, i.configurationDefaultOverrideValue);
            return t;
          }
          v(t) {
            const e = (i) => {
              const s = i.properties;
              if (s) for (const n in s) this.w(n, s[n]);
              i.allOf?.forEach(e);
            };
            e(t);
          }
          w(t, e) {
            switch (((ol.properties[t] = e), e.scope)) {
              case 1:
                al.properties[t] = e;
                break;
              case 2:
                ll.properties[t] = e;
                break;
              case 3:
                cl.properties[t] = e;
                break;
              case 7:
                ul.properties[t] = e;
                break;
              case 4:
                hl.properties[t] = e;
                break;
              case 5:
                Da.properties[t] = e;
                break;
              case 6:
                (Da.properties[t] = e), (this.h.properties[t] = e);
                break;
            }
          }
          x(t, e) {
            switch ((delete ol.properties[t], e.scope)) {
              case 1:
                delete al.properties[t];
                break;
              case 2:
                delete ll.properties[t];
                break;
              case 3:
                delete cl.properties[t];
                break;
              case 7:
                delete ul.properties[t];
                break;
              case 4:
                delete hl.properties[t];
                break;
              case 5:
              case 6:
                delete Da.properties[t], delete this.h.properties[t];
                break;
            }
          }
          y() {
            for (const t of this.i.values()) {
              const e = `[${t}]`,
                i = {
                  type: 'object',
                  description: u(1774, null),
                  errorMessage: u(1775, null),
                  $ref: Pn,
                };
              this.A(e, i),
                (ol.properties[e] = i),
                (al.properties[e] = i),
                (cl.properties[e] = i),
                (ll.properties[e] = i),
                (ul.properties[e] = i),
                (hl.properties[e] = i),
                (Da.properties[e] = i);
            }
          }
          z() {
            const t = {
              type: 'object',
              description: u(1776, null),
              errorMessage: u(1777, null),
              $ref: Pn,
            };
            (ol.patternProperties[Kr] = t),
              (al.patternProperties[Kr] = t),
              (cl.patternProperties[Kr] = t),
              (ll.patternProperties[Kr] = t),
              (ul.patternProperties[Kr] = t),
              (hl.patternProperties[Kr] = t),
              (Da.patternProperties[Kr] = t),
              this.j.fire();
          }
          A(t, e) {
            const i = this.b.get(t)?.configurationDefaultOverrideValue;
            let s, r;
            i && (!e.disallowConfigurationDefault || !i.source) && ((s = i.value), (r = i.source)),
              Wr(s) && ((s = e.defaultDefaultValue), (r = void 0)),
              Wr(s) && (s = aP(e.type)),
              (e.default = s),
              (e.defaultValueSource = r);
          }
        }),
        (I0 = '\\[([^\\]]+)\\]'),
        ($0 = new RegExp(I0, 'g')),
        (Kr = `^(${I0})+$`),
        (wr = new RegExp(Kr)),
        (fl = new Z2()),
        tt.add(Li.Configuration, fl);
    },
  }),
  e5,
  lP = b({
    'out-build/vs/platform/update/common/update.config.contribution.js'() {
      'use strict';
      ie(),
        he(),
        _n(),
        li(),
        (e5 = tt.as(Li.Configuration)),
        e5.registerConfiguration({
          id: 'update',
          order: 15,
          title: u(2810, null),
          type: 'object',
          properties: {
            'update.mode': {
              type: 'string',
              enum: ['none', 'manual', 'start', 'default'],
              default: 'default',
              scope: 1,
              description: u(2811, null),
              tags: ['usesOnlineServices'],
              enumDescriptions: [u(2812, null), u(2813, null), u(2814, null), u(2815, null)],
              policy: { name: 'UpdateMode', minimumVersion: '1.67' },
            },
            'update.interval': {
              type: 'number',
              default: 60,
              minimum: 1,
              maximum: 60 * 24 * 7,
              scope: 1,
              description: u(2816, null),
            },
            'update.channel': {
              type: 'string',
              default: 'default',
              scope: 1,
              description: u(2817, null),
              deprecationMessage: u(2818, null, 'update.mode'),
            },
            'update.enableWindowsBackgroundUpdates': {
              type: 'boolean',
              default: !1,
              scope: 1,
              title: u(2819, null),
              description: u(2820, null),
              included: J && !xn,
            },
            'update.showReleaseNotes': {
              type: 'boolean',
              default: !0,
              scope: 1,
              description: u(2821, null),
              tags: ['usesOnlineServices'],
            },
          },
        });
    },
  }),
  t5,
  uP = b({
    'out-build/vs/workbench/contrib/login/common/login.contribution.js'() {
      'use strict';
      he(),
        _n(),
        li(),
        (t5 = tt.as(Li.Configuration)),
        t5.registerConfiguration({
          id: 'login',
          order: 15,
          title: u(8626, null),
          type: 'object',
          properties: {
            'login.env.ppe': { type: 'string', default: '', scope: 1, description: u(8627, null) },
          },
        });
    },
  }),
  P0,
  gt,
  pl,
  Js,
  jt = b({
    'out-build/vs/base/common/cancellation.js'() {
      'use strict';
      X(),
        (P0 = Object.freeze(function (t, e) {
          const i = setTimeout(t.bind(e), 0);
          return {
            dispose() {
              clearTimeout(i);
            },
          };
        })),
        (function (t) {
          function e(i) {
            return i === t.None || i === t.Cancelled || i instanceof pl
              ? !0
              : !i || typeof i != 'object'
              ? !1
              : typeof i.isCancellationRequested == 'boolean' &&
                typeof i.onCancellationRequested == 'function';
          }
          (t.isCancellationToken = e),
            (t.None = Object.freeze({
              isCancellationRequested: !1,
              onCancellationRequested: P.None,
            })),
            (t.Cancelled = Object.freeze({
              isCancellationRequested: !0,
              onCancellationRequested: P0,
            }));
        })(gt || (gt = {})),
        (pl = class {
          constructor() {
            (this.a = !1), (this.b = null);
          }
          cancel() {
            this.a || ((this.a = !0), this.b && (this.b.fire(void 0), this.dispose()));
          }
          get isCancellationRequested() {
            return this.a;
          }
          get onCancellationRequested() {
            return this.a ? P0 : (this.b || (this.b = new $()), this.b.event);
          }
          dispose() {
            this.b && (this.b.dispose(), (this.b = null));
          }
        }),
        (Js = class {
          constructor(t) {
            (this.f = void 0),
              (this.g = void 0),
              (this.g = t && t.onCancellationRequested(this.cancel, this));
          }
          get token() {
            return this.f || (this.f = new pl()), this.f;
          }
          cancel() {
            this.f ? this.f instanceof pl && this.f.cancel() : (this.f = gt.Cancelled);
          }
          dispose(t = !1) {
            t && this.cancel(),
              this.g?.dispose(),
              this.f ? this.f instanceof pl && this.f.dispose() : (this.f = gt.None);
          }
        });
    },
  });
function hP(t) {
  return t;
}
var i5,
  dP = b({
    'out-build/vs/base/common/cache.js'() {
      'use strict';
      jt(),
        (i5 = class {
          constructor(t, e) {
            (this.a = void 0),
              (this.b = void 0),
              typeof t == 'function'
                ? ((this.c = t), (this.d = hP))
                : ((this.c = e), (this.d = t.getCacheKey));
          }
          get(t) {
            const e = this.d(t);
            return this.b !== e && ((this.b = e), (this.a = this.c(t))), this.a;
          }
        });
    },
  }),
  Jr,
  xa = b({
    'out-build/vs/base/common/lazy.js'() {
      'use strict';
      Jr = class {
        constructor(t) {
          (this.d = t), (this.a = !1);
        }
        get hasValue() {
          return this.a;
        }
        get value() {
          if (!this.a)
            try {
              this.b = this.d();
            } catch (t) {
              this.c = t;
            } finally {
              this.a = !0;
            }
          if (this.c) throw this.c;
          return this.b;
        }
        get rawValue() {
          return this.b;
        }
      };
    },
  });
function fP(t) {
  return !t || typeof t != 'string' ? !0 : t.trim().length === 0;
}
function Aa(t) {
  return t.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g, '\\$&');
}
function s5(t, e = ' ') {
  const i = r5(t, e);
  return Co(i, e);
}
function r5(t, e) {
  if (!t || !e) return t;
  const i = e.length;
  if (i === 0 || t.length === 0) return t;
  let s = 0;
  for (; t.indexOf(e, s) === s; ) s = s + i;
  return t.substring(s);
}
function Co(t, e) {
  if (!t || !e) return t;
  const i = e.length,
    s = t.length;
  if (i === 0 || s === 0) return t;
  let r = s,
    n = -1;
  for (; (n = t.lastIndexOf(e, r - 1)), !(n === -1 || n + i !== r); ) {
    if (n === 0) return '';
    r = n;
  }
  return t.substring(0, r);
}
function _0(t, e) {
  return t < e ? -1 : t > e ? 1 : 0;
}
function L0(t, e, i = 0, s = t.length, r = 0, n = e.length) {
  for (; i < s && r < n; i++, r++) {
    const c = t.charCodeAt(i),
      l = e.charCodeAt(r);
    if (c < l) return -1;
    if (c > l) return 1;
  }
  const o = s - i,
    a = n - r;
  return o < a ? -1 : o > a ? 1 : 0;
}
function T0(t, e) {
  return gl(t, e, 0, t.length, 0, e.length);
}
function gl(t, e, i = 0, s = t.length, r = 0, n = e.length) {
  for (; i < s && r < n; i++, r++) {
    let c = t.charCodeAt(i),
      l = e.charCodeAt(r);
    if (c === l) continue;
    if (c >= 128 || l >= 128) return L0(t.toLowerCase(), e.toLowerCase(), i, s, r, n);
    n5(c) && (c -= 32), n5(l) && (l -= 32);
    const h = c - l;
    if (h !== 0) return h;
  }
  const o = s - i,
    a = n - r;
  return o < a ? -1 : o > a ? 1 : 0;
}
function n5(t) {
  return t >= 97 && t <= 122;
}
function o5(t) {
  return t >= 65 && t <= 90;
}
function Ln(t, e) {
  return t.length === e.length && gl(t, e) === 0;
}
function ml(t, e) {
  const i = e.length;
  return e.length > t.length ? !1 : gl(t, e, 0, i) === 0;
}
function pP(t) {
  return 55296 <= t && t <= 56319;
}
function a5(t) {
  return 56320 <= t && t <= 57343;
}
function gP(t, e) {
  return ((t - 55296) << 10) + (e - 56320) + 65536;
}
function mP() {
  return JSON.parse(
    '[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]'
  );
}
var wP,
  c5,
  bP,
  l5,
  vP,
  yP,
  Wt = b({
    'out-build/vs/base/common/strings.js'() {
      'use strict';
      dP(),
        xa(),
        (wP = '\uFEFF'),
        (function (t) {
          (t[(t.Other = 0)] = 'Other'),
            (t[(t.Prepend = 1)] = 'Prepend'),
            (t[(t.CR = 2)] = 'CR'),
            (t[(t.LF = 3)] = 'LF'),
            (t[(t.Control = 4)] = 'Control'),
            (t[(t.Extend = 5)] = 'Extend'),
            (t[(t.Regional_Indicator = 6)] = 'Regional_Indicator'),
            (t[(t.SpacingMark = 7)] = 'SpacingMark'),
            (t[(t.L = 8)] = 'L'),
            (t[(t.V = 9)] = 'V'),
            (t[(t.T = 10)] = 'T'),
            (t[(t.LV = 11)] = 'LV'),
            (t[(t.LVT = 12)] = 'LVT'),
            (t[(t.ZWJ = 13)] = 'ZWJ'),
            (t[(t.Extended_Pictographic = 14)] = 'Extended_Pictographic');
        })(c5 || (c5 = {})),
        (bP = class Mh {
          static {
            this.c = null;
          }
          static getInstance() {
            return Mh.c || (Mh.c = new Mh()), Mh.c;
          }
          constructor() {
            this.d = mP();
          }
          getGraphemeBreakType(e) {
            if (e < 32) return e === 10 ? 3 : e === 13 ? 2 : 4;
            if (e < 127) return 0;
            const i = this.d,
              s = i.length / 3;
            let r = 1;
            for (; r <= s; )
              if (e < i[3 * r]) r = 2 * r;
              else if (e > i[3 * r + 1]) r = 2 * r + 1;
              else return i[3 * r + 2];
            return 0;
          }
        }),
        (function (t) {
          (t[(t.zwj = 8205)] = 'zwj'),
            (t[(t.emojiVariantSelector = 65039)] = 'emojiVariantSelector'),
            (t[(t.enclosingKeyCap = 8419)] = 'enclosingKeyCap'),
            (t[(t.space = 32)] = 'space');
        })(l5 || (l5 = {})),
        (vP = class Fh {
          static {
            this.c = new Jr(() =>
              JSON.parse(
                '{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,1523,96,8242,96,1370,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,118002,50,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,118003,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,118004,52,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,118005,53,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,118006,54,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,118007,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,118008,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,118009,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,117974,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,117975,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71913,67,71922,67,65315,67,8557,67,8450,67,8493,67,117976,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,117977,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,117978,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,117979,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,117980,71,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,117981,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,117983,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,117984,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,118001,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,117982,108,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,117985,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,117986,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,117987,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,118000,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,117988,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,117989,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,117990,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,117991,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,117992,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,117993,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,117994,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,117995,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71910,87,71919,87,117996,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,117997,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,117998,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,71909,90,66293,90,65338,90,8484,90,8488,90,117999,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65283,35,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,8218,44,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"cs":[65374,126,8218,44,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"es":[8211,45,65374,126,8218,44,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"fr":[65374,126,8218,44,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"it":[160,32,8211,45,65374,126,8218,44,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"ja":[8211,45,8218,44,65281,33,8216,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65292,44,65297,49,65307,59],"ko":[8211,45,65374,126,8218,44,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"pt-BR":[65374,126,8218,44,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,8218,44,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"ru":[65374,126,8218,44,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,8218,44,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41,65292,44,65297,49,65307,59,65311,63],"zh-hans":[160,32,65374,126,8218,44,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65297,49],"zh-hant":[8211,45,65374,126,8218,44,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89]}'
              )
            );
          }
          static {
            this.d = new i5({ getCacheKey: JSON.stringify }, (e) => {
              function i(h) {
                const d = new Map();
                for (let p = 0; p < h.length; p += 2) d.set(h[p], h[p + 1]);
                return d;
              }
              function s(h, d) {
                const p = new Map(h);
                for (const [m, w] of d) p.set(m, w);
                return p;
              }
              function r(h, d) {
                if (!h) return d;
                const p = new Map();
                for (const [m, w] of h) d.has(m) && p.set(m, w);
                return p;
              }
              const n = this.c.value;
              let o = e.filter((h) => !h.startsWith('_') && h in n);
              o.length === 0 && (o = ['_default']);
              let a;
              for (const h of o) {
                const d = i(n[h]);
                a = r(a, d);
              }
              const c = i(n._common),
                l = s(c, a);
              return new Fh(l);
            });
          }
          static getInstance(e) {
            return Fh.d.get(Array.from(e));
          }
          static {
            this.e = new Jr(() => Object.keys(Fh.c.value).filter((e) => !e.startsWith('_')));
          }
          static getLocales() {
            return Fh.e.value;
          }
          constructor(e) {
            this.f = e;
          }
          isAmbiguous(e) {
            return this.f.has(e);
          }
          containsAmbiguousCharacter(e) {
            for (let i = 0; i < e.length; i++) {
              const s = e.codePointAt(i);
              if (typeof s == 'number' && this.isAmbiguous(s)) return !0;
            }
            return !1;
          }
          getPrimaryConfusable(e) {
            return this.f.get(e);
          }
          getConfusableCodePoints() {
            return new Set(this.f.keys());
          }
        }),
        (yP = class Oh {
          static c() {
            return JSON.parse(
              '{"_common":[11,12,13,127,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999],"cs":[173,8203,12288],"de":[173,8203,12288],"es":[8203,12288],"fr":[173,8203,12288],"it":[160,173,12288],"ja":[173],"ko":[173,12288],"pl":[173,8203,12288],"pt-BR":[173,8203,12288],"qps-ploc":[160,173,8203,12288],"ru":[173,12288],"tr":[160,173,8203,12288],"zh-hans":[160,173,8203,12288],"zh-hant":[173,12288]}'
            );
          }
          static {
            this.d = void 0;
          }
          static e() {
            return this.d || (this.d = new Set([...Object.values(Oh.c())].flat())), this.d;
          }
          static isInvisibleCharacter(e) {
            return Oh.e().has(e);
          }
          static containsInvisibleCharacter(e) {
            for (let i = 0; i < e.length; i++) {
              const s = e.codePointAt(i);
              if (typeof s == 'number' && (Oh.isInvisibleCharacter(s) || s === 32)) return !0;
            }
            return !1;
          }
          static get codePoints() {
            return Oh.e();
          }
        });
    },
  });
function Tn(t) {
  return t === 47 || t === 92;
}
function Ia(t) {
  return t.replace(/[\\/]/g, Ce.sep);
}
function kP(t) {
  return t.indexOf('/') === -1 && (t = Ia(t)), /^[a-zA-Z]:(\/|$)/.test(t) && (t = '/' + t), t;
}
function u5(t, e = Ce.sep) {
  if (!t) return '';
  const i = t.length,
    s = t.charCodeAt(0);
  if (Tn(s)) {
    if (Tn(t.charCodeAt(1)) && !Tn(t.charCodeAt(2))) {
      let n = 3;
      const o = n;
      for (; n < i && !Tn(t.charCodeAt(n)); n++);
      if (o !== n && !Tn(t.charCodeAt(n + 1))) {
        for (n += 1; n < i; n++)
          if (Tn(t.charCodeAt(n))) return t.slice(0, n + 1).replace(/[\\/]/g, e);
      }
    }
    return e;
  } else if (M0(s) && t.charCodeAt(1) === 58)
    return Tn(t.charCodeAt(2)) ? t.slice(0, 2) + e : t.slice(0, 2);
  let r = t.indexOf('://');
  if (r !== -1) {
    for (r += 3; r < i; r++) if (Tn(t.charCodeAt(r))) return t.slice(0, r + 1);
  }
  return '';
}
function SP(t) {
  if (!J || !t || t.length < 5) return !1;
  let e = t.charCodeAt(0);
  if (e !== 92 || ((e = t.charCodeAt(1)), e !== 92)) return !1;
  let i = 2;
  const s = i;
  for (; i < t.length && ((e = t.charCodeAt(i)), e !== 92); i++);
  return !(s === i || ((e = t.charCodeAt(i + 1)), isNaN(e) || e === 92));
}
function EP(t, e = J) {
  const i = e ? p5 : g5;
  return !(
    !t ||
    t.length === 0 ||
    /^\s+$/.test(t) ||
    ((i.lastIndex = 0), i.test(t)) ||
    (e && m5.test(t)) ||
    t === '.' ||
    t === '..' ||
    (e && t[t.length - 1] === '.') ||
    (e && t.length !== t.trim().length) ||
    t.length > 255
  );
}
function wl(t, e, i) {
  const s = t === e;
  return !i || s ? s : !t || !e ? !1 : Ln(t, e);
}
function bl(t, e, i, s = yi) {
  if (t === e) return !0;
  if (!t || !e || e.length > t.length) return !1;
  if (i) {
    if (!ml(t, e)) return !1;
    if (e.length === t.length) return !0;
    let n = e.length;
    return e.charAt(e.length - 1) === s && n--, t.charAt(n) === s;
  }
  return e.charAt(e.length - 1) !== s && (e += s), t.indexOf(e) === 0;
}
function M0(t) {
  return (t >= 65 && t <= 90) || (t >= 97 && t <= 122);
}
function h5(t, e) {
  return J && t.endsWith(':') && (t += yi), Sa(t) || (t = M(e, t)), (t = _i(t)), d5(t);
}
function d5(t) {
  return J ? ((t = Co(t, yi)), t.endsWith(':') && (t += yi)) : ((t = Co(t, yi)), t || (t = yi)), t;
}
function CP(t) {
  const e = _i(t);
  return J
    ? t.length > 3
      ? !1
      : f5(e) && (t.length === 2 || e.charCodeAt(2) === 92)
    : e === Ce.sep;
}
function f5(t, e = J) {
  return e ? M0(t.charCodeAt(0)) && t.charCodeAt(1) === 58 : !1;
}
function gd(t) {
  const e = t.split(':');
  let i, s, r;
  for (const n of e) {
    const o = Number(n);
    Xh(o) ? (s === void 0 ? (s = o) : r === void 0 && (r = o)) : (i = i ? [i, n].join(':') : n);
  }
  if (!i) throw new Error('Format for `--goto` should be: `FILE:LINE(:COLUMN)`');
  return {
    path: i,
    line: s !== void 0 ? s : void 0,
    column: r !== void 0 ? r : s !== void 0 ? 1 : void 0,
  };
}
function vl(t, e, i = 8) {
  let s = '';
  for (let n = 0; n < i; n++) {
    let o;
    n === 0 && J && !e && (i === 3 || i === 4) ? (o = b5) : (o = w5),
      (s += o.charAt(Math.floor(Math.random() * o.length)));
  }
  let r;
  return e ? (r = `${e}-${s}`) : (r = s), t ? M(t, r) : r;
}
var p5,
  g5,
  m5,
  w5,
  b5,
  qi = b({
    'out-build/vs/base/common/extpath.js'() {
      'use strict';
      xe(),
        ie(),
        Wt(),
        $e(),
        (p5 = /[\\/:\*\?"<>\|]/g),
        (g5 = /[/]/g),
        (m5 = /^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i),
        (w5 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'),
        (b5 = 'BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789');
    },
  });
function DP(t, e) {
  return _.isUri(t) ? Ln(t.scheme, e) : ml(t, e + ':');
}
function xP(t, ...e) {
  return e.some((i) => DP(t, i));
}
function AP(t) {
  return `${t.quality ?? 'oss'}-${t.commit ?? 'dev'}`;
}
var N,
  v5,
  y5,
  F0,
  k5,
  yl,
  S5,
  Ht,
  E5,
  kl,
  Oe = b({
    'out-build/vs/base/common/network.js'() {
      'use strict';
      He(),
        ie(),
        Wt(),
        be(),
        xe(),
        (function (t) {
          (t.inMemory = 'inmemory'),
            (t.vscode = 'vscode'),
            (t.internal = 'private'),
            (t.walkThrough = 'walkThrough'),
            (t.walkThroughSnippet = 'walkThroughSnippet'),
            (t.http = 'http'),
            (t.https = 'https'),
            (t.file = 'file'),
            (t.mailto = 'mailto'),
            (t.untitled = 'untitled'),
            (t.data = 'data'),
            (t.command = 'command'),
            (t.vscodeRemote = 'vscode-remote'),
            (t.vscodeRemoteDownload = 'vscode-remote-download'),
            (t.vscodeRemoteResource = 'vscode-remote-resource'),
            (t.vscodeManagedRemoteResource = 'vscode-managed-remote-resource'),
            (t.vscodeUserData = 'vscode-userdata'),
            (t.vscodeCustomEditor = 'vscode-custom-editor'),
            (t.vscodeNotebookCell = 'vscode-notebook-cell'),
            (t.vscodeNotebookCellMetadata = 'vscode-notebook-cell-metadata'),
            (t.vscodeNotebookCellMetadataDiff = 'vscode-notebook-cell-metadata-diff'),
            (t.vscodeNotebookCellOutput = 'vscode-notebook-cell-output'),
            (t.vscodeNotebookCellOutputDiff = 'vscode-notebook-cell-output-diff'),
            (t.vscodeNotebookMetadata = 'vscode-notebook-metadata'),
            (t.vscodeInteractiveInput = 'vscode-interactive-input'),
            (t.vscodeSettings = 'vscode-settings'),
            (t.vscodeWorkspaceTrust = 'vscode-workspace-trust'),
            (t.vscodeTerminal = 'vscode-terminal'),
            (t.vscodeChatCodeBlock = 'vscode-chat-code-block'),
            (t.icubeChatCodeBlock = 'icube-chat-code-block'),
            (t.vscodeChatCodeCompareBlock = 'vscode-chat-code-compare-block'),
            (t.vscodeChatSesssion = 'vscode-chat-editor'),
            (t.vscodeComponent = 'vscode-component-editor'),
            (t.vscodeIcubeChatSession = 'vscode-icube-chat-editor'),
            (t.webviewPanel = 'webview-panel'),
            (t.vscodeWebview = 'vscode-webview'),
            (t.extension = 'extension'),
            (t.vscodeFileResource = 'vscode-file'),
            (t.tmp = 'tmp'),
            (t.vsls = 'vsls'),
            (t.vscodeSourceControl = 'vscode-scm'),
            (t.commentsInput = 'comment'),
            (t.codeSetting = 'code-setting'),
            (t.outputChannel = 'output'),
            (t.accessibleView = 'accessible-view');
        })(N || (N = {})),
        (v5 = 'tkn'),
        (y5 = class {
          constructor() {
            (this.a = Object.create(null)),
              (this.b = Object.create(null)),
              (this.c = Object.create(null)),
              (this.d = 'http'),
              (this.e = null),
              (this.f = '/');
          }
          setPreferredWebSchema(t) {
            this.d = t;
          }
          setDelegate(t) {
            this.e = t;
          }
          setServerRootPath(t, e) {
            this.f = Ce.join(e ?? '/', AP(t));
          }
          getServerRootPath() {
            return this.f;
          }
          get g() {
            return Ce.join(this.f, N.vscodeRemoteResource);
          }
          set(t, e, i) {
            (this.a[t] = e), (this.b[t] = i);
          }
          setConnectionToken(t, e) {
            this.c[t] = e;
          }
          getPreferredWebSchema() {
            return this.d;
          }
          rewrite(t) {
            if (this.e)
              try {
                return this.e(t);
              } catch (o) {
                return Xt(o), t;
              }
            const e = t.authority;
            let i = this.a[e];
            i && i.indexOf(':') !== -1 && i.indexOf('[') === -1 && (i = `[${i}]`);
            const s = this.b[e],
              r = this.c[e];
            let n = `path=${encodeURIComponent(t.path)}`;
            return (
              typeof r == 'string' && (n += `&${v5}=${encodeURIComponent(r)}`),
              _.from({
                scheme: xn ? this.d : N.vscodeRemoteResource,
                authority: `${i}:${s}`,
                path: this.g,
                query: n,
              })
            );
          }
        }),
        (F0 = new y5()),
        (k5 = 'vs/../../extensions'),
        (yl = 'vscode-app'),
        (S5 = class Dg {
          static {
            this.a = yl;
          }
          asBrowserUri(e) {
            const i = this.b(e);
            return this.uriToBrowserUri(i);
          }
          uriToBrowserUri(e) {
            return e.scheme === N.vscodeRemote
              ? F0.rewrite(e)
              : e.scheme === N.file && (o0 || q4 === `${N.vscodeFileResource}://${Dg.a}`)
              ? e.with({
                  scheme: N.vscodeFileResource,
                  authority: e.authority || Dg.a,
                  query: null,
                  fragment: null,
                })
              : e;
          }
          asFileUri(e) {
            const i = this.b(e);
            return this.uriToFileUri(i);
          }
          uriToFileUri(e) {
            return e.scheme === N.vscodeFileResource
              ? e.with({
                  scheme: N.file,
                  authority: e.authority !== Dg.a ? e.authority : null,
                  query: null,
                  fragment: null,
                })
              : e;
          }
          b(e, i) {
            if (_.isUri(e)) return e;
            if (globalThis._VSCODE_FILE_ROOT) {
              const s = globalThis._VSCODE_FILE_ROOT;
              if (/^\w[\w\d+.-]*:\/\//.test(s)) return _.joinPath(_.parse(s, !0), e);
              const r = M(s, e);
              return _.file(r);
            }
            return _.parse(i.toUrl(e));
          }
        }),
        (Ht = new S5()),
        (E5 = Object.freeze({ 'Cache-Control': 'no-cache, no-store' })),
        (function (t) {
          const e = new Map([
            ['1', { 'Cross-Origin-Opener-Policy': 'same-origin' }],
            ['2', { 'Cross-Origin-Embedder-Policy': 'require-corp' }],
            [
              '3',
              {
                'Cross-Origin-Opener-Policy': 'same-origin',
                'Cross-Origin-Embedder-Policy': 'require-corp',
              },
            ],
          ]);
          t.CoopAndCoep = Object.freeze(e.get('3'));
          const i = 'vscode-coi';
          function s(n) {
            let o;
            typeof n == 'string'
              ? (o = new URL(n).searchParams)
              : n instanceof URL
              ? (o = n.searchParams)
              : _.isUri(n) && (o = new URL(n.toString(!0)).searchParams);
            const a = o?.get(i);
            if (a) return e.get(a);
          }
          t.getHeadersFromQuery = s;
          function r(n, o, a) {
            if (!globalThis.crossOriginIsolated) return;
            const c = o && a ? '3' : a ? '2' : '1';
            n instanceof URLSearchParams ? n.set(i, c) : (n[i] = c);
          }
          t.addSearchParam = r;
        })(kl || (kl = {}));
    },
  });
function as(t) {
  return hd(t, !0);
}
var Sl,
  Re,
  yt,
  O0,
  R0,
  El,
  IP,
  $P,
  br,
  N0,
  md,
  we,
  B0,
  PP,
  _P,
  C5,
  Ki,
  U0,
  D5,
  LP,
  x5,
  lt = b({
    'out-build/vs/base/common/resources.js'() {
      'use strict';
      qi(),
        Oe(),
        xe(),
        ie(),
        Wt(),
        be(),
        (Sl = class {
          constructor(t) {
            this.a = t;
          }
          compare(t, e, i = !1) {
            return t === e ? 0 : _0(this.getComparisonKey(t, i), this.getComparisonKey(e, i));
          }
          isEqual(t, e, i = !1) {
            return t === e
              ? !0
              : !t || !e
              ? !1
              : this.getComparisonKey(t, i) === this.getComparisonKey(e, i);
          }
          getComparisonKey(t, e = !1) {
            return t
              .with({
                path: this.a(t) ? t.path.toLowerCase() : void 0,
                fragment: e ? null : void 0,
              })
              .toString();
          }
          ignorePathCasing(t) {
            return this.a(t);
          }
          isEqualOrParent(t, e, i = !1) {
            if (t.scheme === e.scheme) {
              if (t.scheme === N.file)
                return (
                  bl(as(t), as(e), this.a(t)) &&
                  t.query === e.query &&
                  (i || t.fragment === e.fragment)
                );
              if (Ki(t.authority, e.authority))
                return (
                  bl(t.path, e.path, this.a(t), '/') &&
                  t.query === e.query &&
                  (i || t.fragment === e.fragment)
                );
            }
            return !1;
          }
          joinPath(t, ...e) {
            return _.joinPath(t, ...e);
          }
          basenameOrAuthority(t) {
            return br(t) || t.authority;
          }
          basename(t) {
            return Ce.basename(t.path);
          }
          extname(t) {
            return Ce.extname(t.path);
          }
          dirname(t) {
            if (t.path.length === 0) return t;
            let e;
            return (
              t.scheme === N.file
                ? (e = _.file(vi(as(t))).path)
                : ((e = Ce.dirname(t.path)),
                  t.authority &&
                    e.length &&
                    e.charCodeAt(0) !== 47 &&
                    (console.error(`dirname("${t.toString})) resulted in a relative path`),
                    (e = '/'))),
              t.with({ path: e })
            );
          }
          normalizePath(t) {
            if (!t.path.length) return t;
            let e;
            return (
              t.scheme === N.file ? (e = _.file(_i(as(t))).path) : (e = Ce.normalize(t.path)),
              t.with({ path: e })
            );
          }
          relativePath(t, e) {
            if (t.scheme !== e.scheme || !Ki(t.authority, e.authority)) return;
            if (t.scheme === N.file) {
              const r = k0(as(t), as(e));
              return J ? Ia(r) : r;
            }
            let i = t.path || '/';
            const s = e.path || '/';
            if (this.a(t)) {
              let r = 0;
              for (
                const n = Math.min(i.length, s.length);
                r < n &&
                !(
                  i.charCodeAt(r) !== s.charCodeAt(r) &&
                  i.charAt(r).toLowerCase() !== s.charAt(r).toLowerCase()
                );
                r++
              );
              i = s.substr(0, r) + i.substr(r);
            }
            return Ce.relative(i, s);
          }
          resolvePath(t, e) {
            if (t.scheme === N.file) {
              const i = _.file(Gs(as(t), e));
              return t.with({ authority: i.authority, path: i.path });
            }
            return (e = kP(e)), t.with({ path: Ce.resolve(t.path, e) });
          }
          isAbsolutePath(t) {
            return !!t.path && t.path[0] === '/';
          }
          isEqualAuthority(t, e) {
            return t === e || (t !== void 0 && e !== void 0 && Ln(t, e));
          }
          hasTrailingPathSeparator(t, e = yi) {
            if (t.scheme === N.file) {
              const i = as(t);
              return i.length > u5(i).length && i[i.length - 1] === e;
            } else {
              const i = t.path;
              return (
                i.length > 1 &&
                i.charCodeAt(i.length - 1) === 47 &&
                !/^[a-zA-Z]:(\/$|\\$)/.test(t.fsPath)
              );
            }
          }
          removeTrailingPathSeparator(t, e = yi) {
            return U0(t, e) ? t.with({ path: t.path.substr(0, t.path.length - 1) }) : t;
          }
          addTrailingPathSeparator(t, e = yi) {
            let i = !1;
            if (t.scheme === N.file) {
              const s = as(t);
              i = s !== void 0 && s.length === u5(s).length && s[s.length - 1] === e;
            } else {
              e = '/';
              const s = t.path;
              i = s.length === 1 && s.charCodeAt(s.length - 1) === 47;
            }
            return !i && !U0(t, e) ? t.with({ path: t.path + '/' }) : t;
          }
        }),
        (Re = new Sl(() => !1)),
        (yt = new Sl((t) => (t.scheme === N.file ? !Fe : !0))),
        (O0 = new Sl((t) => !0)),
        (R0 = Re.isEqual.bind(Re)),
        (El = Re.isEqualOrParent.bind(Re)),
        (IP = Re.getComparisonKey.bind(Re)),
        ($P = Re.basenameOrAuthority.bind(Re)),
        (br = Re.basename.bind(Re)),
        (N0 = Re.extname.bind(Re)),
        (md = Re.dirname.bind(Re)),
        (we = Re.joinPath.bind(Re)),
        (B0 = Re.normalizePath.bind(Re)),
        (PP = Re.relativePath.bind(Re)),
        (_P = Re.resolvePath.bind(Re)),
        (C5 = Re.isAbsolutePath.bind(Re)),
        (Ki = Re.isEqualAuthority.bind(Re)),
        (U0 = Re.hasTrailingPathSeparator.bind(Re)),
        (D5 = Re.removeTrailingPathSeparator.bind(Re)),
        (LP = Re.addTrailingPathSeparator.bind(Re)),
        (function (t) {
          (t.META_DATA_LABEL = 'label'),
            (t.META_DATA_DESCRIPTION = 'description'),
            (t.META_DATA_SIZE = 'size'),
            (t.META_DATA_MIME = 'mime');
          function e(i) {
            const s = new Map();
            i.path
              .substring(i.path.indexOf(';') + 1, i.path.lastIndexOf(';'))
              .split(';')
              .forEach((o) => {
                const [a, c] = o.split(':');
                a && c && s.set(a, c);
              });
            const n = i.path.substring(0, i.path.indexOf(';'));
            return n && s.set(t.META_DATA_MIME, n), s;
          }
          t.parseMetaData = e;
        })(x5 || (x5 = {}));
    },
  }),
  A5,
  TP = b({
    'out-build/vs/base/common/symbols.js'() {
      'use strict';
      A5 = Symbol('MicrotaskDelay');
    },
  });
function j0(t) {
  return !!t && typeof t.then == 'function';
}
function $a(t) {
  const e = new Js(),
    i = t(e.token),
    s = new Promise((r, n) => {
      const o = e.token.onCancellationRequested(() => {
        o.dispose(), n(new Hi());
      });
      Promise.resolve(i).then(
        (a) => {
          o.dispose(), e.dispose(), r(a);
        },
        (a) => {
          o.dispose(), e.dispose(), n(a);
        }
      );
    });
  return new (class {
    cancel() {
      e.cancel(), e.dispose();
    }
    then(r, n) {
      return s.then(r, n);
    }
    catch(r) {
      return this.then(void 0, r);
    }
    finally(r) {
      return s.finally(r);
    }
  })();
}
function MP() {
  let t, e;
  return {
    promise: new Promise((s, r) => {
      (t = s), (e = r);
    }),
    resolve: t,
    reject: e,
  };
}
function Ji(t, e) {
  return e
    ? new Promise((i, s) => {
        const r = setTimeout(() => {
            n.dispose(), i();
          }, t),
          n = e.onCancellationRequested(() => {
            clearTimeout(r), n.dispose(), s(new Hi());
          });
      })
    : $a((i) => Ji(t, i));
}
function FP(t, e = 0, i) {
  const s = setTimeout(() => {
      t(), i && r.dispose();
    }, e),
    r = _e(() => {
      clearTimeout(s), i?.delete(r);
    });
  return i?.add(r), r;
}
function OP(t, e = (s) => !!s, i = null) {
  let s = 0;
  const r = t.length,
    n = () => {
      if (s >= r) return Promise.resolve(i);
      const o = t[s++];
      return Promise.resolve(o()).then((c) => (e(c) ? Promise.resolve(c) : n()));
    };
  return n();
}
async function RP(t, e, i) {
  let s;
  for (let r = 0; r < i; r++)
    try {
      return await t();
    } catch (n) {
      (s = n), await Ji(e);
    }
  throw s;
}
var W0,
  I5,
  $5,
  H0,
  Xr,
  Mn,
  P5,
  Pa,
  z0,
  As,
  _5,
  L5,
  V0,
  wd,
  T5,
  M5,
  F5,
  zt,
  ui,
  O5,
  NP,
  le = b({
    'out-build/vs/base/common/async.js'() {
      'use strict';
      jt(),
        He(),
        X(),
        U(),
        lt(),
        ie(),
        TP(),
        xa(),
        (W0 = class {
          constructor() {
            (this.f = !1), (this.a = null), (this.b = null), (this.d = null);
          }
          queue(t) {
            if (this.f) return Promise.reject(new Error('Throttler is disposed'));
            if (this.a) {
              if (((this.d = t), !this.b)) {
                const e = () => {
                  if (((this.b = null), this.f)) return;
                  const i = this.queue(this.d);
                  return (this.d = null), i;
                };
                this.b = new Promise((i) => {
                  this.a.then(e, e).then(i);
                });
              }
              return new Promise((e, i) => {
                this.b.then(e, i);
              });
            }
            return (
              (this.a = t()),
              new Promise((e, i) => {
                this.a.then(
                  (s) => {
                    (this.a = null), e(s);
                  },
                  (s) => {
                    (this.a = null), i(s);
                  }
                );
              })
            );
          }
          dispose() {
            this.f = !0;
          }
        }),
        (I5 = (t, e) => {
          let i = !0;
          const s = setTimeout(() => {
            (i = !1), e();
          }, t);
          return {
            isTriggered: () => i,
            dispose: () => {
              clearTimeout(s), (i = !1);
            },
          };
        }),
        ($5 = (t) => {
          let e = !0;
          return (
            queueMicrotask(() => {
              e && ((e = !1), t());
            }),
            {
              isTriggered: () => e,
              dispose: () => {
                e = !1;
              },
            }
          );
        }),
        (H0 = class {
          constructor(t) {
            (this.defaultDelay = t),
              (this.a = null),
              (this.b = null),
              (this.d = null),
              (this.f = null),
              (this.g = null);
          }
          trigger(t, e = this.defaultDelay) {
            (this.g = t),
              this.h(),
              this.b ||
                (this.b = new Promise((s, r) => {
                  (this.d = s), (this.f = r);
                }).then(() => {
                  if (((this.b = null), (this.d = null), this.g)) {
                    const s = this.g;
                    return (this.g = null), s();
                  }
                }));
            const i = () => {
              (this.a = null), this.d?.(null);
            };
            return (this.a = e === A5 ? $5(i) : I5(e, i)), this.b;
          }
          isTriggered() {
            return !!this.a?.isTriggered();
          }
          cancel() {
            this.h(), this.b && (this.f?.(new Hi()), (this.b = null));
          }
          h() {
            this.a?.dispose(), (this.a = null);
          }
          dispose() {
            this.cancel();
          }
        }),
        (Xr = class {
          constructor(t) {
            (this.a = new H0(t)), (this.b = new W0());
          }
          trigger(t, e) {
            return this.a.trigger(() => this.b.queue(t), e);
          }
          isTriggered() {
            return this.a.isTriggered();
          }
          cancel() {
            this.a.cancel();
          }
          dispose() {
            this.a.dispose(), this.b.dispose();
          }
        }),
        (Mn = class {
          constructor() {
            (this.a = !1),
              (this.b = new Promise((t, e) => {
                this.d = t;
              }));
          }
          isOpen() {
            return this.a;
          }
          open() {
            (this.a = !0), this.d(!0);
          }
          wait() {
            return this.b;
          }
        }),
        (P5 = class {
          constructor(t) {
            (this.a = 0),
              (this.b = !1),
              (this.f = t),
              (this.g = []),
              (this.d = 0),
              (this.h = new $());
          }
          whenIdle() {
            return this.size > 0 ? P.toPromise(this.onDrained) : Promise.resolve();
          }
          get onDrained() {
            return this.h.event;
          }
          get size() {
            return this.a;
          }
          queue(t) {
            if (this.b) throw new Error('Object has been disposed');
            return (
              this.a++,
              new Promise((e, i) => {
                this.g.push({ factory: t, c: e, e: i }), this.j();
              })
            );
          }
          j() {
            for (; this.g.length && this.d < this.f; ) {
              const t = this.g.shift();
              this.d++;
              const e = t.factory();
              e.then(t.c, t.e),
                e.then(
                  () => this.k(),
                  () => this.k()
                );
            }
          }
          k() {
            this.b || (this.d--, --this.a === 0 && this.h.fire(), this.g.length > 0 && this.j());
          }
          clear() {
            if (this.b) throw new Error('Object has been disposed');
            (this.g.length = 0), (this.a = this.d);
          }
          dispose() {
            (this.b = !0), (this.g.length = 0), (this.a = 0), this.h.dispose();
          }
        }),
        (Pa = class extends P5 {
          constructor() {
            super(1);
          }
        }),
        (z0 = class {
          constructor() {
            (this.a = new Map()), (this.b = new Set()), (this.d = void 0), (this.f = 0);
          }
          async whenDrained() {
            if (this.g()) return;
            const t = new zt();
            return this.b.add(t), t.p;
          }
          g() {
            for (const [, t] of this.a) if (t.size > 0) return !1;
            return !0;
          }
          queueSize(t, e = Re) {
            const i = e.getComparisonKey(t);
            return this.a.get(i)?.size ?? 0;
          }
          queueFor(t, e, i = Re) {
            const s = i.getComparisonKey(t);
            let r = this.a.get(s);
            if (!r) {
              r = new Pa();
              const n = this.f++,
                o = P.once(r.onDrained)(() => {
                  r?.dispose(),
                    this.a.delete(s),
                    this.h(),
                    this.d?.deleteAndDispose(n),
                    this.d?.size === 0 && (this.d.dispose(), (this.d = void 0));
                });
              this.d || (this.d = new f0()), this.d.set(n, o), this.a.set(s, r);
            }
            return r.queue(e);
          }
          h() {
            this.g() && this.j();
          }
          j() {
            for (const t of this.b) t.complete();
            this.b.clear();
          }
          dispose() {
            for (const [, t] of this.a) t.dispose();
            this.a.clear(), this.j(), this.d?.dispose();
          }
        }),
        (As = class {
          constructor(t, e) {
            (this.b = -1), (this.a = t), (this.d = e), (this.f = this.g.bind(this));
          }
          dispose() {
            this.cancel(), (this.a = null);
          }
          cancel() {
            this.isScheduled() && (clearTimeout(this.b), (this.b = -1));
          }
          schedule(t = this.d) {
            this.cancel(), (this.b = setTimeout(this.f, t));
          }
          get delay() {
            return this.d;
          }
          set delay(t) {
            this.d = t;
          }
          isScheduled() {
            return this.b !== -1;
          }
          flush() {
            this.isScheduled() && (this.cancel(), this.h());
          }
          g() {
            (this.b = -1), this.a && this.h();
          }
          h() {
            this.a?.();
          }
        }),
        (_5 = class extends As {
          constructor(t, e) {
            super(t, e), (this.j = []);
          }
          work(t) {
            this.j.push(t), this.isScheduled() || this.schedule();
          }
          h() {
            const t = this.j;
            (this.j = []), this.a?.(t);
          }
          dispose() {
            (this.j = []), super.dispose();
          }
        }),
        (L5 = class extends H {
          constructor(t, e) {
            super(),
              (this.h = t),
              (this.j = e),
              (this.a = []),
              (this.b = this.B(new ko())),
              (this.f = !1),
              (this.g = 0);
          }
          get pending() {
            return this.a.length;
          }
          work(t) {
            if (this.f) return !1;
            if (typeof this.h.maxBufferedWork == 'number') {
              if (this.b.value) {
                if (this.pending + t.length > this.h.maxBufferedWork) return !1;
              } else if (this.pending + t.length - this.h.maxWorkChunkSize > this.h.maxBufferedWork)
                return !1;
            }
            for (const i of t) this.a.push(i);
            const e = Date.now() - this.g;
            return (
              !this.b.value &&
              (!this.h.waitThrottleDelayBetweenWorkUnits || e >= this.h.throttleDelay)
                ? this.m()
                : !this.b.value &&
                  this.h.waitThrottleDelayBetweenWorkUnits &&
                  this.r(Math.max(this.h.throttleDelay - e, 0)),
              !0
            );
          }
          m() {
            (this.g = Date.now()),
              this.j(this.a.splice(0, this.h.maxWorkChunkSize)),
              this.a.length > 0 && this.r();
          }
          r(t = this.h.throttleDelay) {
            (this.b.value = new As(() => {
              this.b.clear(), this.m();
            }, t)),
              this.b.value.schedule();
          }
          dispose() {
            super.dispose(), (this.f = !0);
          }
        }),
        (function () {
          typeof globalThis.requestIdleCallback != 'function' ||
          typeof globalThis.cancelIdleCallback != 'function'
            ? (wd = (t, e, i) => {
                Q4(() => {
                  if (s) return;
                  const r = Date.now() + 15;
                  e(
                    Object.freeze({
                      didTimeout: !0,
                      timeRemaining() {
                        return Math.max(0, r - Date.now());
                      },
                    })
                  );
                });
                let s = !1;
                return {
                  dispose() {
                    s || (s = !0);
                  },
                };
              })
            : (wd = (t, e, i) => {
                const s = t.requestIdleCallback(e, typeof i == 'number' ? { timeout: i } : void 0);
                let r = !1;
                return {
                  dispose() {
                    r || ((r = !0), t.cancelIdleCallback(s));
                  },
                };
              }),
            (V0 = (t, e) => wd(globalThis, t, e));
        })(),
        (T5 = class {
          constructor(t, e) {
            (this.g = !1),
              (this.d = () => {
                try {
                  this.j = e();
                } catch (i) {
                  this.l = i;
                } finally {
                  this.g = !0;
                }
              }),
              (this.f = wd(t, () => this.d()));
          }
          dispose() {
            this.f.dispose();
          }
          get value() {
            if ((this.g || (this.f.dispose(), this.d()), this.l)) throw this.l;
            return this.j;
          }
          get isInitialized() {
            return this.g;
          }
        }),
        (M5 = class extends T5 {
          constructor(t) {
            super(globalThis, t);
          }
        }),
        (function (t) {
          (t[(t.Resolved = 0)] = 'Resolved'), (t[(t.Rejected = 1)] = 'Rejected');
        })(F5 || (F5 = {})),
        (zt = class {
          get isRejected() {
            return this.d?.outcome === 1;
          }
          get isResolved() {
            return this.d?.outcome === 0;
          }
          get isSettled() {
            return !!this.d;
          }
          get value() {
            return this.d?.outcome === 0 ? this.d?.value : void 0;
          }
          constructor() {
            this.p = new Promise((t, e) => {
              (this.a = t), (this.b = e);
            });
          }
          complete(t) {
            return new Promise((e) => {
              this.a(t), (this.d = { outcome: 0, value: t }), e();
            });
          }
          error(t) {
            return new Promise((e) => {
              this.b(t), (this.d = { outcome: 1, value: t }), e();
            });
          }
          cancel() {
            return this.error(new Hi());
          }
        }),
        (function (t) {
          async function e(s) {
            let r;
            const n = await Promise.all(
              s.map((o) =>
                o.then(
                  (a) => a,
                  (a) => {
                    r || (r = a);
                  }
                )
              )
            );
            if (typeof r < 'u') throw r;
            return n;
          }
          t.settled = e;
          function i(s) {
            return new Promise(async (r, n) => {
              try {
                await s(r, n);
              } catch (o) {
                n(o);
              }
            });
          }
          t.withAsyncBody = i;
        })(ui || (ui = {})),
        (function (t) {
          (t[(t.Initial = 0)] = 'Initial'),
            (t[(t.DoneOK = 1)] = 'DoneOK'),
            (t[(t.DoneError = 2)] = 'DoneError');
        })(O5 || (O5 = {})),
        (NP = class Ss {
          static fromArray(e) {
            return new Ss((i) => {
              i.emitMany(e);
            });
          }
          static fromPromise(e) {
            return new Ss(async (i) => {
              i.emitMany(await e);
            });
          }
          static fromPromisesResolveOrder(e) {
            return new Ss(async (i) => {
              await Promise.all(e.map(async (s) => i.emitOne(await s)));
            });
          }
          static merge(e) {
            return new Ss(async (i) => {
              await Promise.all(
                e.map(async (s) => {
                  for await (const r of s) i.emitOne(r);
                })
              );
            });
          }
          static {
            this.EMPTY = Ss.fromArray([]);
          }
          constructor(e, i) {
            (this.a = 0),
              (this.b = []),
              (this.d = null),
              (this.f = i),
              (this.g = new $()),
              queueMicrotask(async () => {
                const s = {
                  emitOne: (r) => this.h(r),
                  emitMany: (r) => this.j(r),
                  reject: (r) => this.l(r),
                };
                try {
                  await Promise.resolve(e(s)), this.k();
                } catch (r) {
                  this.l(r);
                } finally {
                  (s.emitOne = void 0), (s.emitMany = void 0), (s.reject = void 0);
                }
              });
          }
          [Symbol.asyncIterator]() {
            let e = 0;
            return {
              next: async () => {
                do {
                  if (this.a === 2) throw this.d;
                  if (e < this.b.length) return { done: !1, value: this.b[e++] };
                  if (this.a === 1) return { done: !0, value: void 0 };
                  await P.toPromise(this.g.event);
                } while (!0);
              },
              return: async () => (this.f?.(), { done: !0, value: void 0 }),
            };
          }
          static map(e, i) {
            return new Ss(async (s) => {
              for await (const r of e) s.emitOne(i(r));
            });
          }
          map(e) {
            return Ss.map(this, e);
          }
          static filter(e, i) {
            return new Ss(async (s) => {
              for await (const r of e) i(r) && s.emitOne(r);
            });
          }
          filter(e) {
            return Ss.filter(this, e);
          }
          static coalesce(e) {
            return Ss.filter(e, (i) => !!i);
          }
          coalesce() {
            return Ss.coalesce(this);
          }
          static async toPromise(e) {
            const i = [];
            for await (const s of e) i.push(s);
            return i;
          }
          toPromise() {
            return Ss.toPromise(this);
          }
          h(e) {
            this.a === 0 && (this.b.push(e), this.g.fire());
          }
          j(e) {
            this.a === 0 && ((this.b = this.b.concat(e)), this.g.fire());
          }
          k() {
            this.a === 0 && ((this.a = 1), this.g.fire());
          }
          l(e) {
            this.a === 0 && ((this.a = 2), (this.d = e), this.g.fire());
          }
        });
    },
  });
function G0(t, e) {
  return e && (t.stack || t.stacktrace)
    ? u(114, null, N5(t), R5(t.stack) || R5(t.stacktrace))
    : N5(t);
}
function R5(t) {
  return Array.isArray(t)
    ? t.join(`
`)
    : t;
}
function N5(t) {
  return t.code === 'ERR_UNC_HOST_NOT_ALLOWED'
    ? `${t.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`
    : typeof t.code == 'string' && typeof t.errno == 'number' && typeof t.syscall == 'string'
    ? u(115, null, t.message)
    : t.message || u(116, null);
}
function ki(t = null, e = !1) {
  if (!t) return u(117, null);
  if (Array.isArray(t)) {
    const i = Yt(t),
      s = ki(i[0], e);
    return i.length > 1 ? u(118, null, s, i.length) : s;
  }
  if (ot(t)) return t;
  if (t.detail) {
    const i = t.detail;
    if (i.error) return G0(i.error, e);
    if (i.exception) return G0(i.exception, e);
  }
  return t.stack ? G0(t, e) : t.message ? t.message : u(119, null);
}
var Fn = b({
  'out-build/vs/base/common/errorMessage.js'() {
    'use strict';
    ni(), $e(), he();
  },
});
function _a(t, e) {
  const { os: i, tildify: s, relative: r } = e;
  if (r) {
    const a = BP(t, r, i);
    if (typeof a == 'string') return a;
  }
  let n = t.fsPath;
  if (
    (i === 1 && !J ? (n = n.replace(/\//g, '\\')) : i !== 1 && J && (n = n.replace(/\\/g, '/')),
    i !== 1 && s?.userHome)
  ) {
    const a = s.userHome.fsPath;
    let c;
    t.scheme !== s.userHome.scheme && t.path[0] === Ce.sep && t.path[1] !== Ce.sep
      ? (c = s.userHome.with({ path: t.path }).fsPath)
      : (c = n),
      (n = UP(c, a, i));
  }
  return (i === 1 ? wt : Ce).normalize(q0(n, i === 1));
}
function BP(t, e, i) {
  const s = i === 1 ? wt : Ce,
    r = i === 3 ? Re : O0,
    n = e.getWorkspace(),
    o = n.folders.at(0);
  if (!o) return;
  t.scheme !== o.uri.scheme &&
    t.path[0] === Ce.sep &&
    t.path[1] !== Ce.sep &&
    (t = o.uri.with({ path: t.path }));
  const a = e.getWorkspaceFolder(t);
  if (!a) return;
  let c;
  if (
    (r.isEqual(a.uri, t) ? (c = '') : (c = r.relativePath(a.uri, t) ?? ''),
    c && (c = s.normalize(c)),
    n.folders.length > 1 && !e.noPrefix)
  ) {
    const l = a.name ? a.name : r.basenameOrAuthority(a.uri);
    c = c ? `${l} \u2022 ${c}` : l;
  }
  return c;
}
function q0(t, e = J) {
  return f5(t, e) ? t.charAt(0).toUpperCase() + t.slice(1) : t;
}
function UP(t, e, i = ws) {
  if (i === 1 || !t || !e) return t;
  let s = bd.original === e ? bd.normalized : void 0;
  s ||
    ((s = e),
    J && (s = Ia(s)),
    (s = `${Co(s, Ce.sep)}${Ce.sep}`),
    (bd = { original: e, normalized: s }));
  let r = t;
  return J && (r = Ia(r)), (i === 3 ? r.startsWith(s) : ml(r, s)) ? `~/${r.substr(s.length)}` : t;
}
function jP(t, e) {
  return Q || e
    ? t.replace(/\(&&\w\)|&&/g, '').replace(/&/g, Q ? '&' : '&&')
    : t.replace(/&&|&/g, (i) => (i === '&' ? '&&' : '&'));
}
function B5(t, e) {
  const i = t.replace(/\(&&\w\)|&&/g, '');
  if (e) return i;
  if (Q) return { withMnemonic: i, withoutMnemonic: i };
  let s;
  return (
    J ? (s = t.replace(/&&|&/g, (r) => (r === '&' ? '&&' : '&'))) : (s = t.replace(/&&/g, '_')),
    { withMnemonic: s, withoutMnemonic: i }
  );
}
function U5(t) {
  if (t.endsWith(']')) {
    const e = t.lastIndexOf(' [', t.length - 2);
    if (e !== -1) {
      const i = j5(t.substring(0, e)),
        s = t.substring(e);
      return { name: i.name + s, parentPath: i.parentPath };
    }
  }
  return j5(t);
}
function j5(t) {
  const e = t.indexOf('/') !== -1 ? Ce : wt,
    i = e.basename(t),
    s = e.dirname(t);
  return i.length ? { name: i, parentPath: s } : { name: s, parentPath: '' };
}
var bd,
  W5,
  Yr = b({
    'out-build/vs/base/common/labels.js'() {
      'use strict';
      qi(),
        xe(),
        ie(),
        lt(),
        Wt(),
        (bd = Object.create(null)),
        (function (t) {
          (t[(t.TEXT = 0)] = 'TEXT'),
            (t[(t.VARIABLE = 1)] = 'VARIABLE'),
            (t[(t.SEPARATOR = 2)] = 'SEPARATOR');
        })(W5 || (W5 = {}));
    },
  });
function La(t) {
  return WP(t, 'NFC', H5);
}
function WP(t, e, i) {
  if (!t) return t;
  const s = i.get(t);
  if (s) return s;
  let r;
  return z5.test(t) ? (r = t.normalize(e)) : (r = t), i.set(t, r), r;
}
var H5,
  HP,
  z5,
  vd = b({
    'out-build/vs/base/common/normalization.js'() {
      'use strict';
      Pi(), (H5 = new ka(1e4)), (HP = new ka(1e4)), (z5 = /[^\u0000-\u0080]/);
    },
  });
import * as it from 'fs';
import { tmpdir as zP } from 'os';
import { promisify as Cl } from 'util';
async function V5(t, e = Do.UNLINK, i) {
  if (CP(t)) throw new Error('rimraf - will refuse to recursively delete root');
  return e === Do.UNLINK ? K0(t) : VP(t, i);
}
async function VP(t, e = vl(zP())) {
  try {
    try {
      await it.promises.rename(t, e);
    } catch (i) {
      return i.code === 'ENOENT' ? void 0 : K0(t);
    }
    K0(e).catch((i) => {});
  } catch (i) {
    if (i.code !== 'ENOENT') throw i;
  }
}
async function K0(t) {
  return it.promises.rm(t, { recursive: !0, force: !0, maxRetries: 3 });
}
async function yd(t, e) {
  return qP(await (e ? GP(t) : it.promises.readdir(t)));
}
async function GP(t) {
  try {
    return await it.promises.readdir(t, { withFileTypes: !0 });
  } catch (s) {
    console.warn('[node.js fs] readdir with filetypes failed with error: ', s);
  }
  const e = [],
    i = await yd(t);
  for (const s of i) {
    let r = !1,
      n = !1,
      o = !1;
    try {
      const a = await it.promises.lstat(M(t, s));
      (r = a.isFile()), (n = a.isDirectory()), (o = a.isSymbolicLink());
    } catch (a) {
      console.warn('[node.js fs] unexpected error from lstat after readdir: ', a);
    }
    e.push({ name: s, isFile: () => r, isDirectory: () => n, isSymbolicLink: () => o });
  }
  return e;
}
function qP(t) {
  return t.map((e) =>
    typeof e == 'string' ? (Q ? La(e) : e) : ((e.name = Q ? La(e.name) : e.name), e)
  );
}
async function KP(t) {
  const e = await yd(t),
    i = [];
  for (const s of e) (await Si.existsDirectory(M(t, s))) && i.push(s);
  return i;
}
function JP(t, e = 1e3) {
  return new Promise((i) => {
    let s = !1;
    const r = setInterval(() => {
      s ||
        ((s = !0),
        it.access(t, (n) => {
          (s = !1), n && (clearInterval(r), i(void 0));
        }));
    }, e);
  });
}
function XP(t, e, i) {
  return J5.queueFor(
    _.file(t),
    () => {
      const s = ZP(i);
      return new Promise((r, n) => QP(t, e, s, (o) => (o ? n(o) : r())));
    },
    yt
  );
}
function YP(t) {
  J0 = t;
}
function QP(t, e, i, s) {
  if (!J0) return it.writeFile(t, e, { mode: i.mode, flag: i.flag }, s);
  it.open(t, i.flag, i.mode, (r, n) => {
    if (r) return s(r);
    it.writeFile(n, e, (o) => {
      if (o) return it.close(n, () => s(o));
      it.fdatasync(
        n,
        (a) => (
          a &&
            (console.warn(
              '[node.js fs] fdatasync is now disabled for this session because it failed: ',
              a
            ),
            YP(!1)),
          it.close(n, (c) => s(c))
        )
      );
    });
  });
}
function ZP(t) {
  return t
    ? {
        mode: typeof t.mode == 'number' ? t.mode : 438,
        flag: typeof t.flag == 'string' ? t.flag : 'w',
      }
    : { mode: 438, flag: 'w' };
}
async function e_(t, e, i = 6e4) {
  if (t !== e)
    try {
      J && typeof i == 'number' ? await G5(t, e, Date.now(), i) : await it.promises.rename(t, e);
    } catch (s) {
      if ((t.toLowerCase() !== e.toLowerCase() && s.code === 'EXDEV') || t.endsWith('.'))
        await q5(t, e, { preserveSymlinks: !1 }), await V5(t, Do.MOVE);
      else throw s;
    }
}
async function G5(t, e, i, s, r = 0) {
  try {
    return await it.promises.rename(t, e);
  } catch (n) {
    if (n.code !== 'EACCES' && n.code !== 'EPERM' && n.code !== 'EBUSY') throw n;
    if (Date.now() - i >= s)
      throw (console.error(`[node.js fs] rename failed after ${r} retries with error: ${n}`), n);
    if (r === 0) {
      let o = !1;
      try {
        const { stat: a } = await Si.stat(e);
        a.isFile() || (o = !0);
      } catch {}
      if (o) throw n;
    }
    return await Ji(Math.min(100, r * 10)), G5(t, e, i, s, r + 1);
  }
}
async function q5(t, e, i) {
  return K5(t, e, { root: { source: t, target: e }, options: i, handledSourcePaths: new Set() });
}
async function K5(t, e, i) {
  if (i.handledSourcePaths.has(t)) return;
  i.handledSourcePaths.add(t);
  const { stat: s, symbolicLink: r } = await Si.stat(t);
  if (r) {
    if (i.options.preserveSymlinks)
      try {
        return await s_(t, e, i);
      } catch {}
    if (r.dangling) return;
  }
  return s.isDirectory() ? t_(t, e, s.mode & X0, i) : i_(t, e, s.mode & X0);
}
async function t_(t, e, i, s) {
  await it.promises.mkdir(e, { recursive: !0, mode: i });
  const r = await yd(t);
  for (const n of r) await K5(M(t, n), M(e, n), s);
}
async function i_(t, e, i) {
  await it.promises.copyFile(t, e), await it.promises.chmod(e, i);
}
async function s_(t, e, i) {
  let s = await it.promises.readlink(t);
  bl(s, i.root.source, !Fe) && (s = M(i.root.target, s.substr(i.root.source.length + 1))),
    await it.promises.symlink(s, e);
}
var Do,
  Si,
  J5,
  J0,
  X0,
  ge,
  Zt = b({
    'out-build/vs/base/node/pfs.js'() {
      'use strict';
      le(),
        qi(),
        vd(),
        xe(),
        ie(),
        lt(),
        be(),
        (function (t) {
          (t[(t.UNLINK = 0)] = 'UNLINK'), (t[(t.MOVE = 1)] = 'MOVE');
        })(Do || (Do = {})),
        (function (t) {
          async function e(r) {
            let n;
            try {
              if (((n = await it.promises.lstat(r)), !n.isSymbolicLink())) return { stat: n };
            } catch {}
            try {
              return {
                stat: await it.promises.stat(r),
                symbolicLink: n?.isSymbolicLink() ? { dangling: !1 } : void 0,
              };
            } catch (o) {
              if (o.code === 'ENOENT' && n) return { stat: n, symbolicLink: { dangling: !0 } };
              if (J && o.code === 'EACCES')
                try {
                  return {
                    stat: await it.promises.stat(await it.promises.readlink(r)),
                    symbolicLink: { dangling: !1 },
                  };
                } catch (a) {
                  if (a.code === 'ENOENT' && n) return { stat: n, symbolicLink: { dangling: !0 } };
                  throw a;
                }
              throw o;
            }
          }
          t.stat = e;
          async function i(r) {
            try {
              const { stat: n, symbolicLink: o } = await t.stat(r);
              return n.isFile() && o?.dangling !== !0;
            } catch {}
            return !1;
          }
          t.existsFile = i;
          async function s(r) {
            try {
              const { stat: n, symbolicLink: o } = await t.stat(r);
              return n.isDirectory() && o?.dangling !== !0;
            } catch {}
            return !1;
          }
          t.existsDirectory = s;
        })(Si || (Si = {})),
        (J5 = new z0()),
        (J0 = !0),
        (X0 = 511),
        (ge = new (class {
          get read() {
            return (t, e, i, s, r) =>
              new Promise((n, o) => {
                it.read(t, e, i, s, r, (a, c, l) => (a ? o(a) : n({ bytesRead: c, buffer: l })));
              });
          }
          get write() {
            return (t, e, i, s, r) =>
              new Promise((n, o) => {
                it.write(t, e, i, s, r, (a, c, l) =>
                  a ? o(a) : n({ bytesWritten: c, buffer: l })
                );
              });
          }
          get fdatasync() {
            return Cl(it.fdatasync);
          }
          get open() {
            return Cl(it.open);
          }
          get close() {
            return Cl(it.close);
          }
          get realpath() {
            return Cl(it.realpath);
          }
          get ftruncate() {
            return Cl(it.ftruncate);
          }
          async exists(t) {
            try {
              return await it.promises.access(t), !0;
            } catch {
              return !1;
            }
          }
          get readdir() {
            return yd;
          }
          get readDirsInDir() {
            return KP;
          }
          get writeFile() {
            return XP;
          }
          get rm() {
            return V5;
          }
          get rename() {
            return e_;
          }
          get copy() {
            return q5;
          }
        })());
    },
  });
function kd(t) {
  const e = t;
  return e ? [e.on, e.pause, e.resume, e.destroy].every((i) => typeof i == 'function') : !1;
}
function Y0(t) {
  const e = t;
  return e ? kd(e.stream) && Array.isArray(e.buffer) && typeof e.ended == 'boolean' : !1;
}
function Sd(t, e) {
  return new Q5(t, e);
}
function r_(t, e) {
  const i = [];
  let s;
  for (; (s = t.read()) !== null; ) i.push(s);
  return e(i);
}
function n_(t, e, i) {
  const s = [];
  let r;
  for (; (r = t.read()) !== null && s.length < i; ) s.push(r);
  return r === null && s.length > 0
    ? e(s)
    : {
        read: () => {
          if (s.length > 0) return s.shift();
          if (typeof r < 'u') {
            const n = r;
            return (r = void 0), n;
          }
          return t.read();
        },
      };
}
function X5(t, e) {
  return new Promise((i, s) => {
    const r = [];
    Ed(t, {
      onData: (n) => {
        e && r.push(n);
      },
      onError: (n) => {
        e ? s(n) : i(void 0);
      },
      onEnd: () => {
        i(e ? e(r) : void 0);
      },
    });
  });
}
function Ed(t, e, i) {
  t.on('error', (s) => {
    i?.isCancellationRequested || e.onError(s);
  }),
    t.on('end', () => {
      i?.isCancellationRequested || e.onEnd();
    }),
    t.on('data', (s) => {
      i?.isCancellationRequested || e.onData(s);
    });
}
function o_(t, e) {
  return new Promise((i, s) => {
    const r = new je(),
      n = [],
      o = (l) => {
        if ((n.push(l), n.length > e))
          return r.dispose(), t.pause(), i({ stream: t, buffer: n, ended: !1 });
      },
      a = (l) => (r.dispose(), s(l)),
      c = () => (r.dispose(), i({ stream: t, buffer: n, ended: !0 }));
    r.add(_e(() => t.removeListener('error', a))),
      t.on('error', a),
      r.add(_e(() => t.removeListener('end', c))),
      t.on('end', c),
      r.add(_e(() => t.removeListener('data', o))),
      t.on('data', o);
  });
}
function a_(t) {
  let e = !1;
  return { read: () => (e ? null : ((e = !0), t)) };
}
function Y5(t, e, i) {
  const s = Sd(i);
  return (
    Ed(t, {
      onData: (r) => s.write(e.data(r)),
      onError: (r) => s.error(e.error ? e.error(r) : r),
      onEnd: () => s.end(),
    }),
    s
  );
}
var Q5,
  Dl = b({
    'out-build/vs/base/common/stream.js'() {
      'use strict';
      He(),
        U(),
        (Q5 = class {
          constructor(t, e) {
            (this.e = t),
              (this.f = e),
              (this.a = { flowing: !1, ended: !1, destroyed: !1 }),
              (this.b = { data: [], error: [] }),
              (this.c = { data: [], error: [], end: [] }),
              (this.d = []);
          }
          pause() {
            this.a.destroyed || (this.a.flowing = !1);
          }
          resume() {
            this.a.destroyed ||
              this.a.flowing ||
              ((this.a.flowing = !0), this.j(), this.k(), this.l());
          }
          write(t) {
            if (!this.a.destroyed) {
              if (this.a.flowing) this.g(t);
              else if (
                (this.b.data.push(t),
                typeof this.f?.highWaterMark == 'number' &&
                  this.b.data.length > this.f.highWaterMark)
              )
                return new Promise((e) => this.d.push(e));
            }
          }
          error(t) {
            this.a.destroyed || (this.a.flowing ? this.h(t) : this.b.error.push(t));
          }
          end(t) {
            this.a.destroyed ||
              (typeof t < 'u' && this.write(t),
              this.a.flowing ? (this.i(), this.destroy()) : (this.a.ended = !0));
          }
          g(t) {
            this.c.data.slice(0).forEach((e) => e(t));
          }
          h(t) {
            this.c.error.length === 0 ? Xt(t) : this.c.error.slice(0).forEach((e) => e(t));
          }
          i() {
            this.c.end.slice(0).forEach((t) => t());
          }
          on(t, e) {
            if (!this.a.destroyed)
              switch (t) {
                case 'data':
                  this.c.data.push(e), this.resume();
                  break;
                case 'end':
                  this.c.end.push(e), this.a.flowing && this.l() && this.destroy();
                  break;
                case 'error':
                  this.c.error.push(e), this.a.flowing && this.k();
                  break;
              }
          }
          removeListener(t, e) {
            if (this.a.destroyed) return;
            let i;
            switch (t) {
              case 'data':
                i = this.c.data;
                break;
              case 'end':
                i = this.c.end;
                break;
              case 'error':
                i = this.c.error;
                break;
            }
            if (i) {
              const s = i.indexOf(e);
              s >= 0 && i.splice(s, 1);
            }
          }
          j() {
            if (this.b.data.length === 0) return;
            if (typeof this.e == 'function') {
              const e = this.e(this.b.data);
              this.g(e);
            } else for (const e of this.b.data) this.g(e);
            this.b.data.length = 0;
            const t = [...this.d];
            (this.d.length = 0), t.forEach((e) => e());
          }
          k() {
            if (this.c.error.length > 0) {
              for (const t of this.b.error) this.h(t);
              this.b.error.length = 0;
            }
          }
          l() {
            return this.a.ended ? (this.i(), this.c.end.length > 0) : !1;
          }
          destroy() {
            this.a.destroyed ||
              ((this.a.destroyed = !0),
              (this.a.ended = !0),
              (this.b.data.length = 0),
              (this.b.error.length = 0),
              (this.c.data.length = 0),
              (this.c.error.length = 0),
              (this.c.end.length = 0),
              (this.d.length = 0));
          }
        });
    },
  });
function c_(t, e, i = 0) {
  const s = e.byteLength,
    r = t.byteLength;
  if (s === 0) return 0;
  if (s === 1) return t.indexOf(e[0]);
  if (s > r - i) return -1;
  const n = Z5.value;
  n.fill(e.length);
  for (let l = 0; l < e.length; l++) n[e[l]] = e.length - l - 1;
  let o = i + e.length - 1,
    a = o,
    c = -1;
  for (; o < r; )
    if (t[o] === e[a]) {
      if (a === 0) {
        c = o;
        break;
      }
      o--, a--;
    } else (o += Math.max(e.length - a, n[t[o]])), (a = e.length - 1);
  return c;
}
function l_(t, e) {
  return t[e] * 2 ** 24 + t[e + 1] * 2 ** 16 + t[e + 2] * 2 ** 8 + t[e + 3];
}
function u_(t, e, i) {
  (t[i + 3] = e),
    (e = e >>> 8),
    (t[i + 2] = e),
    (e = e >>> 8),
    (t[i + 1] = e),
    (e = e >>> 8),
    (t[i] = e);
}
function h_(t, e) {
  return (
    ((t[e + 0] << 0) >>> 0) |
    ((t[e + 1] << 8) >>> 0) |
    ((t[e + 2] << 16) >>> 0) |
    ((t[e + 3] << 24) >>> 0)
  );
}
function d_(t, e, i) {
  (t[i + 0] = e & 255),
    (e = e >>> 8),
    (t[i + 1] = e & 255),
    (e = e >>> 8),
    (t[i + 2] = e & 255),
    (e = e >>> 8),
    (t[i + 3] = e & 255);
}
function f_(t, e) {
  return t[e];
}
function p_(t, e, i) {
  t[i] = e;
}
function g_(t) {
  return r_(t, (e) => re.concat(e));
}
function m_(t) {
  return a_(t);
}
function xl(t) {
  return X5(t, (e) => re.concat(e));
}
async function w_(t) {
  return t.ended ? re.concat(t.buffer) : re.concat([...t.buffer, await xl(t.stream)]);
}
function b_(t) {
  return Y5(t, { data: (e) => (typeof e == 'string' ? re.fromString(e) : re.wrap(e)) }, (e) =>
    re.concat(e)
  );
}
function v_(t) {
  return Sd((e) => re.concat(e), t);
}
var Al,
  Z5,
  Q0,
  Z0,
  re,
  bt = b({
    'out-build/vs/base/common/buffer.js'() {
      'use strict';
      xa(),
        Dl(),
        (Al = typeof Buffer < 'u'),
        (Z5 = new Jr(() => new Uint8Array(256))),
        (re = class Bs {
          static alloc(e) {
            return Al ? new Bs(Buffer.allocUnsafe(e)) : new Bs(new Uint8Array(e));
          }
          static wrap(e) {
            return (
              Al && !Buffer.isBuffer(e) && (e = Buffer.from(e.buffer, e.byteOffset, e.byteLength)),
              new Bs(e)
            );
          }
          static fromString(e, i) {
            return !(i?.dontUseNodeBuffer || !1) && Al
              ? new Bs(Buffer.from(e))
              : (Q0 || (Q0 = new TextEncoder()), new Bs(Q0.encode(e)));
          }
          static fromByteArray(e) {
            const i = Bs.alloc(e.length);
            for (let s = 0, r = e.length; s < r; s++) i.buffer[s] = e[s];
            return i;
          }
          static concat(e, i) {
            if (typeof i > 'u') {
              i = 0;
              for (let n = 0, o = e.length; n < o; n++) i += e[n].byteLength;
            }
            const s = Bs.alloc(i);
            let r = 0;
            for (let n = 0, o = e.length; n < o; n++) {
              const a = e[n];
              s.set(a, r), (r += a.byteLength);
            }
            return s;
          }
          constructor(e) {
            (this.buffer = e), (this.byteLength = this.buffer.byteLength);
          }
          clone() {
            const e = Bs.alloc(this.byteLength);
            return e.set(this), e;
          }
          toString() {
            return Al
              ? this.buffer.toString()
              : (Z0 || (Z0 = new TextDecoder()), Z0.decode(this.buffer));
          }
          slice(e, i) {
            return new Bs(this.buffer.subarray(e, i));
          }
          set(e, i) {
            if (e instanceof Bs) this.buffer.set(e.buffer, i);
            else if (e instanceof Uint8Array) this.buffer.set(e, i);
            else if (e instanceof ArrayBuffer) this.buffer.set(new Uint8Array(e), i);
            else if (ArrayBuffer.isView(e))
              this.buffer.set(new Uint8Array(e.buffer, e.byteOffset, e.byteLength), i);
            else throw new Error("Unknown argument 'array'");
          }
          readUInt32BE(e) {
            return l_(this.buffer, e);
          }
          writeUInt32BE(e, i) {
            u_(this.buffer, e, i);
          }
          readUInt32LE(e) {
            return h_(this.buffer, e);
          }
          writeUInt32LE(e, i) {
            d_(this.buffer, e, i);
          }
          readUInt8(e) {
            return f_(this.buffer, e);
          }
          writeUInt8(e, i) {
            p_(this.buffer, e, i);
          }
          indexOf(e, i = 0) {
            return c_(this.buffer, e instanceof Bs ? e.buffer : e, i);
          }
          equals(e) {
            return this === e
              ? !0
              : this.byteLength !== e.byteLength
              ? !1
              : this.buffer.every((i, s) => i === e.buffer[s]);
          }
        });
    },
  }),
  y_ = b({
    'out-build/vs/base/common/decorators/cancelPreviousCalls.js'() {
      'use strict';
      $e(), U(), jt();
    },
  });
function k_(t) {
  return (e, i, s) => {
    let r = null,
      n = null;
    if (
      (typeof s.value == 'function'
        ? ((r = 'value'), (n = s.value))
        : typeof s.get == 'function' && ((r = 'get'), (n = s.get)),
      !n || typeof i == 'symbol')
    )
      throw new Error('not supported');
    s[r] = t(n, i);
  };
}
function ye(t, e, i) {
  let s = null,
    r = null;
  if (
    (typeof i.value == 'function'
      ? ((s = 'value'),
        (r = i.value),
        r.length !== 0 &&
          console.warn('Memoize should only be used in functions with zero parameters'))
      : typeof i.get == 'function' && ((s = 'get'), (r = i.get)),
    !r)
  )
    throw new Error('not supported');
  const n = `$memoize$${e}`;
  i[s] = function (...o) {
    return (
      this.hasOwnProperty(n) ||
        Object.defineProperty(this, n, {
          configurable: !1,
          enumerable: !1,
          writable: !1,
          value: r.apply(this, o),
        }),
      this[n]
    );
  };
}
function e6(t, e, i) {
  return k_((s, r) => {
    const n = `$debounce$${r}`,
      o = `$debounce$result$${r}`;
    return function (...a) {
      this[o] || (this[o] = i ? i() : void 0),
        clearTimeout(this[n]),
        e && ((this[o] = e(this[o], ...a)), (a = [this[o]])),
        (this[n] = setTimeout(() => {
          s.apply(this, a), (this[o] = i ? i() : void 0);
        }, t));
    };
  });
}
var Qr = b({
  'out-build/vs/base/common/decorators.js'() {
    'use strict';
    y_();
  },
});
function S_(t) {
  return JSON.stringify(t, C_);
}
function E_(t) {
  let e = JSON.parse(t);
  return (e = On(e)), e;
}
function C_(t, e) {
  return e instanceof RegExp ? { $mid: 2, source: e.source, flags: e.flags } : e;
}
function On(t, e = 0) {
  if (!t || e > 200) return t;
  if (typeof t == 'object') {
    switch (t.$mid) {
      case 1:
        return _.revive(t);
      case 2:
        return new RegExp(t.source, t.flags);
      case 17:
        return new Date(t.source);
    }
    if (t instanceof re || t instanceof Uint8Array) return t;
    if (Array.isArray(t)) for (let i = 0; i < t.length; ++i) t[i] = On(t[i], e + 1);
    else for (const i in t) Object.hasOwnProperty.call(t, i) && (t[i] = On(t[i], e + 1));
  }
  return t;
}
var Cd = b({
  'out-build/vs/base/common/marshalling.js'() {
    'use strict';
    bt(), be();
  },
});
function Ta(t) {
  switch (t) {
    case 100:
      return 'req';
    case 101:
      return 'cancel';
    case 102:
      return 'subscribe';
    case 103:
      return 'unsubscribe';
  }
}
function Dd(t) {
  switch (t) {
    case 200:
      return 'init';
    case 201:
      return 'reply:';
    case 202:
    case 203:
      return 'replyErr:';
    case 204:
      return 'event:';
  }
}
function Ma(t) {
  let e = 0;
  for (let i = 0; ; i += 7) {
    const s = t.read(1);
    if (((e |= (s.buffer[0] & 127) << i), !(s.buffer[0] & 128))) return e;
  }
}
function Fa(t, e) {
  if (e === 0) {
    t.write(s6);
    return;
  }
  let i = 0;
  for (let r = e; r !== 0; r = r >>> 7) i++;
  const s = re.alloc(i);
  for (let r = 0; e !== 0; r++)
    (s.buffer[r] = e & 127), (e = e >>> 7), e > 0 && (s.buffer[r] |= 128);
  t.write(s);
}
function Rn(t) {
  const e = re.alloc(1);
  return e.writeUInt8(t, 0), e;
}
function Oa(t, e) {
  if (typeof e > 'u') t.write(Nn.Undefined);
  else if (typeof e == 'string') {
    const i = re.fromString(e);
    t.write(Nn.String), Fa(t, i.byteLength), t.write(i);
  } else if (r6 && Buffer.isBuffer(e)) {
    const i = re.wrap(e);
    t.write(Nn.Buffer), Fa(t, i.byteLength), t.write(i);
  } else if (e instanceof re) t.write(Nn.VSBuffer), Fa(t, e.byteLength), t.write(e);
  else if (Array.isArray(e)) {
    t.write(Nn.Array), Fa(t, e.length);
    for (const i of e) Oa(t, i);
  } else if (typeof e == 'number' && (e | 0) === e) t.write(Nn.Uint), Fa(t, e);
  else {
    const i = re.fromString(JSON.stringify(e));
    t.write(Nn.Object), Fa(t, i.byteLength), t.write(i);
  }
}
function Ra(t) {
  switch (t.read(1).readUInt8(0)) {
    case Ti.Undefined:
      return;
    case Ti.String:
      return t.read(Ma(t)).toString();
    case Ti.Buffer:
      return t.read(Ma(t)).buffer;
    case Ti.VSBuffer:
      return t.read(Ma(t));
    case Ti.Array: {
      const i = Ma(t),
        s = [];
      for (let r = 0; r < i; r++) s.push(Ra(t));
      return s;
    }
    case Ti.Object:
      return JSON.parse(t.read(Ma(t)).toString());
    case Ti.Int:
      return Ma(t);
  }
}
function Il(t) {
  return {
    call(e, i, s) {
      return t.then((r) => r.call(e, i, s));
    },
    listen(e, i) {
      const s = new w0();
      return t.then((r) => (s.input = r.listen(e, i))), s.event;
    },
  };
}
function D_(t) {
  let e = !1;
  return {
    call(i, s, r) {
      return e
        ? t.call(i, s, r)
        : Ji(0)
            .then(() => (e = !0))
            .then(() => t.call(i, s, r));
    },
    listen(i, s) {
      if (e) return t.listen(i, s);
      const r = new w0();
      return (
        Ji(0)
          .then(() => (e = !0))
          .then(() => (r.input = t.listen(i, s))),
        r.event
      );
    },
  };
}
var t6,
  i6,
  xo,
  s6,
  xd,
  Ad,
  Ti,
  Nn,
  r6,
  em,
  n6,
  $l,
  tm,
  im,
  o6,
  Qe,
  Zr = b({
    'out-build/vs/base/parts/ipc/common/ipc.js'() {
      'use strict';
      ni(),
        le(),
        bt(),
        jt(),
        Qr(),
        He(),
        X(),
        h0(),
        U(),
        Cd(),
        Wt(),
        $e(),
        (function (t) {
          (t[(t.Promise = 100)] = 'Promise'),
            (t[(t.PromiseCancel = 101)] = 'PromiseCancel'),
            (t[(t.EventListen = 102)] = 'EventListen'),
            (t[(t.EventDispose = 103)] = 'EventDispose');
        })(t6 || (t6 = {})),
        (function (t) {
          (t[(t.Initialize = 200)] = 'Initialize'),
            (t[(t.PromiseSuccess = 201)] = 'PromiseSuccess'),
            (t[(t.PromiseError = 202)] = 'PromiseError'),
            (t[(t.PromiseErrorObj = 203)] = 'PromiseErrorObj'),
            (t[(t.EventFire = 204)] = 'EventFire');
        })(i6 || (i6 = {})),
        (function (t) {
          (t[(t.Uninitialized = 0)] = 'Uninitialized'), (t[(t.Idle = 1)] = 'Idle');
        })(xo || (xo = {})),
        (s6 = Rn(0)),
        (xd = class {
          constructor(t) {
            (this.b = t), (this.a = 0);
          }
          read(t) {
            const e = this.b.slice(this.a, this.a + t);
            return (this.a += e.byteLength), e;
          }
        }),
        (Ad = class {
          constructor() {
            this.a = [];
          }
          get buffer() {
            return re.concat(this.a);
          }
          write(t) {
            this.a.push(t);
          }
        }),
        (function (t) {
          (t[(t.Undefined = 0)] = 'Undefined'),
            (t[(t.String = 1)] = 'String'),
            (t[(t.Buffer = 2)] = 'Buffer'),
            (t[(t.VSBuffer = 3)] = 'VSBuffer'),
            (t[(t.Array = 4)] = 'Array'),
            (t[(t.Object = 5)] = 'Object'),
            (t[(t.Int = 6)] = 'Int');
        })(Ti || (Ti = {})),
        (Nn = {
          Undefined: Rn(Ti.Undefined),
          String: Rn(Ti.String),
          Buffer: Rn(Ti.Buffer),
          VSBuffer: Rn(Ti.VSBuffer),
          Array: Rn(Ti.Array),
          Object: Rn(Ti.Object),
          Uint: Rn(Ti.Int),
        }),
        (r6 = typeof Buffer < 'u'),
        (em = class {
          constructor(t, e, i = null, s = 1e3) {
            (this.h = t),
              (this.j = e),
              (this.k = i),
              (this.l = s),
              (this.b = new Map()),
              (this.d = new Map()),
              (this.g = new Map()),
              (this.f = this.h.onMessage((r) => this.q(r))),
              this.m({ type: 200 });
          }
          registerChannel(t, e) {
            this.b.set(t, e), setTimeout(() => this.w(t), 0);
          }
          m(t) {
            switch (t.type) {
              case 200: {
                const e = this.o([t.type]);
                this.k?.logOutgoing(e, 0, 1, Dd(t.type));
                return;
              }
              case 201:
              case 202:
              case 204:
              case 203: {
                const e = this.o([t.type, t.id], t.data);
                this.k?.logOutgoing(e, t.id, 1, Dd(t.type), t.data);
                return;
              }
            }
          }
          o(t, e = void 0) {
            const i = new Ad();
            return Oa(i, t), Oa(i, e), this.p(i.buffer);
          }
          p(t) {
            try {
              return this.h.send(t), t.byteLength;
            } catch {
              return 0;
            }
          }
          q(t) {
            const e = new xd(t),
              i = Ra(e),
              s = Ra(e),
              r = i[0];
            switch (r) {
              case 100:
                return (
                  this.k?.logIncoming(t.byteLength, i[1], 1, `${Ta(r)}: ${i[2]}.${i[3]}`, s),
                  this.s({ type: r, id: i[1], channelName: i[2], name: i[3], arg: s })
                );
              case 102:
                return (
                  this.k?.logIncoming(t.byteLength, i[1], 1, `${Ta(r)}: ${i[2]}.${i[3]}`, s),
                  this.t({ type: r, id: i[1], channelName: i[2], name: i[3], arg: s })
                );
              case 101:
                return (
                  this.k?.logIncoming(t.byteLength, i[1], 1, `${Ta(r)}`),
                  this.u({ type: r, id: i[1] })
                );
              case 103:
                return (
                  this.k?.logIncoming(t.byteLength, i[1], 1, `${Ta(r)}`),
                  this.u({ type: r, id: i[1] })
                );
            }
          }
          s(t) {
            const e = this.b.get(t.channelName);
            if (!e) {
              this.v(t);
              return;
            }
            const i = new Js();
            let s;
            try {
              s = e.call(this.j, t.name, t.arg, i.token);
            } catch (o) {
              s = Promise.reject(o);
            }
            const r = t.id;
            s.then(
              (o) => {
                this.m({ id: r, data: o, type: 201 });
              },
              (o) => {
                o instanceof Error
                  ? this.m({
                      id: r,
                      data: {
                        message: o.message,
                        name: o.name,
                        stack: o.stack
                          ? o.stack.split(`
`)
                          : void 0,
                      },
                      type: 202,
                    })
                  : this.m({ id: r, data: o, type: 203 });
              }
            ).finally(() => {
              n.dispose(), this.d.delete(t.id);
            });
            const n = _e(() => i.cancel());
            this.d.set(t.id, n);
          }
          t(t) {
            const e = this.b.get(t.channelName);
            if (!e) {
              this.v(t);
              return;
            }
            const i = t.id,
              r = e.listen(this.j, t.name, t.arg)((n) => this.m({ id: i, data: n, type: 204 }));
            this.d.set(t.id, r);
          }
          u(t) {
            const e = this.d.get(t.id);
            e && (e.dispose(), this.d.delete(t.id));
          }
          v(t) {
            let e = this.g.get(t.channelName);
            e || ((e = []), this.g.set(t.channelName, e));
            const i = setTimeout(() => {
              console.error(`Unknown channel: ${t.channelName}`),
                t.type === 100 &&
                  this.m({
                    id: t.id,
                    data: {
                      name: 'Unknown channel',
                      message: `Channel name '${t.channelName}' timed out after ${this.l}ms`,
                      stack: void 0,
                    },
                    type: 202,
                  });
            }, this.l);
            e.push({ request: t, timeoutTimer: i });
          }
          w(t) {
            const e = this.g.get(t);
            if (e) {
              for (const i of e)
                switch ((clearTimeout(i.timeoutTimer), i.request.type)) {
                  case 100:
                    this.s(i.request);
                    break;
                  case 102:
                    this.t(i.request);
                    break;
                }
              this.g.delete(t);
            }
          }
          dispose() {
            this.f && (this.f.dispose(), (this.f = null)), Qt(this.d.values()), this.d.clear();
          }
        }),
        (function (t) {
          (t[(t.LocalSide = 0)] = 'LocalSide'), (t[(t.OtherSide = 1)] = 'OtherSide');
        })(n6 || (n6 = {})),
        ($l = class {
          constructor(t, e = null) {
            (this.l = t),
              (this.a = !1),
              (this.b = xo.Uninitialized),
              (this.d = new Set()),
              (this.f = new Map()),
              (this.g = 0),
              (this.k = new $()),
              (this.onDidInitialize = this.k.event),
              (this.h = this.l.onMessage((i) => this.s(i))),
              (this.j = e);
          }
          getChannel(t) {
            const e = this;
            return {
              call(i, s, r) {
                return e.a ? Promise.reject(new Hi()) : e.m(t, i, s, r);
              },
              listen(i, s) {
                return e.a ? P.None : e.o(t, i, s);
              },
            };
          }
          m(t, e, i, s = gt.None) {
            const r = this.g++,
              o = { id: r, type: 100, channelName: t, name: e, arg: i };
            if (s.isCancellationRequested) return Promise.reject(new Hi());
            let a, c;
            return new Promise((h, d) => {
              if (s.isCancellationRequested) return d(new Hi());
              const p = () => {
                const v = (k) => {
                  switch (k.type) {
                    case 201:
                      this.f.delete(r), h(k.data);
                      break;
                    case 202: {
                      this.f.delete(r);
                      const y = new Error(k.data.message);
                      (y.stack = Array.isArray(k.data.stack)
                        ? k.data.stack.join(`
`)
                        : k.data.stack),
                        (y.name = k.data.name),
                        d(y);
                      break;
                    }
                    case 203:
                      this.f.delete(r), d(k.data);
                      break;
                  }
                };
                this.f.set(r, v), this.p(o);
              };
              let m = null;
              this.b === xo.Idle
                ? p()
                : ((m = $a((v) => this.u())),
                  m.then(() => {
                    (m = null), p();
                  }));
              const w = () => {
                m ? (m.cancel(), (m = null)) : this.p({ id: r, type: 101 }), d(new Hi());
              };
              (a = s.onCancellationRequested(w)),
                (c = {
                  dispose: u0(() => {
                    w(), a.dispose();
                  }),
                }),
                this.d.add(c);
            }).finally(() => {
              a?.dispose(), this.d.delete(c);
            });
          }
          o(t, e, i) {
            const s = this.g++,
              n = { id: s, type: 102, channelName: t, name: e, arg: i };
            let o = null;
            const a = new $({
                onWillAddFirstListener: () => {
                  const l = () => {
                    this.d.add(a), this.p(n);
                  };
                  this.b === xo.Idle
                    ? l()
                    : ((o = $a((h) => this.u())),
                      o.then(() => {
                        (o = null), l();
                      }));
                },
                onDidRemoveLastListener: () => {
                  o ? (o.cancel(), (o = null)) : (this.d.delete(a), this.p({ id: s, type: 103 }));
                },
              }),
              c = (l) => a.fire(l.data);
            return this.f.set(s, c), a.event;
          }
          p(t) {
            switch (t.type) {
              case 100:
              case 102: {
                const e = this.q([t.type, t.id, t.channelName, t.name], t.arg);
                this.j?.logOutgoing(e, t.id, 0, `${Ta(t.type)}: ${t.channelName}.${t.name}`, t.arg);
                return;
              }
              case 101:
              case 103: {
                const e = this.q([t.type, t.id]);
                this.j?.logOutgoing(e, t.id, 0, Ta(t.type));
                return;
              }
            }
          }
          q(t, e = void 0) {
            const i = new Ad();
            return Oa(i, t), Oa(i, e), this.r(i.buffer);
          }
          r(t) {
            try {
              return this.l.send(t), t.byteLength;
            } catch {
              return 0;
            }
          }
          s(t) {
            const e = new xd(t),
              i = Ra(e),
              s = Ra(e),
              r = i[0];
            switch (r) {
              case 200:
                return this.j?.logIncoming(t.byteLength, 0, 0, Dd(r)), this.t({ type: i[0] });
              case 201:
              case 202:
              case 204:
              case 203:
                return (
                  this.j?.logIncoming(t.byteLength, i[1], 0, Dd(r), s),
                  this.t({ type: i[0], id: i[1], data: s })
                );
            }
          }
          t(t) {
            if (t.type === 200) {
              (this.b = xo.Idle), this.k.fire();
              return;
            }
            this.f.get(t.id)?.(t);
          }
          get onDidInitializePromise() {
            return P.toPromise(this.onDidInitialize);
          }
          u() {
            return this.b === xo.Idle ? Promise.resolve() : this.onDidInitializePromise;
          }
          dispose() {
            (this.a = !0),
              this.h && (this.h.dispose(), (this.h = null)),
              Qt(this.d.values()),
              this.d.clear();
          }
        }),
        __decorate([ye], $l.prototype, 'onDidInitializePromise', null),
        (tm = class {
          get connections() {
            const t = [];
            return this.f.forEach((e) => t.push(e)), t;
          }
          constructor(t, e, i) {
            (this.a = new Map()),
              (this.f = new Set()),
              (this.g = new $()),
              (this.onDidAddConnection = this.g.event),
              (this.h = new $()),
              (this.onDidRemoveConnection = this.h.event),
              (this.j = new je()),
              this.j.add(
                t(({ protocol: s, onDidClientDisconnect: r }) => {
                  const n = P.once(s.onMessage);
                  this.j.add(
                    n((o) => {
                      const a = new xd(o),
                        c = Ra(a),
                        l = new em(s, c, e, i),
                        h = new $l(s, e);
                      this.a.forEach((p, m) => l.registerChannel(m, p));
                      const d = { channelServer: l, channelClient: h, ctx: c };
                      this.f.add(d),
                        this.g.fire(d),
                        this.j.add(
                          r(() => {
                            l.dispose(), h.dispose(), this.f.delete(d), this.h.fire(d);
                          })
                        );
                    })
                  );
                })
              );
          }
          getChannel(t, e) {
            const i = this;
            return {
              call(s, r, n) {
                let o;
                if (qg(e)) {
                  const c = I$(i.connections.filter(e));
                  o = c ? Promise.resolve(c) : P.toPromise(P.filter(i.onDidAddConnection, e));
                } else o = e.routeCall(i, s, r);
                const a = o.then((c) => c.channelClient.getChannel(t));
                return Il(a).call(s, r, n);
              },
              listen(s, r) {
                if (qg(e)) return i.k(t, e, s, r);
                const n = e.routeEvent(i, s, r).then((o) => o.channelClient.getChannel(t));
                return Il(n).listen(s, r);
              },
            };
          }
          k(t, e, i, s) {
            const r = this;
            let n;
            const o = new $({
              onWillAddFirstListener: () => {
                n = new je();
                const a = new $2(),
                  c = new Map(),
                  l = (d) => {
                    const m = d.channelClient.getChannel(t).listen(i, s),
                      w = a.add(m);
                    c.set(d, w);
                  },
                  h = (d) => {
                    const p = c.get(d);
                    p && (p.dispose(), c.delete(d));
                  };
                r.connections.filter(e).forEach(l),
                  P.filter(r.onDidAddConnection, e)(l, void 0, n),
                  r.onDidRemoveConnection(h, void 0, n),
                  a.event(o.fire, o, n),
                  n.add(a);
              },
              onDidRemoveLastListener: () => {
                n?.dispose(), (n = void 0);
              },
            });
            return r.j.add(o), o.event;
          }
          registerChannel(t, e) {
            this.a.set(t, e);
            for (const i of this.f) i.channelServer.registerChannel(t, e);
          }
          dispose() {
            this.j.dispose();
            for (const t of this.f) t.channelClient.dispose(), t.channelServer.dispose();
            this.f.clear(), this.a.clear(), this.g.dispose(), this.h.dispose();
          }
        }),
        (im = class {
          constructor(t, e, i = null) {
            const s = new Ad();
            Oa(s, e), t.send(s.buffer), (this.a = new $l(t, i)), (this.d = new em(t, e, i));
          }
          getChannel(t) {
            return this.a.getChannel(t);
          }
          registerChannel(t, e) {
            this.d.registerChannel(t, e);
          }
          dispose() {
            this.a.dispose(), this.d.dispose();
          }
        }),
        (o6 = class {
          constructor(t) {
            this.a = t;
          }
          routeCall(t) {
            return this.b(t);
          }
          routeEvent(t) {
            return this.b(t);
          }
          async b(t) {
            for (const e of t.connections)
              if (await Promise.resolve(this.a(e.ctx))) return Promise.resolve(e);
            return await P.toPromise(t.onDidAddConnection), await this.b(t);
          }
        }),
        (function (t) {
          function e(n, o, a) {
            const c = n,
              l = a && a.disableMarshalling,
              h = new Map();
            for (const d in c) s(d) && h.set(d, P.buffer(c[d], !0, void 0, o));
            return new (class {
              listen(d, p, m) {
                const w = h.get(p);
                if (w) return w;
                const v = c[p];
                if (typeof v == 'function') {
                  if (r(p)) return v.call(c, m);
                  if (s(p)) return h.set(p, P.buffer(c[p], !0, void 0, o)), h.get(p);
                }
                throw new Dn(`Event not found: ${p}`);
              }
              call(d, p, m) {
                const w = c[p];
                if (typeof w == 'function') {
                  if (!l && Array.isArray(m)) for (let k = 0; k < m.length; k++) m[k] = On(m[k]);
                  let v = w.apply(c, m);
                  return v instanceof Promise || (v = Promise.resolve(v)), v;
                }
                throw new Dn(`Method not found: ${p}`);
              }
            })();
          }
          t.fromService = e;
          function i(n, o) {
            const a = o && o.disableMarshalling;
            return new Proxy(
              {},
              {
                get(c, l) {
                  if (typeof l == 'string')
                    return o?.properties?.has(l)
                      ? o.properties.get(l)
                      : r(l)
                      ? function (h) {
                          return n.listen(l, h);
                        }
                      : s(l)
                      ? n.listen(l)
                      : async function (...h) {
                          let d;
                          o && !Ii(o.context) ? (d = [o.context, ...h]) : (d = h);
                          const p = await n.call(l, d);
                          return a ? p : On(p);
                        };
                  throw new Dn(`Property not found: ${String(l)}`);
                },
              }
            );
          }
          t.toService = i;
          function s(n) {
            return n[0] === 'o' && n[1] === 'n' && o5(n.charCodeAt(2));
          }
          function r(n) {
            return /^onDynamic/.test(n) && o5(n.charCodeAt(9));
          }
        })(Qe || (Qe = {}));
    },
  });
function x_(t) {
  return a6.test(t);
}
var a6,
  ei,
  hi = b({
    'out-build/vs/base/common/uuid.js'() {
      'use strict';
      (a6 = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i),
        (ei = (function () {
          if (typeof crypto.randomUUID == 'function') return crypto.randomUUID.bind(crypto);
          const t = new Uint8Array(16),
            e = [];
          for (let i = 0; i < 256; i++) e.push(i.toString(16).padStart(2, '0'));
          return function () {
            crypto.getRandomValues(t), (t[6] = (t[6] & 15) | 64), (t[8] = (t[8] & 63) | 128);
            let s = 0,
              r = '';
            return (
              (r += e[t[s++]]),
              (r += e[t[s++]]),
              (r += e[t[s++]]),
              (r += e[t[s++]]),
              (r += '-'),
              (r += e[t[s++]]),
              (r += e[t[s++]]),
              (r += '-'),
              (r += e[t[s++]]),
              (r += e[t[s++]]),
              (r += '-'),
              (r += e[t[s++]]),
              (r += e[t[s++]]),
              (r += '-'),
              (r += e[t[s++]]),
              (r += e[t[s++]]),
              (r += e[t[s++]]),
              (r += e[t[s++]]),
              (r += e[t[s++]]),
              (r += e[t[s++]]),
              r
            );
          };
        })());
    },
  });
function Bn() {
  return Id || (Id = re.alloc(0)), Id;
}
function c6(t) {
  switch (t) {
    case 0:
      return 'None';
    case 1:
      return 'Regular';
    case 2:
      return 'Control';
    case 3:
      return 'Ack';
    case 5:
      return 'Disconnect';
    case 6:
      return 'ReplayRequest';
    case 7:
      return 'PauseWriting';
    case 8:
      return 'ResumeWriting';
    case 9:
      return 'KeepAlive';
    case 192:
      return 'RemoteDisconnect';
  }
}
var l6,
  Ao,
  u6,
  Id,
  h6,
  d6,
  f6,
  Is,
  $d,
  Pd,
  sm,
  p6,
  Na,
  g6,
  m6,
  w6,
  b6,
  v6 = b({
    'out-build/vs/base/parts/ipc/common/ipc.net.js'() {
      'use strict';
      bt(),
        X(),
        U(),
        Zr(),
        (function (t) {
          (t.Created = 'created'),
            (t.Read = 'read'),
            (t.Write = 'write'),
            (t.Open = 'open'),
            (t.Error = 'error'),
            (t.Close = 'close'),
            (t.BrowserWebSocketBlobReceived = 'browserWebSocketBlobReceived'),
            (t.NodeEndReceived = 'nodeEndReceived'),
            (t.NodeEndSent = 'nodeEndSent'),
            (t.NodeDrainBegin = 'nodeDrainBegin'),
            (t.NodeDrainEnd = 'nodeDrainEnd'),
            (t.zlibInflateError = 'zlibInflateError'),
            (t.zlibInflateData = 'zlibInflateData'),
            (t.zlibInflateInitialWrite = 'zlibInflateInitialWrite'),
            (t.zlibInflateInitialFlushFired = 'zlibInflateInitialFlushFired'),
            (t.zlibInflateWrite = 'zlibInflateWrite'),
            (t.zlibInflateFlushFired = 'zlibInflateFlushFired'),
            (t.zlibDeflateError = 'zlibDeflateError'),
            (t.zlibDeflateData = 'zlibDeflateData'),
            (t.zlibDeflateWrite = 'zlibDeflateWrite'),
            (t.zlibDeflateFlushFired = 'zlibDeflateFlushFired'),
            (t.WebSocketNodeSocketWrite = 'webSocketNodeSocketWrite'),
            (t.WebSocketNodeSocketPeekedHeader = 'webSocketNodeSocketPeekedHeader'),
            (t.WebSocketNodeSocketReadHeader = 'webSocketNodeSocketReadHeader'),
            (t.WebSocketNodeSocketReadData = 'webSocketNodeSocketReadData'),
            (t.WebSocketNodeSocketUnmaskedData = 'webSocketNodeSocketUnmaskedData'),
            (t.WebSocketNodeSocketDrainBegin = 'webSocketNodeSocketDrainBegin'),
            (t.WebSocketNodeSocketDrainEnd = 'webSocketNodeSocketDrainEnd'),
            (t.ProtocolHeaderRead = 'protocolHeaderRead'),
            (t.ProtocolMessageRead = 'protocolMessageRead'),
            (t.ProtocolHeaderWrite = 'protocolHeaderWrite'),
            (t.ProtocolMessageWrite = 'protocolMessageWrite'),
            (t.ProtocolWrite = 'protocolWrite');
        })(l6 || (l6 = {})),
        (function (t) {
          (t.enableDiagnostics = !!globalThis.process?.env?.ENABLE_SOCKET_LOG), (t.records = []);
          const e = new WeakMap();
          let i = 0;
          function s(n, o) {
            if (!e.has(n)) {
              const a = String(++i);
              e.set(n, a);
            }
            return e.get(n);
          }
          function r(n, o, a, c) {
            if (!t.enableDiagnostics) return;
            const l = s(n, o);
            if (
              c instanceof re ||
              c instanceof Uint8Array ||
              c instanceof ArrayBuffer ||
              ArrayBuffer.isView(c)
            ) {
              const h = re.alloc(c.byteLength);
              h.set(c),
                t.records.push({ timestamp: Date.now(), id: l, label: o, type: a, buff: h });
            } else t.records.push({ timestamp: Date.now(), id: l, label: o, type: a, data: c });
          }
          t.traceSocketEvent = r;
        })(Ao || (Ao = {})),
        (function (t) {
          (t[(t.NodeSocketCloseEvent = 0)] = 'NodeSocketCloseEvent'),
            (t[(t.WebSocketCloseEvent = 1)] = 'WebSocketCloseEvent');
        })(u6 || (u6 = {})),
        (Id = null),
        (h6 = class {
          get byteLength() {
            return this.b;
          }
          constructor() {
            (this.a = []), (this.b = 0);
          }
          acceptChunk(t) {
            this.a.push(t), (this.b += t.byteLength);
          }
          read(t) {
            return this.c(t, !0);
          }
          peek(t) {
            return this.c(t, !1);
          }
          c(t, e) {
            if (t === 0) return Bn();
            if (t > this.b) throw new Error('Cannot read so many bytes!');
            if (this.a[0].byteLength === t) {
              const n = this.a[0];
              return e && (this.a.shift(), (this.b -= t)), n;
            }
            if (this.a[0].byteLength > t) {
              const n = this.a[0].slice(0, t);
              return e && ((this.a[0] = this.a[0].slice(t)), (this.b -= t)), n;
            }
            const i = re.alloc(t);
            let s = 0,
              r = 0;
            for (; t > 0; ) {
              const n = this.a[r];
              if (n.byteLength > t) {
                const o = n.slice(0, t);
                i.set(o, s), (s += t), e && ((this.a[r] = n.slice(t)), (this.b -= t)), (t -= t);
              } else
                i.set(n, s),
                  (s += n.byteLength),
                  e ? (this.a.shift(), (this.b -= n.byteLength)) : r++,
                  (t -= n.byteLength);
            }
            return i;
          }
        }),
        (function (t) {
          (t[(t.None = 0)] = 'None'),
            (t[(t.Regular = 1)] = 'Regular'),
            (t[(t.Control = 2)] = 'Control'),
            (t[(t.Ack = 3)] = 'Ack'),
            (t[(t.Disconnect = 5)] = 'Disconnect'),
            (t[(t.ReplayRequest = 6)] = 'ReplayRequest'),
            (t[(t.Pause = 7)] = 'Pause'),
            (t[(t.Resume = 8)] = 'Resume'),
            (t[(t.KeepAlive = 9)] = 'KeepAlive'),
            (t[(t.RemoteDisconnect = 192)] = 'RemoteDisconnect');
        })(d6 || (d6 = {})),
        (function (t) {
          (t[(t.HeaderLength = 13)] = 'HeaderLength'),
            (t[(t.AcknowledgeTime = 2e3)] = 'AcknowledgeTime'),
            (t[(t.TimeoutTime = 2e4)] = 'TimeoutTime'),
            (t[(t.ReconnectionGraceTime = 2592e5)] = 'ReconnectionGraceTime'),
            (t[(t.ReconnectionShortGraceTime = 3e5)] = 'ReconnectionShortGraceTime'),
            (t[(t.KeepAliveSendTime = 5e3)] = 'KeepAliveSendTime');
        })(f6 || (f6 = {})),
        (Is = class {
          constructor(t, e, i, s) {
            (this.type = t), (this.id = e), (this.ack = i), (this.data = s), (this.writtenTime = 0);
          }
          get size() {
            return this.data.byteLength;
          }
        }),
        ($d = class extends H {
          constructor(t) {
            super(),
              (this.f = this.B(new $())),
              (this.onMessage = this.f.event),
              (this.g = { readHead: !0, readLen: 13, messageType: 0, id: 0, ack: 0 }),
              (this.a = t),
              (this.b = !1),
              (this.c = new h6()),
              this.B(this.a.onData((e) => this.acceptChunk(e))),
              (this.lastReadTime = Date.now());
          }
          acceptChunk(t) {
            if (!(!t || t.byteLength === 0))
              for (
                this.lastReadTime = Date.now(), this.c.acceptChunk(t);
                this.c.byteLength >= this.g.readLen;

              ) {
                const e = this.c.read(this.g.readLen);
                if (this.g.readHead)
                  (this.g.readHead = !1),
                    (this.g.readLen = e.readUInt32BE(9)),
                    (this.g.messageType = e.readUInt8(0)),
                    (this.g.id = e.readUInt32BE(1)),
                    (this.g.ack = e.readUInt32BE(5)),
                    this.a.traceSocketEvent('protocolHeaderRead', {
                      messageType: c6(this.g.messageType),
                      id: this.g.id,
                      ack: this.g.ack,
                      messageSize: this.g.readLen,
                    });
                else {
                  const i = this.g.messageType,
                    s = this.g.id,
                    r = this.g.ack;
                  if (
                    ((this.g.readHead = !0),
                    (this.g.readLen = 13),
                    (this.g.messageType = 0),
                    (this.g.id = 0),
                    (this.g.ack = 0),
                    this.a.traceSocketEvent('protocolMessageRead', e),
                    this.f.fire(new Is(i, s, r, e)),
                    this.b)
                  )
                    break;
                }
              }
          }
          readEntireBuffer() {
            return this.c.read(this.c.byteLength);
          }
          dispose() {
            (this.b = !0), super.dispose();
          }
        }),
        (Pd = class {
          constructor(t) {
            (this.k = null),
              (this.a = !1),
              (this.b = !1),
              (this.c = t),
              (this.d = []),
              (this.f = 0),
              (this.lastWriteTime = 0);
          }
          dispose() {
            try {
              this.flush();
            } catch {}
            this.a = !0;
          }
          drain() {
            return this.flush(), this.c.drain();
          }
          flush() {
            this.m();
          }
          pause() {
            this.b = !0;
          }
          resume() {
            (this.b = !1), this.l();
          }
          write(t) {
            if (this.a) return;
            (t.writtenTime = Date.now()), (this.lastWriteTime = Date.now());
            const e = re.alloc(13);
            e.writeUInt8(t.type, 0),
              e.writeUInt32BE(t.id, 1),
              e.writeUInt32BE(t.ack, 5),
              e.writeUInt32BE(t.data.byteLength, 9),
              this.c.traceSocketEvent('protocolHeaderWrite', {
                messageType: c6(t.type),
                id: t.id,
                ack: t.ack,
                messageSize: t.data.byteLength,
              }),
              this.c.traceSocketEvent('protocolMessageWrite', t.data),
              this.j(e, t.data);
          }
          g(t, e) {
            const i = this.f === 0;
            return this.d.push(t, e), (this.f += t.byteLength + e.byteLength), i;
          }
          h() {
            const t = re.concat(this.d, this.f);
            return (this.d.length = 0), (this.f = 0), t;
          }
          j(t, e) {
            this.g(t, e) && this.l();
          }
          l() {
            this.k ||
              (this.k = setTimeout(() => {
                (this.k = null), this.m();
              }));
          }
          m() {
            if (this.f === 0 || this.b) return;
            const t = this.h();
            this.c.traceSocketEvent('protocolWrite', { byteLength: t.byteLength }), this.c.write(t);
          }
        }),
        (sm = class extends H {
          constructor(t) {
            super(),
              (this.f = new $()),
              (this.onMessage = this.f.event),
              (this.g = new $()),
              (this.onDidDispose = this.g.event),
              (this.a = t),
              (this.b = this.B(new Pd(this.a))),
              (this.c = this.B(new $d(this.a))),
              this.B(
                this.c.onMessage((e) => {
                  e.type === 1 && this.f.fire(e.data);
                })
              ),
              this.B(this.a.onClose(() => this.g.fire()));
          }
          drain() {
            return this.b.drain();
          }
          getSocket() {
            return this.a;
          }
          sendDisconnect() {}
          send(t) {
            this.b.write(new Is(1, 0, 0, t));
          }
        }),
        (p6 = class rI extends im {
          static fromSocket(e, i) {
            return new rI(new sm(e), i);
          }
          get onDidDispose() {
            return this.b.onDidDispose;
          }
          constructor(e, i, s = null) {
            super(e, i, s), (this.b = e);
          }
          dispose() {
            super.dispose();
            const e = this.b.getSocket();
            this.b.sendDisconnect(), this.b.dispose(), e.end();
          }
        }),
        (Na = class {
          constructor() {
            (this.b = !1),
              (this.c = !1),
              (this.d = []),
              (this.a = new $({
                onWillAddFirstListener: () => {
                  (this.b = !0), queueMicrotask(() => this.f());
                },
                onDidRemoveLastListener: () => {
                  this.b = !1;
                },
              })),
              (this.event = this.a.event);
          }
          f() {
            if (!this.c) {
              for (this.c = !0; this.b && this.d.length > 0; ) this.a.fire(this.d.shift());
              this.c = !1;
            }
          }
          fire(t) {
            this.b ? (this.d.length > 0 ? this.d.push(t) : this.a.fire(t)) : this.d.push(t);
          }
          flushBuffer() {
            this.d = [];
          }
        }),
        (g6 = class {
          constructor(t) {
            (this.data = t), (this.next = null);
          }
        }),
        (m6 = class {
          constructor() {
            (this.a = null), (this.b = null);
          }
          length() {
            let t = 0,
              e = this.a;
            for (; e; ) (e = e.next), t++;
            return t;
          }
          peek() {
            return this.a ? this.a.data : null;
          }
          toArray() {
            const t = [];
            let e = 0,
              i = this.a;
            for (; i; ) (t[e++] = i.data), (i = i.next);
            return t;
          }
          pop() {
            if (this.a) {
              if (this.a === this.b) {
                (this.a = null), (this.b = null);
                return;
              }
              this.a = this.a.next;
            }
          }
          push(t) {
            const e = new g6(t);
            if (!this.a) {
              (this.a = e), (this.b = e);
              return;
            }
            (this.b.next = e), (this.b = e);
          }
        }),
        (w6 = class Rr {
          static {
            this.a = 10;
          }
          static {
            this.b = null;
          }
          static getInstance() {
            return Rr.b || (Rr.b = new Rr()), Rr.b;
          }
          constructor() {
            this.c = [];
            const e = Date.now();
            for (let i = 0; i < Rr.a; i++) this.c[i] = e - 1e3 * i;
            setInterval(() => {
              for (let i = Rr.a; i >= 1; i--) this.c[i] = this.c[i - 1];
              this.c[0] = Date.now();
            }, 1e3);
          }
          d() {
            const e = Date.now(),
              i = (1 + Rr.a) * 1e3;
            let s = 0;
            for (let r = 0; r < Rr.a; r++) e - this.c[r] <= i && s++;
            return 1 - s / Rr.a;
          }
          hasHighLoad() {
            return this.d() >= 0.5;
          }
        }),
        (b6 = class {
          get unacknowledgedCount() {
            return this.d - this.f;
          }
          constructor(t) {
            (this.w = new Na()),
              (this.onControlMessage = this.w.event),
              (this.x = new Na()),
              (this.onMessage = this.x.event),
              (this.y = new Na()),
              (this.onDidDispose = this.y.event),
              (this.z = new Na()),
              (this.onSocketClose = this.z.event),
              (this.A = new Na()),
              (this.onSocketTimeout = this.A.event),
              (this.u = t.loadEstimator ?? w6.getInstance()),
              (this.v = t.sendKeepAlive ?? !0),
              (this.a = !1),
              (this.c = new m6()),
              (this.d = 0),
              (this.f = 0),
              (this.g = null),
              (this.h = 0),
              (this.j = 0),
              (this.k = 0),
              (this.l = null),
              (this.n = 0),
              (this.o = Date.now()),
              (this.t = new je()),
              (this.p = t.socket),
              (this.q = this.t.add(new Pd(this.p))),
              (this.s = this.t.add(new $d(this.p))),
              this.t.add(this.s.onMessage((e) => this.B(e))),
              this.t.add(this.p.onClose((e) => this.z.fire(e))),
              t.initialChunk && this.s.acceptChunk(t.initialChunk),
              this.v
                ? (this.m = setInterval(() => {
                    this.F();
                  }, 5e3))
                : (this.m = null);
          }
          dispose() {
            this.g && (clearTimeout(this.g), (this.g = null)),
              this.l && (clearTimeout(this.l), (this.l = null)),
              this.m && (clearInterval(this.m), (this.m = null)),
              this.t.dispose();
          }
          drain() {
            return this.q.drain();
          }
          sendDisconnect() {
            if (!this.b) {
              this.b = !0;
              const t = new Is(5, 0, 0, Bn());
              this.q.write(t), this.q.flush();
            }
          }
          sendPause() {
            const t = new Is(7, 0, 0, Bn());
            this.q.write(t);
          }
          sendResume() {
            const t = new Is(8, 0, 0, Bn());
            this.q.write(t);
          }
          pauseSocketWriting() {
            this.q.pause();
          }
          getSocket() {
            return this.p;
          }
          getMillisSinceLastIncomingData() {
            return Date.now() - this.s.lastReadTime;
          }
          beginAcceptReconnection(t, e) {
            (this.a = !0),
              this.t.dispose(),
              (this.t = new je()),
              this.w.flushBuffer(),
              this.z.flushBuffer(),
              this.A.flushBuffer(),
              this.p.dispose(),
              (this.n = 0),
              (this.o = Date.now()),
              (this.p = t),
              (this.q = this.t.add(new Pd(this.p))),
              (this.s = this.t.add(new $d(this.p))),
              this.t.add(this.s.onMessage((i) => this.B(i))),
              this.t.add(this.p.onClose((i) => this.z.fire(i))),
              this.s.acceptChunk(e);
          }
          endAcceptReconnection() {
            (this.a = !1), (this.j = this.h);
            const t = new Is(3, 0, this.j, Bn());
            this.q.write(t);
            const e = this.c.toArray();
            for (let i = 0, s = e.length; i < s; i++) this.q.write(e[i]);
            this.D();
          }
          acceptDisconnect() {
            this.y.fire();
          }
          B(t) {
            if (t.ack > this.f) {
              this.f = t.ack;
              do {
                const e = this.c.peek();
                if (e && e.id <= t.ack) this.c.pop();
                else break;
              } while (!0);
            }
            switch (t.type) {
              case 0:
                break;
              case 1: {
                if (t.id > this.h)
                  if (t.id !== this.h + 1) {
                    const e = Date.now();
                    e - this.n > 1e4 && ((this.n = e), this.q.write(new Is(6, 0, 0, Bn())));
                  } else (this.h = t.id), (this.k = Date.now()), this.C(), this.x.fire(t.data);
                break;
              }
              case 2: {
                this.w.fire(t.data);
                break;
              }
              case 3:
                break;
              case 5: {
                this.y.fire();
                break;
              }
              case 6: {
                const e = this.c.toArray();
                for (let i = 0, s = e.length; i < s; i++) this.q.write(e[i]);
                this.D();
                break;
              }
              case 7: {
                this.q.pause();
                break;
              }
              case 8: {
                this.q.resume();
                break;
              }
              case 9:
                break;
              case 192: {
                this.p.end();
                break;
              }
            }
          }
          readEntireBuffer() {
            return this.s.readEntireBuffer();
          }
          flush() {
            this.q.flush();
          }
          send(t) {
            const e = ++this.d;
            this.j = this.h;
            const i = new Is(1, e, this.j, t);
            this.c.push(i), this.a || (this.q.write(i), this.D());
          }
          sendControl(t) {
            const e = new Is(2, 0, 0, t);
            this.q.write(e);
          }
          C() {
            if (this.h <= this.j || this.l) return;
            const t = Date.now() - this.k;
            if (t >= 2e3) {
              this.E();
              return;
            }
            this.l = setTimeout(() => {
              (this.l = null), this.C();
            }, 2e3 - t + 5);
          }
          D() {
            if (this.d <= this.f || this.g || this.a) return;
            const t = this.c.peek(),
              e = Date.now() - t.writtenTime,
              i = Date.now() - this.s.lastReadTime,
              s = Date.now() - this.o;
            if (e >= 2e4 && i >= 2e4 && s >= 2e4 && !this.u.hasHighLoad()) {
              (this.o = Date.now()),
                this.A.fire({
                  unacknowledgedMsgCount: this.c.length(),
                  timeSinceOldestUnacknowledgedMsg: e,
                  timeSinceLastReceivedSomeData: i,
                });
              return;
            }
            const r = Math.max(2e4 - e, 2e4 - i, 2e4 - s, 500);
            this.g = setTimeout(() => {
              (this.g = null), this.D();
            }, r);
          }
          E() {
            if (this.h <= this.j) return;
            this.j = this.h;
            const t = new Is(3, 0, this.j, Bn());
            this.q.write(t);
          }
          F() {
            this.j = this.h;
            const t = new Is(9, 0, this.j, Bn());
            this.q.write(t);
          }
        }),
        (() => {
          if (!Ao.enableDiagnostics) return;
          if (typeof Bg != 'function') {
            console.log('Can only log socket diagnostics on native platforms.');
            return;
          }
          const t = process.argv.includes('--type=renderer')
            ? 'renderer'
            : process.argv.includes('--type=extensionHost')
            ? 'extensionHost'
            : process.argv.some((e) => e.includes('server-main'))
            ? 'server'
            : 'unknown';
          setInterval(() => {
            Ao.records.forEach((r) => {
              r.buff &&
                ((r.data = Buffer.from(r.buff.buffer).toString('base64')), (r.buff = void 0));
            });
            const e = Bg('fs'),
              s = Bg('path').join(
                globalThis.process?.env?.SOCKET_LOG_DIR || '/cloudide/component/log',
                `${t}-${process.pid}_${new Date().toISOString().replaceAll(':', '-')}.json`
              );
            console.log(`dumping socket diagnostics at ${s}`),
              e.writeFile(s, JSON.stringify(Ao.records, null, 2), console.log),
              Ao.records.splice(0);
          }, 3e4);
        })();
    },
  });
import { createHash as A_ } from 'crypto';
import { createServer as I_, createConnection as $_ } from 'net';
import 'os';
import 'zlib';
function P_(t, e, i) {
  const r = A_('sha256').update(t).digest('hex').substr(0, 8);
  if (process.platform === 'win32') return `\\\\.\\pipe\\${r}-${i}-${e}-sock`;
  const n = i.substr(0, 4),
    o = e.substr(0, 6);
  let a;
  return (
    process.platform !== 'darwin' && _d && !process.env.VSCODE_PORTABLE
      ? (a = M(_d, `vscode-${r}-${n}-${o}.sock`))
      : (a = M(t, `${n}-${o}.sock`)),
    __(a),
    a
  );
}
function __(t) {
  const e = E6[ya];
  typeof e == 'number' &&
    t.length >= e &&
    console.warn(
      `WARNING: IPC handle "${t}" is longer than ${e} chars, try a shorter --user-data-dir`
    );
}
function L_(t) {
  return new Promise((e, i) => {
    const s = I_();
    s.on('error', i),
      s.listen(t, () => {
        s.removeListener('error', i), e(new C6(s));
      });
  });
}
function T_(t, e) {
  return new Promise((i, s) => {
    const r = $_(t, () => {
      r.removeListener('error', s), i(p6.fromSocket(new Pl(r, `ipc-client${e}`), e));
    });
    r.once('error', s);
  });
}
var y6,
  Pl,
  k6,
  S6,
  _d,
  E6,
  C6,
  rm = b({
    'out-build/vs/base/parts/ipc/node/ipc.net.js'() {
      'use strict';
      bt(),
        He(),
        X(),
        U(),
        xe(),
        ie(),
        hi(),
        Zr(),
        v6(),
        (y6 = 3e4),
        (Pl = class {
          traceSocketEvent(t, e) {
            Ao.traceSocketEvent(this.socket, this.debugLabel, t, e);
          }
          constructor(t, e = '') {
            (this.f = !0),
              (this.debugLabel = e),
              (this.socket = t),
              this.traceSocketEvent('created', { type: 'NodeSocket' }),
              (this.a = (s) => {
                if ((this.traceSocketEvent('error', { code: s?.code, message: s?.message }), s)) {
                  if (s.code === 'EPIPE') return;
                  Xt(s);
                }
              }),
              this.socket.on('error', this.a);
            let i;
            (this.b = (s) => {
              this.traceSocketEvent('close', { hadError: s }), (this.f = !1), i && clearTimeout(i);
            }),
              this.socket.on('close', this.b),
              (this.d = () => {
                this.traceSocketEvent('nodeEndReceived'),
                  (this.f = !1),
                  (i = setTimeout(() => t.destroy(), y6));
              }),
              this.socket.on('end', this.d);
          }
          dispose() {
            this.socket.off('error', this.a),
              this.socket.off('close', this.b),
              this.socket.off('end', this.d),
              this.socket.destroy();
          }
          onData(t) {
            const e = (i) => {
              this.traceSocketEvent('read', i), t(re.wrap(i));
            };
            return this.socket.on('data', e), { dispose: () => this.socket.off('data', e) };
          }
          onClose(t) {
            const e = (i) => {
              t({ type: 0, hadError: i, error: void 0 });
            };
            return this.socket.on('close', e), { dispose: () => this.socket.off('close', e) };
          }
          onEnd(t) {
            const e = () => {
              t();
            };
            return this.socket.on('end', e), { dispose: () => this.socket.off('end', e) };
          }
          write(t) {
            if (!(this.socket.destroyed || !this.f))
              try {
                this.traceSocketEvent('write', t),
                  this.socket.write(t.buffer, (e) => {
                    if (e) {
                      if (e.code === 'EPIPE') return;
                      Xt(e);
                    }
                  });
              } catch (e) {
                if (e.code === 'EPIPE') return;
                Xt(e);
              }
          }
          end() {
            this.traceSocketEvent('nodeEndSent'), this.socket.end();
          }
          drain() {
            return (
              this.traceSocketEvent('nodeDrainBegin'),
              new Promise((t, e) => {
                if (this.socket.bufferSize === 0) {
                  this.traceSocketEvent('nodeDrainEnd'), t();
                  return;
                }
                const i = () => {
                  this.socket.off('close', i),
                    this.socket.off('end', i),
                    this.socket.off('error', i),
                    this.socket.off('timeout', i),
                    this.socket.off('drain', i),
                    this.traceSocketEvent('nodeDrainEnd'),
                    t();
                };
                this.socket.on('close', i),
                  this.socket.on('end', i),
                  this.socket.on('error', i),
                  this.socket.on('timeout', i),
                  this.socket.on('drain', i);
              })
            );
          }
        }),
        (function (t) {
          (t[(t.MinHeaderByteSize = 2)] = 'MinHeaderByteSize'),
            (t[(t.MaxWebSocketMessageLength = 262144)] = 'MaxWebSocketMessageLength');
        })(k6 || (k6 = {})),
        (function (t) {
          (t[(t.PeekHeader = 1)] = 'PeekHeader'),
            (t[(t.ReadHeader = 2)] = 'ReadHeader'),
            (t[(t.ReadBody = 3)] = 'ReadBody'),
            (t[(t.Fin = 4)] = 'Fin');
        })(S6 || (S6 = {})),
        (_d = process.env.XDG_RUNTIME_DIR),
        (E6 = { 2: 107, 1: 103 }),
        (C6 = class nI extends tm {
          static b(e) {
            const i = P.fromNodeEventEmitter(e, 'connection');
            return P.map(i, (s) => ({
              protocol: new sm(new Pl(s, 'ipc-server-connection')),
              onDidClientDisconnect: P.once(P.fromNodeEventEmitter(s, 'close')),
            }));
          }
          constructor(e) {
            super(nI.b(e)), (this.d = e);
          }
          dispose() {
            super.dispose(), this.d && (this.d.close(), (this.d = null));
          }
        });
    },
  });
import _l from 'electron';
var D6,
  de,
  Ei = b({
    'out-build/vs/base/parts/ipc/electron-main/ipcMain.js'() {
      'use strict';
      He(),
        Oe(),
        (D6 = class {
          constructor() {
            this.a = new WeakMap();
          }
          on(t, e) {
            const i = (s, ...r) => {
              this.b(t, s) && e(s, ...r);
            };
            return this.a.set(e, i), _l.ipcMain.on(t, i), this;
          }
          once(t, e) {
            return (
              _l.ipcMain.once(t, (i, ...s) => {
                this.b(t, i) && e(i, ...s);
              }),
              this
            );
          }
          handle(t, e) {
            return (
              _l.ipcMain.handle(t, (i, ...s) =>
                this.b(t, i)
                  ? e(i, ...s)
                  : Promise.reject(`Invalid channel '${t}' or sender for ipcMain.handle() usage.`)
              ),
              this
            );
          }
          removeHandler(t) {
            return _l.ipcMain.removeHandler(t), this;
          }
          removeListener(t, e) {
            const i = this.a.get(e);
            return i && (_l.ipcMain.removeListener(t, i), this.a.delete(e)), this;
          }
          b(t, e) {
            if (!t || !t.startsWith('vscode:'))
              return (
                Xt(
                  `Refused to handle ipcMain event for channel '${t}' because the channel is unknown.`
                ),
                !1
              );
            const i = e.senderFrame,
              s = i?.url;
            if (!s || s === 'about:blank') return !0;
            let r = 'unknown';
            try {
              const n = new URL(s);
              if (n.pathname === '/ide/auth-callback/desktop') return !0;
              r = n.host;
            } catch {
              return (
                Xt(
                  `Refused to handle ipcMain event for channel '${t}' because of a malformed URL '${s}'.`
                ),
                !1
              );
            }
            return r !== yl
              ? (Xt(
                  `Refused to handle ipcMain event for channel '${t}' because of a bad origin of '${r}'.`
                ),
                !1)
              : i?.parent !== null
              ? (Xt(
                  `Refused to handle ipcMain event for channel '${t}' because sender of origin '${r}' is not a main frame.`
                ),
                !1)
              : !0;
          }
        }),
        (de = new D6());
    },
  }),
  x6,
  A6,
  M_ = b({
    'out-build/vs/base/parts/contextmenu/common/contextmenu.js'() {
      'use strict';
      (x6 = 'vscode:contextmenu'), (A6 = 'vscode:onCloseContextMenu');
    },
  });
import { Menu as F_, MenuItem as nm } from 'electron';
function O_() {
  de.on(x6, (t, e, i, s, r) => {
    const n = I6(t, s, i);
    n.popup({
      x: r ? r.x : void 0,
      y: r ? r.y : void 0,
      positioningItem: r ? r.positioningItem : void 0,
      callback: () => {
        n && t.sender.send(A6, e);
      },
    });
  });
}
function I6(t, e, i) {
  const s = new F_();
  return (
    i.forEach((r) => {
      let n;
      r.type === 'separator'
        ? (n = new nm({ type: r.type }))
        : Array.isArray(r.submenu)
        ? (n = new nm({ submenu: I6(t, e, r.submenu), label: r.label }))
        : (n = new nm({
            label: r.label,
            type: r.type,
            accelerator: r.accelerator,
            checked: r.checked,
            enabled: r.enabled,
            visible: r.visible,
            click: (o, a, c) => t.sender.send(e, r.id, c),
          })),
        s.append(n);
    }),
    s
  );
}
var R_ = b({
    'out-build/vs/base/parts/contextmenu/electron-main/contextmenu.js'() {
      'use strict';
      Ei(), M_();
    },
  }),
  $6,
  N_ = b({
    'out-build/vs/base/parts/ipc/common/ipc.electron.js'() {
      'use strict';
      $6 = class {
        constructor(t, e) {
          (this.a = t), (this.onMessage = e);
        }
        send(t) {
          try {
            this.a.send('vscode:message', t.buffer);
          } catch {}
        }
        disconnect() {
          this.a.send('vscode:disconnect', null);
        }
      };
    },
  });
function P6(t, e) {
  const i = P.fromNodeEventEmitter(de, e, (r, n) => ({ event: r, message: n })),
    s = P.filter(i, ({ event: r }) => r.sender.id === t);
  return P.map(s, ({ message: r }) => r && re.wrap(r));
}
var _6,
  B_ = b({
    'out-build/vs/base/parts/ipc/electron-main/ipc.electron.js'() {
      'use strict';
      Ei(),
        bt(),
        X(),
        U(),
        Zr(),
        N_(),
        (_6 = class xg extends tm {
          static {
            this.b = new Map();
          }
          static d() {
            const e = P.fromNodeEventEmitter(de, 'vscode:hello', ({ sender: i }) => i);
            return P.map(e, (i) => {
              const s = i.id;
              xg.b.get(s)?.dispose();
              const n = new $();
              xg.b.set(
                s,
                _e(() => n.fire())
              );
              const o = P6(s, 'vscode:message'),
                a = P.any(P.signal(P6(s, 'vscode:disconnect')), n.event);
              return { protocol: new $6(i, o), onDidClientDisconnect: a };
            });
          }
          constructor() {
            super(xg.d());
          }
        });
    },
  }),
  L6,
  T6,
  U_ = b({
    'out-build/vs/base/parts/ipc/common/ipc.mp.js'() {
      'use strict';
      bt(),
        X(),
        Zr(),
        (L6 = class {
          constructor(t) {
            (this.a = t),
              (this.onMessage = P.fromDOMEventEmitter(this.a, 'message', (e) =>
                e.data ? re.wrap(e.data) : re.alloc(0)
              )),
              t.start();
          }
          send(t) {
            this.a.postMessage(t.buffer);
          }
          disconnect() {
            this.a.close();
          }
        }),
        (T6 = class extends im {
          constructor(t, e) {
            const i = new L6(t);
            super(i, e), (this.b = i);
          }
          dispose() {
            this.b.disconnect(), super.dispose();
          }
        });
    },
  }),
  om,
  M6 = b({
    'out-build/vs/base/parts/ipc/electron-main/ipc.mp.js'() {
      'use strict';
      Ei(),
        X(),
        hi(),
        U_(),
        (om = class extends T6 {
          constructor(t, e) {
            super(
              {
                addEventListener: (i, s) => t.addListener(i, s),
                removeEventListener: (i, s) => t.removeListener(i, s),
                postMessage: (i) => t.postMessage(i),
                start: () => t.start(),
                close: () => t.close(),
              },
              e
            );
          }
        });
    },
  });
function Un(t) {
  return am(t, 0);
}
function am(t, e) {
  switch (typeof t) {
    case 'object':
      return t === null ? en(349, e) : Array.isArray(t) ? W_(t, e) : H_(t, e);
    case 'string':
      return F6(t, e);
    case 'boolean':
      return j_(t, e);
    case 'number':
      return en(t, e);
    case 'undefined':
      return en(937, e);
    default:
      return en(617, e);
  }
}
function en(t, e) {
  return ((e << 5) - e + t) | 0;
}
function j_(t, e) {
  return en(t ? 433 : 863, e);
}
function F6(t, e) {
  e = en(149417, e);
  for (let i = 0, s = t.length; i < s; i++) e = en(t.charCodeAt(i), e);
  return e;
}
function W_(t, e) {
  return (e = en(104579, e)), t.reduce((i, s) => am(s, i), e);
}
function H_(t, e) {
  return (
    (e = en(181387, e)),
    Object.keys(t)
      .sort()
      .reduce((i, s) => ((i = F6(s, i)), am(t[s], i)), e)
  );
}
function cm(t, e, i = 32) {
  const s = i - e,
    r = ~((1 << s) - 1);
  return ((t << e) | ((r & t) >>> s)) >>> 0;
}
function Ll(t, e = 32) {
  return t instanceof ArrayBuffer
    ? Array.from(new Uint8Array(t))
        .map((i) => i.toString(16).padStart(2, '0'))
        .join('')
    : (t >>> 0).toString(16).padStart(e / 4, '0');
}
var O6,
  z_,
  Io = b({
    'out-build/vs/base/common/hash.js'() {
      'use strict';
      bt(),
        Wt(),
        (function (t) {
          (t[(t.BLOCK_SIZE = 64)] = 'BLOCK_SIZE'),
            (t[(t.UNICODE_REPLACEMENT = 65533)] = 'UNICODE_REPLACEMENT');
        })(O6 || (O6 = {})),
        (z_ = class oI {
          static {
            this.g = new DataView(new ArrayBuffer(320));
          }
          constructor() {
            (this.h = 1732584193),
              (this.l = 4023233417),
              (this.m = 2562383102),
              (this.n = 271733878),
              (this.o = 3285377520),
              (this.p = new Uint8Array(67)),
              (this.q = new DataView(this.p.buffer)),
              (this.r = 0),
              (this.t = 0),
              (this.u = 0),
              (this.v = !1);
          }
          update(e) {
            const i = e.length;
            if (i === 0) return;
            const s = this.p;
            let r = this.r,
              n = this.u,
              o,
              a;
            for (n !== 0 ? ((o = n), (a = -1), (n = 0)) : ((o = e.charCodeAt(0)), (a = 0)); ; ) {
              let c = o;
              if (pP(o))
                if (a + 1 < i) {
                  const l = e.charCodeAt(a + 1);
                  a5(l) ? (a++, (c = gP(o, l))) : (c = 65533);
                } else {
                  n = o;
                  break;
                }
              else a5(o) && (c = 65533);
              if (((r = this.w(s, r, c)), a++, a < i)) o = e.charCodeAt(a);
              else break;
            }
            (this.r = r), (this.u = n);
          }
          w(e, i, s) {
            return (
              s < 128
                ? (e[i++] = s)
                : s < 2048
                ? ((e[i++] = 192 | ((s & 1984) >>> 6)), (e[i++] = 128 | ((s & 63) >>> 0)))
                : s < 65536
                ? ((e[i++] = 224 | ((s & 61440) >>> 12)),
                  (e[i++] = 128 | ((s & 4032) >>> 6)),
                  (e[i++] = 128 | ((s & 63) >>> 0)))
                : ((e[i++] = 240 | ((s & 1835008) >>> 18)),
                  (e[i++] = 128 | ((s & 258048) >>> 12)),
                  (e[i++] = 128 | ((s & 4032) >>> 6)),
                  (e[i++] = 128 | ((s & 63) >>> 0))),
              i >= 64 &&
                (this.y(),
                (i -= 64),
                (this.t += 64),
                (e[0] = e[64]),
                (e[1] = e[65]),
                (e[2] = e[66])),
              i
            );
          }
          digest() {
            return (
              this.v ||
                ((this.v = !0),
                this.u && ((this.u = 0), (this.r = this.w(this.p, this.r, 65533))),
                (this.t += this.r),
                this.x()),
              Ll(this.h) + Ll(this.l) + Ll(this.m) + Ll(this.n) + Ll(this.o)
            );
          }
          x() {
            (this.p[this.r++] = 128),
              this.p.subarray(this.r).fill(0),
              this.r > 56 && (this.y(), this.p.fill(0));
            const e = 8 * this.t;
            this.q.setUint32(56, Math.floor(e / 4294967296), !1),
              this.q.setUint32(60, e % 4294967296, !1),
              this.y();
          }
          y() {
            const e = oI.g,
              i = this.q;
            for (let d = 0; d < 64; d += 4) e.setUint32(d, i.getUint32(d, !1), !1);
            for (let d = 64; d < 320; d += 4)
              e.setUint32(
                d,
                cm(
                  e.getUint32(d - 12, !1) ^
                    e.getUint32(d - 32, !1) ^
                    e.getUint32(d - 56, !1) ^
                    e.getUint32(d - 64, !1),
                  1
                ),
                !1
              );
            let s = this.h,
              r = this.l,
              n = this.m,
              o = this.n,
              a = this.o,
              c,
              l,
              h;
            for (let d = 0; d < 80; d++)
              d < 20
                ? ((c = (r & n) | (~r & o)), (l = 1518500249))
                : d < 40
                ? ((c = r ^ n ^ o), (l = 1859775393))
                : d < 60
                ? ((c = (r & n) | (r & o) | (n & o)), (l = 2400959708))
                : ((c = r ^ n ^ o), (l = 3395469782)),
                (h = (cm(s, 5) + c + a + l + e.getUint32(d * 4, !1)) & 4294967295),
                (a = o),
                (o = n),
                (n = cm(r, 30)),
                (r = s),
                (s = h);
            (this.h = (this.h + s) & 4294967295),
              (this.l = (this.l + r) & 4294967295),
              (this.m = (this.m + n) & 4294967295),
              (this.n = (this.n + o) & 4294967295),
              (this.o = (this.o + a) & 4294967295);
          }
        });
    },
  }),
  V_,
  Ld,
  R6,
  N6,
  B6 = b({
    'out-build/vs/platform/encryption/common/encryptionService.js'() {
      'use strict';
      K(),
        (V_ = W('encryptionService')),
        (Ld = W('encryptionMainService')),
        (function (t) {
          (t.kwallet = 'kwallet'),
            (t.kwallet5 = 'kwallet5'),
            (t.gnomeLibsecret = 'gnome-libsecret'),
            (t.basic = 'basic');
        })(R6 || (R6 = {})),
        (function (t) {
          (t.unknown = 'unknown'),
            (t.basicText = 'basic_text'),
            (t.gnomeAny = 'gnome_any'),
            (t.gnomeLibsecret = 'gnome_libsecret'),
            (t.gnomeKeyring = 'gnome_keyring'),
            (t.kwallet = 'kwallet'),
            (t.kwallet5 = 'kwallet5'),
            (t.kwallet6 = 'kwallet6'),
            (t.dplib = 'dpapi'),
            (t.keychainAccess = 'keychain_access');
        })(N6 || (N6 = {}));
    },
  }),
  vr,
  $s,
  Xi = b({
    'out-build/vs/platform/environment/common/environment.js'() {
      'use strict';
      K(), (vr = W('environmentService')), ($s = vr);
    },
  });
function U6(t) {
  return (
    t.getFullYear() +
    '-' +
    String(t.getMonth() + 1).padStart(2, '0') +
    '-' +
    String(t.getDate()).padStart(2, '0') +
    'T' +
    String(t.getHours()).padStart(2, '0') +
    ':' +
    String(t.getMinutes()).padStart(2, '0') +
    ':' +
    String(t.getSeconds()).padStart(2, '0') +
    '.' +
    (t.getMilliseconds() / 1e3).toFixed(3).slice(2, 5) +
    'Z'
  );
}
var j6,
  W6,
  Td,
  G_,
  q_,
  K_,
  J_ = b({
    'out-build/vs/base/common/date.js'() {
      'use strict';
      he(),
        ie(),
        (j6 = 60),
        (W6 = j6 * 60),
        (Td = W6 * 24),
        (G_ = Td * 7),
        (q_ = Td * 30),
        (K_ = Td * 365);
    },
  });
function X_(t, e) {
  return lm(
    t['inspect-extensions'],
    t['inspect-brk-extensions'],
    5870,
    e,
    t.debugId,
    t.extensionEnvironment
  );
}
function lm(t, e, i, s, r, n) {
  const a = Number(e || t) || (s ? null : i),
    c = a ? !!e : !1;
  let l;
  if (n)
    try {
      l = JSON.parse(n);
    } catch {}
  return { port: a, break: c, debugId: r, env: l };
}
var um,
  Ne,
  Y_ = b({
    'out-build/vs/platform/environment/common/environmentService.js'() {
      'use strict';
      J_(),
        Qr(),
        Oe(),
        xe(),
        Vs(),
        lt(),
        be(),
        (um = /^([^.]+\..+)[:=](.+)$/),
        (Ne = class {
          get appRoot() {
            return vi(Ht.asFileUri('').fsPath);
          }
          get userHome() {
            return _.file(this.b.homeDir);
          }
          get userDataPath() {
            return this.b.userDataDir;
          }
          get appSettingsHome() {
            return _.file(M(this.userDataPath, 'User'));
          }
          get localStoragePath() {
            return _.file(M(this.userDataPath, 'Local Storage'));
          }
          get tmpDir() {
            return _.file(this.b.tmpDir);
          }
          get cacheHome() {
            return _.file(this.userDataPath);
          }
          get stateResource() {
            return we(this.appSettingsHome, 'globalStorage', 'storage.json');
          }
          get userRoamingDataHome() {
            return this.appSettingsHome.with({ scheme: N.vscodeUserData });
          }
          get userDataSyncHome() {
            return we(this.appSettingsHome, 'sync');
          }
          get logsHome() {
            if (!this.args.logsPath) {
              const t = U6(new Date()).replace(/-|:|\.\d+Z$/g, '');
              this.args.logsPath = M(this.userDataPath, 'logs', t);
            }
            return _.file(this.args.logsPath);
          }
          get productDataResource() {
            const t = Ye.VSCODE_PORTABLE;
            let e;
            return t ? (e = _.file(t)) : (e = we(this.userHome, this.c.dataFolderName)), e;
          }
          get extensionHostLogsHome() {
            if (!this.args.extHostLogsPath) {
              const t = Ye.ICUBE_CUSTOM_EXTENSION_HOST_LOGS_HOME;
              if (t) {
                const e = U6(new Date()).replace(/-|:|\.\d+Z$/g, '');
                this.args.extHostLogsPath = M(t, 'logs', e);
              }
            }
            return this.args.extHostLogsPath ? _.file(this.args.extHostLogsPath) : void 0;
          }
          get sync() {
            return this.args.sync;
          }
          get machineSettingsResource() {
            return we(_.file(M(this.userDataPath, 'Machine')), 'settings.json');
          }
          get workspaceStorageHome() {
            return we(this.appSettingsHome, 'workspaceStorage');
          }
          get localHistoryHome() {
            return we(this.appSettingsHome, 'History');
          }
          get keyboardLayoutResource() {
            return we(this.userRoamingDataHome, 'keyboardLayout.json');
          }
          get argvResource() {
            const t = Ye.VSCODE_PORTABLE;
            return t
              ? _.file(M(t, 'argv.json'))
              : we(this.userHome, this.c.dataFolderName, 'argv.json');
          }
          get isExtensionDevelopment() {
            return !!this.args.extensionDevelopmentPath;
          }
          get untitledWorkspacesHome() {
            return _.file(M(this.userDataPath, 'Workspaces'));
          }
          get builtinExtensionsPath() {
            const t = this.args['builtin-extensions-dir'];
            return t ? Gs(t) : _i(M(Ht.asFileUri('').fsPath, '..', 'extensions'));
          }
          get iCubeBuiltinAgentExtensionsPath() {
            const t = this.args['builtin-agent-extensions-dir'];
            return t ? Gs(t) : _i(M(Ht.asFileUri('').fsPath, '..', 'agent-extensions'));
          }
          get extensionsDownloadLocation() {
            const t = this.args['extensions-download-dir'];
            return t ? _.file(Gs(t)) : _.file(M(this.userDataPath, 'CachedExtensionVSIXs'));
          }
          get iCubeAgentExtensionsDownloadLocation() {
            const t = this.args['agent-extensions-download-dir'];
            return t ? _.file(Gs(t)) : _.file(M(this.userDataPath, 'CachedAgentExtensionZips'));
          }
          get extensionsPath() {
            const t = this.args['extensions-dir'];
            if (t) return Gs(t);
            const e = Ye.VSCODE_EXTENSIONS;
            if (e) return e;
            const i = Ye.VSCODE_PORTABLE;
            return i
              ? M(i, 'extensions')
              : we(this.userHome, this.c.dataFolderName, 'extensions').fsPath;
          }
          get extensionDevelopmentLocationURI() {
            const t = this.args.extensionDevelopmentPath;
            if (Array.isArray(t))
              return t.map((e) => (/^[^:/?#]+?:\/\//.test(e) ? _.parse(e) : _.file(_i(e))));
          }
          get extensionDevelopmentKind() {
            return this.args.extensionDevelopmentKind?.map((t) =>
              t === 'ui' || t === 'workspace' || t === 'web' ? t : 'workspace'
            );
          }
          get extensionTestsLocationURI() {
            const t = this.args.extensionTestsPath;
            if (t) return /^[^:/?#]+?:\/\//.test(t) ? _.parse(t) : _.file(_i(t));
          }
          get disableExtensions() {
            if (this.args['disable-extensions']) return !0;
            const t = this.args['disable-extension'];
            if (t) {
              if (typeof t == 'string') return [t];
              if (Array.isArray(t) && t.length > 0) return t;
            }
            return !1;
          }
          get debugExtensionHost() {
            return X_(this.args, this.isBuilt);
          }
          get debugRenderer() {
            return !!this.args.debugRenderer;
          }
          get isBuilt() {
            return !Ye.VSCODE_DEV;
          }
          get verbose() {
            return !!this.args.verbose;
          }
          get logLevel() {
            return this.args.log?.find((t) => !um.test(t));
          }
          get extensionLogLevel() {
            const t = [];
            for (const e of this.args.log || []) {
              const i = um.exec(e);
              i && i[1] && i[2] && t.push([i[1], i[2]]);
            }
            return t.length ? t : void 0;
          }
          get serviceMachineIdResource() {
            return we(_.file(this.userDataPath), 'machineid');
          }
          get crashReporterId() {
            return this.args['crash-reporter-id'];
          }
          get crashReporterDirectory() {
            return this.args['crash-reporter-directory'];
          }
          get disableTelemetry() {
            return !!this.args['disable-telemetry'];
          }
          get disableWorkspaceTrust() {
            return !!this.args['disable-workspace-trust'];
          }
          get useInMemorySecretStorage() {
            return !!this.args['use-inmemory-secretstorage'];
          }
          get policyFile() {
            if (this.args['__enable-file-policy']) {
              const t = Ye.VSCODE_PORTABLE;
              return t
                ? _.file(M(t, 'policy.json'))
                : we(this.userHome, this.c.dataFolderName, 'policy.json');
            }
          }
          get editSessionId() {
            return this.args.editSessionId;
          }
          get continueOn() {
            return this.args.continueOn;
          }
          set continueOn(t) {
            this.args.continueOn = t;
          }
          get args() {
            return this.a;
          }
          constructor(t, e, i) {
            (this.a = t), (this.b = e), (this.c = i);
          }
          get iCubeAgentExtensionsPath() {
            const t = this.args['agent-extensions-dir'];
            if (t) return Gs(t);
            const e = Ye.VSCODE_AGENT_EXTENSIONS;
            if (e) return e;
            const i = Ye.VSCODE_PORTABLE;
            return i
              ? M(i, 'agent-extensions')
              : we(this.userHome, this.c.dataFolderName, 'agent-extensions').fsPath;
          }
          get iCubeEnvRuntimePath() {
            const t = this.args['env-runtime-dir'];
            if (t) return Gs(t);
            const e = Ye.VSCODE_ICUBE_ENV_RUNTIME;
            if (e) return e;
            const i = Ye.VSCODE_PORTABLE;
            return i
              ? M(i, 'env-runtime')
              : we(this.userHome, this.c.dataFolderName, 'env-runtime').fsPath;
          }
        }),
        __decorate([ye], Ne.prototype, 'appRoot', null),
        __decorate([ye], Ne.prototype, 'userHome', null),
        __decorate([ye], Ne.prototype, 'userDataPath', null),
        __decorate([ye], Ne.prototype, 'appSettingsHome', null),
        __decorate([ye], Ne.prototype, 'localStoragePath', null),
        __decorate([ye], Ne.prototype, 'tmpDir', null),
        __decorate([ye], Ne.prototype, 'cacheHome', null),
        __decorate([ye], Ne.prototype, 'stateResource', null),
        __decorate([ye], Ne.prototype, 'userRoamingDataHome', null),
        __decorate([ye], Ne.prototype, 'userDataSyncHome', null),
        __decorate([ye], Ne.prototype, 'productDataResource', null),
        __decorate([ye], Ne.prototype, 'sync', null),
        __decorate([ye], Ne.prototype, 'machineSettingsResource', null),
        __decorate([ye], Ne.prototype, 'workspaceStorageHome', null),
        __decorate([ye], Ne.prototype, 'localHistoryHome', null),
        __decorate([ye], Ne.prototype, 'keyboardLayoutResource', null),
        __decorate([ye], Ne.prototype, 'argvResource', null),
        __decorate([ye], Ne.prototype, 'isExtensionDevelopment', null),
        __decorate([ye], Ne.prototype, 'untitledWorkspacesHome', null),
        __decorate([ye], Ne.prototype, 'builtinExtensionsPath', null),
        __decorate([ye], Ne.prototype, 'iCubeBuiltinAgentExtensionsPath', null),
        __decorate([ye], Ne.prototype, 'extensionsPath', null),
        __decorate([ye], Ne.prototype, 'extensionDevelopmentLocationURI', null),
        __decorate([ye], Ne.prototype, 'extensionDevelopmentKind', null),
        __decorate([ye], Ne.prototype, 'extensionTestsLocationURI', null),
        __decorate([ye], Ne.prototype, 'debugExtensionHost', null),
        __decorate([ye], Ne.prototype, 'logLevel', null),
        __decorate([ye], Ne.prototype, 'extensionLogLevel', null),
        __decorate([ye], Ne.prototype, 'serviceMachineIdResource', null),
        __decorate([ye], Ne.prototype, 'disableTelemetry', null),
        __decorate([ye], Ne.prototype, 'disableWorkspaceTrust', null),
        __decorate([ye], Ne.prototype, 'useInMemorySecretStorage', null),
        __decorate([ye], Ne.prototype, 'policyFile', null),
        __decorate([ye], Ne.prototype, 'iCubeAgentExtensionsPath', null),
        __decorate([ye], Ne.prototype, 'iCubeEnvRuntimePath', null);
    },
  });
import { homedir as Q_, tmpdir as Z_ } from 'os';
function eL(t, e) {
  return lm(t['inspect-ptyhost'], t['inspect-brk-ptyhost'], 5877, e, t.extensionEnvironment);
}
function tL(t, e) {
  return lm(
    t['inspect-sharedprocess'],
    t['inspect-brk-sharedprocess'],
    5879,
    e,
    t.extensionEnvironment
  );
}
var H6,
  hm = b({
    'out-build/vs/platform/environment/node/environmentService.js'() {
      'use strict';
      Y_(),
        zg(),
        (H6 = class extends Ne {
          constructor(t, e) {
            super(t, { homeDir: Q_(), tmpDir: Z_(), userDataDir: Hg(t, e.nameShort) }, e);
          }
        });
    },
  }),
  dt,
  tn,
  vt = b({
    'out-build/vs/platform/environment/electron-main/environmentMainService.js'() {
      'use strict';
      Qr(),
        xe(),
        ie(),
        rm(),
        Xi(),
        hm(),
        K(),
        (dt = vr),
        (tn = class extends H6 {
          constructor() {
            super(...arguments), (this.d = {});
          }
          get backupHome() {
            return M(this.userDataPath, 'Backups');
          }
          get mainIPCHandle() {
            return P_(this.userDataPath, 'main', this.c.version);
          }
          get mainLockfile() {
            return M(this.userDataPath, 'code.lock');
          }
          get disableUpdates() {
            return !!this.args['disable-updates'];
          }
          get crossOriginIsolated() {
            return !!this.args['enable-coi'];
          }
          get codeCachePath() {
            return process.env.VSCODE_CODE_CACHE_PATH || void 0;
          }
          get useCodeCache() {
            return !!this.codeCachePath;
          }
          unsetSnapExportedVariables() {
            if (Fe) {
              for (const t in process.env)
                if (t.endsWith('_VSCODE_SNAP_ORIG')) {
                  const e = t.slice(0, -17);
                  if (this.d[e]) continue;
                  process.env[e] && (this.d[e] = process.env[e]),
                    process.env[t] ? (process.env[e] = process.env[t]) : delete process.env[e];
                }
            }
          }
          restoreSnapExportedVariables() {
            if (Fe) for (const t in this.d) (process.env[t] = this.d[t]), delete this.d[t];
          }
        }),
        __decorate([ye], tn.prototype, 'backupHome', null),
        __decorate([ye], tn.prototype, 'mainIPCHandle', null),
        __decorate([ye], tn.prototype, 'mainLockfile', null),
        __decorate([ye], tn.prototype, 'disableUpdates', null),
        __decorate([ye], tn.prototype, 'crossOriginIsolated', null),
        __decorate([ye], tn.prototype, 'codeCachePath', null),
        __decorate([ye], tn.prototype, 'useCodeCache', null);
    },
  });
function dm(...t) {
  switch (t.length) {
    case 1:
      return u(1805, null, t[0]);
    case 2:
      return u(1806, null, t[0], t[1]);
    case 3:
      return u(1807, null, t[0], t[1], t[2]);
    default:
      return;
  }
}
var z6,
  V6,
  G6,
  Ba,
  iL = b({
    'out-build/vs/platform/contextkey/common/scanner.js'() {
      'use strict';
      He(),
        he(),
        (function (t) {
          (t[(t.LParen = 0)] = 'LParen'),
            (t[(t.RParen = 1)] = 'RParen'),
            (t[(t.Neg = 2)] = 'Neg'),
            (t[(t.Eq = 3)] = 'Eq'),
            (t[(t.NotEq = 4)] = 'NotEq'),
            (t[(t.Lt = 5)] = 'Lt'),
            (t[(t.LtEq = 6)] = 'LtEq'),
            (t[(t.Gt = 7)] = 'Gt'),
            (t[(t.GtEq = 8)] = 'GtEq'),
            (t[(t.RegexOp = 9)] = 'RegexOp'),
            (t[(t.RegexStr = 10)] = 'RegexStr'),
            (t[(t.True = 11)] = 'True'),
            (t[(t.False = 12)] = 'False'),
            (t[(t.In = 13)] = 'In'),
            (t[(t.Not = 14)] = 'Not'),
            (t[(t.And = 15)] = 'And'),
            (t[(t.Or = 16)] = 'Or'),
            (t[(t.Str = 17)] = 'Str'),
            (t[(t.QuotedStr = 18)] = 'QuotedStr'),
            (t[(t.Error = 19)] = 'Error'),
            (t[(t.EOF = 20)] = 'EOF');
        })(z6 || (z6 = {})),
        (V6 = u(1808, null)),
        (G6 = u(1809, null)),
        (Ba = class Zy {
          constructor() {
            (this.c = ''),
              (this.d = 0),
              (this.e = 0),
              (this.f = []),
              (this.g = []),
              (this.m = /[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy);
          }
          static getLexeme(e) {
            switch (e.type) {
              case 0:
                return '(';
              case 1:
                return ')';
              case 2:
                return '!';
              case 3:
                return e.isTripleEq ? '===' : '==';
              case 4:
                return e.isTripleEq ? '!==' : '!=';
              case 5:
                return '<';
              case 6:
                return '<=';
              case 7:
                return '>=';
              case 8:
                return '>=';
              case 9:
                return '=~';
              case 10:
                return e.lexeme;
              case 11:
                return 'true';
              case 12:
                return 'false';
              case 13:
                return 'in';
              case 14:
                return 'not';
              case 15:
                return '&&';
              case 16:
                return '||';
              case 17:
                return e.lexeme;
              case 18:
                return e.lexeme;
              case 19:
                return e.lexeme;
              case 20:
                return 'EOF';
              default:
                throw p4(
                  `unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`
                );
            }
          }
          static {
            this.a = new Set(['i', 'g', 's', 'm', 'y', 'u'].map((e) => e.charCodeAt(0)));
          }
          static {
            this.b = new Map([
              ['not', 14],
              ['in', 13],
              ['false', 12],
              ['true', 11],
            ]);
          }
          get errors() {
            return this.g;
          }
          reset(e) {
            return (this.c = e), (this.d = 0), (this.e = 0), (this.f = []), (this.g = []), this;
          }
          scan() {
            for (; !this.r(); )
              switch (((this.d = this.e), this.i())) {
                case 40:
                  this.k(0);
                  break;
                case 41:
                  this.k(1);
                  break;
                case 33:
                  if (this.h(61)) {
                    const i = this.h(61);
                    this.f.push({ type: 4, offset: this.d, isTripleEq: i });
                  } else this.k(2);
                  break;
                case 39:
                  this.o();
                  break;
                case 47:
                  this.q();
                  break;
                case 61:
                  if (this.h(61)) {
                    const i = this.h(61);
                    this.f.push({ type: 3, offset: this.d, isTripleEq: i });
                  } else this.h(126) ? this.k(9) : this.l(dm('==', '=~'));
                  break;
                case 60:
                  this.k(this.h(61) ? 6 : 5);
                  break;
                case 62:
                  this.k(this.h(61) ? 8 : 7);
                  break;
                case 38:
                  this.h(38) ? this.k(15) : this.l(dm('&&'));
                  break;
                case 124:
                  this.h(124) ? this.k(16) : this.l(dm('||'));
                  break;
                case 32:
                case 13:
                case 9:
                case 10:
                case 160:
                  break;
                default:
                  this.n();
              }
            return (this.d = this.e), this.k(20), Array.from(this.f);
          }
          h(e) {
            return this.r() || this.c.charCodeAt(this.e) !== e ? !1 : (this.e++, !0);
          }
          i() {
            return this.c.charCodeAt(this.e++);
          }
          j() {
            return this.r() ? 0 : this.c.charCodeAt(this.e);
          }
          k(e) {
            this.f.push({ type: e, offset: this.d });
          }
          l(e) {
            const i = this.d,
              s = this.c.substring(this.d, this.e),
              r = { type: 19, offset: this.d, lexeme: s };
            this.g.push({ offset: i, lexeme: s, additionalInfo: e }), this.f.push(r);
          }
          n() {
            this.m.lastIndex = this.d;
            const e = this.m.exec(this.c);
            if (e) {
              this.e = this.d + e[0].length;
              const i = this.c.substring(this.d, this.e),
                s = Zy.b.get(i);
              s ? this.k(s) : this.f.push({ type: 17, lexeme: i, offset: this.d });
            }
          }
          o() {
            for (; this.j() !== 39 && !this.r(); ) this.i();
            if (this.r()) {
              this.l(V6);
              return;
            }
            this.i(),
              this.f.push({
                type: 18,
                lexeme: this.c.substring(this.d + 1, this.e - 1),
                offset: this.d + 1,
              });
          }
          q() {
            let e = this.e,
              i = !1,
              s = !1;
            for (;;) {
              if (e >= this.c.length) {
                (this.e = e), this.l(G6);
                return;
              }
              const n = this.c.charCodeAt(e);
              if (i) i = !1;
              else if (n === 47 && !s) {
                e++;
                break;
              } else n === 91 ? (s = !0) : n === 92 ? (i = !0) : n === 93 && (s = !1);
              e++;
            }
            for (; e < this.c.length && Zy.a.has(this.c.charCodeAt(e)); ) e++;
            this.e = e;
            const r = this.c.substring(this.d, this.e);
            this.f.push({ type: 10, lexeme: r, offset: this.d });
          }
          r() {
            return this.e >= this.c.length;
          }
        });
    },
  });
function Tl(t, e) {
  return t.cmp(e);
}
function Md(t, e) {
  if (typeof t == 'string') {
    const i = parseFloat(t);
    isNaN(i) || (t = i);
  }
  return typeof t == 'string' || typeof t == 'number' ? e(t) : Mi.INSTANCE;
}
function q6(t) {
  let e = null;
  for (let i = 0, s = t.length; i < s; i++) {
    const r = t[i].substituteConstants();
    if (t[i] !== r && e === null) {
      e = [];
      for (let n = 0; n < i; n++) e[n] = t[n];
    }
    e !== null && (e[i] = r);
  }
  return e === null ? t : e;
}
function K6(t, e) {
  return t < e ? -1 : t > e ? 1 : 0;
}
function $o(t, e, i, s) {
  return t < i ? -1 : t > i ? 1 : e < s ? -1 : e > s ? 1 : 0;
}
function J6(t) {
  return t.type === 9 ? t.expr : [t];
}
var ti,
  X6,
  Y6,
  Q6,
  Z6,
  e7,
  t7,
  fm,
  i7,
  s7,
  r7,
  n7,
  o7,
  Ci,
  Mi,
  Yi,
  Ua,
  Fd,
  pm,
  gm,
  Od,
  ja,
  Rd,
  Nd,
  Bd,
  Ud,
  jd,
  a7,
  mm,
  Wd,
  wm,
  sL,
  c7 = b({
    'out-build/vs/platform/contextkey/common/contextkey.js'() {
      'use strict';
      ie(),
        Wt(),
        iL(),
        K(),
        he(),
        He(),
        (ti = new Map()),
        ti.set('false', !1),
        ti.set('true', !0),
        ti.set('isMac', Q),
        ti.set('isLinux', Fe),
        ti.set('isWindows', J),
        ti.set('isWeb', xn),
        ti.set('isMacNative', Q && !xn),
        ti.set('isEdge', r2),
        ti.set('isFirefox', i2),
        ti.set('isChrome', c0),
        ti.set('isSafari', s2),
        (X6 = Object.prototype.hasOwnProperty),
        (function (t) {
          (t[(t.False = 0)] = 'False'),
            (t[(t.True = 1)] = 'True'),
            (t[(t.Defined = 2)] = 'Defined'),
            (t[(t.Not = 3)] = 'Not'),
            (t[(t.Equals = 4)] = 'Equals'),
            (t[(t.NotEquals = 5)] = 'NotEquals'),
            (t[(t.And = 6)] = 'And'),
            (t[(t.Regex = 7)] = 'Regex'),
            (t[(t.NotRegex = 8)] = 'NotRegex'),
            (t[(t.Or = 9)] = 'Or'),
            (t[(t.In = 10)] = 'In'),
            (t[(t.NotIn = 11)] = 'NotIn'),
            (t[(t.Greater = 12)] = 'Greater'),
            (t[(t.GreaterEquals = 13)] = 'GreaterEquals'),
            (t[(t.Smaller = 14)] = 'Smaller'),
            (t[(t.SmallerEquals = 15)] = 'SmallerEquals');
        })(Y6 || (Y6 = {})),
        (Q6 = { regexParsingWithErrorRecovery: !0 }),
        (Z6 = u(1783, null)),
        (e7 = u(1784, null)),
        (t7 = u(1785, null)),
        (fm = u(1786, null)),
        (i7 = u(1787, null)),
        (s7 = u(1788, null)),
        (r7 = u(1789, null)),
        (n7 = u(1790, null)),
        (o7 = class Rh {
          static {
            this.c = new Error();
          }
          get lexingErrors() {
            return this.d.errors;
          }
          get parsingErrors() {
            return this.h;
          }
          constructor(e = Q6) {
            (this.k = e),
              (this.d = new Ba()),
              (this.f = []),
              (this.g = 0),
              (this.h = []),
              (this.v = /g|y/g);
          }
          parse(e) {
            if (e === '') {
              this.h.push({ message: Z6, offset: 0, lexeme: '', additionalInfo: e7 });
              return;
            }
            (this.f = this.d.reset(e).scan()), (this.g = 0), (this.h = []);
            try {
              const i = this.l();
              if (!this.E()) {
                const s = this.D(),
                  r = s.type === 17 ? s7 : void 0;
                throw (
                  (this.h.push({
                    message: i7,
                    offset: s.offset,
                    lexeme: Ba.getLexeme(s),
                    additionalInfo: r,
                  }),
                  Rh.c)
                );
              }
              return i;
            } catch (i) {
              if (i !== Rh.c) throw i;
              return;
            }
          }
          l() {
            return this.m();
          }
          m() {
            const e = [this.o()];
            for (; this.y(16); ) {
              const i = this.o();
              e.push(i);
            }
            return e.length === 1 ? e[0] : Ci.or(...e);
          }
          o() {
            const e = [this.s()];
            for (; this.y(15); ) {
              const i = this.s();
              e.push(i);
            }
            return e.length === 1 ? e[0] : Ci.and(...e);
          }
          s() {
            if (this.y(2)) {
              const e = this.D();
              switch (e.type) {
                case 11:
                  return this.z(), Mi.INSTANCE;
                case 12:
                  return this.z(), Yi.INSTANCE;
                case 0: {
                  this.z();
                  const i = this.l();
                  return this.A(1, fm), i?.negate();
                }
                case 17:
                  return this.z(), ja.create(e.lexeme);
                default:
                  throw this.B("KEY | true | false | '(' expression ')'", e);
              }
            }
            return this.t();
          }
          t() {
            const e = this.D();
            switch (e.type) {
              case 11:
                return this.z(), Ci.true();
              case 12:
                return this.z(), Ci.false();
              case 0: {
                this.z();
                const i = this.l();
                return this.A(1, fm), i;
              }
              case 17: {
                const i = e.lexeme;
                if ((this.z(), this.y(9))) {
                  const r = this.D();
                  if (!this.k.regexParsingWithErrorRecovery) {
                    if ((this.z(), r.type !== 10)) throw this.B('REGEX', r);
                    const n = r.lexeme,
                      o = n.lastIndexOf('/'),
                      a = o === n.length - 1 ? void 0 : this.w(n.substring(o + 1));
                    let c;
                    try {
                      c = new RegExp(n.substring(1, o), a);
                    } catch {
                      throw this.B('REGEX', r);
                    }
                    return jd.create(i, c);
                  }
                  switch (r.type) {
                    case 10:
                    case 19: {
                      const n = [r.lexeme];
                      this.z();
                      let o = this.D(),
                        a = 0;
                      for (let p = 0; p < r.lexeme.length; p++)
                        r.lexeme.charCodeAt(p) === 40 ? a++ : r.lexeme.charCodeAt(p) === 41 && a--;
                      for (; !this.E() && o.type !== 15 && o.type !== 16; ) {
                        switch (o.type) {
                          case 0:
                            a++;
                            break;
                          case 1:
                            a--;
                            break;
                          case 10:
                          case 18:
                            for (let p = 0; p < o.lexeme.length; p++)
                              o.lexeme.charCodeAt(p) === 40
                                ? a++
                                : r.lexeme.charCodeAt(p) === 41 && a--;
                        }
                        if (a < 0) break;
                        n.push(Ba.getLexeme(o)), this.z(), (o = this.D());
                      }
                      const c = n.join(''),
                        l = c.lastIndexOf('/'),
                        h = l === c.length - 1 ? void 0 : this.w(c.substring(l + 1));
                      let d;
                      try {
                        d = new RegExp(c.substring(1, l), h);
                      } catch {
                        throw this.B('REGEX', r);
                      }
                      return Ci.regex(i, d);
                    }
                    case 18: {
                      const n = r.lexeme;
                      this.z();
                      let o = null;
                      if (!fP(n)) {
                        const a = n.indexOf('/'),
                          c = n.lastIndexOf('/');
                        if (a !== c && a >= 0) {
                          const l = n.slice(a + 1, c),
                            h = n[c + 1] === 'i' ? 'i' : '';
                          try {
                            o = new RegExp(l, h);
                          } catch {
                            throw this.B('REGEX', r);
                          }
                        }
                      }
                      if (o === null) throw this.B('REGEX', r);
                      return jd.create(i, o);
                    }
                    default:
                      throw this.B('REGEX', this.D());
                  }
                }
                if (this.y(14)) {
                  this.A(13, t7);
                  const r = this.u();
                  return Ci.notIn(i, r);
                }
                switch (this.D().type) {
                  case 3: {
                    this.z();
                    const r = this.u();
                    if (this.x().type === 18) return Ci.equals(i, r);
                    switch (r) {
                      case 'true':
                        return Ci.has(i);
                      case 'false':
                        return Ci.not(i);
                      default:
                        return Ci.equals(i, r);
                    }
                  }
                  case 4: {
                    this.z();
                    const r = this.u();
                    if (this.x().type === 18) return Ci.notEquals(i, r);
                    switch (r) {
                      case 'true':
                        return Ci.not(i);
                      case 'false':
                        return Ci.has(i);
                      default:
                        return Ci.notEquals(i, r);
                    }
                  }
                  case 5:
                    return this.z(), Bd.create(i, this.u());
                  case 6:
                    return this.z(), Ud.create(i, this.u());
                  case 7:
                    return this.z(), Rd.create(i, this.u());
                  case 8:
                    return this.z(), Nd.create(i, this.u());
                  case 13:
                    return this.z(), Ci.in(i, this.u());
                  default:
                    return Ci.has(i);
                }
              }
              case 20:
                throw (
                  (this.h.push({ message: r7, offset: e.offset, lexeme: '', additionalInfo: n7 }),
                  Rh.c)
                );
              default:
                throw this.B(
                  `true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,
                  this.D()
                );
            }
          }
          u() {
            const e = this.D();
            switch (e.type) {
              case 17:
              case 18:
                return this.z(), e.lexeme;
              case 11:
                return this.z(), 'true';
              case 12:
                return this.z(), 'false';
              case 13:
                return this.z(), 'in';
              default:
                return '';
            }
          }
          w(e) {
            return e.replaceAll(this.v, '');
          }
          x() {
            return this.f[this.g - 1];
          }
          y(e) {
            return this.C(e) ? (this.z(), !0) : !1;
          }
          z() {
            return this.E() || this.g++, this.x();
          }
          A(e, i) {
            if (this.C(e)) return this.z();
            throw this.B(i, this.D());
          }
          B(e, i, s) {
            const r = u(1791, null, e, Ba.getLexeme(i)),
              n = i.offset,
              o = Ba.getLexeme(i);
            return this.h.push({ message: r, offset: n, lexeme: o, additionalInfo: s }), Rh.c;
          }
          C(e) {
            return this.D().type === e;
          }
          D() {
            return this.f[this.g];
          }
          E() {
            return this.D().type === 20;
          }
        }),
        (Ci = class {
          static false() {
            return Mi.INSTANCE;
          }
          static true() {
            return Yi.INSTANCE;
          }
          static has(t) {
            return Ua.create(t);
          }
          static equals(t, e) {
            return Fd.create(t, e);
          }
          static notEquals(t, e) {
            return Od.create(t, e);
          }
          static regex(t, e) {
            return jd.create(t, e);
          }
          static in(t, e) {
            return pm.create(t, e);
          }
          static notIn(t, e) {
            return gm.create(t, e);
          }
          static not(t) {
            return ja.create(t);
          }
          static and(...t) {
            return mm.create(t, null, !0);
          }
          static or(...t) {
            return Wd.create(t, null, !0);
          }
          static greater(t, e) {
            return Rd.create(t, e);
          }
          static greaterEquals(t, e) {
            return Nd.create(t, e);
          }
          static smaller(t, e) {
            return Bd.create(t, e);
          }
          static smallerEquals(t, e) {
            return Ud.create(t, e);
          }
          static {
            this.c = new o7({ regexParsingWithErrorRecovery: !1 });
          }
          static deserialize(t) {
            return t == null ? void 0 : this.c.parse(t);
          }
        }),
        (Mi = class aI {
          static {
            this.INSTANCE = new aI();
          }
          constructor() {
            this.type = 0;
          }
          cmp(e) {
            return this.type - e.type;
          }
          equals(e) {
            return e.type === this.type;
          }
          substituteConstants() {
            return this;
          }
          evaluate(e) {
            return !1;
          }
          serialize() {
            return 'false';
          }
          keys() {
            return [];
          }
          map(e) {
            return this;
          }
          negate() {
            return Yi.INSTANCE;
          }
        }),
        (Yi = class cI {
          static {
            this.INSTANCE = new cI();
          }
          constructor() {
            this.type = 1;
          }
          cmp(e) {
            return this.type - e.type;
          }
          equals(e) {
            return e.type === this.type;
          }
          substituteConstants() {
            return this;
          }
          evaluate(e) {
            return !0;
          }
          serialize() {
            return 'true';
          }
          keys() {
            return [];
          }
          map(e) {
            return this;
          }
          negate() {
            return Mi.INSTANCE;
          }
        }),
        (Ua = class lI {
          static create(e, i = null) {
            const s = ti.get(e);
            return typeof s == 'boolean' ? (s ? Yi.INSTANCE : Mi.INSTANCE) : new lI(e, i);
          }
          constructor(e, i) {
            (this.key = e), (this.c = i), (this.type = 2);
          }
          cmp(e) {
            return e.type !== this.type ? this.type - e.type : K6(this.key, e.key);
          }
          equals(e) {
            return e.type === this.type ? this.key === e.key : !1;
          }
          substituteConstants() {
            const e = ti.get(this.key);
            return typeof e == 'boolean' ? (e ? Yi.INSTANCE : Mi.INSTANCE) : this;
          }
          evaluate(e) {
            return !!e.getValue(this.key);
          }
          serialize() {
            return this.key;
          }
          keys() {
            return [this.key];
          }
          map(e) {
            return e.mapDefined(this.key);
          }
          negate() {
            return this.c || (this.c = ja.create(this.key, this)), this.c;
          }
        }),
        (Fd = class uI {
          static create(e, i, s = null) {
            if (typeof i == 'boolean') return i ? Ua.create(e, s) : ja.create(e, s);
            const r = ti.get(e);
            return typeof r == 'boolean'
              ? i === (r ? 'true' : 'false')
                ? Yi.INSTANCE
                : Mi.INSTANCE
              : new uI(e, i, s);
          }
          constructor(e, i, s) {
            (this.c = e), (this.d = i), (this.f = s), (this.type = 4);
          }
          cmp(e) {
            return e.type !== this.type ? this.type - e.type : $o(this.c, this.d, e.c, e.d);
          }
          equals(e) {
            return e.type === this.type ? this.c === e.c && this.d === e.d : !1;
          }
          substituteConstants() {
            const e = ti.get(this.c);
            if (typeof e == 'boolean') {
              const i = e ? 'true' : 'false';
              return this.d === i ? Yi.INSTANCE : Mi.INSTANCE;
            }
            return this;
          }
          evaluate(e) {
            return e.getValue(this.c) == this.d;
          }
          serialize() {
            return `${this.c} == '${this.d}'`;
          }
          keys() {
            return [this.c];
          }
          map(e) {
            return e.mapEquals(this.c, this.d);
          }
          negate() {
            return this.f || (this.f = Od.create(this.c, this.d, this)), this.f;
          }
        }),
        (pm = class hI {
          static create(e, i) {
            return new hI(e, i);
          }
          constructor(e, i) {
            (this.d = e), (this.f = i), (this.type = 10), (this.c = null);
          }
          cmp(e) {
            return e.type !== this.type ? this.type - e.type : $o(this.d, this.f, e.d, e.f);
          }
          equals(e) {
            return e.type === this.type ? this.d === e.d && this.f === e.f : !1;
          }
          substituteConstants() {
            return this;
          }
          evaluate(e) {
            const i = e.getValue(this.f),
              s = e.getValue(this.d);
            return Array.isArray(i)
              ? i.includes(s)
              : typeof s == 'string' && typeof i == 'object' && i !== null
              ? X6.call(i, s)
              : !1;
          }
          serialize() {
            return `${this.d} in '${this.f}'`;
          }
          keys() {
            return [this.d, this.f];
          }
          map(e) {
            return e.mapIn(this.d, this.f);
          }
          negate() {
            return this.c || (this.c = gm.create(this.d, this.f)), this.c;
          }
        }),
        (gm = class dI {
          static create(e, i) {
            return new dI(e, i);
          }
          constructor(e, i) {
            (this.d = e), (this.f = i), (this.type = 11), (this.c = pm.create(e, i));
          }
          cmp(e) {
            return e.type !== this.type ? this.type - e.type : this.c.cmp(e.c);
          }
          equals(e) {
            return e.type === this.type ? this.c.equals(e.c) : !1;
          }
          substituteConstants() {
            return this;
          }
          evaluate(e) {
            return !this.c.evaluate(e);
          }
          serialize() {
            return `${this.d} not in '${this.f}'`;
          }
          keys() {
            return this.c.keys();
          }
          map(e) {
            return e.mapNotIn(this.d, this.f);
          }
          negate() {
            return this.c;
          }
        }),
        (Od = class fI {
          static create(e, i, s = null) {
            if (typeof i == 'boolean') return i ? ja.create(e, s) : Ua.create(e, s);
            const r = ti.get(e);
            return typeof r == 'boolean'
              ? i === (r ? 'true' : 'false')
                ? Mi.INSTANCE
                : Yi.INSTANCE
              : new fI(e, i, s);
          }
          constructor(e, i, s) {
            (this.c = e), (this.d = i), (this.f = s), (this.type = 5);
          }
          cmp(e) {
            return e.type !== this.type ? this.type - e.type : $o(this.c, this.d, e.c, e.d);
          }
          equals(e) {
            return e.type === this.type ? this.c === e.c && this.d === e.d : !1;
          }
          substituteConstants() {
            const e = ti.get(this.c);
            if (typeof e == 'boolean') {
              const i = e ? 'true' : 'false';
              return this.d === i ? Mi.INSTANCE : Yi.INSTANCE;
            }
            return this;
          }
          evaluate(e) {
            return e.getValue(this.c) != this.d;
          }
          serialize() {
            return `${this.c} != '${this.d}'`;
          }
          keys() {
            return [this.c];
          }
          map(e) {
            return e.mapNotEquals(this.c, this.d);
          }
          negate() {
            return this.f || (this.f = Fd.create(this.c, this.d, this)), this.f;
          }
        }),
        (ja = class pI {
          static create(e, i = null) {
            const s = ti.get(e);
            return typeof s == 'boolean' ? (s ? Mi.INSTANCE : Yi.INSTANCE) : new pI(e, i);
          }
          constructor(e, i) {
            (this.c = e), (this.d = i), (this.type = 3);
          }
          cmp(e) {
            return e.type !== this.type ? this.type - e.type : K6(this.c, e.c);
          }
          equals(e) {
            return e.type === this.type ? this.c === e.c : !1;
          }
          substituteConstants() {
            const e = ti.get(this.c);
            return typeof e == 'boolean' ? (e ? Mi.INSTANCE : Yi.INSTANCE) : this;
          }
          evaluate(e) {
            return !e.getValue(this.c);
          }
          serialize() {
            return `!${this.c}`;
          }
          keys() {
            return [this.c];
          }
          map(e) {
            return e.mapNot(this.c);
          }
          negate() {
            return this.d || (this.d = Ua.create(this.c, this)), this.d;
          }
        }),
        (Rd = class gI {
          static create(e, i, s = null) {
            return Md(i, (r) => new gI(e, r, s));
          }
          constructor(e, i, s) {
            (this.c = e), (this.d = i), (this.f = s), (this.type = 12);
          }
          cmp(e) {
            return e.type !== this.type ? this.type - e.type : $o(this.c, this.d, e.c, e.d);
          }
          equals(e) {
            return e.type === this.type ? this.c === e.c && this.d === e.d : !1;
          }
          substituteConstants() {
            return this;
          }
          evaluate(e) {
            return typeof this.d == 'string' ? !1 : parseFloat(e.getValue(this.c)) > this.d;
          }
          serialize() {
            return `${this.c} > ${this.d}`;
          }
          keys() {
            return [this.c];
          }
          map(e) {
            return e.mapGreater(this.c, this.d);
          }
          negate() {
            return this.f || (this.f = Ud.create(this.c, this.d, this)), this.f;
          }
        }),
        (Nd = class mI {
          static create(e, i, s = null) {
            return Md(i, (r) => new mI(e, r, s));
          }
          constructor(e, i, s) {
            (this.c = e), (this.d = i), (this.f = s), (this.type = 13);
          }
          cmp(e) {
            return e.type !== this.type ? this.type - e.type : $o(this.c, this.d, e.c, e.d);
          }
          equals(e) {
            return e.type === this.type ? this.c === e.c && this.d === e.d : !1;
          }
          substituteConstants() {
            return this;
          }
          evaluate(e) {
            return typeof this.d == 'string' ? !1 : parseFloat(e.getValue(this.c)) >= this.d;
          }
          serialize() {
            return `${this.c} >= ${this.d}`;
          }
          keys() {
            return [this.c];
          }
          map(e) {
            return e.mapGreaterEquals(this.c, this.d);
          }
          negate() {
            return this.f || (this.f = Bd.create(this.c, this.d, this)), this.f;
          }
        }),
        (Bd = class wI {
          static create(e, i, s = null) {
            return Md(i, (r) => new wI(e, r, s));
          }
          constructor(e, i, s) {
            (this.c = e), (this.d = i), (this.f = s), (this.type = 14);
          }
          cmp(e) {
            return e.type !== this.type ? this.type - e.type : $o(this.c, this.d, e.c, e.d);
          }
          equals(e) {
            return e.type === this.type ? this.c === e.c && this.d === e.d : !1;
          }
          substituteConstants() {
            return this;
          }
          evaluate(e) {
            return typeof this.d == 'string' ? !1 : parseFloat(e.getValue(this.c)) < this.d;
          }
          serialize() {
            return `${this.c} < ${this.d}`;
          }
          keys() {
            return [this.c];
          }
          map(e) {
            return e.mapSmaller(this.c, this.d);
          }
          negate() {
            return this.f || (this.f = Nd.create(this.c, this.d, this)), this.f;
          }
        }),
        (Ud = class bI {
          static create(e, i, s = null) {
            return Md(i, (r) => new bI(e, r, s));
          }
          constructor(e, i, s) {
            (this.c = e), (this.d = i), (this.f = s), (this.type = 15);
          }
          cmp(e) {
            return e.type !== this.type ? this.type - e.type : $o(this.c, this.d, e.c, e.d);
          }
          equals(e) {
            return e.type === this.type ? this.c === e.c && this.d === e.d : !1;
          }
          substituteConstants() {
            return this;
          }
          evaluate(e) {
            return typeof this.d == 'string' ? !1 : parseFloat(e.getValue(this.c)) <= this.d;
          }
          serialize() {
            return `${this.c} <= ${this.d}`;
          }
          keys() {
            return [this.c];
          }
          map(e) {
            return e.mapSmallerEquals(this.c, this.d);
          }
          negate() {
            return this.f || (this.f = Rd.create(this.c, this.d, this)), this.f;
          }
        }),
        (jd = class vI {
          static create(e, i) {
            return new vI(e, i);
          }
          constructor(e, i) {
            (this.d = e), (this.f = i), (this.type = 7), (this.c = null);
          }
          cmp(e) {
            if (e.type !== this.type) return this.type - e.type;
            if (this.d < e.d) return -1;
            if (this.d > e.d) return 1;
            const i = this.f ? this.f.source : '',
              s = e.f ? e.f.source : '';
            return i < s ? -1 : i > s ? 1 : 0;
          }
          equals(e) {
            if (e.type === this.type) {
              const i = this.f ? this.f.source : '',
                s = e.f ? e.f.source : '';
              return this.d === e.d && i === s;
            }
            return !1;
          }
          substituteConstants() {
            return this;
          }
          evaluate(e) {
            const i = e.getValue(this.d);
            return this.f ? this.f.test(i) : !1;
          }
          serialize() {
            const e = this.f ? `/${this.f.source}/${this.f.flags}` : '/invalid/';
            return `${this.d} =~ ${e}`;
          }
          keys() {
            return [this.d];
          }
          map(e) {
            return e.mapRegex(this.d, this.f);
          }
          negate() {
            return this.c || (this.c = a7.create(this)), this.c;
          }
        }),
        (a7 = class e4 {
          static create(e) {
            return new e4(e);
          }
          constructor(e) {
            (this.c = e), (this.type = 8);
          }
          cmp(e) {
            return e.type !== this.type ? this.type - e.type : this.c.cmp(e.c);
          }
          equals(e) {
            return e.type === this.type ? this.c.equals(e.c) : !1;
          }
          substituteConstants() {
            return this;
          }
          evaluate(e) {
            return !this.c.evaluate(e);
          }
          serialize() {
            return `!(${this.c.serialize()})`;
          }
          keys() {
            return this.c.keys();
          }
          map(e) {
            return new e4(this.c.map(e));
          }
          negate() {
            return this.c;
          }
        }),
        (mm = class Nc {
          static create(e, i, s) {
            return Nc.d(e, i, s);
          }
          constructor(e, i) {
            (this.expr = e), (this.c = i), (this.type = 6);
          }
          cmp(e) {
            if (e.type !== this.type) return this.type - e.type;
            if (this.expr.length < e.expr.length) return -1;
            if (this.expr.length > e.expr.length) return 1;
            for (let i = 0, s = this.expr.length; i < s; i++) {
              const r = Tl(this.expr[i], e.expr[i]);
              if (r !== 0) return r;
            }
            return 0;
          }
          equals(e) {
            if (e.type === this.type) {
              if (this.expr.length !== e.expr.length) return !1;
              for (let i = 0, s = this.expr.length; i < s; i++)
                if (!this.expr[i].equals(e.expr[i])) return !1;
              return !0;
            }
            return !1;
          }
          substituteConstants() {
            const e = q6(this.expr);
            return e === this.expr ? this : Nc.create(e, this.c, !1);
          }
          evaluate(e) {
            for (let i = 0, s = this.expr.length; i < s; i++)
              if (!this.expr[i].evaluate(e)) return !1;
            return !0;
          }
          static d(e, i, s) {
            const r = [];
            let n = !1;
            for (const o of e)
              if (o) {
                if (o.type === 1) {
                  n = !0;
                  continue;
                }
                if (o.type === 0) return Mi.INSTANCE;
                if (o.type === 6) {
                  r.push(...o.expr);
                  continue;
                }
                r.push(o);
              }
            if (r.length === 0 && n) return Yi.INSTANCE;
            if (r.length !== 0) {
              if (r.length === 1) return r[0];
              r.sort(Tl);
              for (let o = 1; o < r.length; o++) r[o - 1].equals(r[o]) && (r.splice(o, 1), o--);
              if (r.length === 1) return r[0];
              for (; r.length > 1; ) {
                const o = r[r.length - 1];
                if (o.type !== 9) break;
                r.pop();
                const a = r.pop(),
                  c = r.length === 0,
                  l = Wd.create(
                    o.expr.map((h) => Nc.create([h, a], null, s)),
                    null,
                    c
                  );
                l && (r.push(l), r.sort(Tl));
              }
              if (r.length === 1) return r[0];
              if (s) {
                for (let o = 0; o < r.length; o++)
                  for (let a = o + 1; a < r.length; a++)
                    if (r[o].negate().equals(r[a])) return Mi.INSTANCE;
                if (r.length === 1) return r[0];
              }
              return new Nc(r, i);
            }
          }
          serialize() {
            return this.expr.map((e) => e.serialize()).join(' && ');
          }
          keys() {
            const e = [];
            for (const i of this.expr) e.push(...i.keys());
            return e;
          }
          map(e) {
            return new Nc(
              this.expr.map((i) => i.map(e)),
              null
            );
          }
          negate() {
            if (!this.c) {
              const e = [];
              for (const i of this.expr) e.push(i.negate());
              this.c = Wd.create(e, this, !0);
            }
            return this.c;
          }
        }),
        (Wd = class fa {
          static create(e, i, s) {
            return fa.d(e, i, s);
          }
          constructor(e, i) {
            (this.expr = e), (this.c = i), (this.type = 9);
          }
          cmp(e) {
            if (e.type !== this.type) return this.type - e.type;
            if (this.expr.length < e.expr.length) return -1;
            if (this.expr.length > e.expr.length) return 1;
            for (let i = 0, s = this.expr.length; i < s; i++) {
              const r = Tl(this.expr[i], e.expr[i]);
              if (r !== 0) return r;
            }
            return 0;
          }
          equals(e) {
            if (e.type === this.type) {
              if (this.expr.length !== e.expr.length) return !1;
              for (let i = 0, s = this.expr.length; i < s; i++)
                if (!this.expr[i].equals(e.expr[i])) return !1;
              return !0;
            }
            return !1;
          }
          substituteConstants() {
            const e = q6(this.expr);
            return e === this.expr ? this : fa.create(e, this.c, !1);
          }
          evaluate(e) {
            for (let i = 0, s = this.expr.length; i < s; i++)
              if (this.expr[i].evaluate(e)) return !0;
            return !1;
          }
          static d(e, i, s) {
            let r = [],
              n = !1;
            if (e) {
              for (let o = 0, a = e.length; o < a; o++) {
                const c = e[o];
                if (c) {
                  if (c.type === 0) {
                    n = !0;
                    continue;
                  }
                  if (c.type === 1) return Yi.INSTANCE;
                  if (c.type === 9) {
                    r = r.concat(c.expr);
                    continue;
                  }
                  r.push(c);
                }
              }
              if (r.length === 0 && n) return Mi.INSTANCE;
              r.sort(Tl);
            }
            if (r.length !== 0) {
              if (r.length === 1) return r[0];
              for (let o = 1; o < r.length; o++) r[o - 1].equals(r[o]) && (r.splice(o, 1), o--);
              if (r.length === 1) return r[0];
              if (s) {
                for (let o = 0; o < r.length; o++)
                  for (let a = o + 1; a < r.length; a++)
                    if (r[o].negate().equals(r[a])) return Yi.INSTANCE;
                if (r.length === 1) return r[0];
              }
              return new fa(r, i);
            }
          }
          serialize() {
            return this.expr.map((e) => e.serialize()).join(' || ');
          }
          keys() {
            const e = [];
            for (const i of this.expr) e.push(...i.keys());
            return e;
          }
          map(e) {
            return new fa(
              this.expr.map((i) => i.map(e)),
              null
            );
          }
          negate() {
            if (!this.c) {
              const e = [];
              for (const i of this.expr) e.push(i.negate());
              for (; e.length > 1; ) {
                const i = e.shift(),
                  s = e.shift(),
                  r = [];
                for (const n of J6(i)) for (const o of J6(s)) r.push(mm.create([n, o], null, !1));
                e.unshift(fa.create(r, null, !1));
              }
              this.c = fa.create(e, this, !0);
            }
            return this.c;
          }
        }),
        (wm = class Ag extends Ua {
          static {
            this.d = [];
          }
          static all() {
            return Ag.d.values();
          }
          constructor(e, i, s) {
            super(e, null),
              (this.f = i),
              typeof s == 'object'
                ? Ag.d.push({ ...s, key: e })
                : s !== !0 &&
                  Ag.d.push({ key: e, description: s, type: i != null ? typeof i : void 0 });
          }
          bindTo(e) {
            return e.createKey(this.key, this.f);
          }
          getValue(e) {
            return e.getContextKeyValue(this.key);
          }
          toNegated() {
            return this.negate();
          }
          isEqualTo(e) {
            return Fd.create(this.key, e);
          }
          notEqualsTo(e) {
            return Od.create(this.key, e);
          }
        }),
        (sL = W('contextKeyService'));
    },
  });
function yr() {
  return new Date().toISOString();
}
function l7(t) {
  return Xh(t);
}
function bm(t, e, i) {
  switch (e) {
    case ce.Trace:
      t.trace(i);
      break;
    case ce.Debug:
      t.debug(i);
      break;
    case ce.Info:
      t.info(i);
      break;
    case ce.Warning:
      t.warn(i);
      break;
    case ce.Error:
      t.error(i);
      break;
    case ce.Off:
      break;
    default:
      throw new Error(`Invalid log level ${e}`);
  }
}
function Wa(t, e = !1) {
  let i = '';
  for (let s = 0; s < t.length; s++) {
    let r = t[s];
    if ((r instanceof Error && (r = ki(r, e)), typeof r == 'object'))
      try {
        r = JSON.stringify(r);
      } catch {}
    i += (s > 0 ? ' ' : '') + r;
  }
  return i;
}
function rL(t) {
  if (t.verbose) return ce.Trace;
  if (typeof t.logLevel == 'string') {
    const e = oL(t.logLevel.toLowerCase());
    if (e !== void 0) return e;
  }
  return Ml;
}
function nL(t) {
  switch (t) {
    case ce.Trace:
      return 'trace';
    case ce.Debug:
      return 'debug';
    case ce.Info:
      return 'info';
    case ce.Warning:
      return 'warn';
    case ce.Error:
      return 'error';
    case ce.Off:
      return 'off';
  }
}
function oL(t) {
  switch (t) {
    case 'trace':
      return ce.Trace;
    case 'debug':
      return ce.Debug;
    case 'info':
      return ce.Info;
    case 'warn':
      return ce.Warning;
    case 'error':
      return ce.Error;
    case 'critical':
      return ce.Error;
    case 'off':
      return ce.Off;
  }
}
var ee,
  Po,
  ce,
  Ml,
  Hd,
  vm,
  u7,
  h7,
  d7,
  f7,
  p7,
  aL,
  se = b({
    'out-build/vs/platform/log/common/log.js'() {
      'use strict';
      he(),
        Fn(),
        X(),
        Io(),
        U(),
        Pi(),
        ie(),
        lt(),
        $e(),
        be(),
        c7(),
        K(),
        (ee = W('logService')),
        (Po = W('loggerService')),
        (function (t) {
          (t[(t.Off = 0)] = 'Off'),
            (t[(t.Trace = 1)] = 'Trace'),
            (t[(t.Debug = 2)] = 'Debug'),
            (t[(t.Info = 3)] = 'Info'),
            (t[(t.Warning = 4)] = 'Warning'),
            (t[(t.Error = 5)] = 'Error');
        })(ce || (ce = {})),
        (Ml = ce.Info),
        (Hd = class extends H {
          constructor() {
            super(...arguments),
              (this.b = Ml),
              (this.c = this.B(new $())),
              (this.onDidChangeLogLevel = this.c.event);
          }
          setLevel(t) {
            this.b !== t && ((this.b = t), this.c.fire(this.b));
          }
          getLevel() {
            return this.b;
          }
          f(t) {
            return this.b !== ce.Off && this.b <= t;
          }
          g(t) {
            return this.q.isDisposed ? !1 : this.f(t);
          }
        }),
        (vm = class extends Hd {
          constructor(t) {
            super(), (this.h = t);
          }
          f(t) {
            return this.h || super.f(t);
          }
          trace(t, ...e) {
            this.g(ce.Trace) && this.m(ce.Trace, Wa([t, ...e], !0));
          }
          debug(t, ...e) {
            this.g(ce.Debug) && this.m(ce.Debug, Wa([t, ...e]));
          }
          info(t, ...e) {
            this.g(ce.Info) && this.m(ce.Info, Wa([t, ...e]));
          }
          warn(t, ...e) {
            this.g(ce.Warning) && this.m(ce.Warning, Wa([t, ...e]));
          }
          error(t, ...e) {
            if (this.g(ce.Error))
              if (t instanceof Error) {
                const i = Array.prototype.slice.call(arguments);
                (i[0] = t.stack), this.m(ce.Error, Wa(i));
              } else this.m(ce.Error, Wa([t, ...e]));
          }
          flush() {}
        }),
        (u7 = class extends Hd {
          constructor(t = Ml) {
            super(), this.setLevel(t), (this.h = !J);
          }
          trace(t, ...e) {
            this.g(ce.Trace) &&
              (this.h
                ? console.log(`\x1B[90m[main ${yr()}]\x1B[0m`, t, ...e)
                : console.log(`[main ${yr()}]`, t, ...e));
          }
          debug(t, ...e) {
            this.g(ce.Debug) &&
              (this.h
                ? console.log(`\x1B[90m[main ${yr()}]\x1B[0m`, t, ...e)
                : console.log(`[main ${yr()}]`, t, ...e));
          }
          info(t, ...e) {
            this.g(ce.Info) &&
              (this.h
                ? console.log(`\x1B[90m[main ${yr()}]\x1B[0m`, t, ...e)
                : console.log(`[main ${yr()}]`, t, ...e));
          }
          warn(t, ...e) {
            this.g(ce.Warning) &&
              (this.h
                ? console.warn(`\x1B[93m[main ${yr()}]\x1B[0m`, t, ...e)
                : console.warn(`[main ${yr()}]`, t, ...e));
          }
          error(t, ...e) {
            this.g(ce.Error) &&
              (this.h
                ? console.error(`\x1B[91m[main ${yr()}]\x1B[0m`, t, ...e)
                : console.error(`[main ${yr()}]`, t, ...e));
          }
          flush() {}
        }),
        (h7 = class extends Hd {
          constructor(t) {
            super(), (this.h = t), t.length && this.setLevel(t[0].getLevel());
          }
          setLevel(t) {
            for (const e of this.h) e.setLevel(t);
            super.setLevel(t);
          }
          trace(t, ...e) {
            for (const i of this.h) i.trace(t, ...e);
          }
          debug(t, ...e) {
            for (const i of this.h) i.debug(t, ...e);
          }
          info(t, ...e) {
            for (const i of this.h) i.info(t, ...e);
          }
          warn(t, ...e) {
            for (const i of this.h) i.warn(t, ...e);
          }
          error(t, ...e) {
            for (const i of this.h) i.error(t, ...e);
          }
          flush() {
            for (const t of this.h) t.flush();
          }
          dispose() {
            for (const t of this.h) t.dispose();
            super.dispose();
          }
        }),
        (d7 = class extends H {
          constructor(t, e, i) {
            if (
              (super(),
              (this.j = t),
              (this.m = e),
              (this.b = new bi()),
              (this.f = this.B(new $())),
              (this.onDidChangeLoggers = this.f.event),
              (this.g = this.B(new $())),
              (this.onDidChangeLogLevel = this.g.event),
              (this.h = this.B(new $())),
              (this.onDidChangeVisibility = this.h.event),
              i)
            )
              for (const s of i) this.b.set(s.resource, { logger: void 0, info: s });
          }
          n(t) {
            return ot(t) ? [...this.b.values()].find((e) => e.info.id === t) : this.b.get(t);
          }
          getLogger(t) {
            return this.n(t)?.logger;
          }
          createLogger(t, e) {
            const i = this.s(t),
              s = ot(t) ? t : e?.id ?? Un(i.toString()).toString(16);
            let r = this.b.get(i)?.logger;
            const n = e?.logLevel === 'always' ? ce.Trace : e?.logLevel;
            r || (r = this.t(i, n ?? this.getLogLevel(i) ?? this.j, { ...e, id: s }));
            const o = {
              logger: r,
              info: {
                resource: i,
                id: s,
                logLevel: n,
                name: e?.name,
                hidden: e?.hidden,
                group: e?.group,
                extensionId: e?.extensionId,
                when: e?.when,
              },
            };
            return this.registerLogger(o.info), this.b.set(i, o), r;
          }
          s(t) {
            return ot(t) ? we(this.m, `${t}.log`) : t;
          }
          setLogLevel(t, e) {
            if (_.isUri(t)) {
              const i = t,
                s = e,
                r = this.b.get(i);
              r &&
                s !== r.info.logLevel &&
                ((r.info.logLevel = s === this.j ? void 0 : s),
                r.logger?.setLevel(s),
                this.b.set(r.info.resource, r),
                this.g.fire([i, s]));
            } else {
              this.j = t;
              for (const [i, s] of this.b.entries())
                this.b.get(i)?.info.logLevel === void 0 && s.logger?.setLevel(this.j);
              this.g.fire(this.j);
            }
          }
          setVisibility(t, e) {
            const i = this.n(t);
            i &&
              e !== !i.info.hidden &&
              ((i.info.hidden = !e),
              this.b.set(i.info.resource, i),
              this.h.fire([i.info.resource, e]));
          }
          getLogLevel(t) {
            let e;
            return t && (e = this.b.get(t)?.info.logLevel), e ?? this.j;
          }
          registerLogger(t) {
            const e = this.b.get(t.resource);
            e
              ? e.info.hidden !== t.hidden && this.setVisibility(t.resource, !t.hidden)
              : (this.b.set(t.resource, { info: t, logger: void 0 }),
                this.f.fire({ added: [t], removed: [] }));
          }
          deregisterLogger(t) {
            const e = this.b.get(t);
            e &&
              (e.logger && e.logger.dispose(),
              this.b.delete(t),
              this.f.fire({ added: [], removed: [e.info] }));
          }
          *getRegisteredLoggers() {
            for (const t of this.b.values()) yield t.info;
          }
          getRegisteredLogger(t) {
            return this.b.get(t)?.info;
          }
          dispose() {
            this.b.forEach((t) => t.logger?.dispose()), this.b.clear(), super.dispose();
          }
        }),
        (f7 = class {
          constructor() {
            this.onDidChangeLogLevel = new $().event;
          }
          setLevel(t) {}
          getLevel() {
            return ce.Info;
          }
          trace(t, ...e) {}
          debug(t, ...e) {}
          info(t, ...e) {}
          warn(t, ...e) {}
          error(t, ...e) {}
          critical(t, ...e) {}
          dispose() {}
          flush() {}
        }),
        (p7 = class extends f7 {}),
        (aL = new wm('logLevel', nL(ce.Info)));
    },
  }),
  g7,
  m7,
  ym,
  w7,
  b7,
  jn,
  Fl,
  v7,
  Wn,
  Ha = b({
    'out-build/vs/base/common/ternarySearchTree.js'() {
      'use strict';
      ni(),
        Wt(),
        (g7 = class {
          constructor() {
            (this.b = ''), (this.c = 0);
          }
          reset(t) {
            return (this.b = t), (this.c = 0), this;
          }
          next() {
            return (this.c += 1), this;
          }
          hasNext() {
            return this.c < this.b.length - 1;
          }
          cmp(t) {
            const e = t.charCodeAt(0),
              i = this.b.charCodeAt(this.c);
            return e - i;
          }
          value() {
            return this.b[this.c];
          }
        }),
        (m7 = class {
          constructor(t = !0) {
            this.e = t;
          }
          reset(t) {
            return (this.b = t), (this.c = 0), (this.d = 0), this.next();
          }
          hasNext() {
            return this.d < this.b.length;
          }
          next() {
            this.c = this.d;
            let t = !0;
            for (; this.d < this.b.length; this.d++)
              if (this.b.charCodeAt(this.d) === 46)
                if (t) this.c++;
                else break;
              else t = !1;
            return this;
          }
          cmp(t) {
            return this.e
              ? L0(t, this.b, 0, t.length, this.c, this.d)
              : gl(t, this.b, 0, t.length, this.c, this.d);
          }
          value() {
            return this.b.substring(this.c, this.d);
          }
        }),
        (ym = class {
          constructor(t = !0, e = !0) {
            (this.f = t), (this.g = e);
          }
          reset(t) {
            (this.d = 0), (this.e = 0), (this.b = t), (this.c = t.length);
            for (let e = t.length - 1; e >= 0; e--, this.c--) {
              const i = this.b.charCodeAt(e);
              if (!(i === 47 || (this.f && i === 92))) break;
            }
            return this.next();
          }
          hasNext() {
            return this.e < this.c;
          }
          next() {
            this.d = this.e;
            let t = !0;
            for (; this.e < this.c; this.e++) {
              const e = this.b.charCodeAt(this.e);
              if (e === 47 || (this.f && e === 92))
                if (t) this.d++;
                else break;
              else t = !1;
            }
            return this;
          }
          cmp(t) {
            return this.g
              ? L0(t, this.b, 0, t.length, this.d, this.e)
              : gl(t, this.b, 0, t.length, this.d, this.e);
          }
          value() {
            return this.b.substring(this.d, this.e);
          }
        }),
        (function (t) {
          (t[(t.Scheme = 1)] = 'Scheme'),
            (t[(t.Authority = 2)] = 'Authority'),
            (t[(t.Path = 3)] = 'Path'),
            (t[(t.Query = 4)] = 'Query'),
            (t[(t.Fragment = 5)] = 'Fragment');
        })(w7 || (w7 = {})),
        (b7 = class {
          constructor(t, e) {
            (this.f = t), (this.g = e), (this.d = []), (this.e = 0);
          }
          reset(t) {
            return (
              (this.c = t),
              (this.d = []),
              this.c.scheme && this.d.push(1),
              this.c.authority && this.d.push(2),
              this.c.path &&
                ((this.b = new ym(!1, !this.f(t))),
                this.b.reset(t.path),
                this.b.value() && this.d.push(3)),
              this.g(t) || (this.c.query && this.d.push(4), this.c.fragment && this.d.push(5)),
              (this.e = 0),
              this
            );
          }
          next() {
            return this.d[this.e] === 3 && this.b.hasNext() ? this.b.next() : (this.e += 1), this;
          }
          hasNext() {
            return (this.d[this.e] === 3 && this.b.hasNext()) || this.e < this.d.length - 1;
          }
          cmp(t) {
            if (this.d[this.e] === 1) return T0(t, this.c.scheme);
            if (this.d[this.e] === 2) return T0(t, this.c.authority);
            if (this.d[this.e] === 3) return this.b.cmp(t);
            if (this.d[this.e] === 4) return _0(t, this.c.query);
            if (this.d[this.e] === 5) return _0(t, this.c.fragment);
            throw new Error();
          }
          value() {
            if (this.d[this.e] === 1) return this.c.scheme;
            if (this.d[this.e] === 2) return this.c.authority;
            if (this.d[this.e] === 3) return this.b.value();
            if (this.d[this.e] === 4) return this.c.query;
            if (this.d[this.e] === 5) return this.c.fragment;
            throw new Error();
          }
        }),
        (jn = class t4 {
          static {
            this.Val = Symbol('undefined_placeholder');
          }
          static wrap(e) {
            return e === void 0 ? t4.Val : e;
          }
          static unwrap(e) {
            return e === t4.Val ? void 0 : e;
          }
        }),
        (Fl = class {
          constructor() {
            this.height = 1;
          }
          isEmpty() {
            return !this.left && !this.mid && !this.right && this.value === void 0;
          }
          rotateLeft() {
            const t = this.right;
            return (this.right = t.left), (t.left = this), this.updateHeight(), t.updateHeight(), t;
          }
          rotateRight() {
            const t = this.left;
            return (
              (this.left = t.right), (t.right = this), this.updateHeight(), t.updateHeight(), t
            );
          }
          updateHeight() {
            this.height = 1 + Math.max(this.heightLeft, this.heightRight);
          }
          balanceFactor() {
            return this.heightRight - this.heightLeft;
          }
          get heightLeft() {
            return this.left?.height ?? 0;
          }
          get heightRight() {
            return this.right?.height ?? 0;
          }
        }),
        (function (t) {
          (t[(t.Left = -1)] = 'Left'), (t[(t.Mid = 0)] = 'Mid'), (t[(t.Right = 1)] = 'Right');
        })(v7 || (v7 = {})),
        (Wn = class Nh {
          static forUris(e = () => !1, i = () => !1) {
            return new Nh(new b7(e, i));
          }
          static forPaths(e = !1) {
            return new Nh(new ym(void 0, !e));
          }
          static forStrings() {
            return new Nh(new g7());
          }
          static forConfigKeys() {
            return new Nh(new m7());
          }
          constructor(e) {
            this.b = e;
          }
          clear() {
            this.c = void 0;
          }
          fill(e, i) {
            if (i) {
              const s = i.slice(0);
              o2(s);
              for (const r of s) this.set(r, e);
            } else {
              const s = e.slice(0);
              o2(s);
              for (const r of s) this.set(r[0], r[1]);
            }
          }
          set(e, i) {
            const s = this.b.reset(e);
            let r;
            this.c || ((this.c = new Fl()), (this.c.segment = s.value()));
            const n = [];
            for (r = this.c; ; ) {
              const a = s.cmp(r.segment);
              if (a > 0)
                r.left || ((r.left = new Fl()), (r.left.segment = s.value())),
                  n.push([-1, r]),
                  (r = r.left);
              else if (a < 0)
                r.right || ((r.right = new Fl()), (r.right.segment = s.value())),
                  n.push([1, r]),
                  (r = r.right);
              else if (s.hasNext())
                s.next(),
                  r.mid || ((r.mid = new Fl()), (r.mid.segment = s.value())),
                  n.push([0, r]),
                  (r = r.mid);
              else break;
            }
            const o = jn.unwrap(r.value);
            (r.value = jn.wrap(i)), (r.key = e);
            for (let a = n.length - 1; a >= 0; a--) {
              const c = n[a][1];
              c.updateHeight();
              const l = c.balanceFactor();
              if (l < -1 || l > 1) {
                const h = n[a][0],
                  d = n[a + 1][0];
                if (h === 1 && d === 1) n[a][1] = c.rotateLeft();
                else if (h === -1 && d === -1) n[a][1] = c.rotateRight();
                else if (h === 1 && d === -1)
                  (c.right = n[a + 1][1] = n[a + 1][1].rotateRight()), (n[a][1] = c.rotateLeft());
                else if (h === -1 && d === 1)
                  (c.left = n[a + 1][1] = n[a + 1][1].rotateLeft()), (n[a][1] = c.rotateRight());
                else throw new Error();
                if (a > 0)
                  switch (n[a - 1][0]) {
                    case -1:
                      n[a - 1][1].left = n[a][1];
                      break;
                    case 1:
                      n[a - 1][1].right = n[a][1];
                      break;
                    case 0:
                      n[a - 1][1].mid = n[a][1];
                      break;
                  }
                else this.c = n[0][1];
              }
            }
            return o;
          }
          get(e) {
            return jn.unwrap(this.d(e)?.value);
          }
          d(e) {
            const i = this.b.reset(e);
            let s = this.c;
            for (; s; ) {
              const r = i.cmp(s.segment);
              if (r > 0) s = s.left;
              else if (r < 0) s = s.right;
              else if (i.hasNext()) i.next(), (s = s.mid);
              else break;
            }
            return s;
          }
          has(e) {
            const i = this.d(e);
            return !(i?.value === void 0 && i?.mid === void 0);
          }
          delete(e) {
            return this.e(e, !1);
          }
          deleteSuperstr(e) {
            return this.e(e, !0);
          }
          e(e, i) {
            const s = this.b.reset(e),
              r = [];
            let n = this.c;
            for (; n; ) {
              const o = s.cmp(n.segment);
              if (o > 0) r.push([-1, n]), (n = n.left);
              else if (o < 0) r.push([1, n]), (n = n.right);
              else if (s.hasNext()) s.next(), r.push([0, n]), (n = n.mid);
              else break;
            }
            if (n) {
              if (
                (i
                  ? ((n.left = void 0), (n.mid = void 0), (n.right = void 0), (n.height = 1))
                  : ((n.key = void 0), (n.value = void 0)),
                !n.mid && !n.value)
              )
                if (n.left && n.right) {
                  const o = this.f(n.right);
                  if (o.key) {
                    const { key: a, value: c, segment: l } = o;
                    this.e(o.key, !1), (n.key = a), (n.value = c), (n.segment = l);
                  }
                } else {
                  const o = n.left ?? n.right;
                  if (r.length > 0) {
                    const [a, c] = r[r.length - 1];
                    switch (a) {
                      case -1:
                        c.left = o;
                        break;
                      case 0:
                        c.mid = o;
                        break;
                      case 1:
                        c.right = o;
                        break;
                    }
                  } else this.c = o;
                }
              for (let o = r.length - 1; o >= 0; o--) {
                const a = r[o][1];
                a.updateHeight();
                const c = a.balanceFactor();
                if (
                  (c > 1
                    ? (a.right.balanceFactor() >= 0 || (a.right = a.right.rotateRight()),
                      (r[o][1] = a.rotateLeft()))
                    : c < -1 &&
                      (a.left.balanceFactor() <= 0 || (a.left = a.left.rotateLeft()),
                      (r[o][1] = a.rotateRight())),
                  o > 0)
                )
                  switch (r[o - 1][0]) {
                    case -1:
                      r[o - 1][1].left = r[o][1];
                      break;
                    case 1:
                      r[o - 1][1].right = r[o][1];
                      break;
                    case 0:
                      r[o - 1][1].mid = r[o][1];
                      break;
                  }
                else this.c = r[0][1];
              }
            }
          }
          f(e) {
            for (; e.left; ) e = e.left;
            return e;
          }
          findSubstr(e) {
            const i = this.b.reset(e);
            let s = this.c,
              r;
            for (; s; ) {
              const n = i.cmp(s.segment);
              if (n > 0) s = s.left;
              else if (n < 0) s = s.right;
              else if (i.hasNext()) i.next(), (r = jn.unwrap(s.value) || r), (s = s.mid);
              else break;
            }
            return (s && jn.unwrap(s.value)) || r;
          }
          findSuperstr(e) {
            return this.g(e, !1);
          }
          g(e, i) {
            const s = this.b.reset(e);
            let r = this.c;
            for (; r; ) {
              const n = s.cmp(r.segment);
              if (n > 0) r = r.left;
              else if (n < 0) r = r.right;
              else if (s.hasNext()) s.next(), (r = r.mid);
              else return r.mid ? this.h(r.mid) : i ? jn.unwrap(r.value) : void 0;
            }
          }
          hasElementOrSubtree(e) {
            return this.g(e, !0) !== void 0;
          }
          forEach(e) {
            for (const [i, s] of this) e(s, i);
          }
          *[Symbol.iterator]() {
            yield* this.h(this.c);
          }
          h(e) {
            const i = [];
            return this.j(e, i), i[Symbol.iterator]();
          }
          j(e, i) {
            e &&
              (e.left && this.j(e.left, i),
              e.value !== void 0 && i.push([e.key, jn.unwrap(e.value)]),
              e.mid && this.j(e.mid, i),
              e.right && this.j(e.right, i));
          }
          _isBalanced() {
            const e = (i) => {
              if (!i) return !0;
              const s = i.balanceFactor();
              return s < -1 || s > 1 ? !1 : e(i.left) && e(i.right);
            };
            return e(this.c);
          }
        });
    },
  });
function za(t) {
  return t.create === !0;
}
function Ps(t) {
  return !!(t.capabilities & 2);
}
function km(t) {
  return !!(t.capabilities & 8);
}
function y7(t) {
  return !!(t.capabilities & 131072);
}
function Hn(t) {
  return !!(t.capabilities & 4);
}
function Sm(t) {
  return !!(t.capabilities & 16);
}
function Em(t) {
  return Ps(t) ? !!(t.capabilities & 16384) : !1;
}
function k7(t) {
  return Ps(t) ? !!(t.capabilities & 32768) : !1;
}
function cL(t) {
  return !!(t.capabilities & 65536);
}
function Xs(t, e) {
  return Vd.create(t, e);
}
function _o(t) {
  return t || Xs(u(1989, null), Se.Unknown);
}
function lL(t, e) {
  return (t.name = e ? `${e} (FileSystemError)` : 'FileSystemError'), t;
}
function zd(t) {
  if (!t) return Se.Unknown;
  if (t instanceof Vd) return t.code;
  const e = /^(.+) \(FileSystemError\)$/.exec(t.name);
  if (!e) return Se.Unknown;
  switch (e[1]) {
    case Se.FileExists:
      return Se.FileExists;
    case Se.FileIsADirectory:
      return Se.FileIsADirectory;
    case Se.FileNotADirectory:
      return Se.FileNotADirectory;
    case Se.FileNotFound:
      return Se.FileNotFound;
    case Se.FileTooLarge:
      return Se.FileTooLarge;
    case Se.FileWriteLocked:
      return Se.FileWriteLocked;
    case Se.NoPermissions:
      return Se.NoPermissions;
    case Se.Unavailable:
      return Se.Unavailable;
  }
  return Se.Unknown;
}
function kr(t) {
  if (t instanceof Fi) return t.fileOperationResult;
  switch (zd(t)) {
    case Se.FileNotFound:
      return 1;
    case Se.FileIsADirectory:
      return 0;
    case Se.FileNotADirectory:
      return 9;
    case Se.FileWriteLocked:
      return 5;
    case Se.NoPermissions:
      return 6;
    case Se.FileExists:
      return 4;
    case Se.FileTooLarge:
      return 7;
    default:
      return 10;
  }
}
function uL(t, e, i) {
  return !t || !e || t === e || e.length > t.length
    ? !1
    : (e.charAt(e.length - 1) !== yi && (e += yi), i ? ml(t, e) : t.indexOf(e) === 0);
}
function S7(t) {
  if (!(typeof t.size != 'number' || typeof t.mtime != 'number'))
    return t.mtime.toString(29) + t.size.toString(31);
}
var $t,
  hL,
  ai,
  Va,
  E7,
  C7,
  Se,
  Vd,
  D7,
  Lo,
  x7,
  A7,
  Fi,
  Gd,
  qd,
  I7,
  Kd,
  $7,
  Jd,
  To,
  ft = b({
    'out-build/vs/platform/files/common/files.js'() {
      'use strict';
      Ha(),
        xe(),
        Wt(),
        $e(),
        be(),
        he(),
        K(),
        ie(),
        Oe(),
        xa(),
        ($t = W('fileService')),
        (hL = W('remoteFileService')),
        (function (t) {
          (t[(t.Unknown = 0)] = 'Unknown'),
            (t[(t.File = 1)] = 'File'),
            (t[(t.Directory = 2)] = 'Directory'),
            (t[(t.SymbolicLink = 64)] = 'SymbolicLink');
        })(ai || (ai = {})),
        (function (t) {
          (t[(t.Readonly = 1)] = 'Readonly'), (t[(t.Locked = 2)] = 'Locked');
        })(Va || (Va = {})),
        (function (t) {
          (t[(t.UPDATED = 2)] = 'UPDATED'),
            (t[(t.ADDED = 4)] = 'ADDED'),
            (t[(t.DELETED = 8)] = 'DELETED');
        })(E7 || (E7 = {})),
        (function (t) {
          (t[(t.None = 0)] = 'None'),
            (t[(t.FileReadWrite = 2)] = 'FileReadWrite'),
            (t[(t.FileOpenReadWriteClose = 4)] = 'FileOpenReadWriteClose'),
            (t[(t.FileReadStream = 16)] = 'FileReadStream'),
            (t[(t.FileFolderCopy = 8)] = 'FileFolderCopy'),
            (t[(t.PathCaseSensitive = 1024)] = 'PathCaseSensitive'),
            (t[(t.Readonly = 2048)] = 'Readonly'),
            (t[(t.Trash = 4096)] = 'Trash'),
            (t[(t.FileWriteUnlock = 8192)] = 'FileWriteUnlock'),
            (t[(t.FileAtomicRead = 16384)] = 'FileAtomicRead'),
            (t[(t.FileAtomicWrite = 32768)] = 'FileAtomicWrite'),
            (t[(t.FileAtomicDelete = 65536)] = 'FileAtomicDelete'),
            (t[(t.FileClone = 131072)] = 'FileClone');
        })(C7 || (C7 = {})),
        (function (t) {
          (t.FileExists = 'EntryExists'),
            (t.FileNotFound = 'EntryNotFound'),
            (t.FileNotADirectory = 'EntryNotADirectory'),
            (t.FileIsADirectory = 'EntryIsADirectory'),
            (t.FileExceedsStorageQuota = 'EntryExceedsStorageQuota'),
            (t.FileTooLarge = 'EntryTooLarge'),
            (t.FileWriteLocked = 'EntryWriteLocked'),
            (t.NoPermissions = 'NoPermissions'),
            (t.Unavailable = 'Unavailable'),
            (t.Unknown = 'Unknown');
        })(Se || (Se = {})),
        (Vd = class yI extends Error {
          static create(e, i) {
            const s = new yI(e.toString(), i);
            return lL(s, i), s;
          }
          constructor(e, i) {
            super(e), (this.code = i);
          }
        }),
        (function (t) {
          (t[(t.CREATE = 0)] = 'CREATE'),
            (t[(t.DELETE = 1)] = 'DELETE'),
            (t[(t.MOVE = 2)] = 'MOVE'),
            (t[(t.COPY = 3)] = 'COPY'),
            (t[(t.WRITE = 4)] = 'WRITE');
        })(D7 || (D7 = {})),
        (Lo = class {
          constructor(t, e, i) {
            (this.resource = t), (this.operation = e), (this.target = i);
          }
          isOperation(t) {
            return this.operation === t;
          }
        }),
        (function (t) {
          (t[(t.UPDATED = 0)] = 'UPDATED'),
            (t[(t.ADDED = 1)] = 'ADDED'),
            (t[(t.DELETED = 2)] = 'DELETED');
        })(x7 || (x7 = {})),
        (A7 = class Ig {
          static {
            this.a = null;
          }
          constructor(e, i) {
            (this.c = i),
              (this.b = void 0),
              (this.d = new Jr(() => {
                const s = Wn.forUris(() => this.c);
                return s.fill(this.rawAdded.map((r) => [r, !0])), s;
              })),
              (this.f = new Jr(() => {
                const s = Wn.forUris(() => this.c);
                return s.fill(this.rawUpdated.map((r) => [r, !0])), s;
              })),
              (this.g = new Jr(() => {
                const s = Wn.forUris(() => this.c);
                return s.fill(this.rawDeleted.map((r) => [r, !0])), s;
              })),
              (this.rawAdded = []),
              (this.rawUpdated = []),
              (this.rawDeleted = []);
            for (const s of e) {
              switch (s.type) {
                case 1:
                  this.rawAdded.push(s.resource);
                  break;
                case 0:
                  this.rawUpdated.push(s.resource);
                  break;
                case 2:
                  this.rawDeleted.push(s.resource);
                  break;
              }
              this.b !== Ig.a &&
                (typeof s.cId == 'number'
                  ? this.b === void 0
                    ? (this.b = s.cId)
                    : this.b !== s.cId && (this.b = Ig.a)
                  : this.b !== void 0 && (this.b = Ig.a));
            }
          }
          contains(e, ...i) {
            return this.h(e, { includeChildren: !1 }, ...i);
          }
          affects(e, ...i) {
            return this.h(e, { includeChildren: !0 }, ...i);
          }
          h(e, i, ...s) {
            if (!e) return !1;
            const r = s.length > 0;
            return !!(
              ((!r || s.includes(1)) &&
                (this.d.value.get(e) || (i.includeChildren && this.d.value.findSuperstr(e)))) ||
              ((!r || s.includes(0)) &&
                (this.f.value.get(e) || (i.includeChildren && this.f.value.findSuperstr(e)))) ||
              ((!r || s.includes(2)) &&
                (this.g.value.findSubstr(e) || (i.includeChildren && this.g.value.findSuperstr(e))))
            );
          }
          gotAdded() {
            return this.rawAdded.length > 0;
          }
          gotDeleted() {
            return this.rawDeleted.length > 0;
          }
          gotUpdated() {
            return this.rawUpdated.length > 0;
          }
          correlates(e) {
            return this.b === e;
          }
          hasCorrelation() {
            return typeof this.b == 'number';
          }
        }),
        (Fi = class extends Error {
          constructor(t, e, i) {
            super(t), (this.fileOperationResult = e), (this.options = i);
          }
        }),
        (Gd = class extends Fi {
          constructor(t, e, i, s) {
            super(t, e, s), (this.fileOperationResult = e), (this.size = i);
          }
        }),
        (qd = class extends Fi {
          constructor(t, e, i) {
            super(t, 2, i), (this.stat = e);
          }
        }),
        (function (t) {
          (t[(t.FILE_IS_DIRECTORY = 0)] = 'FILE_IS_DIRECTORY'),
            (t[(t.FILE_NOT_FOUND = 1)] = 'FILE_NOT_FOUND'),
            (t[(t.FILE_NOT_MODIFIED_SINCE = 2)] = 'FILE_NOT_MODIFIED_SINCE'),
            (t[(t.FILE_MODIFIED_SINCE = 3)] = 'FILE_MODIFIED_SINCE'),
            (t[(t.FILE_MOVE_CONFLICT = 4)] = 'FILE_MOVE_CONFLICT'),
            (t[(t.FILE_WRITE_LOCKED = 5)] = 'FILE_WRITE_LOCKED'),
            (t[(t.FILE_PERMISSION_DENIED = 6)] = 'FILE_PERMISSION_DENIED'),
            (t[(t.FILE_TOO_LARGE = 7)] = 'FILE_TOO_LARGE'),
            (t[(t.FILE_INVALID_PATH = 8)] = 'FILE_INVALID_PATH'),
            (t[(t.FILE_NOT_DIRECTORY = 9)] = 'FILE_NOT_DIRECTORY'),
            (t[(t.FILE_OTHER_ERROR = 10)] = 'FILE_OTHER_ERROR');
        })(I7 || (I7 = {})),
        (Kd = { OFF: 'off', ON_EXIT: 'onExit', ON_EXIT_AND_WINDOW_CLOSE: 'onExitAndWindowClose' }),
        (function (t) {
          (t[(t.FILE = 0)] = 'FILE'),
            (t[(t.FOLDER = 1)] = 'FOLDER'),
            (t[(t.ROOT_FOLDER = 2)] = 'ROOT_FOLDER');
        })($7 || ($7 = {})),
        (Jd = ''),
        (To = class ss {
          static {
            this.KB = 1024;
          }
          static {
            this.MB = ss.KB * ss.KB;
          }
          static {
            this.GB = ss.MB * ss.KB;
          }
          static {
            this.TB = ss.GB * ss.KB;
          }
          static formatSize(e) {
            return (
              Xh(e) || (e = 0),
              e < ss.KB
                ? u(1990, null, e.toFixed(0))
                : e < ss.MB
                ? u(1991, null, (e / ss.KB).toFixed(2))
                : e < ss.GB
                ? u(1992, null, (e / ss.MB).toFixed(2))
                : e < ss.TB
                ? u(1993, null, (e / ss.GB).toFixed(2))
                : u(1994, null, (e / ss.TB).toFixed(2))
            );
          }
        });
    },
  }),
  Cm,
  kt,
  Pt = b({
    'out-build/vs/platform/state/node/state.js'() {
      'use strict';
      K(), (Cm = W('stateReadService')), (kt = W('stateService'));
    },
  });
import bs from 'electron';
var Ol,
  st,
  P7,
  _7,
  Xd,
  St = b({
    'out-build/vs/platform/lifecycle/electron-main/lifecycleMainService.js'() {
      'use strict';
      Ei(),
        le(),
        X(),
        U(),
        ie(),
        Vs(),
        $e(),
        K(),
        se(),
        Pt(),
        vt(),
        (st = W('lifecycleMainService')),
        (function (t) {
          (t[(t.QUIT = 1)] = 'QUIT'), (t[(t.KILL = 2)] = 'KILL');
        })(P7 || (P7 = {})),
        (function (t) {
          (t[(t.Starting = 1)] = 'Starting'),
            (t[(t.Ready = 2)] = 'Ready'),
            (t[(t.AfterWindowOpen = 3)] = 'AfterWindowOpen'),
            (t[(t.Eventually = 4)] = 'Eventually');
        })(_7 || (_7 = {})),
        (Xd = class extends H {
          static {
            Ol = this;
          }
          static {
            this.b = 'lifecycle.quitAndRestart';
          }
          get quitRequested() {
            return this.j;
          }
          get wasRestarted() {
            return this.m;
          }
          get phase() {
            return this.n;
          }
          constructor(e, i, s) {
            super(),
              (this.F = e),
              (this.G = i),
              (this.H = s),
              (this.c = this.B(new $())),
              (this.onBeforeShutdown = this.c.event),
              (this.f = this.B(new $())),
              (this.onWillShutdown = this.f.event),
              (this.g = this.B(new $())),
              (this.onWillLoadWindow = this.g.event),
              (this.h = this.B(new $())),
              (this.onBeforeCloseWindow = this.h.event),
              (this.j = !1),
              (this.m = !1),
              (this.n = 1),
              (this.r = new Set()),
              (this.s = 0),
              (this.t = 0),
              (this.u = void 0),
              (this.w = void 0),
              (this.y = void 0),
              (this.z = new Map()),
              (this.C = new Map()),
              (this.D = void 0),
              this.I(),
              this.when(2).then(() => this.J());
          }
          I() {
            (this.m = !!this.G.getItem(Ol.b)), this.m && this.G.removeItem(Ol.b);
          }
          J() {
            const e = () => {
              this.j ||
                (this.S('Lifecycle#app.on(before-quit)'),
                (this.j = !0),
                this.S('Lifecycle#onBeforeShutdown.fire()'),
                this.c.fire(),
                Q && this.t === 0 && this.L(1));
            };
            bs.app.addListener('before-quit', e);
            const i = () => {
              this.S('Lifecycle#app.on(window-all-closed)'), (this.j || !Q) && bs.app.quit();
            };
            bs.app.addListener('window-all-closed', i),
              bs.app.once('will-quit', (s) => {
                this.S('Lifecycle#app.on(will-quit) - begin'),
                  s.preventDefault(),
                  this.L(1).finally(() => {
                    this.S('Lifecycle#app.on(will-quit) - after fireOnWillShutdown'),
                      this.O(!1),
                      bs.app.removeListener('before-quit', e),
                      bs.app.removeListener('window-all-closed', i),
                      this.S('Lifecycle#app.on(will-quit) - calling app.quit()'),
                      bs.app.quit();
                  });
              });
          }
          L(e) {
            if (this.y) return this.y;
            const i = this.F;
            this.S('Lifecycle#onWillShutdown.fire()');
            const s = [];
            return (
              this.f.fire({
                reason: e,
                join(r, n) {
                  i.trace(`Lifecycle#onWillShutdown - begin '${r}'`),
                    s.push(
                      n.finally(() => {
                        i.trace(`Lifecycle#onWillShutdown - end '${r}'`);
                      })
                    );
                },
              }),
              (this.y = (async () => {
                try {
                  await ui.settled(s);
                } catch (r) {
                  this.F.error(r);
                }
                try {
                  await this.G.close();
                } catch (r) {
                  this.F.error(r);
                }
              })()),
              this.y
            );
          }
          set phase(e) {
            if (e < this.phase) throw new Error('Lifecycle cannot go backwards');
            if (this.n === e) return;
            this.S(`lifecycle (main): phase changed (value: ${e})`), (this.n = e);
            const i = this.C.get(this.n);
            i && (i.open(), this.C.delete(this.n));
          }
          async when(e) {
            if (e <= this.n) return;
            let i = this.C.get(e);
            i || ((i = new Mn()), this.C.set(e, i)), await i.wait();
          }
          registerWindow(e) {
            const i = new je();
            this.t++,
              i.add(
                e.onWillLoad((r) =>
                  this.g.fire({ window: e, workspace: r.workspace, reason: r.reason })
                )
              );
            const s = zc(e.win);
            i.add(
              P.fromNodeEventEmitter(
                s,
                'close'
              )((r) => {
                const n = e.id;
                if (this.r.has(n)) {
                  this.r.delete(n);
                  return;
                }
                this.S(`Lifecycle#window.on('close') - window ID ${e.id}`),
                  r.preventDefault(),
                  this.unload(e, 1).then((o) => {
                    if (o) {
                      this.r.delete(n);
                      return;
                    }
                    this.r.add(n),
                      this.S(`Lifecycle#onBeforeCloseWindow.fire() - window ID ${n}`),
                      this.h.fire(e),
                      e.close();
                  });
              })
            ),
              i.add(
                P.fromNodeEventEmitter(
                  s,
                  'closed'
                )(() => {
                  this.S(`Lifecycle#window.on('closed') - window ID ${e.id}`),
                    this.t--,
                    i.dispose(),
                    this.t === 0 && (!Q || this.j) && this.L(1);
                })
              );
          }
          registerAuxWindow(e) {
            const i = zc(e.win),
              s = new je();
            s.add(
              P.fromNodeEventEmitter(
                i,
                'close'
              )((r) => {
                this.S(`Lifecycle#auxWindow.on('close') - window ID ${e.id}`),
                  this.j &&
                    (this.S(
                      "Lifecycle#auxWindow.on('close') - preventDefault() because quit requested"
                    ),
                    r.preventDefault());
              })
            ),
              s.add(
                P.fromNodeEventEmitter(
                  i,
                  'closed'
                )(() => {
                  this.S(`Lifecycle#auxWindow.on('closed') - window ID ${e.id}`), s.dispose();
                })
              );
          }
          async reload(e, i) {
            (await this.unload(e, 3)) || e.reload(i);
          }
          unload(e, i) {
            const s = this.z.get(e.id);
            if (s) return s;
            const r = this.M(e, i).finally(() => {
              this.z.delete(e.id);
            });
            return this.z.set(e.id, r), r;
          }
          async M(e, i) {
            if (!e.isReady) return !1;
            this.S(`Lifecycle#unload() - window ID ${e.id}`);
            const s = this.j ? 2 : i,
              r = await this.P(e, s);
            return r
              ? (this.S(`Lifecycle#unload() - veto in renderer (window ID ${e.id})`), this.N(r))
              : (await this.Q(e, s), !1);
          }
          N(e) {
            return e ? (this.O(!0), (this.j = !1), !0) : !1;
          }
          O(e) {
            this.w && (this.w(e), (this.w = void 0), (this.u = void 0));
          }
          P(e, i) {
            return new Promise((s) => {
              const r = this.s++,
                n = `vscode:ok${r}`,
                o = `vscode:cancel${r}`;
              de.once(n, () => {
                s(!1);
              }),
                de.once(o, () => {
                  s(!0);
                }),
                e.send('vscode:onBeforeUnload', { okChannel: n, cancelChannel: o, reason: i });
            });
          }
          Q(e, i) {
            return new Promise((s) => {
              const n = `vscode:reply${this.s++}`;
              de.once(n, () => s()), e.send('vscode:onWillUnload', { replyChannel: n, reason: i });
            });
          }
          quit(e) {
            return this.R(e).then((i) => {
              if (!i && e)
                try {
                  if (J) {
                    const s = zr();
                    s !== process.cwd() && process.chdir(s);
                  }
                } catch (s) {
                  this.F.error(s);
                }
              return i;
            });
          }
          R(e) {
            return (
              this.S(`Lifecycle#quit() - begin (willRestart: ${e})`),
              this.u
                ? (this.S('Lifecycle#quit() - returning pending quit promise'), this.u)
                : (e && this.G.setItem(Ol.b, !0),
                  (this.u = new Promise((i) => {
                    (this.w = i), this.S('Lifecycle#quit() - calling app.quit()'), bs.app.quit();
                  })),
                  this.u)
            );
          }
          S(e) {
            this.H.args['enable-smoke-test-driver'] ? this.F.info(e) : this.F.info(e);
          }
          setRelaunchHandler(e) {
            this.D = e;
          }
          async relaunch(e) {
            this.S('Lifecycle#relaunch()');
            const i = process.argv.slice(1);
            if ((e?.addArgs && i.push(...e.addArgs), e?.removeArgs))
              for (const n of e.removeArgs) {
                const o = i.indexOf(n);
                o >= 0 && i.splice(o, 1);
              }
            const s = async () => {
              try {
                (await this.D?.handleRelaunch(e)) ||
                  (this.S('Lifecycle#relaunch() - calling app.relaunch()'),
                  bs.app.relaunch({ args: i }));
              } catch (n) {
                this.S('Lifecycle#relaunch() - error calling app.relaunch()'), this.F.error(n);
              }
            };
            bs.app.once('quit', s);
            const r = await this.quit(!0);
            this.S('Lifecycle#relaunch() - veto: ' + r), r && bs.app.removeListener('quit', s);
          }
          async kill(e) {
            this.S('Lifecycle#kill()'),
              await this.L(2),
              await Promise.race([
                Ji(1e3),
                (async () => {
                  for (const i of bs.BrowserWindow.getAllWindows())
                    if (i && !i.isDestroyed()) {
                      let s;
                      i.webContents && !i.webContents.isDestroyed()
                        ? (s = new Promise((r) => i.once('closed', r)))
                        : (s = Promise.resolve()),
                        i.destroy(),
                        await s;
                    }
                })(),
              ]),
              bs.app.exit(e);
          }
        }),
        (Xd = Ol = __decorate([__param(0, ee), __param(1, kt), __param(2, dt)], Xd));
    },
  }),
  Sr,
  Qi,
  L7,
  Rl,
  Dm,
  T7 = b({
    'out-build/vs/base/parts/storage/common/storage.js'() {
      'use strict';
      le(),
        X(),
        U(),
        Cd(),
        $e(),
        (function (t) {
          (t[(t.STORAGE_DOES_NOT_EXIST = 0)] = 'STORAGE_DOES_NOT_EXIST'),
            (t[(t.STORAGE_IN_MEMORY = 1)] = 'STORAGE_IN_MEMORY');
        })(Sr || (Sr = {})),
        (function (t) {
          (t[(t.None = 0)] = 'None'),
            (t[(t.Initialized = 1)] = 'Initialized'),
            (t[(t.Closed = 2)] = 'Closed');
        })(Qi || (Qi = {})),
        (L7 = ['workbench.auxiliaryBar.size', 'workbench.sideBar.size', 'workbench.panel.size']),
        (Rl = class kI extends H {
          static {
            this.a = 100;
          }
          constructor(e, i = Object.create(null)) {
            super(),
              (this.r = e),
              (this.s = i),
              (this.b = this.B(new od())),
              (this.onDidChangeStorage = this.b.event),
              (this.c = Qi.None),
              (this.f = new Map()),
              (this.g = this.B(new Xr(kI.a))),
              (this.h = new Set()),
              (this.j = new Map()),
              (this.m = void 0),
              (this.n = []),
              this.t();
          }
          t() {
            this.B(this.r.onDidChangeItemsExternal((e) => this.u(e)));
          }
          u(e) {
            this.b.pause();
            try {
              e.changed?.forEach((i, s) => this.w(s, i)),
                e.deleted?.forEach((i) => this.w(i, void 0));
            } finally {
              this.b.resume();
            }
          }
          w(e, i) {
            if (this.c === Qi.Closed) return;
            let s = !1;
            Ii(i) ? (s = this.f.delete(e)) : this.f.get(e) !== i && (this.f.set(e, i), (s = !0)),
              s && this.b.fire({ key: e, external: !0 });
          }
          get items() {
            return this.f;
          }
          get size() {
            return this.f.size;
          }
          async init() {
            this.c === Qi.None &&
              ((this.c = Qi.Initialized),
              this.s.hint !== Sr.STORAGE_DOES_NOT_EXIST && (this.f = await this.r.getItems()));
          }
          get(e, i) {
            const s = this.f.get(e);
            return Ii(s) ? i : s;
          }
          getBoolean(e, i) {
            const s = this.get(e);
            return Ii(s) ? i : s === 'true';
          }
          getNumber(e, i) {
            const s = this.get(e);
            return Ii(s) ? i : parseInt(s, 10);
          }
          getObject(e, i) {
            const s = this.get(e);
            return Ii(s) ? i : E_(s);
          }
          async set(e, i, s = !1) {
            if (this.c === Qi.Closed) return;
            if (Ii(i)) return this.delete(e, s);
            const r = Lt(i) || Array.isArray(i) ? S_(i) : String(i);
            if (this.f.get(e) !== r)
              return (
                this.f.set(e, r),
                this.j.set(e, r),
                this.h.delete(e),
                this.b.fire({ key: e, external: s }),
                L7.includes(e) ? this.C() : this.D()
              );
          }
          async delete(e, i = !1) {
            if (!(this.c === Qi.Closed || !this.f.delete(e)))
              return (
                this.h.has(e) || this.h.add(e),
                this.j.delete(e),
                this.b.fire({ key: e, external: i }),
                this.D()
              );
          }
          async optimize() {
            if (this.c !== Qi.Closed) return await this.flush(0), this.r.optimize();
          }
          async close() {
            return this.m || (this.m = this.y()), this.m;
          }
          async y() {
            this.c = Qi.Closed;
            try {
              await this.D(0);
            } catch {}
            await this.r.close(() => this.f);
          }
          get z() {
            return this.j.size > 0 || this.h.size > 0;
          }
          async C() {
            if (!this.z) return;
            const e = { insert: this.j, delete: this.h };
            return (
              (this.h = new Set()),
              (this.j = new Map()),
              this.r.updateItems(e).finally(() => {
                if (!this.z) for (; this.n.length; ) this.n.pop()?.();
              })
            );
          }
          async flush(e) {
            if (!(this.c === Qi.Closed || this.m)) return this.D(e);
          }
          async D(e) {
            return this.s.hint === Sr.STORAGE_IN_MEMORY
              ? this.C()
              : this.g.trigger(() => this.C(), e);
          }
          async whenFlushed() {
            if (this.z) return new Promise((e) => this.n.push(e));
          }
          isInMemory() {
            return this.s.hint === Sr.STORAGE_IN_MEMORY;
          }
        }),
        (Dm = class {
          constructor() {
            (this.onDidChangeItemsExternal = P.None), (this.a = new Map());
          }
          async getItems() {
            return this.a;
          }
          async updateItems(t) {
            t.insert?.forEach((e, i) => this.a.set(i, e)),
              t.delete?.forEach((e) => this.a.delete(e));
          }
          async optimize() {}
          async close() {}
        });
    },
  });
function cs(t) {
  const e = t;
  return typeof e?.id == 'string' && _.isUri(e.uri);
}
function Yd(t, e) {
  if (typeof t == 'string' || typeof t > 'u')
    return typeof t == 'string' ? { id: ct(t) } : e ? F7 : O7;
  const i = t;
  return i.configuration
    ? { id: i.id, configPath: i.configuration }
    : i.folders.length === 1
    ? { id: i.id, uri: i.folders[0].uri }
    : { id: i.id };
}
function Di(t) {
  const e = t;
  return typeof e?.id == 'string' && _.isUri(e.configPath);
}
function dL(t) {
  const e = t;
  if (e?.uri) return { id: e.id, uri: _.revive(e.uri) };
  const i = t;
  if (i?.configPath) return { id: i.id, configPath: _.revive(i.configPath) };
  if (t?.id) return { id: t.id };
}
function M7(t, e) {
  return yt.isEqualOrParent(t, e.untitledWorkspacesHome);
}
function Mo(t) {
  return (typeof t == 'string' ? ld(t) : N0(t)) === B7;
}
var fL,
  F7,
  O7,
  R7,
  N7,
  Nl,
  B7,
  U7,
  xm,
  Oi = b({
    'out-build/vs/platform/workspace/common/workspace.js'() {
      'use strict';
      he(),
        xe(),
        Ha(),
        lt(),
        be(),
        K(),
        Oe(),
        (fL = W('contextService')),
        (F7 = { id: 'ext-dev' }),
        (O7 = { id: 'empty-window' }),
        (function (t) {
          (t[(t.EMPTY = 1)] = 'EMPTY'),
            (t[(t.FOLDER = 2)] = 'FOLDER'),
            (t[(t.WORKSPACE = 3)] = 'WORKSPACE');
        })(R7 || (R7 = {})),
        (N7 = class {
          constructor(t, e) {
            (this.raw = e), (this.uri = t.uri), (this.index = t.index), (this.name = t.name);
          }
          toResource(t) {
            return we(this.uri, t);
          }
          toJSON() {
            return { uri: this.uri, name: this.name, index: this.index };
          }
        }),
        (Nl = 'code-workspace'),
        (B7 = `.${Nl}`),
        (U7 = [{ name: u(2866, null), extensions: [Nl] }]),
        (xm = 'workspace.json');
    },
  }),
  Zi,
  Er = b({
    'out-build/vs/platform/uriIdentity/common/uriIdentity.js'() {
      'use strict';
      K(), (Zi = W('IUriIdentityService'));
    },
  });
function pL(t) {
  const e = t;
  return !!(
    e &&
    typeof e == 'object' &&
    typeof e.id == 'string' &&
    typeof e.isDefault == 'boolean' &&
    typeof e.name == 'string' &&
    _.isUri(e.location) &&
    _.isUri(e.globalStorageHome) &&
    _.isUri(e.settingsResource) &&
    _.isUri(e.keybindingsResource) &&
    _.isUri(e.tasksResource) &&
    _.isUri(e.snippetsHome) &&
    _.isUri(e.promptsHome) &&
    _.isUri(e.extensionsResource)
  );
}
function Qd(t, e, i, s, r, n) {
  return {
    id: t,
    name: e,
    location: i,
    isDefault: !1,
    icon: r?.icon,
    globalStorageHome:
      n && r?.useDefaultFlags?.globalState ? n.globalStorageHome : we(i, 'globalStorage'),
    settingsResource:
      n && r?.useDefaultFlags?.settings ? n.settingsResource : we(i, 'settings.json'),
    keybindingsResource:
      n && r?.useDefaultFlags?.keybindings ? n.keybindingsResource : we(i, 'keybindings.json'),
    tasksResource: n && r?.useDefaultFlags?.tasks ? n.tasksResource : we(i, 'tasks.json'),
    snippetsHome: n && r?.useDefaultFlags?.snippets ? n.snippetsHome : we(i, 'snippets'),
    promptsHome: n && r?.useDefaultFlags?.prompts ? n.promptsHome : we(i, 'prompts'),
    extensionsResource:
      n && r?.useDefaultFlags?.extensions ? n.extensionsResource : we(i, 'extensions.json'),
    cacheHome: we(s, t),
    useDefaultFlags: r?.useDefaultFlags,
    isTransient: r?.transient,
    workspaces: r?.workspaces,
  };
}
var j7,
  Cr,
  Zd,
  Dr = b({
    'out-build/vs/platform/userDataProfile/common/userDataProfile.js'() {
      'use strict';
      Io(),
        X(),
        U(),
        lt(),
        be(),
        he(),
        Xi(),
        ft(),
        K(),
        se(),
        Oi(),
        Er(),
        le(),
        hi(),
        Wt(),
        $e(),
        (function (t) {
          (t.Settings = 'settings'),
            (t.Keybindings = 'keybindings'),
            (t.Snippets = 'snippets'),
            (t.Prompts = 'prompts'),
            (t.Tasks = 'tasks'),
            (t.Extensions = 'extensions'),
            (t.GlobalState = 'globalState');
        })(j7 || (j7 = {})),
        (Cr = W('IUserDataProfilesService')),
        (Zd = class extends H {
          static {
            this.b = 'userDataProfiles';
          }
          static {
            this.c = 'profileAssociations';
          }
          get defaultProfile() {
            return this.profiles[0];
          }
          get profiles() {
            return [...this.C.profiles, ...this.r.profiles];
          }
          constructor(e, i, s, r) {
            super(),
              (this.s = e),
              (this.t = i),
              (this.u = s),
              (this.y = r),
              (this.g = this.B(new $())),
              (this.onDidChangeProfiles = this.g.event),
              (this.h = this.B(new $())),
              (this.onWillCreateProfile = this.h.event),
              (this.j = this.B(new $())),
              (this.onWillRemoveProfile = this.j.event),
              (this.m = this.B(new $())),
              (this.onDidResetWorkspaces = this.m.event),
              (this.n = new Map()),
              (this.r = { profiles: [], emptyWindows: new Map() }),
              (this.profilesHome = we(this.s.userRoamingDataHome, 'profiles')),
              (this.f = we(this.s.cacheHome, 'CachedProfilesData'));
          }
          init() {
            this.z = void 0;
          }
          get C() {
            if (!this.z) {
              const e = this.D(),
                i = [e];
              try {
                for (const r of this.N()) {
                  if (!r.name || !ot(r.name) || !r.location) {
                    this.y.warn('Skipping the invalid stored profile', r.location || r.name);
                    continue;
                  }
                  i.push(
                    Qd(
                      br(r.location),
                      r.name,
                      r.location,
                      this.f,
                      { icon: r.icon, useDefaultFlags: r.useDefaultFlags },
                      e
                    )
                  );
                }
              } catch (r) {
                this.y.error(r);
              }
              const s = new Map();
              if (i.length)
                try {
                  const r = this.P();
                  if (r.workspaces)
                    for (const [n, o] of Object.entries(r.workspaces)) {
                      const a = _.parse(n),
                        c = i.find((l) => l.id === o);
                      if (c) {
                        const l = c.workspaces ? c.workspaces.slice(0) : [];
                        l.push(a), (c.workspaces = l);
                      }
                    }
                  if (r.emptyWindows)
                    for (const [n, o] of Object.entries(r.emptyWindows)) {
                      const a = i.find((c) => c.id === o);
                      a && s.set(n, a);
                    }
                } catch (r) {
                  this.y.error(r);
                }
              this.z = { profiles: i, emptyWindows: s };
            }
            return this.z;
          }
          D() {
            const e = Qd('__default__profile__', u(2822, null), this.s.userRoamingDataHome, this.f);
            return { ...e, extensionsResource: this.R() ?? e.extensionsResource, isDefault: !0 };
          }
          async createTransientProfile(e) {
            const i = 'Temp',
              s = new RegExp(`${Aa(i)}\\s(\\d+)`);
            let r = 0;
            for (const o of this.profiles) {
              const a = s.exec(o.name),
                c = a ? parseInt(a[1]) : 0;
              r = c > r ? c : r;
            }
            const n = `${i} ${r + 1}`;
            return this.createProfile(Un(ei()).toString(16), n, { transient: !0 }, e);
          }
          async createNamedProfile(e, i, s) {
            return this.createProfile(Un(ei()).toString(16), e, i, s);
          }
          async createProfile(e, i, s, r) {
            return await this.F(e, i, s, r);
          }
          async F(e, i, s, r) {
            if (!ot(i) || !i)
              throw new Error('Name of the profile is mandatory and must be of type `string`');
            let n = this.n.get(i);
            return (
              n ||
                ((n = (async () => {
                  try {
                    if (
                      this.profiles.find(
                        (h) => h.id === e || (!h.isTransient && !s?.transient && h.name === i)
                      )
                    )
                      throw new Error(`Profile with ${i} name already exists`);
                    const a = r ? this.G(r) : void 0;
                    _.isUri(a) && (s = { ...s, workspaces: [a] });
                    const c = Qd(e, i, we(this.profilesHome, e), this.f, s, this.defaultProfile);
                    await this.t.createFolder(c.location);
                    const l = [];
                    return (
                      this.h.fire({
                        profile: c,
                        join(h) {
                          l.push(h);
                        },
                      }),
                      await ui.settled(l),
                      a && !_.isUri(a) && this.L(a, c, !!c.isTransient),
                      this.I([c], [], []),
                      c
                    );
                  } finally {
                    this.n.delete(i);
                  }
                })()),
                this.n.set(i, n)),
              n
            );
          }
          async updateProfile(e, i) {
            const s = [];
            for (const n of this.profiles) {
              let o;
              if (e.id === n.id)
                n.isDefault
                  ? i.workspaces && ((o = n), (o.workspaces = i.workspaces))
                  : (o = Qd(
                      n.id,
                      i.name ?? n.name,
                      n.location,
                      this.f,
                      {
                        icon: i.icon === null ? void 0 : i.icon ?? n.icon,
                        transient: i.transient ?? n.isTransient,
                        useDefaultFlags: i.useDefaultFlags ?? n.useDefaultFlags,
                        workspaces: i.workspaces ?? n.workspaces,
                      },
                      this.defaultProfile
                    ));
              else if (i.workspaces) {
                const a = n.workspaces?.filter(
                  (c) => !i.workspaces?.some((l) => this.u.extUri.isEqual(c, l))
                );
                n.workspaces?.length !== a?.length && ((o = n), (o.workspaces = a));
              }
              o && s.push(o);
            }
            if (!s.length)
              throw e.isDefault
                ? new Error('Cannot update default profile')
                : new Error(`Profile '${e.name}' does not exist`);
            this.I([], [], s);
            const r = this.profiles.find((n) => n.id === e.id);
            if (!r) throw new Error(`Profile '${e.name}' was not updated`);
            return r;
          }
          async removeProfile(e) {
            if (e.isDefault) throw new Error('Cannot remove default profile');
            const i = this.profiles.find((r) => r.id === e.id);
            if (!i) throw new Error(`Profile '${e.name}' does not exist`);
            const s = [];
            this.j.fire({
              profile: i,
              join(r) {
                s.push(r);
              },
            });
            try {
              await Promise.allSettled(s);
            } catch (r) {
              this.y.error(r);
            }
            this.I([], [i], []);
            try {
              await this.t.del(i.cacheHome, { recursive: !0 });
            } catch (r) {
              kr(r) !== 1 && this.y.error(r);
            }
          }
          async setProfileForWorkspace(e, i) {
            const s = this.profiles.find((n) => n.id === i.id);
            if (!s) throw new Error(`Profile '${i.name}' does not exist`);
            const r = this.G(e);
            if (_.isUri(r)) {
              const n = s.workspaces ? [...s.workspaces] : [];
              n.some((o) => this.u.extUri.isEqual(o, r)) ||
                (n.push(r), await this.updateProfile(s, { workspaces: n }));
            } else this.L(r, s, !1), this.M(this.profiles);
          }
          unsetWorkspace(e, i = !1) {
            const s = this.G(e);
            if (_.isUri(s)) {
              const r = this.getProfileForWorkspace(e);
              r &&
                this.updateProfile(r, {
                  workspaces: r.workspaces?.filter((n) => !this.u.extUri.isEqual(n, s)),
                });
            } else this.L(s, void 0, i), this.M(this.profiles);
          }
          async resetWorkspaces() {
            this.r.emptyWindows.clear(), this.C.emptyWindows.clear();
            for (const e of this.profiles) e.workspaces = void 0;
            this.I([], [], this.profiles), this.m.fire();
          }
          async cleanUp() {
            if (await this.t.exists(this.profilesHome)) {
              const e = await this.t.resolve(this.profilesHome);
              await Promise.all(
                (e.children || [])
                  .filter(
                    (i) =>
                      i.isDirectory &&
                      this.profiles.every((s) => !this.u.extUri.isEqual(s.location, i.resource))
                  )
                  .map((i) => this.t.del(i.resource, { recursive: !0 }))
              );
            }
          }
          async cleanUpTransientProfiles() {
            const e = this.r.profiles.filter((i) => !this.H(i));
            await Promise.allSettled(e.map((i) => this.removeProfile(i)));
          }
          getProfileForWorkspace(e) {
            const i = this.G(e);
            return _.isUri(i)
              ? this.profiles.find((s) => s.workspaces?.some((r) => this.u.extUri.isEqual(r, i)))
              : this.C.emptyWindows.get(i) ?? this.r.emptyWindows.get(i);
          }
          G(e) {
            return cs(e) ? e.uri : Di(e) ? e.configPath : e.id;
          }
          H(e) {
            return !!(
              e.workspaces?.length ||
              [...this.C.emptyWindows.values()].some((i) =>
                this.u.extUri.isEqual(i.location, e.location)
              ) ||
              [...this.r.emptyWindows.values()].some((i) =>
                this.u.extUri.isEqual(i.location, e.location)
              )
            );
          }
          I(e, i, s) {
            const r = [...this.profiles, ...e],
              n = this.r.profiles;
            this.r.profiles = [];
            const o = [];
            for (let a of r) {
              if (i.some((c) => a.id === c.id)) {
                for (const c of [...this.C.emptyWindows.keys()])
                  a.id === this.C.emptyWindows.get(c)?.id && this.C.emptyWindows.delete(c);
                continue;
              }
              if (!a.isDefault) {
                a = s.find((l) => a.id === l.id) ?? a;
                const c = n.find((l) => a.id === l.id);
                if (a.isTransient) this.r.profiles.push(a);
                else if (c) {
                  for (const [l, h] of this.r.emptyWindows.entries())
                    if (a.id === h.id) {
                      this.r.emptyWindows.delete(l), this.C.emptyWindows.set(l, a);
                      break;
                    }
                }
              }
              a.workspaces?.length === 0 && (a.workspaces = void 0), o.push(a);
            }
            this.M(o), this.J(e, i, s);
          }
          J(e, i, s) {
            this.g.fire({ added: e, removed: i, updated: s, all: this.profiles });
          }
          L(e, i, s) {
            (s = i?.isTransient ? !0 : s),
              s
                ? i
                  ? this.r.emptyWindows.set(e, i)
                  : this.r.emptyWindows.delete(e)
                : (this.r.emptyWindows.delete(e),
                  i ? this.C.emptyWindows.set(e, i) : this.C.emptyWindows.delete(e));
          }
          M(e) {
            const i = [],
              s = {},
              r = {};
            for (const n of e)
              if (
                !n.isTransient &&
                (n.isDefault ||
                  i.push({
                    location: n.location,
                    name: n.name,
                    icon: n.icon,
                    useDefaultFlags: n.useDefaultFlags,
                  }),
                n.workspaces)
              )
                for (const o of n.workspaces) s[o.toString()] = n.id;
            for (const [n, o] of this.C.emptyWindows.entries()) r[n.toString()] = o.id;
            this.Q({ workspaces: s, emptyWindows: r }), this.O(i), (this.z = void 0);
          }
          N() {
            return [];
          }
          O(e) {
            throw new Error('not implemented');
          }
          P() {
            return {};
          }
          Q(e) {
            throw new Error('not implemented');
          }
          R() {}
        }),
        (Zd = __decorate([__param(0, vr), __param(1, $t), __param(2, Zi), __param(3, ee)], Zd));
    },
  });
function Am(t) {
  const e = t.get(sn);
  if (e)
    try {
      return JSON.parse(e);
    } catch {}
  return Object.create(null);
}
function Im(t) {
  return t.isDefault || !!t.useDefaultFlags?.globalState;
}
async function gL(t, e, i, s, r, n) {
  const o = (v) => {
      try {
        return JSON.parse(v);
      } catch {
        return v;
      }
    },
    a = new Map(),
    c = new Map();
  t.forEach((v, k) => {
    a.set(k, v), c.set(k, o(v));
  });
  const l = new Map(),
    h = new Map();
  e.forEach((v, k) => {
    l.set(k, v), h.set(k, o(v));
  });
  const d = new Map(),
    p = new Map();
  i.forEach((v, k) => {
    d.set(k, v), p.set(k, o(v));
  }),
    console.group(
      s !== r
        ? `Storage: Application (path: ${s})`
        : `Storage: Application & Profile (path: ${s}, default profile)`
    );
  const m = [];
  if (
    (a.forEach((v, k) => {
      m.push({ key: k, value: v });
    }),
    console.table(m),
    console.groupEnd(),
    console.log(c),
    s !== r)
  ) {
    console.group(`Storage: Profile (path: ${r}, profile specific)`);
    const v = [];
    l.forEach((k, y) => {
      v.push({ key: y, value: k });
    }),
      console.table(v),
      console.groupEnd(),
      console.log(h);
  }
  console.group(`Storage: Workspace (path: ${n})`);
  const w = [];
  d.forEach((v, k) => {
    w.push({ key: k, value: v });
  }),
    console.table(w),
    console.groupEnd(),
    console.log(p);
}
var Bl,
  sn,
  mL,
  Ga,
  W7,
  H7,
  z7,
  wL,
  $m = b({
    'out-build/vs/platform/storage/common/storage.js'() {
      'use strict';
      le(),
        X(),
        U(),
        jr(),
        $e(),
        T7(),
        K(),
        Dr(),
        (Bl = '__$__isNewStorageMarker'),
        (sn = '__$__targetStorageMarker'),
        (mL = W('storageService')),
        (function (t) {
          (t[(t.NONE = 0)] = 'NONE'), (t[(t.SHUTDOWN = 1)] = 'SHUTDOWN');
        })(Ga || (Ga = {})),
        (function (t) {
          (t[(t.APPLICATION = -1)] = 'APPLICATION'),
            (t[(t.PROFILE = 0)] = 'PROFILE'),
            (t[(t.WORKSPACE = 1)] = 'WORKSPACE'),
            (t[(t.ICUBE_PROFILE = 2)] = 'ICUBE_PROFILE');
        })(W7 || (W7 = {})),
        (function (t) {
          (t[(t.USER = 0)] = 'USER'), (t[(t.MACHINE = 1)] = 'MACHINE');
        })(H7 || (H7 = {})),
        (z7 = class SI extends H {
          static {
            this.a = 60 * 1e3;
          }
          constructor(e = { flushInterval: SI.a }) {
            super(),
              (this.n = e),
              (this.b = this.B(new od())),
              (this.f = this.B(new od())),
              (this.onDidChangeTarget = this.f.event),
              (this.g = this.B(new $())),
              (this.onWillSaveState = this.g.event),
              (this.j = this.B(new As(() => this.r(), this.n.flushInterval))),
              (this.m = this.B(new ko())),
              (this.D = void 0),
              (this.G = void 0),
              (this.I = void 0),
              (this.L = void 0);
          }
          onDidChangeValue(e, i, s) {
            return P.filter(this.b.event, (r) => r.scope === e && (i === void 0 || r.key === i), s);
          }
          r() {
            this.m.value = V0(() => {
              this.t() && this.flush(), this.j.schedule();
            });
          }
          t() {
            return !0;
          }
          u() {
            Qt([this.m, this.j]);
          }
          initialize() {
            return (
              this.h ||
                (this.h = (async () => {
                  Xe('code/willInitStorage');
                  try {
                    await this.R();
                  } finally {
                    Xe('code/didInitStorage');
                  }
                  this.j.schedule();
                })()),
              this.h
            );
          }
          w(e, i) {
            const { key: s, external: r } = i;
            if (s === sn) {
              switch (e) {
                case -1:
                  this.I = void 0;
                  break;
                case 0:
                  this.G = void 0;
                  break;
                case 1:
                  this.D = void 0;
                  break;
                case 2:
                  this.L = void 0;
                  break;
              }
              this.f.fire({ scope: e });
            } else this.b.fire({ scope: e, key: s, target: this.N(e)[s], external: r });
          }
          y(e) {
            this.g.fire({ reason: e });
          }
          get(e, i, s) {
            return this.S(i)?.get(e, s);
          }
          getBoolean(e, i, s) {
            return this.S(i)?.getBoolean(e, s);
          }
          getNumber(e, i, s) {
            return this.S(i)?.getNumber(e, s);
          }
          getObject(e, i, s) {
            return this.S(i)?.getObject(e, s);
          }
          storeAll(e, i) {
            this.z(() => {
              for (const s of e) this.store(s.key, s.value, s.scope, s.target, i);
            });
          }
          store(e, i, s, r, n = !1) {
            if (Ii(i)) {
              this.remove(e, s, n);
              return;
            }
            this.z(() => {
              this.C(e, s, r), this.S(s)?.set(e, i, n);
            });
          }
          remove(e, i, s = !1) {
            this.z(() => {
              this.C(e, i, void 0), this.S(i)?.delete(e, s);
            });
          }
          z(e) {
            this.b.pause(), this.f.pause();
            try {
              e();
            } finally {
              this.b.resume(), this.f.resume();
            }
          }
          keys(e, i) {
            const s = [],
              r = this.N(e);
            for (const n of Object.keys(r)) r[n] === i && s.push(n);
            return s;
          }
          C(e, i, s, r = !1) {
            const n = this.N(i);
            typeof s == 'number'
              ? n[e] !== s && ((n[e] = s), this.S(i)?.set(sn, JSON.stringify(n), r))
              : typeof n[e] == 'number' && (delete n[e], this.S(i)?.set(sn, JSON.stringify(n), r));
          }
          get F() {
            return this.D || (this.D = this.O(1)), this.D;
          }
          get H() {
            return this.G || (this.G = this.O(0)), this.G;
          }
          get J() {
            return this.I || (this.I = this.O(-1)), this.I;
          }
          get M() {
            return this.L || (this.L = this.O(2)), this.L;
          }
          N(e) {
            switch (e) {
              case -1:
                return this.J;
              case 0:
                return this.H;
              case 2:
                return this.M;
              default:
                return this.F;
            }
          }
          O(e) {
            const i = this.S(e);
            return i ? Am(i) : Object.create(null);
          }
          isNew(e) {
            return this.getBoolean(Bl, e) === !0;
          }
          async flush(e = Ga.NONE) {
            this.g.fire({ reason: e });
            const i = this.S(-1),
              s = this.S(0),
              r = this.S(1);
            switch (e) {
              case Ga.NONE:
                await ui.settled([
                  i?.whenFlushed() ?? Promise.resolve(),
                  s?.whenFlushed() ?? Promise.resolve(),
                  r?.whenFlushed() ?? Promise.resolve(),
                ]);
                break;
              case Ga.SHUTDOWN:
                await ui.settled([
                  i?.flush(0) ?? Promise.resolve(),
                  s?.flush(0) ?? Promise.resolve(),
                  r?.flush(0) ?? Promise.resolve(),
                ]);
                break;
            }
          }
          async log() {
            const e = this.S(-1)?.items ?? new Map(),
              i = this.S(0)?.items ?? new Map(),
              s = this.S(1)?.items ?? new Map();
            return gL(e, i, s, this.U(-1) ?? '', this.U(0) ?? '', this.U(1) ?? '');
          }
          async optimize(e) {
            return await this.flush(), this.S(e)?.optimize();
          }
          async switch(e, i) {
            return this.y(Ga.NONE), pL(e) ? this.W(e, i) : this.X(e, i);
          }
          P(e, i) {
            return !(e.id === i.id || (Im(i) && Im(e)));
          }
          Q(e, i, s) {
            this.z(() => {
              const r = new Set();
              for (const [n, o] of e)
                r.add(n), i.get(n) !== o && this.w(s, { key: n, external: !0 });
              for (const [n] of i.items) r.has(n) || this.w(s, { key: n, external: !0 });
            });
          }
        }),
        (wL = W('remoteStorageService'));
    },
  });
import * as V7 from 'fs';
var Ul,
  G7,
  bL = b({
    'out-build/vs/base/parts/storage/node/storage.js'() {
      'use strict';
      le(),
        X(),
        Pi(),
        xe(),
        Zt(),
        (Ul = class pa {
          static {
            this.IN_MEMORY_PATH = ':memory:';
          }
          get onDidChangeItemsExternal() {
            return P.None;
          }
          static {
            this.a = 2e3;
          }
          static {
            this.b = 256;
          }
          constructor(e, i = Object.create(null)) {
            (this.g = e),
              (this.h = i),
              (this.c = ct(this.g)),
              (this.d = new G7(this.h.logging)),
              (this.f = this.n(this.g));
          }
          async getItems() {
            const e = await this.f,
              i = new Map();
            return (
              (await this.s(e, 'SELECT * FROM ItemTable')).forEach((r) => i.set(r.key, r.value)),
              this.d.isTracing && this.d.trace(`[storage ${this.c}] getItems(): ${i.size} rows`),
              i
            );
          }
          async updateItems(e) {
            const i = await this.f;
            return this.j(i, e);
          }
          j(e, i) {
            return (
              this.d.isTracing &&
                this.d.trace(
                  `[storage ${this.c}] updateItems(): insert(${
                    i.insert ? M$(i.insert) : '0'
                  }), delete(${i.delete ? F$(i.delete) : '0'})`
                ),
              this.t(e, () => {
                const s = i.insert,
                  r = i.delete;
                if (s && s.size > 0) {
                  const n = [];
                  n.push([]);
                  let o = 0;
                  s.forEach((a, c) => {
                    let l = n[o];
                    l.length > pa.b && (o++, (l = []), n.push(l)), l.push(c, a);
                  }),
                    n.forEach((a) => {
                      this.u(
                        e,
                        `INSERT INTO ItemTable VALUES ${new Array(a.length / 2)
                          .fill('(?,?)')
                          .join(',')}`,
                        (c) => c.run(a),
                        () => {
                          const c = [];
                          let l = 0;
                          return (
                            s.forEach((h, d) => {
                              c.push(d), (l += h.length);
                            }),
                            `Keys: ${c.join(', ')} Length: ${l}`
                          );
                        }
                      );
                    });
                }
                if (r && r.size) {
                  const n = [];
                  n.push([]);
                  let o = 0;
                  r.forEach((a) => {
                    let c = n[o];
                    c.length > pa.b && (o++, (c = []), n.push(c)), c.push(a);
                  }),
                    n.forEach((a) => {
                      this.u(
                        e,
                        `DELETE FROM ItemTable WHERE key IN (${new Array(a.length)
                          .fill('?')
                          .join(',')})`,
                        (c) => c.run(a),
                        () => {
                          const c = [];
                          return (
                            r.forEach((l) => {
                              c.push(l);
                            }),
                            `Keys: ${c.join(', ')}`
                          );
                        }
                      );
                    });
                }
              })
            );
          }
          async optimize() {
            this.d.trace(`[storage ${this.c}] vacuum()`);
            const e = await this.f;
            return this.q(e, 'VACUUM');
          }
          async close(e) {
            this.d.trace(`[storage ${this.c}] close()`);
            const i = await this.f;
            return this.k(i, e);
          }
          k(e, i) {
            return new Promise((s, r) => {
              e.db.close(
                (n) => (
                  n && this.o(e, `[storage ${this.c}] close(): ${n}`),
                  this.g === pa.IN_MEMORY_PATH
                    ? s()
                    : !e.isErroneous && !e.isInMemory
                    ? this.l().then(
                        s,
                        (o) => (this.d.error(`[storage ${this.c}] backup(): ${o}`), s())
                      )
                    : typeof i == 'function'
                    ? V7.promises
                        .unlink(this.g)
                        .then(() =>
                          this.p(this.g).then((o) => {
                            const a = () => this.k(o, void 0);
                            return this.j(o, { insert: i() }).then(
                              () => a(),
                              (c) => (a(), Promise.reject(c))
                            );
                          })
                        )
                        .then(s, r)
                    : r(
                        n ||
                          new Error('Database has errors or is in-memory without recovery option')
                      )
                )
              );
            });
          }
          l() {
            const e = this.m(this.g);
            return ge.copy(this.g, e, { preserveSymlinks: !1 });
          }
          m(e) {
            return `${e}.backup`;
          }
          async checkIntegrity(e) {
            this.d.trace(`[storage ${this.c}] checkIntegrity(full: ${e})`);
            const i = await this.f,
              s = await this.r(i, e ? 'PRAGMA integrity_check' : 'PRAGMA quick_check'),
              r = e ? s.integrity_check : s.quick_check;
            return i.isErroneous
              ? `${r} (last error: ${i.lastError})`
              : i.isInMemory
              ? `${r} (in-memory!)`
              : r;
          }
          async n(e, i = !0) {
            this.d.trace(`[storage ${this.c}] open(${e}, retryOnBusy: ${i})`);
            try {
              return await this.p(e);
            } catch (s) {
              if (
                (this.d.error(`[storage ${this.c}] open(): Unable to open DB due to ${s}`),
                s.code === 'SQLITE_BUSY' && i)
              )
                return await Ji(pa.a), this.n(e, !1);
              try {
                await V7.promises.unlink(e);
                try {
                  await ge.rename(this.m(e), e, !1);
                } catch {}
                return await this.p(e);
              } catch (r) {
                return (
                  this.d.error(`[storage ${this.c}] open(): Unable to use backup due to ${r}`),
                  this.p(pa.IN_MEMORY_PATH)
                );
              }
            }
          }
          o(e, i) {
            (e.isErroneous = !0), (e.lastError = i), this.d.error(i);
          }
          p(e) {
            return new Promise((i, s) => {
              import('@vscode/sqlite3').then((r) => {
                const n = this.d.isTracing ? r.default.verbose().Database : r.default.Database,
                  o = {
                    db: new n(e, (a) =>
                      a
                        ? o.db && a.code !== 'SQLITE_CANTOPEN'
                          ? o.db.close(() => s(a))
                          : s(a)
                        : this.q(
                            o,
                            [
                              'PRAGMA user_version = 1;',
                              'CREATE TABLE IF NOT EXISTS ItemTable (key TEXT UNIQUE ON CONFLICT REPLACE, value BLOB)',
                            ].join('')
                          ).then(
                            () => i(o),
                            (c) => o.db.close(() => s(c))
                          )
                    ),
                    isInMemory: e === pa.IN_MEMORY_PATH,
                  };
                o.db.on('error', (a) => this.o(o, `[storage ${this.c}] Error (event): ${a}`)),
                  this.d.isTracing &&
                    o.db.on('trace', (a) =>
                      this.d.trace(`[storage ${this.c}] Trace (event): ${a}`)
                    );
              }, s);
            });
          }
          q(e, i) {
            return new Promise((s, r) => {
              e.db.exec(i, (n) =>
                n ? (this.o(e, `[storage ${this.c}] exec(): ${n}`), r(n)) : s()
              );
            });
          }
          r(e, i) {
            return new Promise((s, r) => {
              e.db.get(i, (n, o) =>
                n ? (this.o(e, `[storage ${this.c}] get(): ${n}`), r(n)) : s(o)
              );
            });
          }
          s(e, i) {
            return new Promise((s, r) => {
              e.db.all(i, (n, o) =>
                n ? (this.o(e, `[storage ${this.c}] all(): ${n}`), r(n)) : s(o)
              );
            });
          }
          t(e, i) {
            return new Promise((s, r) => {
              e.db.serialize(() => {
                e.db.run('BEGIN TRANSACTION'),
                  i(),
                  e.db.run('END TRANSACTION', (n) =>
                    n ? (this.o(e, `[storage ${this.c}] transaction(): ${n}`), r(n)) : s()
                  );
              });
            });
          }
          u(e, i, s, r) {
            const n = e.db.prepare(i),
              o = (a) => {
                this.o(e, `[storage ${this.c}] prepare(): ${a} (${i}). Details: ${r()}`);
              };
            n.on('error', o),
              s(n),
              n.finalize((a) => {
                a && o(a), n.removeListener('error', o);
              });
          }
        }),
        (G7 = class EI {
          static {
            this.a = 'VSCODE_TRACE_STORAGE';
          }
          constructor(e) {
            e && typeof e.logTrace == 'function' && process.env[EI.a] && (this.b = e.logTrace),
              e && typeof e.logError == 'function' && (this.c = e.logError);
          }
          get isTracing() {
            return !!this.b;
          }
          trace(e) {
            this.b?.(e);
          }
          error(e) {
            this.c?.(e);
          }
        });
    },
  }),
  Vt,
  vL,
  Pm,
  _m,
  q7,
  Lm,
  Tm,
  ef,
  Mm,
  jl,
  Fm,
  tf,
  K7,
  J7,
  Gt = b({
    'out-build/vs/platform/telemetry/common/telemetry.js'() {
      'use strict';
      K(),
        (Vt = W('telemetryService')),
        (vL = W('customEndpointTelemetryService')),
        (Pm = 'telemetry.currentSessionDate'),
        (_m = 'telemetry.firstSessionDate'),
        (q7 = 'telemetry.lastSessionDate'),
        (Lm = 'telemetry.machineId'),
        (Tm = 'telemetry.sqmId'),
        (ef = 'telemetry.devDeviceId'),
        (Mm = 'telemetry'),
        (jl = 'telemetry.telemetryLevel'),
        (Fm = 'telemetry.enableCrashReporter'),
        (tf = 'telemetry.enableTelemetry'),
        (function (t) {
          (t[(t.NONE = 0)] = 'NONE'),
            (t[(t.CRASH = 1)] = 'CRASH'),
            (t[(t.ERROR = 2)] = 'ERROR'),
            (t[(t.USAGE = 3)] = 'USAGE');
        })(K7 || (K7 = {})),
        (function (t) {
          (t.OFF = 'off'), (t.CRASH = 'crash'), (t.ERROR = 'error'), (t.ON = 'all');
        })(J7 || (J7 = {}));
    },
  });
import * as yL from 'fs';
var sf,
  Om,
  X7,
  Y7,
  Q7,
  Rm,
  kL = b({
    'out-build/vs/platform/storage/electron-main/storageMain.js'() {
      'use strict';
      ni(),
        le(),
        X(),
        U(),
        xe(),
        Hr(),
        be(),
        Zt(),
        T7(),
        bL(),
        se(),
        $m(),
        Gt(),
        Oi(),
        Oe(),
        (sf = class CI extends H {
          static {
            this.a = 2e3;
          }
          get storage() {
            return this.f;
          }
          constructor(e, i) {
            super(),
              (this.m = e),
              (this.n = i),
              (this.b = this.B(new $())),
              (this.onDidChangeStorage = this.b.event),
              (this.c = this.B(new $())),
              (this.onDidCloseStorage = this.c.event),
              (this.f = this.B(new Rl(new Dm(), { hint: Sr.STORAGE_IN_MEMORY }))),
              (this.g = void 0),
              (this.h = new zt()),
              (this.whenInit = this.h.p),
              (this.j = Qi.None);
          }
          isInMemory() {
            return this.f.isInMemory();
          }
          init() {
            return (
              this.g ||
                (this.g = (async () => {
                  if (this.j === Qi.None)
                    try {
                      const e = this.B(await this.t());
                      this.f.dispose(),
                        (this.f = e),
                        this.B(e.onDidChangeStorage((s) => this.b.fire(s))),
                        await this.s(e);
                      const i = e.getBoolean(Bl);
                      i === void 0 ? e.set(Bl, !0) : i && e.set(Bl, !1);
                    } catch (e) {
                      this.m.error(
                        `[storage main] initialize(): Unable to init storage due to ${e}`
                      );
                    } finally {
                      (this.j = Qi.Initialized), this.h.complete();
                    }
                })()),
              this.g
            );
          }
          r() {
            return {
              logTrace: this.m.getLevel() === ce.Trace ? (e) => this.m.trace(e) : void 0,
              logError: (e) => this.m.error(e),
            };
          }
          s(e) {
            return e.init();
          }
          get items() {
            return this.f.items;
          }
          get(e, i) {
            return this.f.get(e, i);
          }
          set(e, i) {
            return this.f.set(e, i);
          }
          delete(e) {
            return this.f.delete(e);
          }
          optimize() {
            return this.f.optimize();
          }
          async close() {
            const e = new gr(!1);
            await this.w(), e.stop(), e.elapsed() > CI.a && (await this.u(e)), this.c.fire();
          }
          async u(e) {
            if (this.path)
              try {
                const i = D$(
                    Array.from(this.f.items.entries()).map(([r, n]) => ({
                      key: r,
                      length: n.length,
                    })),
                    (r, n) => n.length - r.length,
                    5
                  )
                    .map((r) => `${r.key}:${r.length}`)
                    .join(', '),
                  s = (await this.n.stat(_.file(this.path))).size;
                this.m.warn(
                  `[storage main] detected slow close() operation: Time: ${e.elapsed()}ms, DB size: ${s}b, Large Keys: ${i}`
                );
              } catch (i) {
                this.m.error(
                  '[storage main] figuring out stats for slow DB on close() resulted in an error',
                  i
                );
              }
          }
          async w() {
            this.g && (await this.g), (this.j = Qi.Closed), await this.f.close();
          }
        }),
        (Om = class DI extends sf {
          static {
            this.y = 'state.vscdb';
          }
          get path() {
            if (!this.C.useInMemoryStorage)
              return M(this.z.globalStorageHome.with({ scheme: N.file }).fsPath, DI.y);
          }
          constructor(e, i, s, r) {
            super(s, r), (this.z = e), (this.C = i);
          }
          async t() {
            return new Rl(
              new Ul(this.path ?? Ul.IN_MEMORY_PATH, { logging: this.r() }),
              this.path ? void 0 : { hint: Sr.STORAGE_IN_MEMORY }
            );
          }
        }),
        (X7 = class extends Om {
          constructor(t, e, i, s) {
            super(t, e, i, s);
          }
        }),
        (Y7 = class extends Om {
          constructor(t, e, i, s) {
            super(e.defaultProfile, t, i, s);
          }
          async s(t) {
            await super.s(t), this.G(t);
          }
          G(t) {
            t.get(_m, void 0) === void 0 && t.set(_m, new Date().toUTCString());
            const i = t.get(Pm, void 0),
              s = new Date().toUTCString();
            t.set(q7, typeof i > 'u' ? null : i), t.set(Pm, s);
          }
        }),
        (Q7 = class $g extends sf {
          static {
            this.y = 'state.vscdb';
          }
          static {
            this.z = 'workspace.json';
          }
          get path() {
            if (!this.D.useInMemoryStorage)
              return M(
                this.F.workspaceStorageHome.with({ scheme: N.file }).fsPath,
                this.C.id,
                $g.y
              );
          }
          constructor(e, i, s, r, n) {
            super(s, n), (this.C = e), (this.D = i), (this.F = r);
          }
          async t() {
            const { storageFilePath: e, wasCreated: i } = await this.H();
            return new Rl(new Ul(e, { logging: this.r() }), {
              hint: this.D.useInMemoryStorage
                ? Sr.STORAGE_IN_MEMORY
                : i
                ? Sr.STORAGE_DOES_NOT_EXIST
                : void 0,
            });
          }
          async H() {
            if (this.D.useInMemoryStorage)
              return { storageFilePath: Ul.IN_MEMORY_PATH, wasCreated: !0 };
            const e = M(this.F.workspaceStorageHome.with({ scheme: N.file }).fsPath, this.C.id),
              i = M(e, $g.y);
            return (await ge.exists(e))
              ? { storageFilePath: i, wasCreated: !1 }
              : (await yL.promises.mkdir(e, { recursive: !0 }),
                this.I(e),
                { storageFilePath: i, wasCreated: !0 });
          }
          async I(e) {
            let i;
            if (
              (cs(this.C)
                ? (i = { folder: this.C.uri.toString() })
                : Di(this.C) && (i = { workspace: this.C.configPath.toString() }),
              i)
            )
              try {
                const s = M(e, $g.z);
                (await ge.exists(s)) || (await ge.writeFile(s, JSON.stringify(i, void 0, 2)));
              } catch (s) {
                this.m.error(
                  `[storage main] ensureWorkspaceStorageFolderMeta(): Unable to create workspace storage metadata due to ${s}`
                );
              }
          }
        }),
        (Rm = class extends sf {
          get path() {}
          async t() {
            return new Rl(new Dm(), { hint: Sr.STORAGE_IN_MEMORY });
          }
        });
    },
  }),
  Z7,
  e9,
  rf,
  Nm,
  t9 = b({
    'out-build/vs/platform/state/node/stateService.js'() {
      'use strict';
      le(),
        bt(),
        U(),
        $e(),
        Xi(),
        ft(),
        se(),
        (function (t) {
          (t[(t.IMMEDIATE = 0)] = 'IMMEDIATE'), (t[(t.DELAYED = 1)] = 'DELAYED');
        })(Z7 || (Z7 = {})),
        (e9 = class extends H {
          constructor(t, e, i, s) {
            super(),
              (this.h = t),
              (this.j = e),
              (this.m = i),
              (this.n = s),
              (this.a = Object.create(null)),
              (this.b = ''),
              (this.c = this.B(new Xr(this.j === 0 ? 0 : 100))),
              (this.f = void 0),
              (this.g = void 0);
          }
          init() {
            return this.f || (this.f = this.r()), this.f;
          }
          async r() {
            try {
              (this.b = (await this.n.readFile(this.h)).value.toString()),
                (this.a = JSON.parse(this.b));
            } catch (t) {
              t.fileOperationResult !== 1 && this.m.error(t);
            }
          }
          getItem(t, e) {
            const i = this.a[t];
            return Ii(i) ? e : i;
          }
          setItem(t, e) {
            this.setItems([{ key: t, data: e }]);
          }
          setItems(t) {
            let e = !1;
            for (const { key: i, data: s } of t)
              this.a[i] !== s &&
                (Ii(s)
                  ? Wr(this.a[i]) || ((this.a[i] = void 0), (e = !0))
                  : ((this.a[i] = s), (e = !0)));
            e && this.s();
          }
          removeItem(t) {
            Wr(this.a[t]) || ((this.a[t] = void 0), this.s());
          }
          async s() {
            if (!this.g) return this.c.trigger(() => this.t());
          }
          async t() {
            if (!this.f) return;
            await this.f;
            const t = JSON.stringify(this.a, null, 4);
            if (t !== this.b)
              try {
                await this.n.writeFile(this.h, re.fromString(t), {
                  atomic: { postfix: '.vsctmp' },
                }),
                  (this.b = t);
              } catch (e) {
                this.m.error(e);
              }
          }
          async close() {
            return this.g || (this.g = this.c.trigger(() => this.t(), 0)), this.g;
          }
        }),
        (rf = class extends H {
          constructor(e, i, s, r) {
            super(), (this.a = this.B(new e9(i.stateResource, e, s, r)));
          }
          async init() {
            await this.a.init();
          }
          getItem(e, i) {
            return this.a.getItem(e, i);
          }
        }),
        (rf = __decorate([__param(1, vr), __param(2, ee), __param(3, $t)], rf)),
        (Nm = class extends rf {
          setItem(t, e) {
            this.a.setItem(t, e);
          }
          setItems(t) {
            this.a.setItems(t);
          }
          removeItem(t) {
            this.a.removeItem(t);
          }
          close() {
            return this.a.close();
          }
        });
    },
  }),
  nf,
  qa,
  of,
  Wl,
  Bm,
  SL = b({
    'out-build/vs/platform/userDataProfile/node/userDataProfile.js'() {
      'use strict';
      be(),
        Xi(),
        ft(),
        se(),
        Pt(),
        Er(),
        Dr(),
        $e(),
        t9(),
        (of = nf =
          class extends Zd {
            constructor(e, i, s, r, n) {
              super(s, r, i, n), (this.a = e), (this.S = s);
            }
            N() {
              return this.a
                .getItem(nf.b, [])
                .map((i) => ({
                  ...i,
                  location: ot(i.location)
                    ? this.u.extUri.joinPath(this.profilesHome, i.location)
                    : _.revive(i.location),
                }));
            }
            P() {
              return this.a.getItem(nf.c, {});
            }
            R() {
              return this.u.extUri.joinPath(
                _.file(this.S.extensionsPath).with({ scheme: this.profilesHome.scheme }),
                'extensions.json'
              );
            }
          }),
        (of = nf =
          __decorate(
            [__param(0, Cm), __param(1, Zi), __param(2, $s), __param(3, $t), __param(4, ee)],
            of
          )),
        (Wl = qa =
          class extends of {
            constructor(e, i, s, r, n) {
              super(e, i, s, r, n), (this.Y = e);
            }
            O(e) {
              e.length
                ? this.Y.setItem(
                    qa.b,
                    e.map((i) => ({ ...i, location: this.u.extUri.basename(i.location) }))
                  )
                : this.Y.removeItem(qa.b);
            }
            Q(e) {
              e.emptyWindows || e.workspaces ? this.Y.setItem(qa.c, e) : this.Y.removeItem(qa.c);
            }
          }),
        (Wl = qa =
          __decorate(
            [__param(0, kt), __param(1, Zi), __param(2, $s), __param(3, $t), __param(4, ee)],
            Wl
          )),
        (Bm = class extends Wl {
          constructor(e, i, s, r) {
            super(new Nm(0, i, r, s), e, i, s, r);
          }
          async init() {
            return await this.Y.init(), super.init();
          }
        }),
        (Bm = __decorate([__param(0, Zi), __param(1, $s), __param(2, $t), __param(3, ee)], Bm));
    },
  }),
  xr,
  af,
  Fo = b({
    'out-build/vs/platform/userDataProfile/electron-main/userDataProfile.js'() {
      'use strict';
      Xi(),
        ft(),
        K(),
        se(),
        Er(),
        Dr(),
        SL(),
        Pt(),
        (xr = Cr),
        (af = class extends Wl {
          constructor(e, i, s, r, n) {
            super(e, i, s, r, n);
          }
          getAssociatedEmptyWindows() {
            const e = [];
            for (const i of this.C.emptyWindows.keys()) e.push({ id: i });
            return e;
          }
        }),
        (af = __decorate(
          [__param(0, kt), __param(1, Zi), __param(2, $s), __param(3, $t), __param(4, ee)],
          af
        ));
    },
  }),
  zn,
  cf,
  Vn,
  lf,
  Gn = b({
    'out-build/vs/platform/storage/electron-main/storageMainService.js'() {
      'use strict';
      be(),
        X(),
        U(),
        Xi(),
        ft(),
        K(),
        St(),
        se(),
        $m(),
        kL(),
        Dr(),
        Fo(),
        Er(),
        Oe(),
        (zn = W('storageMainService')),
        (cf = class extends H {
          constructor(e, i, s, r, n, o) {
            super(),
              (this.c = e),
              (this.f = i),
              (this.g = s),
              (this.h = r),
              (this.j = n),
              (this.m = o),
              (this.a = void 0),
              (this.b = this.B(new $())),
              (this.onDidChangeProfileStorage = this.b.event),
              (this.applicationStorage = this.B(this.s())),
              (this.t = new Map()),
              (this.w = new Map()),
              this.r();
          }
          n() {
            return { useInMemoryStorage: !!this.f.extensionTestsLocationURI };
          }
          r() {
            (async () => (await this.h.when(3), this.applicationStorage.init()))(),
              this.B(
                this.h.onWillLoadWindow((e) => {
                  e.window.profile && this.profileStorage(e.window.profile).init(),
                    e.workspace && this.workspaceStorage(e.workspace).init();
                })
              ),
              this.B(
                this.h.onWillShutdown((e) => {
                  this.c.trace('storageMainService#onWillShutdown()'),
                    (this.a = e.reason),
                    e.join('applicationStorage', this.applicationStorage.close());
                  for (const [, i] of this.t) e.join('profileStorage', i.close());
                  for (const [, i] of this.w) e.join('workspaceStorage', i.close());
                })
              ),
              this.B(
                this.g.onWillCreateProfile((e) => {
                  e.join(
                    (async () => {
                      (await this.j.exists(e.profile.globalStorageHome)) ||
                        (await this.j.createFolder(e.profile.globalStorageHome));
                    })()
                  );
                })
              ),
              this.B(
                this.g.onWillRemoveProfile((e) => {
                  const i = this.t.get(e.profile.id);
                  i && e.join(i.close());
                })
              );
          }
          s() {
            this.c.trace('StorageMainService: creating application storage');
            const e = new Y7(this.n(), this.g, this.c, this.j);
            return (
              this.B(
                P.once(e.onDidCloseStorage)(() => {
                  this.c.trace('StorageMainService: closed application storage');
                })
              ),
              e
            );
          }
          profileStorage(e) {
            if (Im(e)) return this.applicationStorage;
            let i = this.t.get(e.id);
            if (!i) {
              this.c.trace(`StorageMainService: creating profile storage (${e.name})`),
                (i = this.B(this.u(e))),
                this.t.set(e.id, i);
              const s = this.B(
                i.onDidChangeStorage((r) => this.b.fire({ ...r, storage: i, profile: e }))
              );
              this.B(
                P.once(i.onDidCloseStorage)(() => {
                  this.c.trace(`StorageMainService: closed profile storage (${e.name})`),
                    this.t.delete(e.id),
                    s.dispose();
                })
              );
            }
            return i;
          }
          u(e) {
            return this.a === 2 ? new Rm(this.c, this.j) : new X7(e, this.n(), this.c, this.j);
          }
          workspaceStorage(e) {
            let i = this.w.get(e.id);
            return (
              i ||
                (this.c.trace(`StorageMainService: creating workspace storage (${e.id})`),
                (i = this.B(this.y(e))),
                this.w.set(e.id, i),
                this.B(
                  P.once(i.onDidCloseStorage)(() => {
                    this.c.trace(`StorageMainService: closed workspace storage (${e.id})`),
                      this.w.delete(e.id);
                  })
                )),
              i
            );
          }
          y(e) {
            return this.a === 2
              ? new Rm(this.c, this.j)
              : new Q7(e, this.n(), this.c, this.f, this.j);
          }
          isUsed(e) {
            const i = _.file(e);
            for (const s of [this.applicationStorage, ...this.t.values(), ...this.w.values()])
              if (s.path && this.m.extUri.isEqualOrParent(_.file(s.path), i)) return !0;
            return !1;
          }
        }),
        (cf = __decorate(
          [
            __param(0, ee),
            __param(1, vr),
            __param(2, xr),
            __param(3, st),
            __param(4, $t),
            __param(5, Zi),
          ],
          cf
        )),
        (Vn = W('applicationStorageMainService')),
        (lf = class extends z7 {
          constructor(e, i) {
            super(),
              (this.c = e),
              (this.s = i),
              (this.whenReady = this.s.applicationStorage.whenInit);
          }
          R() {
            return this.s.applicationStorage.whenInit;
          }
          S(e) {
            if (e === -1) return this.s.applicationStorage.storage;
          }
          U(e) {
            if (e === -1)
              return this.c.defaultProfile.globalStorageHome.with({ scheme: N.file }).fsPath;
          }
          t() {
            return !1;
          }
          switch() {
            throw new Error('Migrating storage is unsupported from main process');
          }
          W() {
            throw new Error('Switching storage profile is unsupported from main process');
          }
          X() {
            throw new Error('Switching storage workspace is unsupported from main process');
          }
          hasScope() {
            throw new Error('Main process is never profile or workspace scoped');
          }
        }),
        (lf = __decorate([__param(0, Cr), __param(1, zn)], lf));
    },
  });
function qn(t, e) {
  const i = Math.pow(10, e);
  return Math.round(t * i) / i;
}
var A,
  Oo,
  Hl,
  S,
  Ri = b({
    'out-build/vs/base/common/color.js'() {
      'use strict';
      (A = class {
        constructor(t, e, i, s = 1) {
          (this._rgbaBrand = void 0),
            (this.r = Math.min(255, Math.max(0, t)) | 0),
            (this.g = Math.min(255, Math.max(0, e)) | 0),
            (this.b = Math.min(255, Math.max(0, i)) | 0),
            (this.a = qn(Math.max(Math.min(1, s), 0), 3));
        }
        static equals(t, e) {
          return t.r === e.r && t.g === e.g && t.b === e.b && t.a === e.a;
        }
      }),
        (Oo = class Bh {
          constructor(e, i, s, r) {
            (this._hslaBrand = void 0),
              (this.h = Math.max(Math.min(360, e), 0) | 0),
              (this.s = qn(Math.max(Math.min(1, i), 0), 3)),
              (this.l = qn(Math.max(Math.min(1, s), 0), 3)),
              (this.a = qn(Math.max(Math.min(1, r), 0), 3));
          }
          static equals(e, i) {
            return e.h === i.h && e.s === i.s && e.l === i.l && e.a === i.a;
          }
          static fromRGBA(e) {
            const i = e.r / 255,
              s = e.g / 255,
              r = e.b / 255,
              n = e.a,
              o = Math.max(i, s, r),
              a = Math.min(i, s, r);
            let c = 0,
              l = 0;
            const h = (a + o) / 2,
              d = o - a;
            if (d > 0) {
              switch (((l = Math.min(h <= 0.5 ? d / (2 * h) : d / (2 - 2 * h), 1)), o)) {
                case i:
                  c = (s - r) / d + (s < r ? 6 : 0);
                  break;
                case s:
                  c = (r - i) / d + 2;
                  break;
                case r:
                  c = (i - s) / d + 4;
                  break;
              }
              (c *= 60), (c = Math.round(c));
            }
            return new Bh(c, l, h, n);
          }
          static i(e, i, s) {
            return (
              s < 0 && (s += 1),
              s > 1 && (s -= 1),
              s < 1 / 6
                ? e + (i - e) * 6 * s
                : s < 1 / 2
                ? i
                : s < 2 / 3
                ? e + (i - e) * (2 / 3 - s) * 6
                : e
            );
          }
          static toRGBA(e) {
            const i = e.h / 360,
              { s, l: r, a: n } = e;
            let o, a, c;
            if (s === 0) o = a = c = r;
            else {
              const l = r < 0.5 ? r * (1 + s) : r + s - r * s,
                h = 2 * r - l;
              (o = Bh.i(h, l, i + 1 / 3)), (a = Bh.i(h, l, i)), (c = Bh.i(h, l, i - 1 / 3));
            }
            return new A(Math.round(o * 255), Math.round(a * 255), Math.round(c * 255), n);
          }
        }),
        (Hl = class xI {
          constructor(e, i, s, r) {
            (this._hsvaBrand = void 0),
              (this.h = Math.max(Math.min(360, e), 0) | 0),
              (this.s = qn(Math.max(Math.min(1, i), 0), 3)),
              (this.v = qn(Math.max(Math.min(1, s), 0), 3)),
              (this.a = qn(Math.max(Math.min(1, r), 0), 3));
          }
          static equals(e, i) {
            return e.h === i.h && e.s === i.s && e.v === i.v && e.a === i.a;
          }
          static fromRGBA(e) {
            const i = e.r / 255,
              s = e.g / 255,
              r = e.b / 255,
              n = Math.max(i, s, r),
              o = Math.min(i, s, r),
              a = n - o,
              c = n === 0 ? 0 : a / n;
            let l;
            return (
              a === 0
                ? (l = 0)
                : n === i
                ? (l = ((((s - r) / a) % 6) + 6) % 6)
                : n === s
                ? (l = (r - i) / a + 2)
                : (l = (i - s) / a + 4),
              new xI(Math.round(l * 60), c, n, e.a)
            );
          }
          static toRGBA(e) {
            const { h: i, s, v: r, a: n } = e,
              o = r * s,
              a = o * (1 - Math.abs(((i / 60) % 2) - 1)),
              c = r - o;
            let [l, h, d] = [0, 0, 0];
            return (
              i < 60
                ? ((l = o), (h = a))
                : i < 120
                ? ((l = a), (h = o))
                : i < 180
                ? ((h = o), (d = a))
                : i < 240
                ? ((h = a), (d = o))
                : i < 300
                ? ((l = a), (d = o))
                : i <= 360 && ((l = o), (d = a)),
              (l = Math.round((l + c) * 255)),
              (h = Math.round((h + c) * 255)),
              (d = Math.round((d + c) * 255)),
              new A(l, h, d, n)
            );
          }
        }),
        (S = class at {
          static fromHex(e) {
            return at.Format.CSS.parseHex(e) || at.red;
          }
          static equals(e, i) {
            return !e && !i ? !0 : !e || !i ? !1 : e.equals(i);
          }
          get hsla() {
            return this.i ? this.i : Oo.fromRGBA(this.rgba);
          }
          get hsva() {
            return this.j ? this.j : Hl.fromRGBA(this.rgba);
          }
          constructor(e) {
            if (e)
              if (e instanceof A) this.rgba = e;
              else if (e instanceof Oo) (this.i = e), (this.rgba = Oo.toRGBA(e));
              else if (e instanceof Hl) (this.j = e), (this.rgba = Hl.toRGBA(e));
              else throw new Error('Invalid color ctor argument');
            else throw new Error('Color needs a value');
          }
          equals(e) {
            return (
              !!e &&
              A.equals(this.rgba, e.rgba) &&
              Oo.equals(this.hsla, e.hsla) &&
              Hl.equals(this.hsva, e.hsva)
            );
          }
          getRelativeLuminance() {
            const e = at.k(this.rgba.r),
              i = at.k(this.rgba.g),
              s = at.k(this.rgba.b),
              r = 0.2126 * e + 0.7152 * i + 0.0722 * s;
            return qn(r, 4);
          }
          reduceRelativeLuminace(e, i) {
            let { r: s, g: r, b: n } = e.rgba,
              o = this.getContrastRatio(e);
            for (; o < i && (s > 0 || r > 0 || n > 0); )
              (s -= Math.max(0, Math.ceil(s * 0.1))),
                (r -= Math.max(0, Math.ceil(r * 0.1))),
                (n -= Math.max(0, Math.ceil(n * 0.1))),
                (o = this.getContrastRatio(new at(new A(s, r, n))));
            return new at(new A(s, r, n));
          }
          increaseRelativeLuminace(e, i) {
            let { r: s, g: r, b: n } = e.rgba,
              o = this.getContrastRatio(e);
            for (; o < i && (s < 255 || r < 255 || n < 255); )
              (s = Math.min(255, s + Math.ceil((255 - s) * 0.1))),
                (r = Math.min(255, r + Math.ceil((255 - r) * 0.1))),
                (n = Math.min(255, n + Math.ceil((255 - n) * 0.1))),
                (o = this.getContrastRatio(new at(new A(s, r, n))));
            return new at(new A(s, r, n));
          }
          static k(e) {
            const i = e / 255;
            return i <= 0.03928 ? i / 12.92 : Math.pow((i + 0.055) / 1.055, 2.4);
          }
          getContrastRatio(e) {
            const i = this.getRelativeLuminance(),
              s = e.getRelativeLuminance();
            return i > s ? (i + 0.05) / (s + 0.05) : (s + 0.05) / (i + 0.05);
          }
          isDarker() {
            return (this.rgba.r * 299 + this.rgba.g * 587 + this.rgba.b * 114) / 1e3 < 128;
          }
          isLighter() {
            return (this.rgba.r * 299 + this.rgba.g * 587 + this.rgba.b * 114) / 1e3 >= 128;
          }
          isLighterThan(e) {
            const i = this.getRelativeLuminance(),
              s = e.getRelativeLuminance();
            return i > s;
          }
          isDarkerThan(e) {
            const i = this.getRelativeLuminance(),
              s = e.getRelativeLuminance();
            return i < s;
          }
          ensureConstrast(e, i) {
            const s = this.getRelativeLuminance(),
              r = e.getRelativeLuminance();
            if (this.getContrastRatio(e) < i) {
              if (r < s) {
                const c = this.reduceRelativeLuminace(e, i),
                  l = this.getContrastRatio(c);
                if (l < i) {
                  const h = this.increaseRelativeLuminace(e, i),
                    d = this.getContrastRatio(h);
                  return l > d ? c : h;
                }
                return c;
              }
              const o = this.increaseRelativeLuminace(e, i),
                a = this.getContrastRatio(o);
              if (a < i) {
                const c = this.reduceRelativeLuminace(e, i),
                  l = this.getContrastRatio(c);
                return a > l ? o : c;
              }
              return o;
            }
            return e;
          }
          lighten(e) {
            return new at(
              new Oo(this.hsla.h, this.hsla.s, this.hsla.l + this.hsla.l * e, this.hsla.a)
            );
          }
          darken(e) {
            return new at(
              new Oo(this.hsla.h, this.hsla.s, this.hsla.l - this.hsla.l * e, this.hsla.a)
            );
          }
          transparent(e) {
            const { r: i, g: s, b: r, a: n } = this.rgba;
            return new at(new A(i, s, r, n * e));
          }
          transparentOverride(e) {
            const { r: i, g: s, b: r, a: n } = this.rgba;
            return new at(new A(i, s, r, e));
          }
          isTransparent() {
            return this.rgba.a === 0;
          }
          isOpaque() {
            return this.rgba.a === 1;
          }
          opposite() {
            return new at(
              new A(255 - this.rgba.r, 255 - this.rgba.g, 255 - this.rgba.b, this.rgba.a)
            );
          }
          blend(e) {
            const i = e.rgba,
              s = this.rgba.a,
              r = i.a,
              n = s + r * (1 - s);
            if (n < 1e-6) return at.transparent;
            const o = (this.rgba.r * s) / n + (i.r * r * (1 - s)) / n,
              a = (this.rgba.g * s) / n + (i.g * r * (1 - s)) / n,
              c = (this.rgba.b * s) / n + (i.b * r * (1 - s)) / n;
            return new at(new A(o, a, c, n));
          }
          makeOpaque(e) {
            if (this.isOpaque() || e.rgba.a !== 1) return this;
            const { r: i, g: s, b: r, a: n } = this.rgba;
            return new at(
              new A(
                e.rgba.r - n * (e.rgba.r - i),
                e.rgba.g - n * (e.rgba.g - s),
                e.rgba.b - n * (e.rgba.b - r),
                1
              )
            );
          }
          flatten(...e) {
            const i = e.reduceRight((s, r) => at.o(r, s));
            return at.o(this, i);
          }
          static o(e, i) {
            const s = 1 - e.rgba.a;
            return new at(
              new A(
                s * i.rgba.r + e.rgba.a * e.rgba.r,
                s * i.rgba.g + e.rgba.a * e.rgba.g,
                s * i.rgba.b + e.rgba.a * e.rgba.b
              )
            );
          }
          toString() {
            return this.u || (this.u = at.Format.CSS.format(this)), this.u;
          }
          toNumber32Bit() {
            return (
              this.w ||
                (this.w =
                  ((this.rgba.r << 24) |
                    (this.rgba.g << 16) |
                    (this.rgba.b << 8) |
                    ((this.rgba.a * 255) << 0)) >>>
                  0),
              this.w
            );
          }
          static getLighterColor(e, i, s) {
            if (e.isLighterThan(i)) return e;
            s = s || 0.5;
            const r = e.getRelativeLuminance(),
              n = i.getRelativeLuminance();
            return (s = (s * (n - r)) / n), e.lighten(s);
          }
          static getDarkerColor(e, i, s) {
            if (e.isDarkerThan(i)) return e;
            s = s || 0.5;
            const r = e.getRelativeLuminance(),
              n = i.getRelativeLuminance();
            return (s = (s * (r - n)) / r), e.darken(s);
          }
          static {
            this.white = new at(new A(255, 255, 255, 1));
          }
          static {
            this.black = new at(new A(0, 0, 0, 1));
          }
          static {
            this.red = new at(new A(255, 0, 0, 1));
          }
          static {
            this.blue = new at(new A(0, 0, 255, 1));
          }
          static {
            this.green = new at(new A(0, 255, 0, 1));
          }
          static {
            this.cyan = new at(new A(0, 255, 255, 1));
          }
          static {
            this.lightgrey = new at(new A(211, 211, 211, 1));
          }
          static {
            this.transparent = new at(new A(0, 0, 0, 0));
          }
        }),
        (function (t) {
          let e;
          (function (i) {
            let s;
            (function (r) {
              function n(y) {
                return y.rgba.a === 1
                  ? `rgb(${y.rgba.r}, ${y.rgba.g}, ${y.rgba.b})`
                  : t.Format.CSS.formatRGBA(y);
              }
              r.formatRGB = n;
              function o(y) {
                return `rgba(${y.rgba.r}, ${y.rgba.g}, ${y.rgba.b}, ${+y.rgba.a.toFixed(2)})`;
              }
              r.formatRGBA = o;
              function a(y) {
                return y.hsla.a === 1
                  ? `hsl(${y.hsla.h}, ${(y.hsla.s * 100).toFixed(2)}%, ${(y.hsla.l * 100).toFixed(
                      2
                    )}%)`
                  : t.Format.CSS.formatHSLA(y);
              }
              r.formatHSL = a;
              function c(y) {
                return `hsla(${y.hsla.h}, ${(y.hsla.s * 100).toFixed(2)}%, ${(
                  y.hsla.l * 100
                ).toFixed(2)}%, ${y.hsla.a.toFixed(2)})`;
              }
              r.formatHSLA = c;
              function l(y) {
                const C = y.toString(16);
                return C.length !== 2 ? '0' + C : C;
              }
              function h(y) {
                return `#${l(y.rgba.r)}${l(y.rgba.g)}${l(y.rgba.b)}`;
              }
              r.formatHex = h;
              function d(y, C = !1) {
                return C && y.rgba.a === 1
                  ? t.Format.CSS.formatHex(y)
                  : `#${l(y.rgba.r)}${l(y.rgba.g)}${l(y.rgba.b)}${l(Math.round(y.rgba.a * 255))}`;
              }
              r.formatHexA = d;
              function p(y) {
                return y.isOpaque() ? t.Format.CSS.formatHex(y) : t.Format.CSS.formatRGBA(y);
              }
              r.format = p;
              function m(y) {
                if (y === 'transparent') return t.transparent;
                if (y.startsWith('#')) return v(y);
                if (y.startsWith('rgba(')) {
                  const C = y.match(
                    /rgba\((?<r>(?:\+|-)?\d+), *(?<g>(?:\+|-)?\d+), *(?<b>(?:\+|-)?\d+), *(?<a>(?:\+|-)?\d+(\.\d+)?)\)/
                  );
                  if (!C) throw new Error('Invalid color format ' + y);
                  const I = parseInt(C.groups?.r ?? '0'),
                    E = parseInt(C.groups?.g ?? '0'),
                    x = parseInt(C.groups?.b ?? '0'),
                    F = parseFloat(C.groups?.a ?? '0');
                  return new t(new A(I, E, x, F));
                }
                if (y.startsWith('rgb(')) {
                  const C = y.match(
                    /rgb\((?<r>(?:\+|-)?\d+), *(?<g>(?:\+|-)?\d+), *(?<b>(?:\+|-)?\d+)\)/
                  );
                  if (!C) throw new Error('Invalid color format ' + y);
                  const I = parseInt(C.groups?.r ?? '0'),
                    E = parseInt(C.groups?.g ?? '0'),
                    x = parseInt(C.groups?.b ?? '0');
                  return new t(new A(I, E, x));
                }
                return w(y);
              }
              r.parse = m;
              function w(y) {
                switch (y) {
                  case 'aliceblue':
                    return new t(new A(240, 248, 255, 1));
                  case 'antiquewhite':
                    return new t(new A(250, 235, 215, 1));
                  case 'aqua':
                    return new t(new A(0, 255, 255, 1));
                  case 'aquamarine':
                    return new t(new A(127, 255, 212, 1));
                  case 'azure':
                    return new t(new A(240, 255, 255, 1));
                  case 'beige':
                    return new t(new A(245, 245, 220, 1));
                  case 'bisque':
                    return new t(new A(255, 228, 196, 1));
                  case 'black':
                    return new t(new A(0, 0, 0, 1));
                  case 'blanchedalmond':
                    return new t(new A(255, 235, 205, 1));
                  case 'blue':
                    return new t(new A(0, 0, 255, 1));
                  case 'blueviolet':
                    return new t(new A(138, 43, 226, 1));
                  case 'brown':
                    return new t(new A(165, 42, 42, 1));
                  case 'burlywood':
                    return new t(new A(222, 184, 135, 1));
                  case 'cadetblue':
                    return new t(new A(95, 158, 160, 1));
                  case 'chartreuse':
                    return new t(new A(127, 255, 0, 1));
                  case 'chocolate':
                    return new t(new A(210, 105, 30, 1));
                  case 'coral':
                    return new t(new A(255, 127, 80, 1));
                  case 'cornflowerblue':
                    return new t(new A(100, 149, 237, 1));
                  case 'cornsilk':
                    return new t(new A(255, 248, 220, 1));
                  case 'crimson':
                    return new t(new A(220, 20, 60, 1));
                  case 'cyan':
                    return new t(new A(0, 255, 255, 1));
                  case 'darkblue':
                    return new t(new A(0, 0, 139, 1));
                  case 'darkcyan':
                    return new t(new A(0, 139, 139, 1));
                  case 'darkgoldenrod':
                    return new t(new A(184, 134, 11, 1));
                  case 'darkgray':
                    return new t(new A(169, 169, 169, 1));
                  case 'darkgreen':
                    return new t(new A(0, 100, 0, 1));
                  case 'darkgrey':
                    return new t(new A(169, 169, 169, 1));
                  case 'darkkhaki':
                    return new t(new A(189, 183, 107, 1));
                  case 'darkmagenta':
                    return new t(new A(139, 0, 139, 1));
                  case 'darkolivegreen':
                    return new t(new A(85, 107, 47, 1));
                  case 'darkorange':
                    return new t(new A(255, 140, 0, 1));
                  case 'darkorchid':
                    return new t(new A(153, 50, 204, 1));
                  case 'darkred':
                    return new t(new A(139, 0, 0, 1));
                  case 'darksalmon':
                    return new t(new A(233, 150, 122, 1));
                  case 'darkseagreen':
                    return new t(new A(143, 188, 143, 1));
                  case 'darkslateblue':
                    return new t(new A(72, 61, 139, 1));
                  case 'darkslategray':
                    return new t(new A(47, 79, 79, 1));
                  case 'darkslategrey':
                    return new t(new A(47, 79, 79, 1));
                  case 'darkturquoise':
                    return new t(new A(0, 206, 209, 1));
                  case 'darkviolet':
                    return new t(new A(148, 0, 211, 1));
                  case 'deeppink':
                    return new t(new A(255, 20, 147, 1));
                  case 'deepskyblue':
                    return new t(new A(0, 191, 255, 1));
                  case 'dimgray':
                    return new t(new A(105, 105, 105, 1));
                  case 'dimgrey':
                    return new t(new A(105, 105, 105, 1));
                  case 'dodgerblue':
                    return new t(new A(30, 144, 255, 1));
                  case 'firebrick':
                    return new t(new A(178, 34, 34, 1));
                  case 'floralwhite':
                    return new t(new A(255, 250, 240, 1));
                  case 'forestgreen':
                    return new t(new A(34, 139, 34, 1));
                  case 'fuchsia':
                    return new t(new A(255, 0, 255, 1));
                  case 'gainsboro':
                    return new t(new A(220, 220, 220, 1));
                  case 'ghostwhite':
                    return new t(new A(248, 248, 255, 1));
                  case 'gold':
                    return new t(new A(255, 215, 0, 1));
                  case 'goldenrod':
                    return new t(new A(218, 165, 32, 1));
                  case 'gray':
                    return new t(new A(128, 128, 128, 1));
                  case 'green':
                    return new t(new A(0, 128, 0, 1));
                  case 'greenyellow':
                    return new t(new A(173, 255, 47, 1));
                  case 'grey':
                    return new t(new A(128, 128, 128, 1));
                  case 'honeydew':
                    return new t(new A(240, 255, 240, 1));
                  case 'hotpink':
                    return new t(new A(255, 105, 180, 1));
                  case 'indianred':
                    return new t(new A(205, 92, 92, 1));
                  case 'indigo':
                    return new t(new A(75, 0, 130, 1));
                  case 'ivory':
                    return new t(new A(255, 255, 240, 1));
                  case 'khaki':
                    return new t(new A(240, 230, 140, 1));
                  case 'lavender':
                    return new t(new A(230, 230, 250, 1));
                  case 'lavenderblush':
                    return new t(new A(255, 240, 245, 1));
                  case 'lawngreen':
                    return new t(new A(124, 252, 0, 1));
                  case 'lemonchiffon':
                    return new t(new A(255, 250, 205, 1));
                  case 'lightblue':
                    return new t(new A(173, 216, 230, 1));
                  case 'lightcoral':
                    return new t(new A(240, 128, 128, 1));
                  case 'lightcyan':
                    return new t(new A(224, 255, 255, 1));
                  case 'lightgoldenrodyellow':
                    return new t(new A(250, 250, 210, 1));
                  case 'lightgray':
                    return new t(new A(211, 211, 211, 1));
                  case 'lightgreen':
                    return new t(new A(144, 238, 144, 1));
                  case 'lightgrey':
                    return new t(new A(211, 211, 211, 1));
                  case 'lightpink':
                    return new t(new A(255, 182, 193, 1));
                  case 'lightsalmon':
                    return new t(new A(255, 160, 122, 1));
                  case 'lightseagreen':
                    return new t(new A(32, 178, 170, 1));
                  case 'lightskyblue':
                    return new t(new A(135, 206, 250, 1));
                  case 'lightslategray':
                    return new t(new A(119, 136, 153, 1));
                  case 'lightslategrey':
                    return new t(new A(119, 136, 153, 1));
                  case 'lightsteelblue':
                    return new t(new A(176, 196, 222, 1));
                  case 'lightyellow':
                    return new t(new A(255, 255, 224, 1));
                  case 'lime':
                    return new t(new A(0, 255, 0, 1));
                  case 'limegreen':
                    return new t(new A(50, 205, 50, 1));
                  case 'linen':
                    return new t(new A(250, 240, 230, 1));
                  case 'magenta':
                    return new t(new A(255, 0, 255, 1));
                  case 'maroon':
                    return new t(new A(128, 0, 0, 1));
                  case 'mediumaquamarine':
                    return new t(new A(102, 205, 170, 1));
                  case 'mediumblue':
                    return new t(new A(0, 0, 205, 1));
                  case 'mediumorchid':
                    return new t(new A(186, 85, 211, 1));
                  case 'mediumpurple':
                    return new t(new A(147, 112, 219, 1));
                  case 'mediumseagreen':
                    return new t(new A(60, 179, 113, 1));
                  case 'mediumslateblue':
                    return new t(new A(123, 104, 238, 1));
                  case 'mediumspringgreen':
                    return new t(new A(0, 250, 154, 1));
                  case 'mediumturquoise':
                    return new t(new A(72, 209, 204, 1));
                  case 'mediumvioletred':
                    return new t(new A(199, 21, 133, 1));
                  case 'midnightblue':
                    return new t(new A(25, 25, 112, 1));
                  case 'mintcream':
                    return new t(new A(245, 255, 250, 1));
                  case 'mistyrose':
                    return new t(new A(255, 228, 225, 1));
                  case 'moccasin':
                    return new t(new A(255, 228, 181, 1));
                  case 'navajowhite':
                    return new t(new A(255, 222, 173, 1));
                  case 'navy':
                    return new t(new A(0, 0, 128, 1));
                  case 'oldlace':
                    return new t(new A(253, 245, 230, 1));
                  case 'olive':
                    return new t(new A(128, 128, 0, 1));
                  case 'olivedrab':
                    return new t(new A(107, 142, 35, 1));
                  case 'orange':
                    return new t(new A(255, 165, 0, 1));
                  case 'orangered':
                    return new t(new A(255, 69, 0, 1));
                  case 'orchid':
                    return new t(new A(218, 112, 214, 1));
                  case 'palegoldenrod':
                    return new t(new A(238, 232, 170, 1));
                  case 'palegreen':
                    return new t(new A(152, 251, 152, 1));
                  case 'paleturquoise':
                    return new t(new A(175, 238, 238, 1));
                  case 'palevioletred':
                    return new t(new A(219, 112, 147, 1));
                  case 'papayawhip':
                    return new t(new A(255, 239, 213, 1));
                  case 'peachpuff':
                    return new t(new A(255, 218, 185, 1));
                  case 'peru':
                    return new t(new A(205, 133, 63, 1));
                  case 'pink':
                    return new t(new A(255, 192, 203, 1));
                  case 'plum':
                    return new t(new A(221, 160, 221, 1));
                  case 'powderblue':
                    return new t(new A(176, 224, 230, 1));
                  case 'purple':
                    return new t(new A(128, 0, 128, 1));
                  case 'rebeccapurple':
                    return new t(new A(102, 51, 153, 1));
                  case 'red':
                    return new t(new A(255, 0, 0, 1));
                  case 'rosybrown':
                    return new t(new A(188, 143, 143, 1));
                  case 'royalblue':
                    return new t(new A(65, 105, 225, 1));
                  case 'saddlebrown':
                    return new t(new A(139, 69, 19, 1));
                  case 'salmon':
                    return new t(new A(250, 128, 114, 1));
                  case 'sandybrown':
                    return new t(new A(244, 164, 96, 1));
                  case 'seagreen':
                    return new t(new A(46, 139, 87, 1));
                  case 'seashell':
                    return new t(new A(255, 245, 238, 1));
                  case 'sienna':
                    return new t(new A(160, 82, 45, 1));
                  case 'silver':
                    return new t(new A(192, 192, 192, 1));
                  case 'skyblue':
                    return new t(new A(135, 206, 235, 1));
                  case 'slateblue':
                    return new t(new A(106, 90, 205, 1));
                  case 'slategray':
                    return new t(new A(112, 128, 144, 1));
                  case 'slategrey':
                    return new t(new A(112, 128, 144, 1));
                  case 'snow':
                    return new t(new A(255, 250, 250, 1));
                  case 'springgreen':
                    return new t(new A(0, 255, 127, 1));
                  case 'steelblue':
                    return new t(new A(70, 130, 180, 1));
                  case 'tan':
                    return new t(new A(210, 180, 140, 1));
                  case 'teal':
                    return new t(new A(0, 128, 128, 1));
                  case 'thistle':
                    return new t(new A(216, 191, 216, 1));
                  case 'tomato':
                    return new t(new A(255, 99, 71, 1));
                  case 'turquoise':
                    return new t(new A(64, 224, 208, 1));
                  case 'violet':
                    return new t(new A(238, 130, 238, 1));
                  case 'wheat':
                    return new t(new A(245, 222, 179, 1));
                  case 'white':
                    return new t(new A(255, 255, 255, 1));
                  case 'whitesmoke':
                    return new t(new A(245, 245, 245, 1));
                  case 'yellow':
                    return new t(new A(255, 255, 0, 1));
                  case 'yellowgreen':
                    return new t(new A(154, 205, 50, 1));
                  default:
                    return null;
                }
              }
              function v(y) {
                const C = y.length;
                if (C === 0 || y.charCodeAt(0) !== 35) return null;
                if (C === 7) {
                  const I = 16 * k(y.charCodeAt(1)) + k(y.charCodeAt(2)),
                    E = 16 * k(y.charCodeAt(3)) + k(y.charCodeAt(4)),
                    x = 16 * k(y.charCodeAt(5)) + k(y.charCodeAt(6));
                  return new t(new A(I, E, x, 1));
                }
                if (C === 9) {
                  const I = 16 * k(y.charCodeAt(1)) + k(y.charCodeAt(2)),
                    E = 16 * k(y.charCodeAt(3)) + k(y.charCodeAt(4)),
                    x = 16 * k(y.charCodeAt(5)) + k(y.charCodeAt(6)),
                    F = 16 * k(y.charCodeAt(7)) + k(y.charCodeAt(8));
                  return new t(new A(I, E, x, F / 255));
                }
                if (C === 4) {
                  const I = k(y.charCodeAt(1)),
                    E = k(y.charCodeAt(2)),
                    x = k(y.charCodeAt(3));
                  return new t(new A(16 * I + I, 16 * E + E, 16 * x + x));
                }
                if (C === 5) {
                  const I = k(y.charCodeAt(1)),
                    E = k(y.charCodeAt(2)),
                    x = k(y.charCodeAt(3)),
                    F = k(y.charCodeAt(4));
                  return new t(new A(16 * I + I, 16 * E + E, 16 * x + x, (16 * F + F) / 255));
                }
                return null;
              }
              r.parseHex = v;
              function k(y) {
                switch (y) {
                  case 48:
                    return 0;
                  case 49:
                    return 1;
                  case 50:
                    return 2;
                  case 51:
                    return 3;
                  case 52:
                    return 4;
                  case 53:
                    return 5;
                  case 54:
                    return 6;
                  case 55:
                    return 7;
                  case 56:
                    return 8;
                  case 57:
                    return 9;
                  case 97:
                    return 10;
                  case 65:
                    return 10;
                  case 98:
                    return 11;
                  case 66:
                    return 11;
                  case 99:
                    return 12;
                  case 67:
                    return 12;
                  case 100:
                    return 13;
                  case 68:
                    return 13;
                  case 101:
                    return 14;
                  case 69:
                    return 14;
                  case 102:
                    return 15;
                  case 70:
                    return 15;
                }
                return 0;
              }
            })((s = i.CSS || (i.CSS = {})));
          })((e = t.Format || (t.Format = {})));
        })(S || (S = {}));
    },
  }),
  Be,
  i9,
  Ze = b({
    'out-build/vs/platform/product/common/productService.js'() {
      'use strict';
      K(), (Be = W('productService')), (i9 = 'vscode://schemas/vscode-product');
    },
  }),
  te,
  rt,
  Ka = b({
    'out-build/vs/platform/theme/common/theme.js'() {
      'use strict';
      (function (t) {
        (t.DARK = 'dark'),
          (t.LIGHT = 'light'),
          (t.HIGH_CONTRAST_DARK = 'hcDark'),
          (t.HIGH_CONTRAST_LIGHT = 'hcLight');
      })(te || (te = {})),
        (function (t) {
          (t.VS = 'vs'),
            (t.VS_DARK = 'vs-dark'),
            (t.HC_BLACK = 'hc-black'),
            (t.HC_LIGHT = 'hc-light');
        })(rt || (rt = {}));
    },
  });
import Ni from 'electron';
var s9,
  r9,
  n9,
  o9,
  Um,
  jm,
  Wm,
  Hm,
  Kn,
  Ja,
  uf,
  zl = b({
    'out-build/vs/platform/theme/electron-main/themeMainService.js'() {
      'use strict';
      X(),
        U(),
        ie(),
        Ge(),
        K(),
        Pt(),
        Ka(),
        ni(),
        (s9 = '#FFFFFF'),
        (r9 = '#1F1F1F'),
        (n9 = '#000000'),
        (o9 = '#FFFFFF'),
        (Um = 'theme'),
        (jm = 'themeBackground'),
        (Wm = 'windowSplash'),
        (Hm = 'windowSplashWorkspaceOverride'),
        (function (t) {
          (t.DETECT_COLOR_SCHEME = 'window.autoDetectColorScheme'),
            (t.DETECT_HC = 'window.autoDetectHighContrast'),
            (t.SYSTEM_COLOR_THEME = 'window.systemColorTheme');
        })(Kn || (Kn = {})),
        (Ja = W('themeMainService')),
        (uf = class extends H {
          constructor(e, i) {
            super(),
              (this.b = e),
              (this.c = i),
              (this.a = this.B(new $())),
              (this.onDidChangeColorScheme = this.a.event),
              Fe ||
                this.B(
                  this.c.onDidChangeConfiguration((s) => {
                    (s.affectsConfiguration(Kn.SYSTEM_COLOR_THEME) ||
                      s.affectsConfiguration(Kn.DETECT_COLOR_SCHEME)) &&
                      this.f();
                  })
                ),
              this.f(),
              this.B(
                P.fromNodeEventEmitter(
                  Ni.nativeTheme,
                  'updated'
                )(() => this.a.fire(this.getColorScheme()))
              );
          }
          f() {
            if (Fe || this.c.getValue(Kn.DETECT_COLOR_SCHEME))
              Ni.nativeTheme.themeSource = 'system';
            else
              switch (this.c.getValue(Kn.SYSTEM_COLOR_THEME)) {
                case 'dark':
                  Ni.nativeTheme.themeSource = 'dark';
                  break;
                case 'light':
                  Ni.nativeTheme.themeSource = 'light';
                  break;
                case 'auto':
                  switch (this.getPreferredBaseTheme() ?? this.g()) {
                    case rt.VS:
                      Ni.nativeTheme.themeSource = 'light';
                      break;
                    case rt.VS_DARK:
                      Ni.nativeTheme.themeSource = 'dark';
                      break;
                    default:
                      Ni.nativeTheme.themeSource = 'system';
                  }
                  break;
                default:
                  Ni.nativeTheme.themeSource = 'system';
                  break;
              }
          }
          getColorScheme() {
            if (J) {
              if (Ni.nativeTheme.shouldUseHighContrastColors)
                return { dark: Ni.nativeTheme.shouldUseInvertedColorScheme, highContrast: !0 };
            } else if (Q) {
              if (
                Ni.nativeTheme.shouldUseInvertedColorScheme ||
                Ni.nativeTheme.shouldUseHighContrastColors
              )
                return { dark: Ni.nativeTheme.shouldUseDarkColors, highContrast: !0 };
            } else if (Fe && Ni.nativeTheme.shouldUseHighContrastColors)
              return { dark: !0, highContrast: !0 };
            return { dark: Ni.nativeTheme.shouldUseDarkColors, highContrast: !1 };
          }
          getPreferredBaseTheme() {
            const e = this.getColorScheme();
            if (this.c.getValue(Kn.DETECT_HC) && e.highContrast)
              return e.dark ? rt.HC_BLACK : rt.HC_LIGHT;
            if (this.c.getValue(Kn.DETECT_COLOR_SCHEME)) return e.dark ? rt.VS_DARK : rt.VS;
          }
          getBackgroundColor() {
            const e = this.getPreferredBaseTheme(),
              i = this.g();
            if (e === void 0 || e === i) {
              const s = this.b.getItem(jm, null);
              if (s) return s;
            }
            switch (e ?? i) {
              case rt.VS:
                return s9;
              case rt.HC_BLACK:
                return n9;
              case rt.HC_LIGHT:
                return o9;
              default:
                return r9;
            }
          }
          g() {
            switch (this.b.getItem(Um, rt.VS_DARK).split(' ')[0]) {
              case rt.VS:
                return rt.VS;
              case rt.HC_BLACK:
                return rt.HC_BLACK;
              case rt.HC_LIGHT:
                return rt.HC_LIGHT;
              default:
                return rt.VS_DARK;
            }
          }
          saveWindowSplash(e, i, s) {
            const r = this.h(i, s);
            this.b.setItems(
              Yt([
                { key: Um, data: s.baseTheme },
                { key: jm, data: s.colorInfo.background },
                { key: Wm, data: s },
                r ? { key: Hm, data: r } : void 0,
              ])
            ),
              typeof e == 'number' && this.j(e, s),
              this.f();
          }
          h(e, i) {
            let s,
              r = !1;
            if (e) {
              s = { ...this.m() };
              const [n, o] = s.layoutInfo.auxiliarySideBarWidth;
              if (i.layoutInfo?.auxiliarySideBarWidth)
                n !== i.layoutInfo.auxiliarySideBarWidth &&
                  ((s.layoutInfo.auxiliarySideBarWidth[0] = i.layoutInfo.auxiliarySideBarWidth),
                  (r = !0)),
                  o.includes(e.id) || (o.push(e.id), (r = !0));
              else {
                const a = o.indexOf(e.id);
                a > -1 && (o.splice(a, 1), (r = !0));
              }
            }
            return r ? s : void 0;
          }
          j(e, i) {
            for (const s of Ni.BrowserWindow.getAllWindows())
              if (s.id === e) {
                s.setBackgroundColor(i.colorInfo.background);
                break;
              }
          }
          getWindowSplash(e) {
            const i = this.b.getItem(Wm);
            if (!i?.layoutInfo) return i;
            let s;
            if (e) {
              const [r, n] = this.m().layoutInfo.auxiliarySideBarWidth;
              n.includes(e.id) && (s = r);
            }
            return {
              ...i,
              layoutInfo: { ...i.layoutInfo, auxiliarySideBarWidth: typeof s == 'number' ? s : 0 },
            };
          }
          m() {
            return this.b.getItem(Hm, { layoutInfo: { auxiliarySideBarWidth: [0, []] } });
          }
        }),
        (uf = __decorate([__param(0, kt), __param(1, Ve)], uf));
    },
  });
function zm(t) {
  return !!t.workspaceUri;
}
function a9(t) {
  return !!t.folderUri;
}
function c9(t) {
  return !!t.fileUri;
}
function EL(t) {
  const e = Ro(t),
    i = t.getValue('window.menuBarVisibility');
  return i === 'default' || (e && i === 'compact') || (Q && o0) ? 'classic' : i;
}
function Ro(t, e) {
  return e || (e = CL(t)), e === 'native';
}
function CL(t) {
  if (xn) return 'custom';
  const e = t.getValue('window');
  if (e) {
    if ((Q && e.nativeTabs === !0) || (Q && e.nativeFullScreen === !1)) return 'native';
    const r = e.titleBarStyle;
    if (r === 'native' || r === 'custom') return r;
  }
  return 'custom';
}
function Vm(t) {
  return !(xn || Ro(t));
}
function l9(t) {
  const e = t.getValue('window');
  return !e || typeof e.nativeFullScreen != 'boolean' || e.nativeTabs
    ? !0
    : e.nativeFullScreen !== !1;
}
function u9(t = 0) {
  return Math.pow(1.2, t);
}
var Gm,
  h9,
  d9,
  f9,
  p9,
  qm,
  Km,
  Jn = b({
    'out-build/vs/platform/window/common/window.js'() {
      'use strict';
      ie(),
        (Gm = { WIDTH: 750, WIDTH_WITH_VERTICAL_PANEL: 600, HEIGHT: 270 }),
        (function (t) {
          (t.TITLE_BAR_STYLE = 'window.titleBarStyle'),
            (t.CUSTOM_TITLE_BAR_VISIBILITY = 'window.customTitleBarVisibility');
        })(h9 || (h9 = {})),
        (function (t) {
          (t.NATIVE = 'native'), (t.CUSTOM = 'custom');
        })(d9 || (d9 = {})),
        (function (t) {
          (t.AUTO = 'auto'), (t.WINDOWED = 'windowed'), (t.NEVER = 'never');
        })(f9 || (f9 = {})),
        (p9 = 35),
        (qm = { width: 1200, height: 800 }),
        (Km = { width: 1024, height: 768 });
    },
  });
import DL from 'electron';
var g9,
  m9,
  Xn,
  w9,
  b9,
  v9,
  Xa = b({
    'out-build/vs/platform/window/electron-main/window.js'() {
      'use strict';
      Jn(),
        (function (t) {
          (t[(t.INITIAL = 1)] = 'INITIAL'),
            (t[(t.LOAD = 2)] = 'LOAD'),
            (t[(t.RELOAD = 3)] = 'RELOAD');
        })(g9 || (g9 = {})),
        (function (t) {
          (t[(t.CLOSE = 1)] = 'CLOSE'),
            (t[(t.QUIT = 2)] = 'QUIT'),
            (t[(t.RELOAD = 3)] = 'RELOAD'),
            (t[(t.LOAD = 4)] = 'LOAD');
        })(m9 || (m9 = {})),
        (Xn = function (t = 1) {
          return { width: qm.width, height: qm.height, mode: t };
        }),
        (w9 = function () {
          const t = Km.width,
            e = Km.height,
            i = DL.screen.getPrimaryDisplay().workArea,
            s = Math.max(i.x + i.width / 2 - t / 2, 0),
            r = Math.max(i.y + i.height / 2 - e / 2, 0);
          return { x: s, y: r, width: t, height: e, mode: 1 };
        }),
        (function (t) {
          (t[(t.Maximized = 0)] = 'Maximized'),
            (t[(t.Normal = 1)] = 'Normal'),
            (t[(t.Minimized = 2)] = 'Minimized'),
            (t[(t.Fullscreen = 3)] = 'Fullscreen');
        })(b9 || (b9 = {})),
        (function (t) {
          (t[(t.UNRESPONSIVE = 1)] = 'UNRESPONSIVE'),
            (t[(t.PROCESS_GONE = 2)] = 'PROCESS_GONE'),
            (t[(t.LOAD = 3)] = 'LOAD');
        })(v9 || (v9 = {}));
    },
  }),
  Ya,
  Vl = b({
    'out-build/vs/platform/auxiliaryWindow/electron-main/auxiliaryWindows.js'() {
      'use strict';
      K(), (Ya = W('auxiliaryWindowsMainService'));
    },
  });
import y9 from 'electron';
function hf(t, e, i, s) {
  const r = t.get(Ja),
    n = t.get(Be),
    o = t.get(Ve),
    a = t.get(dt),
    c = o.getValue('window'),
    l = {
      backgroundColor: r.getBackgroundColor(),
      minWidth: Gm.WIDTH,
      minHeight: Gm.HEIGHT,
      title: n.nameLong,
      show: e.mode !== 0 && e.mode !== 3,
      x: e.x,
      y: e.y,
      width: e.width,
      height: e.height,
      webPreferences: {
        ...s,
        enableWebSQL: !1,
        spellcheck: !1,
        zoomFactor: u9(e.zoomLevel ?? c?.zoomLevel),
        autoplayPolicy: 'user-gesture-required',
        enableBlinkFeatures: 'HighlightAPI',
        sandbox: !0,
        enableDeprecatedPaste: !0,
        nodeIntegrationInSubFrames: !0,
        webviewTag: !0,
      },
      experimentalDarkMode: !0,
    };
  if (
    (Fe
      ? (l.icon = M(a.appRoot, 'resources/linux/code.png'))
      : J && !a.isBuilt && (l.icon = M(a.appRoot, 'resources/win32/code_150x150.png')),
    Q && ((l.acceptFirstMouse = !0), c?.clickThroughInactive === !1 && (l.acceptFirstMouse = !1)),
    i?.disableFullscreen ? (l.fullscreen = !1) : Q && !l9(o) && (l.fullscreenable = !1),
    Q && c?.nativeTabs === !0 && (l.tabbingIdentifier = n.nameShort),
    !Ro(o, i?.forceNativeTitlebar ? 'native' : void 0) &&
      ((l.titleBarStyle = 'hidden'), Q || (l.frame = !1), Vm(o)))
  ) {
    const p = r.getWindowSplash(void 0)?.colorInfo.titleBarBackground ?? r.getBackgroundColor(),
      m = S.fromHex(p).isDarker() ? '#FFFFFF' : '#000000';
    l.titleBarOverlay = { height: 29, color: p, symbolColor: m };
  }
  return l;
}
function k9(t) {
  let e,
    i = Number.MIN_VALUE;
  for (const s of t) s.lastFocusTime > i && ((i = s.lastFocusTime), (e = s));
  return e;
}
var Tt,
  S9,
  df,
  qt = b({
    'out-build/vs/platform/windows/electron-main/windows.js'() {
      'use strict';
      Ri(),
        xe(),
        ie(),
        Ge(),
        vt(),
        K(),
        Ze(),
        zl(),
        Jn(),
        Xa(),
        Vl(),
        (Tt = W('windowsMainService')),
        (function (t) {
          (t[(t.CLI = 0)] = 'CLI'),
            (t[(t.DOCK = 1)] = 'DOCK'),
            (t[(t.MENU = 2)] = 'MENU'),
            (t[(t.DIALOG = 3)] = 'DIALOG'),
            (t[(t.DESKTOP = 4)] = 'DESKTOP'),
            (t[(t.API = 5)] = 'API'),
            (t[(t.LINK = 6)] = 'LINK');
        })(S9 || (S9 = {})),
        (function (t) {
          function e(s, r, n = y9.screen.getAllDisplays()) {
            if (
              (s.trace(
                `window#validateWindowState: validating window state on ${n.length} display(s)`,
                r
              ),
              typeof r.x != 'number' ||
                typeof r.y != 'number' ||
                typeof r.width != 'number' ||
                typeof r.height != 'number')
            ) {
              s.trace('window#validateWindowState: unexpected type of state values');
              return;
            }
            if (r.width <= 0 || r.height <= 0) {
              s.trace('window#validateWindowState: unexpected negative values');
              return;
            }
            if (n.length === 1) {
              const l = i(n[0]);
              if ((s.trace('window#validateWindowState: single monitor working area', l), l)) {
                let h = function () {
                  !r ||
                    typeof r.x != 'number' ||
                    typeof r.y != 'number' ||
                    !l ||
                    (r.x < l.x && (r.x = l.x), r.y < l.y && (r.y = l.y));
                };
                var o = h;
                h(),
                  r.width > l.width && (r.width = l.width),
                  r.height > l.height && (r.height = l.height),
                  r.x > l.x + l.width - 128 && (r.x = l.x + l.width - r.width),
                  r.y > l.y + l.height - 128 && (r.y = l.y + l.height - r.height),
                  h();
              }
              return r;
            }
            if (r.display && r.mode === 3) {
              const l = n.find((h) => h.id === r.display);
              if (l && typeof l.bounds?.x == 'number' && typeof l.bounds?.y == 'number') {
                s.trace('window#validateWindowState: restoring fullscreen to previous display');
                const h = Xn(3);
                return (h.x = l.bounds.x), (h.y = l.bounds.y), h;
              }
            }
            let a, c;
            try {
              (a = y9.screen.getDisplayMatching({
                x: r.x,
                y: r.y,
                width: r.width,
                height: r.height,
              })),
                (c = i(a)),
                s.trace('window#validateWindowState: multi-monitor working area', c);
            } catch (l) {
              s.error('window#validateWindowState: error finding display for window state', l);
            }
            if (
              a &&
              c &&
              r.x + r.width > c.x &&
              r.y + r.height > c.y &&
              r.x < c.x + c.width &&
              r.y < c.y + c.height
            )
              return r;
            s.trace(
              'window#validateWindowState: state is outside of the multi-monitor working area'
            );
          }
          t.validateWindowState = e;
          function i(s) {
            if (s.workArea.width > 0 && s.workArea.height > 0) return s.workArea;
            if (s.bounds.width > 0 && s.bounds.height > 0) return s.bounds;
          }
        })(df || (df = {}));
    },
  });
import { app as xL } from 'electron';
var ff,
  pf,
  E9 = b({
    'out-build/vs/platform/native/electron-main/auth.js'() {
      'use strict';
      jt(),
        X(),
        Io(),
        U(),
        be(),
        hi(),
        Ge(),
        B6(),
        vt(),
        K(),
        se(),
        Gn(),
        qt(),
        (ff = W('proxyAuthService')),
        (pf = class extends H {
          constructor(e, i, s, r, n, o) {
            super(),
              (this.h = e),
              (this.m = i),
              (this.n = s),
              (this.r = r),
              (this.s = n),
              (this.t = o),
              (this.a = 'proxy-credentials://'),
              (this.b = new Map()),
              (this.c = void 0),
              (this.f = new Set()),
              (this.g = new Map()),
              this.u();
          }
          u() {
            const e = P.fromNodeEventEmitter(xL, 'login', (i, s, r, n, o) => ({
              event: i,
              authInfo: { ...n, attempt: r.firstAuthAttempt ? 1 : 2 },
              callback: o,
            }));
            this.B(e(this.w, this));
          }
          async lookupAuthorization(e) {
            return this.w({ authInfo: e });
          }
          async w({ event: e, authInfo: i, callback: s }) {
            if (!i.isProxy) return;
            e?.preventDefault();
            const r = String(Un({ scheme: i.scheme, host: i.host, port: i.port }));
            let n,
              o = this.b.get(r);
            if (o)
              this.h.trace('auth#onLogin (proxy) - pending proxy handling found'), (n = await o);
            else {
              this.h.trace('auth#onLogin (proxy) - no pending proxy handling found, starting new'),
                (o = this.y(i, r)),
                this.b.set(r, o);
              try {
                n = await o;
              } finally {
                this.b.delete(r);
              }
            }
            return s?.(n?.username, n?.password), n;
          }
          async y(e, i) {
            this.h.trace('auth#resolveProxyCredentials (proxy) - enter');
            try {
              const s = await this.z(e, i);
              if (s)
                return this.h.trace('auth#resolveProxyCredentials (proxy) - got credentials'), s;
              this.h.trace('auth#resolveProxyCredentials (proxy) - did not get credentials');
            } finally {
              this.h.trace('auth#resolveProxyCredentials (proxy) - exit');
            }
          }
          async z(e, i) {
            if (
              (this.h.trace('auth#doResolveProxyCredentials - enter', e),
              this.t.extensionTestsLocationURI)
            ) {
              try {
                const l = Buffer.from(e.realm, 'base64').toString('utf-8');
                if (l.startsWith('{')) return JSON.parse(l);
              } catch {}
              return;
            }
            const s =
              (this.s.getValue('http.proxy') || '').trim() ||
              (
                process.env.https_proxy ||
                process.env.HTTPS_PROXY ||
                process.env.http_proxy ||
                process.env.HTTP_PROXY ||
                ''
              ).trim() ||
              void 0;
            if (s?.indexOf('@') !== -1) {
              const l = _.parse(s),
                h = l.authority.indexOf('@');
              if (h !== -1) {
                if (e.attempt > 1) {
                  this.h.trace(
                    'auth#doResolveProxyCredentials (proxy) - exit - ignoring previously used config/envvar credentials'
                  );
                  return;
                }
                this.h.trace(
                  'auth#doResolveProxyCredentials (proxy) - exit - found config/envvar credentials to use'
                );
                const d = l.authority.substring(0, h),
                  p = d.indexOf(':');
                return p !== -1
                  ? { username: d.substring(0, p), password: d.substring(p + 1) }
                  : { username: d, password: '' };
              }
            }
            const r = e.attempt === 1 && this.g.get(i);
            if (r) {
              this.h.trace(
                'auth#doResolveProxyCredentials (proxy) - exit - found session credentials to use'
              );
              const { username: l, password: h } = r;
              return { username: l, password: h };
            }
            let n, o;
            try {
              const l = this.r.get(this.a + i, -1);
              if (l) {
                const h = JSON.parse(await this.n.decrypt(l));
                (n = h.username), (o = h.password);
              }
            } catch (l) {
              this.h.error(l);
            }
            if (e.attempt === 1 && typeof n == 'string' && typeof o == 'string')
              return (
                this.h.trace(
                  'auth#doResolveProxyCredentials (proxy) - exit - found stored credentials to use'
                ),
                this.g.set(i, { username: n, password: o }),
                { username: n, password: o }
              );
            const a = this.c,
              c = (this.c = (async () => {
                await a;
                const l = await this.C(e, i, n, o);
                return this.c === c && (this.c = void 0), l;
              })());
            return c;
          }
          async C(e, i, s, r) {
            if (this.f.has(i)) {
              this.h.trace(
                'auth#doResolveProxyCredentials (proxy) - exit - login dialog was cancelled before, not showing again'
              );
              return;
            }
            const n = this.m.getFocusedWindow() || this.m.getLastActiveWindow();
            if (!n) {
              this.h.trace(
                'auth#doResolveProxyCredentials (proxy) - exit - no opened window found to show dialog in'
              );
              return;
            }
            this.h.trace(
              `auth#doResolveProxyCredentials (proxy) - asking window ${n.id} to handle proxy login`
            );
            const o = this.g.get(i),
              a = {
                authInfo: e,
                username: o?.username ?? s,
                password: o?.password ?? r,
                replyChannel: `vscode:proxyAuthResponse:${ei()}`,
              };
            n.sendWhenReady('vscode:openProxyAuthenticationDialog', gt.None, a);
            const c = await new Promise((l) => {
              const h = async (d, p, m) => {
                if (p === a.replyChannel)
                  if (
                    (this.h.trace(
                      `auth#doResolveProxyCredentials - exit - received credentials from window ${n.id}`
                    ),
                    n.win?.webContents.off('ipc-message', h),
                    m)
                  ) {
                    const w = { username: m.username, password: m.password };
                    try {
                      if (m.remember) {
                        const v = await this.n.encrypt(JSON.stringify(w));
                        this.r.store(this.a + i, v, -1, 1);
                      } else this.r.remove(this.a + i, -1);
                    } catch (v) {
                      this.h.error(v);
                    }
                    l({ username: w.username, password: w.password });
                  } else this.f.add(i), l(void 0);
              };
              n.win?.webContents.on('ipc-message', h);
            });
            return this.g.set(i, c), c;
          }
        }),
        (pf = __decorate(
          [
            __param(0, ee),
            __param(1, Tt),
            __param(2, Ld),
            __param(3, Vn),
            __param(4, Ve),
            __param(5, dt),
          ],
          pf
        ));
    },
  }),
  Qa,
  Gl = b({
    'out-build/vs/platform/backup/electron-main/backup.js'() {
      'use strict';
      K(), (Qa = W('backupMainService'));
    },
  });
function AL(t) {
  return typeof t?.backupFolder == 'string';
}
function IL(t) {
  let e = [];
  try {
    Array.isArray(t.workspaces) &&
      (e = t.workspaces.map((i) => ({
        workspace: { id: i.id, configPath: _.parse(i.configURIPath) },
        remoteAuthority: i.remoteAuthority,
      })));
  } catch {}
  return e;
}
function $L(t) {
  let e = [];
  try {
    Array.isArray(t.folders) &&
      (e = t.folders.map((i) => ({
        folderUri: _.parse(i.folderUri),
        remoteAuthority: i.remoteAuthority,
      })));
  } catch {}
  return e;
}
var PL = b({
  'out-build/vs/platform/backup/node/backup.js'() {
    'use strict';
    be();
  },
});
function _L(t) {
  return t && t.hasOwnProperty('folderUri');
}
var LL = b({
  'out-build/vs/platform/backup/common/backup.js'() {
    'use strict';
  },
});
import { createHash as Jm } from 'crypto';
function No(t) {
  function e() {
    let i = t.scheme === N.file ? as(t) : t.toString();
    return Fe || (i = i.toLowerCase()), Jm('md5').update(i).digest('hex');
  }
  return { id: e(), configPath: t };
}
function Xm(t, e) {
  function i() {
    if (t.scheme !== N.file) return Jm('md5').update(t.toString()).digest('hex');
    if (!e) return;
    let r;
    return (
      Fe
        ? (r = e.ino)
        : Q
        ? (r = e.birthtime.getTime())
        : J &&
          (typeof e.birthtimeMs == 'number'
            ? (r = Math.floor(e.birthtimeMs))
            : (r = e.birthtime.getTime())),
      Jm('md5')
        .update(t.fsPath)
        .update(r ? String(r) : '')
        .digest('hex')
    );
  }
  const s = i();
  if (typeof s == 'string') return { id: s, uri: t };
}
function Ym() {
  return { id: (Date.now() + Math.round(Math.random() * 1e3)).toString() };
}
var TL,
  Qm = b({
    'out-build/vs/platform/workspaces/node/workspaces.js'() {
      'use strict';
      Oe(), ie(), lt(), (TL = 128 / 4);
    },
  });
import { createHash as ML } from 'crypto';
var gf,
  mf,
  FL = b({
    'out-build/vs/platform/backup/electron-main/backupMainService.js'() {
      'use strict';
      qi(),
        Oe(),
        xe(),
        ie(),
        lt(),
        Zt(),
        PL(),
        Ge(),
        vt(),
        Pt(),
        ft(),
        se(),
        LL(),
        Oi(),
        Qm(),
        (mf = class {
          static {
            gf = this;
          }
          static {
            this.a = 'backupWorkspaces';
          }
          constructor(e, i, s, r) {
            (this.j = e),
              (this.k = i),
              (this.l = s),
              (this.m = r),
              (this.c = this.j.backupHome),
              (this.d = []),
              (this.e = []),
              (this.g = []),
              (this.h = yt),
              (this.i = { isEqual: (n, o) => wl(n, o, !Fe) });
          }
          async initialize() {
            const e = this.m.getItem(gf.a) ?? { workspaces: [], folders: [], emptyWindows: [] };
            (this.g = await this.w(e.emptyWindows)),
              (this.d = await this.u(IL(e))),
              (this.e = await this.v($L(e))),
              this.C();
          }
          n() {
            return this.q() ? [] : this.d.slice(0);
          }
          o() {
            return this.q() ? [] : this.e.slice(0);
          }
          isHotExitEnabled() {
            return this.s() !== Kd.OFF;
          }
          q() {
            return this.s() === Kd.ON_EXIT_AND_WINDOW_CLOSE;
          }
          s() {
            return this.k.getValue()?.files?.hotExit || Kd.ON_EXIT;
          }
          getEmptyWindowBackups() {
            return this.g.slice(0);
          }
          registerWorkspaceBackup(e, i) {
            this.d.some((r) => e.workspace.id === r.workspace.id) || (this.d.push(e), this.C());
            const s = M(this.c, e.workspace.id);
            return i ? this.t(s, i).then(() => s) : s;
          }
          async t(e, i) {
            if (((await ge.exists(e)) && (await this.z(e)), await ge.exists(i)))
              try {
                await ge.rename(i, e, !1);
              } catch (s) {
                this.l.error(
                  `Backup: Could not move backup folder to new location: ${s.toString()}`
                );
              }
          }
          registerFolderBackup(e) {
            return (
              this.e.some((i) => this.h.isEqual(e.folderUri, i.folderUri)) ||
                (this.e.push(e), this.C()),
              M(this.c, this.D(e))
            );
          }
          registerEmptyWindowBackup(e) {
            return (
              this.g.some(
                (i) => !!i.backupFolder && this.i.isEqual(i.backupFolder, e.backupFolder)
              ) || (this.g.push(e), this.C()),
              M(this.c, e.backupFolder)
            );
          }
          async u(e) {
            if (!Array.isArray(e)) return [];
            const i = new Set(),
              s = [];
            for (const r of e) {
              const n = r.workspace;
              if (!Di(n)) return [];
              if (!i.has(n.id)) {
                i.add(n.id);
                const o = M(this.c, n.id);
                (await this.B(o))
                  ? n.configPath.scheme !== N.file || (await ge.exists(n.configPath.fsPath))
                    ? s.push(r)
                    : await this.z(o)
                  : await this.x(o);
              }
            }
            return s;
          }
          async v(e) {
            if (!Array.isArray(e)) return [];
            const i = [],
              s = new Set();
            for (const r of e) {
              const n = r.folderUri,
                o = this.h.getComparisonKey(n);
              if (!s.has(o)) {
                s.add(o);
                const a = M(this.c, this.D(r));
                (await this.B(a))
                  ? n.scheme !== N.file || (await ge.exists(n.fsPath))
                    ? i.push(r)
                    : await this.z(a)
                  : await this.x(a);
              }
            }
            return i;
          }
          async w(e) {
            if (!Array.isArray(e)) return [];
            const i = [],
              s = new Set();
            for (const r of e) {
              const n = r.backupFolder;
              if (typeof n != 'string') return [];
              if (!s.has(n)) {
                s.add(n);
                const o = M(this.c, n);
                (await this.B(o)) ? i.push(r) : await this.x(o);
              }
            }
            return i;
          }
          async x(e) {
            try {
              await ge.rm(e, Do.MOVE);
            } catch (i) {
              this.l.error(`Backup: Could not delete stale backup: ${i.toString()}`);
            }
          }
          y() {
            let e = Ym();
            for (; this.g.some((i) => !!i.backupFolder && this.i.isEqual(i.backupFolder, e.id)); )
              e = Ym();
            return { backupFolder: e.id };
          }
          async z(e) {
            const i = this.y(),
              s = M(this.c, i.backupFolder);
            try {
              await ge.rename(e, s, !1);
            } catch (r) {
              return this.l.error(`Backup: Could not rename backup folder: ${r.toString()}`), !1;
            }
            return this.g.push(i), !0;
          }
          async getDirtyWorkspaces() {
            const e = [];
            for (const i of this.d) (await this.A(i)) && e.push(i);
            for (const i of this.e) (await this.A(i)) && e.push(i);
            return e;
          }
          A(e) {
            let i;
            return (
              AL(e)
                ? (i = M(this.c, e.backupFolder))
                : _L(e)
                ? (i = M(this.c, this.D(e)))
                : (i = M(this.c, e.workspace.id)),
              this.B(i)
            );
          }
          async B(e) {
            try {
              const i = await ge.readdir(e);
              for (const s of i)
                try {
                  if ((await ge.readdir(M(e, s))).length > 0) return !0;
                } catch {}
            } catch {}
            return !1;
          }
          C() {
            const e = {
              workspaces: this.d.map(({ workspace: i, remoteAuthority: s }) => {
                const r = { id: i.id, configURIPath: i.configPath.toString() };
                return s && (r.remoteAuthority = s), r;
              }),
              folders: this.e.map(({ folderUri: i, remoteAuthority: s }) => {
                const r = { folderUri: i.toString() };
                return s && (r.remoteAuthority = s), r;
              }),
              emptyWindows: this.g.map(({ backupFolder: i, remoteAuthority: s }) => {
                const r = { backupFolder: i };
                return s && (r.remoteAuthority = s), r;
              }),
            };
            this.m.setItem(gf.a, e);
          }
          D(e) {
            const i = e.folderUri;
            let s;
            return (
              i.scheme === N.file
                ? (s = Fe ? i.fsPath : i.fsPath.toLowerCase())
                : (s = i.toString().toLowerCase()),
              ML('md5').update(s).digest('hex')
            );
          }
        }),
        (mf = gf =
          __decorate([__param(0, dt), __param(1, Ve), __param(2, ee), __param(3, kt)], mf));
    },
  }),
  C9,
  OL = b({
    'out-build/vs/platform/debug/common/extensionHostDebugIpc.js'() {
      'use strict';
      X(),
        U(),
        (C9 = class {
          constructor() {
            (this.a = new $()), (this.b = new $()), (this.c = new $()), (this.d = new $());
          }
          static {
            this.ChannelName = 'extensionhostdebugservice';
          }
          call(t, e, i) {
            switch (e) {
              case 'close':
                return Promise.resolve(this.a.fire({ sessionId: i[0] }));
              case 'reload':
                return Promise.resolve(this.b.fire({ sessionId: i[0] }));
              case 'terminate':
                return Promise.resolve(this.c.fire({ sessionId: i[0] }));
              case 'attach':
                return Promise.resolve(this.d.fire({ sessionId: i[0], port: i[1], subId: i[2] }));
            }
            throw new Error('Method not implemented.');
          }
          listen(t, e, i) {
            switch (e) {
              case 'close':
                return this.a.event;
              case 'reload':
                return this.b.event;
              case 'terminate':
                return this.c.event;
              case 'attach':
                return this.d.event;
            }
            throw new Error('Method not implemented.');
          }
        });
    },
  });
function Zm(t, e, i = x9) {
  const s = t.find((p) => p.length > 0 && p[0] !== '-'),
    r = {},
    n = ['_'],
    o = [],
    a = {};
  let c;
  for (const p in e) {
    const m = e[p];
    m.type === 'subcommand'
      ? p === s && (c = m)
      : (m.alias && (r[p] = m.alias),
        m.type === 'string' || m.type === 'string[]'
          ? (n.push(p), m.deprecates && n.push(...m.deprecates))
          : m.type === 'boolean' && (o.push(p), m.deprecates && o.push(...m.deprecates)),
        m.global && (a[p] = m));
  }
  if (c && s) {
    const p = a;
    for (const k in c.options) p[k] = c.options[k];
    const m = t.filter((k) => k !== s),
      w = i.getSubcommandReporter ? i.getSubcommandReporter(s) : void 0,
      v = Zm(m, p, w);
    return { [s]: v, _: [] };
  }
  const l = (0, D9.default)(t, { string: n, boolean: o, alias: r }),
    h = {},
    d = l;
  (h._ = l._.map((p) => String(p)).filter((p) => p.length > 0)), delete d._;
  for (const p in e) {
    const m = e[p];
    if (m.type === 'subcommand') continue;
    m.alias && delete d[m.alias];
    let w = d[p];
    if (m.deprecates)
      for (const v of m.deprecates)
        d.hasOwnProperty(v) &&
          (w ||
            ((w = d[v]), w && i.onDeprecatedOption(v, m.deprecationMessage || u(1865, null, p))),
          delete d[v]);
    if (typeof w < 'u') {
      if (m.type === 'string[]') {
        if ((Array.isArray(w) || (w = [w]), !m.allowEmptyValue)) {
          const v = w.filter((k) => k.length > 0);
          v.length !== w.length && (i.onEmptyValue(p), (w = v.length > 0 ? v : void 0));
        }
      } else
        m.type === 'string' &&
          (Array.isArray(w)
            ? ((w = w.pop()), i.onMultipleValues(p, w))
            : !w && !m.allowEmptyValue && (i.onEmptyValue(p), (w = void 0)));
      (h[p] = w), m.deprecationMessage && i.onDeprecatedOption(p, m.deprecationMessage);
    }
    delete d[p];
  }
  for (const p in d) i.onUnknownOption(p);
  return h;
}
var D9,
  RL,
  ew,
  tw,
  x9,
  A9 = b({
    'out-build/vs/platform/environment/node/argv.js'() {
      'use strict';
      (D9 = u4(y4(), 1)),
        ie(),
        he(),
        (RL = { o: u(1825, null), e: u(1826, null), t: u(1827, null) }),
        (ew = ['tunnel', 'serve-web']),
        (tw = {
          tunnel: {
            type: 'subcommand',
            description:
              'Make the current machine accessible from vscode.dev or other machines through a secure tunnel',
            options: {
              'cli-data-dir': { type: 'string', args: 'dir', description: u(1828, null) },
              'disable-telemetry': { type: 'boolean' },
              'telemetry-level': { type: 'string' },
              user: {
                type: 'subcommand',
                options: {
                  login: {
                    type: 'subcommand',
                    options: { provider: { type: 'string' }, 'access-token': { type: 'string' } },
                  },
                },
              },
            },
          },
          'serve-web': {
            type: 'subcommand',
            description: 'Run a server that displays the editor UI in browsers.',
            options: {
              'cli-data-dir': { type: 'string', args: 'dir', description: u(1829, null) },
              'disable-telemetry': { type: 'boolean' },
              'telemetry-level': { type: 'string' },
            },
          },
          diff: {
            type: 'boolean',
            cat: 'o',
            alias: 'd',
            args: ['file', 'file'],
            description: u(1830, null),
          },
          merge: {
            type: 'boolean',
            cat: 'o',
            alias: 'm',
            args: ['path1', 'path2', 'base', 'result'],
            description: u(1831, null),
          },
          add: {
            type: 'boolean',
            cat: 'o',
            alias: 'a',
            args: 'folder',
            description: u(1832, null),
          },
          remove: { type: 'boolean', cat: 'o', args: 'folder', description: u(1833, null) },
          goto: {
            type: 'boolean',
            cat: 'o',
            alias: 'g',
            args: 'file:line[:character]',
            description: u(1834, null),
          },
          'new-window': { type: 'boolean', cat: 'o', alias: 'n', description: u(1835, null) },
          'reuse-window': { type: 'boolean', cat: 'o', alias: 'r', description: u(1836, null) },
          wait: { type: 'boolean', cat: 'o', alias: 'w', description: u(1837, null) },
          waitMarkerFilePath: { type: 'string' },
          locale: { type: 'string', cat: 'o', args: 'locale', description: u(1838, null) },
          'user-data-dir': { type: 'string', cat: 'o', args: 'dir', description: u(1839, null) },
          profile: { type: 'string', cat: 'o', args: 'profileName', description: u(1840, null) },
          help: { type: 'boolean', cat: 'o', alias: 'h', description: u(1841, null) },
          'extensions-dir': {
            type: 'string',
            deprecates: ['extensionHomePath'],
            cat: 'e',
            args: 'dir',
            description: u(1842, null),
          },
          'extensions-download-dir': { type: 'string' },
          'agent-extensions-download-dir': { type: 'string' },
          'builtin-extensions-dir': { type: 'string' },
          'list-extensions': { type: 'boolean', cat: 'e', description: u(1843, null) },
          'show-versions': { type: 'boolean', cat: 'e', description: u(1844, null) },
          category: {
            type: 'string',
            allowEmptyValue: !0,
            cat: 'e',
            description: u(1845, null),
            args: 'category',
          },
          'install-extension': {
            type: 'string[]',
            cat: 'e',
            args: 'ext-id | path',
            description: u(1846, null),
          },
          'pre-release': { type: 'boolean', cat: 'e', description: u(1847, null) },
          'uninstall-extension': {
            type: 'string[]',
            cat: 'e',
            args: 'ext-id',
            description: u(1848, null),
          },
          'update-extensions': { type: 'boolean', cat: 'e', description: u(1849, null) },
          'enable-proposed-api': {
            type: 'string[]',
            allowEmptyValue: !0,
            cat: 'e',
            args: 'ext-id',
            description: u(1850, null),
          },
          version: { type: 'boolean', cat: 't', alias: 'v', description: u(1851, null) },
          verbose: { type: 'boolean', cat: 't', global: !0, description: u(1852, null) },
          log: {
            type: 'string[]',
            cat: 't',
            args: 'level',
            global: !0,
            description: u(1853, null),
          },
          status: { type: 'boolean', alias: 's', cat: 't', description: u(1854, null) },
          'prof-startup': { type: 'boolean', cat: 't', description: u(1855, null) },
          'prof-append-timers': { type: 'string' },
          'prof-duration-markers': { type: 'string[]' },
          'prof-duration-markers-file': { type: 'string' },
          'no-cached-data': { type: 'boolean' },
          'prof-startup-prefix': { type: 'string' },
          'prof-v8-extensions': { type: 'boolean' },
          'disable-extensions': {
            type: 'boolean',
            deprecates: ['disableExtensions'],
            cat: 't',
            description: u(1856, null),
          },
          'disable-extension': {
            type: 'string[]',
            cat: 't',
            args: 'ext-id',
            description: u(1857, null),
          },
          sync: { type: 'string', cat: 't', description: u(1858, null), args: ['on | off'] },
          'inspect-extensions': {
            type: 'string',
            allowEmptyValue: !0,
            deprecates: ['debugPluginHost'],
            args: 'port',
            cat: 't',
            description: u(1859, null),
          },
          'inspect-brk-extensions': {
            type: 'string',
            allowEmptyValue: !0,
            deprecates: ['debugBrkPluginHost'],
            args: 'port',
            cat: 't',
            description: u(1860, null),
          },
          'disable-lcd-text': { type: 'boolean', cat: 't', description: u(1861, null) },
          'disable-gpu': { type: 'boolean', cat: 't', description: u(1862, null) },
          'disable-chromium-sandbox': { type: 'boolean', cat: 't', description: u(1863, null) },
          sandbox: { type: 'boolean' },
          telemetry: { type: 'boolean', cat: 't', description: u(1864, null) },
          remote: { type: 'string', allowEmptyValue: !0 },
          'folder-uri': { type: 'string[]', cat: 'o', args: 'uri' },
          'file-uri': { type: 'string[]', cat: 'o', args: 'uri' },
          'locate-extension': { type: 'string[]' },
          extensionDevelopmentPath: { type: 'string[]' },
          extensionDevelopmentKind: { type: 'string[]' },
          extensionTestsPath: { type: 'string' },
          extensionEnvironment: { type: 'string' },
          debugId: { type: 'string' },
          debugRenderer: { type: 'boolean' },
          'inspect-ptyhost': { type: 'string', allowEmptyValue: !0 },
          'inspect-brk-ptyhost': { type: 'string', allowEmptyValue: !0 },
          'inspect-search': { type: 'string', deprecates: ['debugSearch'], allowEmptyValue: !0 },
          'inspect-brk-search': {
            type: 'string',
            deprecates: ['debugBrkSearch'],
            allowEmptyValue: !0,
          },
          'inspect-sharedprocess': { type: 'string', allowEmptyValue: !0 },
          'inspect-brk-sharedprocess': { type: 'string', allowEmptyValue: !0 },
          'export-default-configuration': { type: 'string' },
          'install-source': { type: 'string' },
          'enable-smoke-test-driver': { type: 'boolean' },
          logExtensionHostCommunication: { type: 'boolean' },
          'skip-release-notes': { type: 'boolean' },
          'skip-welcome': { type: 'boolean' },
          'disable-telemetry': { type: 'boolean' },
          'disable-updates': { type: 'boolean' },
          'use-inmemory-secretstorage': { type: 'boolean', deprecates: ['disable-keytar'] },
          'password-store': { type: 'string' },
          'disable-workspace-trust': { type: 'boolean' },
          'disable-crash-reporter': { type: 'boolean' },
          'crash-reporter-directory': { type: 'string' },
          'crash-reporter-id': { type: 'string' },
          'skip-add-to-recently-opened': { type: 'boolean' },
          'open-url': { type: 'boolean' },
          'file-write': { type: 'boolean' },
          'file-chmod': { type: 'boolean' },
          'install-builtin-extension': { type: 'string[]' },
          force: { type: 'boolean' },
          'do-not-sync': { type: 'boolean' },
          'do-not-include-pack-dependencies': { type: 'boolean' },
          trace: { type: 'boolean' },
          'trace-memory-infra': { type: 'boolean' },
          'trace-category-filter': { type: 'string' },
          'trace-options': { type: 'string' },
          'preserve-env': { type: 'boolean' },
          'force-user-env': { type: 'boolean' },
          'force-disable-user-env': { type: 'boolean' },
          'open-devtools': { type: 'boolean' },
          'disable-gpu-sandbox': { type: 'boolean' },
          logsPath: { type: 'string' },
          extHostLogsPath: { type: 'string' },
          '__enable-file-policy': { type: 'boolean' },
          editSessionId: { type: 'string' },
          continueOn: { type: 'string' },
          'locate-shell-integration-path': {
            type: 'string',
            args: ['bash', 'pwsh', 'zsh', 'fish'],
          },
          'enable-coi': { type: 'boolean' },
          'no-proxy-server': { type: 'boolean' },
          'no-sandbox': { type: 'boolean', alias: 'sandbox' },
          'proxy-server': { type: 'string' },
          'proxy-bypass-list': { type: 'string' },
          'proxy-pac-url': { type: 'string' },
          'js-flags': { type: 'string' },
          inspect: { type: 'string', allowEmptyValue: !0 },
          'inspect-brk': { type: 'string', allowEmptyValue: !0 },
          nolazy: { type: 'boolean' },
          'force-device-scale-factor': { type: 'string' },
          'force-renderer-accessibility': { type: 'boolean' },
          'ignore-certificate-errors': { type: 'boolean' },
          'allow-insecure-localhost': { type: 'boolean' },
          'log-net-log': { type: 'string' },
          vmodule: { type: 'string' },
          _urls: { type: 'string[]' },
          'disable-dev-shm-usage': { type: 'boolean' },
          'profile-temp': { type: 'boolean' },
          'ozone-platform': { type: 'string' },
          'enable-tracing': { type: 'string' },
          'trace-startup-format': { type: 'string' },
          'trace-startup-file': { type: 'string' },
          'trace-startup-duration': { type: 'string' },
          'xdg-portal-required-version': { type: 'string' },
          'agent-extensions-dir': {
            type: 'string',
            deprecates: ['agentExtensionHomePath'],
            cat: 'e',
            args: 'dir',
            description: 'Set the root path for agent extensions.',
          },
          'builtin-agent-extensions-dir': { type: 'string' },
          'env-runtime-dir': {
            type: 'string',
            deprecates: ['agentExtensionHomePath'],
            cat: 'e',
            args: 'dir',
            description: 'Set the root path for agent extensions.',
          },
          _: { type: 'string[]' },
        }),
        (x9 = {
          onUnknownOption: () => {},
          onMultipleValues: () => {},
          onEmptyValue: () => {},
          onDeprecatedOption: () => {},
        });
    },
  });
import { createServer as NL } from 'net';
var I9,
  BL = b({
    'out-build/vs/platform/debug/electron-main/extensionHostDebugIpc.js'() {
      'use strict';
      OL(),
        A9(),
        (I9 = class extends C9 {
          constructor(t) {
            super(), (this.f = t);
          }
          call(t, e, i) {
            return e === 'openExtensionDevelopmentHostWindow'
              ? this.g(i[0], i[1])
              : super.call(t, e, i);
          }
          async g(t, e) {
            const i = Zm(t, tw);
            i.debugRenderer = e;
            const s = i.extensionDevelopmentPath;
            if (!s) return { success: !1 };
            const [r] = await this.f.openExtensionDevelopmentHostWindow(s, {
              context: 5,
              cli: i,
              forceProfile: i.profile,
              forceTempProfile: i['profile-temp'],
            });
            if (!e) return { success: !0 };
            const n = r.win;
            if (!n) return { success: !0 };
            const o = n.webContents.debugger;
            let a = o.isAttached() ? 1 / 0 : 0;
            const c = NL((l) => {
              a++ === 0 && o.attach();
              let h = !1;
              const d = (w) => {
                  h || l.write(JSON.stringify(w) + '\0');
                },
                p = (w, v, k, y) => d({ method: v, params: k, sessionId: y });
              n.on('close', () => {
                o.removeListener('message', p), l.end(), (h = !0);
              }),
                o.addListener('message', p);
              let m = Buffer.alloc(0);
              l.on('data', (w) => {
                m = Buffer.concat([m, w]);
                for (let v = m.indexOf(0); v !== -1; v = m.indexOf(0)) {
                  let k;
                  try {
                    const y = m.slice(0, v).toString('utf8');
                    (m = m.slice(v + 1)), (k = JSON.parse(y));
                  } catch (y) {
                    console.error('error reading cdp line', y);
                  }
                  o.sendCommand(k.method, k.params, k.sessionId)
                    .then((y) => d({ id: k.id, sessionId: k.sessionId, result: y }))
                    .catch((y) =>
                      d({
                        id: k.id,
                        sessionId: k.sessionId,
                        error: { code: 0, message: y.message },
                      })
                    );
                }
              }),
                l.on('error', (w) => {
                  console.error('error on cdp pipe:', w);
                }),
                l.on('close', () => {
                  (h = !0), --a === 0 && o.detach();
                });
            });
            return (
              await new Promise((l) => c.listen(0, l)),
              n.on('close', () => c.close()),
              { rendererDebugPort: c.address().port, success: !0 }
            );
          }
        });
    },
  });
function wf(t) {
  return !!t.hostName && !!t.errorMessage;
}
var $9,
  iw,
  bf = b({
    'out-build/vs/platform/diagnostics/common/diagnostics.js'() {
      'use strict';
      K(), ($9 = 'diagnosticsService'), (iw = W($9));
    },
  });
function P9(t, e = !1) {
  let i = 0;
  const s = t.length;
  let r = '',
    n = 0,
    o = 16,
    a = 0;
  function c(v) {
    let k = 0,
      y = 0;
    for (; k < v; ) {
      const C = t.charCodeAt(i);
      if (C >= 48 && C <= 57) y = y * 16 + C - 48;
      else if (C >= 65 && C <= 70) y = y * 16 + C - 65 + 10;
      else if (C >= 97 && C <= 102) y = y * 16 + C - 97 + 10;
      else break;
      i++, k++;
    }
    return k < v && (y = -1), y;
  }
  function l(v) {
    (i = v), (r = ''), (n = 0), (o = 16), (a = 0);
  }
  function h() {
    const v = i;
    if (t.charCodeAt(i) === 48) i++;
    else for (i++; i < t.length && Za(t.charCodeAt(i)); ) i++;
    if (i < t.length && t.charCodeAt(i) === 46)
      if ((i++, i < t.length && Za(t.charCodeAt(i))))
        for (i++; i < t.length && Za(t.charCodeAt(i)); ) i++;
      else return (a = 3), t.substring(v, i);
    let k = i;
    if (i < t.length && (t.charCodeAt(i) === 69 || t.charCodeAt(i) === 101))
      if (
        (i++,
        ((i < t.length && t.charCodeAt(i) === 43) || t.charCodeAt(i) === 45) && i++,
        i < t.length && Za(t.charCodeAt(i)))
      ) {
        for (i++; i < t.length && Za(t.charCodeAt(i)); ) i++;
        k = i;
      } else a = 3;
    return t.substring(v, k);
  }
  function d() {
    let v = '',
      k = i;
    for (;;) {
      if (i >= s) {
        (v += t.substring(k, i)), (a = 2);
        break;
      }
      const y = t.charCodeAt(i);
      if (y === 34) {
        (v += t.substring(k, i)), i++;
        break;
      }
      if (y === 92) {
        if (((v += t.substring(k, i)), i++, i >= s)) {
          a = 2;
          break;
        }
        switch (t.charCodeAt(i++)) {
          case 34:
            v += '"';
            break;
          case 92:
            v += '\\';
            break;
          case 47:
            v += '/';
            break;
          case 98:
            v += '\b';
            break;
          case 102:
            v += '\f';
            break;
          case 110:
            v += `
`;
            break;
          case 114:
            v += '\r';
            break;
          case 116:
            v += '	';
            break;
          case 117: {
            const I = c(4);
            I >= 0 ? (v += String.fromCharCode(I)) : (a = 4);
            break;
          }
          default:
            a = 5;
        }
        k = i;
        continue;
      }
      if (y >= 0 && y <= 31)
        if (vf(y)) {
          (v += t.substring(k, i)), (a = 2);
          break;
        } else a = 6;
      i++;
    }
    return v;
  }
  function p() {
    if (((r = ''), (a = 0), (n = i), i >= s)) return (n = s), (o = 17);
    let v = t.charCodeAt(i);
    if (sw(v)) {
      do i++, (r += String.fromCharCode(v)), (v = t.charCodeAt(i));
      while (sw(v));
      return (o = 15);
    }
    if (vf(v))
      return (
        i++,
        (r += String.fromCharCode(v)),
        v === 13 &&
          t.charCodeAt(i) === 10 &&
          (i++,
          (r += `
`)),
        (o = 14)
      );
    switch (v) {
      case 123:
        return i++, (o = 1);
      case 125:
        return i++, (o = 2);
      case 91:
        return i++, (o = 3);
      case 93:
        return i++, (o = 4);
      case 58:
        return i++, (o = 6);
      case 44:
        return i++, (o = 5);
      case 34:
        return i++, (r = d()), (o = 10);
      case 47: {
        const k = i - 1;
        if (t.charCodeAt(i + 1) === 47) {
          for (i += 2; i < s && !vf(t.charCodeAt(i)); ) i++;
          return (r = t.substring(k, i)), (o = 12);
        }
        if (t.charCodeAt(i + 1) === 42) {
          i += 2;
          const y = s - 1;
          let C = !1;
          for (; i < y; ) {
            if (t.charCodeAt(i) === 42 && t.charCodeAt(i + 1) === 47) {
              (i += 2), (C = !0);
              break;
            }
            i++;
          }
          return C || (i++, (a = 1)), (r = t.substring(k, i)), (o = 13);
        }
        return (r += String.fromCharCode(v)), i++, (o = 16);
      }
      case 45:
        if (((r += String.fromCharCode(v)), i++, i === s || !Za(t.charCodeAt(i)))) return (o = 16);
      case 48:
      case 49:
      case 50:
      case 51:
      case 52:
      case 53:
      case 54:
      case 55:
      case 56:
      case 57:
        return (r += h()), (o = 11);
      default:
        for (; i < s && m(v); ) i++, (v = t.charCodeAt(i));
        if (n !== i) {
          switch (((r = t.substring(n, i)), r)) {
            case 'true':
              return (o = 8);
            case 'false':
              return (o = 9);
            case 'null':
              return (o = 7);
          }
          return (o = 16);
        }
        return (r += String.fromCharCode(v)), i++, (o = 16);
    }
  }
  function m(v) {
    if (sw(v) || vf(v)) return !1;
    switch (v) {
      case 125:
      case 93:
      case 123:
      case 91:
      case 34:
      case 58:
      case 44:
      case 47:
        return !1;
    }
    return !0;
  }
  function w() {
    let v;
    do v = p();
    while (v >= 12 && v <= 15);
    return v;
  }
  return {
    setPosition: l,
    getPosition: () => i,
    scan: e ? w : p,
    getToken: () => o,
    getTokenValue: () => r,
    getTokenOffset: () => n,
    getTokenLength: () => i - n,
    getTokenError: () => a,
  };
}
function sw(t) {
  return (
    t === 32 ||
    t === 9 ||
    t === 11 ||
    t === 12 ||
    t === 160 ||
    t === 5760 ||
    (t >= 8192 && t <= 8203) ||
    t === 8239 ||
    t === 8287 ||
    t === 12288 ||
    t === 65279
  );
}
function vf(t) {
  return t === 10 || t === 13 || t === 8232 || t === 8233;
}
function Za(t) {
  return t >= 48 && t <= 57;
}
function Ar(t, e = [], i = ql.DEFAULT) {
  let s = null,
    r = [];
  const n = [];
  function o(c) {
    Array.isArray(r) ? r.push(c) : s !== null && (r[s] = c);
  }
  return (
    yf(
      t,
      {
        onObjectBegin: () => {
          const c = {};
          o(c), n.push(r), (r = c), (s = null);
        },
        onObjectProperty: (c) => {
          s = c;
        },
        onObjectEnd: () => {
          r = n.pop();
        },
        onArrayBegin: () => {
          const c = [];
          o(c), n.push(r), (r = c), (s = null);
        },
        onArrayEnd: () => {
          r = n.pop();
        },
        onLiteralValue: o,
        onError: (c, l, h) => {
          e.push({ error: c, offset: l, length: h });
        },
      },
      i
    ),
    r[0]
  );
}
function UL(t, e = [], i = ql.DEFAULT) {
  let s = { type: 'array', offset: -1, length: -1, children: [], parent: void 0 };
  function r(c) {
    s.type === 'property' && ((s.length = c - s.offset), (s = s.parent));
  }
  function n(c) {
    return s.children.push(c), c;
  }
  yf(
    t,
    {
      onObjectBegin: (c) => {
        s = n({ type: 'object', offset: c, length: -1, parent: s, children: [] });
      },
      onObjectProperty: (c, l, h) => {
        (s = n({ type: 'property', offset: l, length: -1, parent: s, children: [] })),
          s.children.push({ type: 'string', value: c, offset: l, length: h, parent: s });
      },
      onObjectEnd: (c, l) => {
        (s.length = c + l - s.offset), (s = s.parent), r(c + l);
      },
      onArrayBegin: (c, l) => {
        s = n({ type: 'array', offset: c, length: -1, parent: s, children: [] });
      },
      onArrayEnd: (c, l) => {
        (s.length = c + l - s.offset), (s = s.parent), r(c + l);
      },
      onLiteralValue: (c, l, h) => {
        n({ type: Bo(c), offset: l, length: h, parent: s, value: c }), r(l + h);
      },
      onSeparator: (c, l, h) => {
        s.type === 'property' && (c === ':' ? (s.colonOffset = l) : c === ',' && r(l));
      },
      onError: (c, l, h) => {
        e.push({ error: c, offset: l, length: h });
      },
    },
    i
  );
  const a = s.children[0];
  return a && delete a.parent, a;
}
function _9(t, e) {
  if (!t) return;
  let i = t;
  for (const s of e)
    if (typeof s == 'string') {
      if (i.type !== 'object' || !Array.isArray(i.children)) return;
      let r = !1;
      for (const n of i.children)
        if (Array.isArray(n.children) && n.children[0].value === s) {
          (i = n.children[1]), (r = !0);
          break;
        }
      if (!r) return;
    } else {
      const r = s;
      if (i.type !== 'array' || r < 0 || !Array.isArray(i.children) || r >= i.children.length)
        return;
      i = i.children[r];
    }
  return i;
}
function yf(t, e, i = ql.DEFAULT) {
  const s = P9(t, !1);
  function r(B) {
    return B ? () => B(s.getTokenOffset(), s.getTokenLength()) : () => !0;
  }
  function n(B) {
    return B ? (ae) => B(ae, s.getTokenOffset(), s.getTokenLength()) : () => !0;
  }
  const o = r(e.onObjectBegin),
    a = n(e.onObjectProperty),
    c = r(e.onObjectEnd),
    l = r(e.onArrayBegin),
    h = r(e.onArrayEnd),
    d = n(e.onLiteralValue),
    p = n(e.onSeparator),
    m = r(e.onComment),
    w = n(e.onError),
    v = i && i.disallowComments,
    k = i && i.allowTrailingComma;
  function y() {
    for (;;) {
      const B = s.scan();
      switch (s.getTokenError()) {
        case 4:
          C(14);
          break;
        case 5:
          C(15);
          break;
        case 3:
          C(13);
          break;
        case 1:
          v || C(11);
          break;
        case 2:
          C(12);
          break;
        case 6:
          C(16);
          break;
      }
      switch (B) {
        case 12:
        case 13:
          v ? C(10) : m();
          break;
        case 16:
          C(1);
          break;
        case 15:
        case 14:
          break;
        default:
          return B;
      }
    }
  }
  function C(B, ae = [], Me = []) {
    if ((w(B), ae.length + Me.length > 0)) {
      let fe = s.getToken();
      for (; fe !== 17; ) {
        if (ae.indexOf(fe) !== -1) {
          y();
          break;
        } else if (Me.indexOf(fe) !== -1) break;
        fe = y();
      }
    }
  }
  function I(B) {
    const ae = s.getTokenValue();
    return B ? d(ae) : a(ae), y(), !0;
  }
  function E() {
    switch (s.getToken()) {
      case 11: {
        let B = 0;
        try {
          (B = JSON.parse(s.getTokenValue())), typeof B != 'number' && (C(2), (B = 0));
        } catch {
          C(2);
        }
        d(B);
        break;
      }
      case 7:
        d(null);
        break;
      case 8:
        d(!0);
        break;
      case 9:
        d(!1);
        break;
      default:
        return !1;
    }
    return y(), !0;
  }
  function x() {
    return s.getToken() !== 10
      ? (C(3, [], [2, 5]), !1)
      : (I(!1),
        s.getToken() === 6 ? (p(':'), y(), oe() || C(4, [], [2, 5])) : C(5, [], [2, 5]),
        !0);
  }
  function F() {
    o(), y();
    let B = !1;
    for (; s.getToken() !== 2 && s.getToken() !== 17; ) {
      if (s.getToken() === 5) {
        if ((B || C(4, [], []), p(','), y(), s.getToken() === 2 && k)) break;
      } else B && C(6, [], []);
      x() || C(4, [], [2, 5]), (B = !0);
    }
    return c(), s.getToken() !== 2 ? C(7, [2], []) : y(), !0;
  }
  function Y() {
    l(), y();
    let B = !1;
    for (; s.getToken() !== 4 && s.getToken() !== 17; ) {
      if (s.getToken() === 5) {
        if ((B || C(4, [], []), p(','), y(), s.getToken() === 4 && k)) break;
      } else B && C(6, [], []);
      oe() || C(4, [], [4, 5]), (B = !0);
    }
    return h(), s.getToken() !== 4 ? C(8, [4], []) : y(), !0;
  }
  function oe() {
    switch (s.getToken()) {
      case 3:
        return Y();
      case 1:
        return F();
      case 10:
        return I(!0);
      default:
        return E();
    }
  }
  return (
    y(),
    s.getToken() === 17
      ? i.allowEmptyContent
        ? !0
        : (C(4, [], []), !1)
      : oe()
      ? (s.getToken() !== 17 && C(9, [], []), !0)
      : (C(4, [], []), !1)
  );
}
function Bo(t) {
  switch (typeof t) {
    case 'boolean':
      return 'boolean';
    case 'number':
      return 'number';
    case 'string':
      return 'string';
    case 'object': {
      if (t) {
        if (Array.isArray(t)) return 'array';
      } else return 'null';
      return 'object';
    }
    default:
      return 'null';
  }
}
var L9,
  T9,
  M9,
  ql,
  F9,
  Ys = b({
    'out-build/vs/base/common/json.js'() {
      'use strict';
      (function (t) {
        (t[(t.None = 0)] = 'None'),
          (t[(t.UnexpectedEndOfComment = 1)] = 'UnexpectedEndOfComment'),
          (t[(t.UnexpectedEndOfString = 2)] = 'UnexpectedEndOfString'),
          (t[(t.UnexpectedEndOfNumber = 3)] = 'UnexpectedEndOfNumber'),
          (t[(t.InvalidUnicode = 4)] = 'InvalidUnicode'),
          (t[(t.InvalidEscapeCharacter = 5)] = 'InvalidEscapeCharacter'),
          (t[(t.InvalidCharacter = 6)] = 'InvalidCharacter');
      })(L9 || (L9 = {})),
        (function (t) {
          (t[(t.OpenBraceToken = 1)] = 'OpenBraceToken'),
            (t[(t.CloseBraceToken = 2)] = 'CloseBraceToken'),
            (t[(t.OpenBracketToken = 3)] = 'OpenBracketToken'),
            (t[(t.CloseBracketToken = 4)] = 'CloseBracketToken'),
            (t[(t.CommaToken = 5)] = 'CommaToken'),
            (t[(t.ColonToken = 6)] = 'ColonToken'),
            (t[(t.NullKeyword = 7)] = 'NullKeyword'),
            (t[(t.TrueKeyword = 8)] = 'TrueKeyword'),
            (t[(t.FalseKeyword = 9)] = 'FalseKeyword'),
            (t[(t.StringLiteral = 10)] = 'StringLiteral'),
            (t[(t.NumericLiteral = 11)] = 'NumericLiteral'),
            (t[(t.LineCommentTrivia = 12)] = 'LineCommentTrivia'),
            (t[(t.BlockCommentTrivia = 13)] = 'BlockCommentTrivia'),
            (t[(t.LineBreakTrivia = 14)] = 'LineBreakTrivia'),
            (t[(t.Trivia = 15)] = 'Trivia'),
            (t[(t.Unknown = 16)] = 'Unknown'),
            (t[(t.EOF = 17)] = 'EOF');
        })(T9 || (T9 = {})),
        (function (t) {
          (t[(t.InvalidSymbol = 1)] = 'InvalidSymbol'),
            (t[(t.InvalidNumberFormat = 2)] = 'InvalidNumberFormat'),
            (t[(t.PropertyNameExpected = 3)] = 'PropertyNameExpected'),
            (t[(t.ValueExpected = 4)] = 'ValueExpected'),
            (t[(t.ColonExpected = 5)] = 'ColonExpected'),
            (t[(t.CommaExpected = 6)] = 'CommaExpected'),
            (t[(t.CloseBraceExpected = 7)] = 'CloseBraceExpected'),
            (t[(t.CloseBracketExpected = 8)] = 'CloseBracketExpected'),
            (t[(t.EndOfFileExpected = 9)] = 'EndOfFileExpected'),
            (t[(t.InvalidCommentToken = 10)] = 'InvalidCommentToken'),
            (t[(t.UnexpectedEndOfComment = 11)] = 'UnexpectedEndOfComment'),
            (t[(t.UnexpectedEndOfString = 12)] = 'UnexpectedEndOfString'),
            (t[(t.UnexpectedEndOfNumber = 13)] = 'UnexpectedEndOfNumber'),
            (t[(t.InvalidUnicode = 14)] = 'InvalidUnicode'),
            (t[(t.InvalidEscapeCharacter = 15)] = 'InvalidEscapeCharacter'),
            (t[(t.InvalidCharacter = 16)] = 'InvalidCharacter');
        })(M9 || (M9 = {})),
        (function (t) {
          t.DEFAULT = { allowTrailingComma: !0 };
        })(ql || (ql = {})),
        (function (t) {
          (t[(t.nullCharacter = 0)] = 'nullCharacter'),
            (t[(t.maxAsciiCharacter = 127)] = 'maxAsciiCharacter'),
            (t[(t.lineFeed = 10)] = 'lineFeed'),
            (t[(t.carriageReturn = 13)] = 'carriageReturn'),
            (t[(t.lineSeparator = 8232)] = 'lineSeparator'),
            (t[(t.paragraphSeparator = 8233)] = 'paragraphSeparator'),
            (t[(t.nextLine = 133)] = 'nextLine'),
            (t[(t.space = 32)] = 'space'),
            (t[(t.nonBreakingSpace = 160)] = 'nonBreakingSpace'),
            (t[(t.enQuad = 8192)] = 'enQuad'),
            (t[(t.emQuad = 8193)] = 'emQuad'),
            (t[(t.enSpace = 8194)] = 'enSpace'),
            (t[(t.emSpace = 8195)] = 'emSpace'),
            (t[(t.threePerEmSpace = 8196)] = 'threePerEmSpace'),
            (t[(t.fourPerEmSpace = 8197)] = 'fourPerEmSpace'),
            (t[(t.sixPerEmSpace = 8198)] = 'sixPerEmSpace'),
            (t[(t.figureSpace = 8199)] = 'figureSpace'),
            (t[(t.punctuationSpace = 8200)] = 'punctuationSpace'),
            (t[(t.thinSpace = 8201)] = 'thinSpace'),
            (t[(t.hairSpace = 8202)] = 'hairSpace'),
            (t[(t.zeroWidthSpace = 8203)] = 'zeroWidthSpace'),
            (t[(t.narrowNoBreakSpace = 8239)] = 'narrowNoBreakSpace'),
            (t[(t.ideographicSpace = 12288)] = 'ideographicSpace'),
            (t[(t.mathematicalSpace = 8287)] = 'mathematicalSpace'),
            (t[(t.ogham = 5760)] = 'ogham'),
            (t[(t._ = 95)] = '_'),
            (t[(t.$ = 36)] = '$'),
            (t[(t._0 = 48)] = '_0'),
            (t[(t._1 = 49)] = '_1'),
            (t[(t._2 = 50)] = '_2'),
            (t[(t._3 = 51)] = '_3'),
            (t[(t._4 = 52)] = '_4'),
            (t[(t._5 = 53)] = '_5'),
            (t[(t._6 = 54)] = '_6'),
            (t[(t._7 = 55)] = '_7'),
            (t[(t._8 = 56)] = '_8'),
            (t[(t._9 = 57)] = '_9'),
            (t[(t.a = 97)] = 'a'),
            (t[(t.b = 98)] = 'b'),
            (t[(t.c = 99)] = 'c'),
            (t[(t.d = 100)] = 'd'),
            (t[(t.e = 101)] = 'e'),
            (t[(t.f = 102)] = 'f'),
            (t[(t.g = 103)] = 'g'),
            (t[(t.h = 104)] = 'h'),
            (t[(t.i = 105)] = 'i'),
            (t[(t.j = 106)] = 'j'),
            (t[(t.k = 107)] = 'k'),
            (t[(t.l = 108)] = 'l'),
            (t[(t.m = 109)] = 'm'),
            (t[(t.n = 110)] = 'n'),
            (t[(t.o = 111)] = 'o'),
            (t[(t.p = 112)] = 'p'),
            (t[(t.q = 113)] = 'q'),
            (t[(t.r = 114)] = 'r'),
            (t[(t.s = 115)] = 's'),
            (t[(t.t = 116)] = 't'),
            (t[(t.u = 117)] = 'u'),
            (t[(t.v = 118)] = 'v'),
            (t[(t.w = 119)] = 'w'),
            (t[(t.x = 120)] = 'x'),
            (t[(t.y = 121)] = 'y'),
            (t[(t.z = 122)] = 'z'),
            (t[(t.A = 65)] = 'A'),
            (t[(t.B = 66)] = 'B'),
            (t[(t.C = 67)] = 'C'),
            (t[(t.D = 68)] = 'D'),
            (t[(t.E = 69)] = 'E'),
            (t[(t.F = 70)] = 'F'),
            (t[(t.G = 71)] = 'G'),
            (t[(t.H = 72)] = 'H'),
            (t[(t.I = 73)] = 'I'),
            (t[(t.J = 74)] = 'J'),
            (t[(t.K = 75)] = 'K'),
            (t[(t.L = 76)] = 'L'),
            (t[(t.M = 77)] = 'M'),
            (t[(t.N = 78)] = 'N'),
            (t[(t.O = 79)] = 'O'),
            (t[(t.P = 80)] = 'P'),
            (t[(t.Q = 81)] = 'Q'),
            (t[(t.R = 82)] = 'R'),
            (t[(t.S = 83)] = 'S'),
            (t[(t.T = 84)] = 'T'),
            (t[(t.U = 85)] = 'U'),
            (t[(t.V = 86)] = 'V'),
            (t[(t.W = 87)] = 'W'),
            (t[(t.X = 88)] = 'X'),
            (t[(t.Y = 89)] = 'Y'),
            (t[(t.Z = 90)] = 'Z'),
            (t[(t.ampersand = 38)] = 'ampersand'),
            (t[(t.asterisk = 42)] = 'asterisk'),
            (t[(t.at = 64)] = 'at'),
            (t[(t.backslash = 92)] = 'backslash'),
            (t[(t.bar = 124)] = 'bar'),
            (t[(t.caret = 94)] = 'caret'),
            (t[(t.closeBrace = 125)] = 'closeBrace'),
            (t[(t.closeBracket = 93)] = 'closeBracket'),
            (t[(t.closeParen = 41)] = 'closeParen'),
            (t[(t.colon = 58)] = 'colon'),
            (t[(t.comma = 44)] = 'comma'),
            (t[(t.dot = 46)] = 'dot'),
            (t[(t.doubleQuote = 34)] = 'doubleQuote'),
            (t[(t.equals = 61)] = 'equals'),
            (t[(t.exclamation = 33)] = 'exclamation'),
            (t[(t.greaterThan = 62)] = 'greaterThan'),
            (t[(t.lessThan = 60)] = 'lessThan'),
            (t[(t.minus = 45)] = 'minus'),
            (t[(t.openBrace = 123)] = 'openBrace'),
            (t[(t.openBracket = 91)] = 'openBracket'),
            (t[(t.openParen = 40)] = 'openParen'),
            (t[(t.percent = 37)] = 'percent'),
            (t[(t.plus = 43)] = 'plus'),
            (t[(t.question = 63)] = 'question'),
            (t[(t.semicolon = 59)] = 'semicolon'),
            (t[(t.singleQuote = 39)] = 'singleQuote'),
            (t[(t.slash = 47)] = 'slash'),
            (t[(t.tilde = 126)] = 'tilde'),
            (t[(t.backspace = 8)] = 'backspace'),
            (t[(t.formFeed = 12)] = 'formFeed'),
            (t[(t.byteOrderMark = 65279)] = 'byteOrderMark'),
            (t[(t.tab = 9)] = 'tab'),
            (t[(t.verticalTab = 11)] = 'verticalTab');
        })(F9 || (F9 = {}));
    },
  }),
  Kl,
  Ue,
  Jl = b({
    'out-build/vs/base/common/severity.js'() {
      'use strict';
      Wt(),
        (function (t) {
          (t[(t.Ignore = 0)] = 'Ignore'),
            (t[(t.Info = 1)] = 'Info'),
            (t[(t.Warning = 2)] = 'Warning'),
            (t[(t.Error = 3)] = 'Error');
        })(Kl || (Kl = {})),
        (function (t) {
          const e = 'error',
            i = 'warning',
            s = 'warn',
            r = 'info',
            n = 'ignore';
          function o(c) {
            return c
              ? Ln(e, c)
                ? t.Error
                : Ln(i, c) || Ln(s, c)
                ? t.Warning
                : Ln(r, c)
                ? t.Info
                : t.Ignore
              : t.Ignore;
          }
          t.fromValue = o;
          function a(c) {
            switch (c) {
              case t.Error:
                return e;
              case t.Warning:
                return i;
              case t.Info:
                return r;
              default:
                return n;
            }
          }
          t.toString = a;
        })(Kl || (Kl = {})),
        (Ue = Kl);
    },
  });
function O9(t, e) {
  const i = ms(t);
  let s = (i.buttons ?? []).map((a) => B5(a).withMnemonic),
    r = (t.buttons || []).map((a, c) => c),
    n = 0,
    o = i.cancelId ?? s.length - 1;
  if (s.length > 1) {
    const a = typeof o == 'number' ? s[o] : void 0;
    if (Fe || Q) {
      if (typeof a == 'string' && s.length > 1 && o !== 1) {
        s.splice(o, 1), s.splice(1, 0, a);
        const c = r[o];
        r.splice(o, 1), r.splice(1, 0, c), (o = 1);
      }
      Fe &&
        s.length > 1 &&
        ((s = s.reverse()),
        (r = r.reverse()),
        (n = s.length - 1),
        typeof a == 'string' && (o = n - 1));
    } else if (J && typeof a == 'string' && s.length > 1 && o !== s.length - 1) {
      s.splice(o, 1), s.push(a);
      const c = r[o];
      r.splice(o, 1), r.push(c), (o = s.length - 1);
    }
  }
  return (
    (i.buttons = s),
    (i.defaultId = n),
    (i.cancelId = o),
    (i.noLink = !0),
    (i.title = i.title || e.nameLong),
    { options: i, buttonIndeces: r }
  );
}
var jL,
  R9,
  WL,
  N9,
  B9 = b({
    'out-build/vs/platform/dialogs/common/dialogs.js'() {
      'use strict';
      lt(),
        Jl(),
        he(),
        K(),
        Yr(),
        ie(),
        mi(),
        (jL = W('dialogService')),
        (function (t) {
          (t[(t.Confirmation = 1)] = 'Confirmation'),
            (t[(t.Prompt = 2)] = 'Prompt'),
            (t[(t.Input = 3)] = 'Input');
        })(R9 || (R9 = {})),
        (WL = W('fileDialogService')),
        (function (t) {
          (t[(t.SAVE = 0)] = 'SAVE'),
            (t[(t.DONT_SAVE = 1)] = 'DONT_SAVE'),
            (t[(t.CANCEL = 2)] = 'CANCEL');
        })(N9 || (N9 = {}));
    },
  });
import Uo from 'electron';
var rn,
  kf,
  jo = b({
    'out-build/vs/platform/dialogs/electron-main/dialogMainService.js'() {
      'use strict';
      le(),
        Io(),
        Yr(),
        U(),
        vd(),
        ie(),
        Zt(),
        he(),
        B9(),
        K(),
        se(),
        Ze(),
        Oi(),
        (rn = W('dialogMainService')),
        (kf = class {
          constructor(e, i) {
            (this.d = e),
              (this.e = i),
              (this.a = new Map()),
              (this.b = new Map()),
              (this.c = new Pa());
          }
          pickFileFolder(e, i) {
            return this.f({ ...e, pickFolders: !0, pickFiles: !0, title: u(1819, null) }, i);
          }
          pickFolder(e, i) {
            return this.f({ ...e, pickFolders: !0, title: u(1820, null) }, i);
          }
          pickFile(e, i) {
            return this.f({ ...e, pickFiles: !0, title: u(1821, null) }, i);
          }
          pickWorkspace(e, i) {
            const s = u(1822, null),
              r = B5(u(1823, null)).withMnemonic,
              n = U7;
            return this.f({ ...e, pickFiles: !0, title: s, filters: n, buttonLabel: r }, i);
          }
          async f(e, i) {
            const s = {
              title: e.title,
              buttonLabel: e.buttonLabel,
              filters: e.filters,
              defaultPath: e.defaultPath,
            };
            (typeof e.pickFiles == 'boolean' || typeof e.pickFolders == 'boolean') &&
              ((s.properties = void 0),
              e.pickFiles &&
                e.pickFolders &&
                (s.properties = [
                  'multiSelections',
                  'openDirectory',
                  'openFile',
                  'createDirectory',
                ])),
              s.properties ||
                (s.properties = [
                  'multiSelections',
                  e.pickFolders ? 'openDirectory' : 'openFile',
                  'createDirectory',
                ]),
              Q && s.properties.push('treatPackageAsDirectory');
            const r = await this.showOpenDialog(
              s,
              (i || Uo.BrowserWindow.getFocusedWindow()) ?? void 0
            );
            if (r && r.filePaths && r.filePaths.length > 0) return r.filePaths;
          }
          g(e) {
            if (e) {
              let i = this.b.get(e.id);
              return i || ((i = new Pa()), this.b.set(e.id, i)), i;
            } else return this.c;
          }
          showMessageBox(e, i) {
            return this.g(i).queue(async () => {
              const { options: s, buttonIndeces: r } = O9(e, this.e);
              let n;
              return (
                i
                  ? (n = await Uo.dialog.showMessageBox(i, s))
                  : (n = await Uo.dialog.showMessageBox(s)),
                { response: r[n.response], checkboxChecked: n.checkboxChecked }
              );
            });
          }
          async showSaveDialog(e, i) {
            const s = this.j(e, i);
            if (!s)
              return (
                this.d.error(
                  '[DialogMainService]: file save dialog is already or will be showing for the window with the same configuration'
                ),
                { canceled: !0, filePath: '' }
              );
            try {
              return await this.g(i).queue(async () => {
                let r;
                return (
                  i
                    ? (r = await Uo.dialog.showSaveDialog(i, e))
                    : (r = await Uo.dialog.showSaveDialog(e)),
                  (r.filePath = this.h(r.filePath)),
                  r
                );
              });
            } finally {
              Qt(s);
            }
          }
          h(e) {
            return e && Q && (e = La(e)), e;
          }
          i(e) {
            return e.map((i) => this.h(i));
          }
          async showOpenDialog(e, i) {
            e.defaultPath && ((await ge.exists(e.defaultPath)) || (e.defaultPath = void 0));
            const s = this.j(e, i);
            if (!s)
              return (
                this.d.error(
                  '[DialogMainService]: file open dialog is already or will be showing for the window with the same configuration'
                ),
                { canceled: !0, filePaths: [] }
              );
            try {
              return await this.g(i).queue(async () => {
                let r;
                return (
                  i
                    ? (r = await Uo.dialog.showOpenDialog(i, e))
                    : (r = await Uo.dialog.showOpenDialog(e)),
                  (r.filePaths = this.i(r.filePaths)),
                  r
                );
              });
            } finally {
              Qt(s);
            }
          }
          j(e, i) {
            if (!i) return H.None;
            this.d.trace('[DialogMainService]: request to acquire file dialog lock', e);
            let s = this.a.get(i.id);
            s || ((s = new Set()), this.a.set(i.id, s));
            const r = Un(e);
            if (!s.has(r))
              return (
                this.d.trace('[DialogMainService]: new file dialog lock created', e),
                s.add(r),
                _e(() => {
                  this.d.trace('[DialogMainService]: file dialog lock disposed', e),
                    s?.delete(r),
                    s?.size === 0 && this.a.delete(i.id);
                })
              );
          }
        }),
        (kf = __decorate([__param(0, ee), __param(1, Be)], kf));
    },
  });
async function HL(t, e, i) {
  for (const r of t) {
    const n = r.openedWorkspace;
    if (Di(n)) {
      const o = await i(n);
      if (o) {
        if (o.folders.some((a) => yt.isEqualOrParent(e, a.uri))) return r;
      } else if (yt.isEqualOrParent(e, n.configPath)) return r;
    }
  }
  const s = t.filter((r) => cs(r.openedWorkspace) && yt.isEqualOrParent(e, r.openedWorkspace.uri));
  if (s.length)
    return s.sort(
      (r, n) => -(r.openedWorkspace.uri.path.length - n.openedWorkspace.uri.path.length)
    )[0];
}
function ec(t, e) {
  for (const i of t)
    if (
      (Di(i.openedWorkspace) && yt.isEqual(i.openedWorkspace.configPath, e)) ||
      (cs(i.openedWorkspace) && yt.isEqual(i.openedWorkspace.uri, e))
    )
      return i;
}
function zL(t, e) {
  const i = (s) => e.some((r) => yt.isEqual(_.file(r), _.file(s)));
  for (const s of t) if (s.config?.extensionDevelopmentPath?.some((r) => i(r))) return s;
}
var U9 = b({
  'out-build/vs/platform/windows/electron-main/windowsFinder.js'() {
    'use strict';
    lt(), be(), Oi();
  },
});
function VL(t, e, i) {
  let s, r, n, o, a;
  if (e) {
    for (o = e.offset, a = o + e.length, n = o; n > 0 && !Sf(t, n - 1); ) n--;
    let I = a;
    for (; I < t.length && !Sf(t, I); ) I++;
    (r = t.substring(n, I)), (s = GL(r, i));
  } else (r = t), (s = 0), (n = 0), (o = 0), (a = t.length);
  const c = qL(i, t);
  let l = !1,
    h = 0,
    d;
  i.insertSpaces ? (d = rw(' ', i.tabSize || 4)) : (d = '	');
  const p = P9(r, !1);
  let m = !1;
  function w() {
    return c + rw(d, s + h);
  }
  function v() {
    let I = p.scan();
    for (l = !1; I === 15 || I === 14; ) (l = l || I === 14), (I = p.scan());
    return (m = I === 16 || p.getTokenError() !== 0), I;
  }
  const k = [];
  function y(I, E, x) {
    !m &&
      E < a &&
      x > o &&
      t.substring(E, x) !== I &&
      k.push({ offset: E, length: x - E, content: I });
  }
  let C = v();
  if (C !== 17) {
    const I = p.getTokenOffset() + n,
      E = rw(d, s);
    y(E, n, I);
  }
  for (; C !== 17; ) {
    let I = p.getTokenOffset() + p.getTokenLength() + n,
      E = v(),
      x = '';
    for (; !l && (E === 12 || E === 13); ) {
      const Y = p.getTokenOffset() + n;
      y(' ', I, Y),
        (I = p.getTokenOffset() + p.getTokenLength() + n),
        (x = E === 12 ? w() : ''),
        (E = v());
    }
    if (E === 2) C !== 1 && (h--, (x = w()));
    else if (E === 4) C !== 3 && (h--, (x = w()));
    else {
      switch (C) {
        case 3:
        case 1:
          h++, (x = w());
          break;
        case 5:
        case 12:
          x = w();
          break;
        case 13:
          l ? (x = w()) : (x = ' ');
          break;
        case 6:
          x = ' ';
          break;
        case 10:
          if (E === 6) {
            x = '';
            break;
          }
        case 7:
        case 8:
        case 9:
        case 11:
        case 2:
        case 4:
          E === 12 || E === 13 ? (x = ' ') : E !== 5 && E !== 17 && (m = !0);
          break;
        case 16:
          m = !0;
          break;
      }
      l && (E === 12 || E === 13) && (x = w());
    }
    const F = p.getTokenOffset() + n;
    y(x, I, F), (C = E);
  }
  return k;
}
function rw(t, e) {
  let i = '';
  for (let s = 0; s < e; s++) i += t;
  return i;
}
function GL(t, e) {
  let i = 0,
    s = 0;
  const r = e.tabSize || 4;
  for (; i < t.length; ) {
    const n = t.charAt(i);
    if (n === ' ') s++;
    else if (n === '	') s += r;
    else break;
    i++;
  }
  return Math.floor(s / r);
}
function qL(t, e) {
  for (let i = 0; i < e.length; i++) {
    const s = e.charAt(i);
    if (s === '\r')
      return i + 1 < e.length &&
        e.charAt(i + 1) ===
          `
`
        ? `\r
`
        : '\r';
    if (
      s ===
      `
`
    )
      return `
`;
  }
  return (
    (t && t.eol) ||
    `
`
  );
}
function Sf(t, e) {
  return (
    `\r
`.indexOf(t.charAt(e)) !== -1
  );
}
var KL = b({
  'out-build/vs/base/common/jsonFormatter.js'() {
    'use strict';
    Ys();
  },
});
function JL(t, e, i, s, r) {
  const n = e.slice(),
    a = UL(t, []);
  let c, l;
  for (; n.length > 0 && ((l = n.pop()), (c = _9(a, n)), c === void 0 && i !== void 0); )
    typeof l == 'string' ? (i = { [l]: i }) : (i = [i]);
  if (c)
    if (c.type === 'object' && typeof l == 'string' && Array.isArray(c.children)) {
      const h = _9(c, [l]);
      if (h !== void 0)
        if (i === void 0) {
          if (!h.parent) throw new Error('Malformed AST');
          const d = c.children.indexOf(h.parent);
          let p,
            m = h.parent.offset + h.parent.length;
          if (d > 0) {
            const w = c.children[d - 1];
            p = w.offset + w.length;
          } else (p = c.offset + 1), c.children.length > 1 && (m = c.children[1].offset);
          return tc(t, { offset: p, length: m - p, content: '' }, s);
        } else return tc(t, { offset: h.offset, length: h.length, content: JSON.stringify(i) }, s);
      else {
        if (i === void 0) return [];
        const d = `${JSON.stringify(l)}: ${JSON.stringify(i)}`,
          p = r ? r(c.children.map((w) => w.children[0].value)) : c.children.length;
        let m;
        if (p > 0) {
          const w = c.children[p - 1];
          m = { offset: w.offset + w.length, length: 0, content: ',' + d };
        } else
          c.children.length === 0
            ? (m = { offset: c.offset + 1, length: 0, content: d })
            : (m = { offset: c.offset + 1, length: 0, content: d + ',' });
        return tc(t, m, s);
      }
    } else if (c.type === 'array' && typeof l == 'number' && Array.isArray(c.children))
      if (i !== void 0) {
        const h = `${JSON.stringify(i)}`;
        let d;
        if (c.children.length === 0 || l === 0)
          d = { offset: c.offset + 1, length: 0, content: c.children.length === 0 ? h : h + ',' };
        else {
          const p = l === -1 || l > c.children.length ? c.children.length : l,
            m = c.children[p - 1];
          d = { offset: m.offset + m.length, length: 0, content: ',' + h };
        }
        return tc(t, d, s);
      } else {
        const h = l,
          d = c.children[h];
        let p;
        if (c.children.length === 1)
          p = { offset: c.offset + 1, length: c.length - 2, content: '' };
        else if (c.children.length - 1 === h) {
          const m = c.children[h - 1],
            w = m.offset + m.length,
            v = c.offset + c.length;
          p = { offset: w, length: v - 2 - w, content: '' };
        } else p = { offset: d.offset, length: c.children[h + 1].offset - d.offset, content: '' };
        return tc(t, p, s);
      }
    else
      throw new Error(
        `Can not add ${typeof l != 'number' ? 'index' : 'property'} to parent of type ${c.type}`
      );
  else
    return i === void 0
      ? []
      : tc(
          t,
          { offset: a ? a.offset : 0, length: a ? a.length : 0, content: JSON.stringify(i) },
          s
        );
}
function tc(t, e, i) {
  let s = nw(t, e),
    r = e.offset,
    n = e.offset + e.content.length;
  if (e.length === 0 || e.content.length === 0) {
    for (; r > 0 && !Sf(s, r - 1); ) r--;
    for (; n < s.length && !Sf(s, n); ) n++;
  }
  const o = VL(s, { offset: r, length: n - r }, i);
  for (let c = o.length - 1; c >= 0; c--) {
    const l = o[c];
    (s = nw(s, l)),
      (r = Math.min(r, l.offset)),
      (n = Math.max(n, l.offset + l.length)),
      (n += l.content.length - l.length);
  }
  const a = t.length - (s.length - n) - r;
  return [{ offset: r, length: a, content: s.substring(r, n) }];
}
function nw(t, e) {
  return t.substring(0, e.offset) + e.content + t.substring(e.offset + e.length);
}
function XL(t, e) {
  const i = e.slice(0).sort((r, n) => {
    const o = r.offset - n.offset;
    return o === 0 ? r.length - n.length : o;
  });
  let s = t.length;
  for (let r = i.length - 1; r >= 0; r--) {
    const n = i[r];
    if (n.offset + n.length <= s) t = nw(t, n);
    else throw new Error('Overlapping edit');
    s = n.offset;
  }
  return t;
}
var j9 = b({
  'out-build/vs/base/common/jsonEdit.js'() {
    'use strict';
    Ys(), KL();
  },
});
function ic(t) {
  return t.scheme === N.vscodeRemote ? t.authority : void 0;
}
var Xl = b({
  'out-build/vs/platform/remote/common/remoteHosts.js'() {
    'use strict';
    Oe();
  },
});
function ow(t) {
  return t.hasOwnProperty('workspace');
}
function Ef(t) {
  return t.hasOwnProperty('folderUri');
}
function YL(t) {
  return t.hasOwnProperty('fileUri');
}
function QL(t) {
  return W9(t) || H9(t);
}
function W9(t) {
  const e = t;
  return typeof e?.path == 'string' && (!e.name || typeof e.name == 'string');
}
function H9(t) {
  const e = t;
  return typeof e?.uri == 'string' && (!e.name || typeof e.name == 'string');
}
function ZL(t, e, i, s, r) {
  if (t.scheme !== s.scheme) return { name: i, uri: t.toString(!0) };
  let n = e ? void 0 : r.relativePath(s, t);
  if (n !== void 0) n.length === 0 ? (n = '.') : J && (n = z9(n));
  else if (t.scheme === N.file) (n = t.fsPath), J && (n = z9(n));
  else if (r.isEqualAuthority(t.authority, s.authority)) n = t.path;
  else return { name: i, uri: t.toString(!0) };
  return { name: i, path: n };
}
function z9(t) {
  return (t = q0(t)), SP(t) || (t = Ia(t)), t;
}
function eT(t, e, i) {
  const s = [],
    r = new Set(),
    n = i.dirname(e);
  for (const o of t) {
    let a;
    if (W9(o)) o.path && (a = i.resolvePath(n, o.path));
    else if (H9(o))
      try {
        (a = _.parse(o.uri)), a.path[0] !== Ce.sep && (a = a.with({ path: Ce.sep + a.path }));
      } catch (c) {
        console.warn(c);
      }
    if (a) {
      const c = i.getComparisonKey(a);
      if (!r.has(c)) {
        r.add(c);
        const l = o.name || i.basenameOrAuthority(a);
        s.push(new N7({ uri: a, name: l, index: s.length }, o));
      }
    }
  }
  return s;
}
function tT(t) {
  return (
    t.workspace &&
    typeof t.workspace == 'object' &&
    typeof t.workspace.id == 'string' &&
    typeof t.workspace.configPath == 'string'
  );
}
function iT(t) {
  return typeof t.folderUri == 'string';
}
function sT(t) {
  return typeof t.fileUri == 'string';
}
function rT(t, e) {
  const i = { workspaces: [], files: [] };
  if (t) {
    const s = function (n, o) {
        for (let a = 0; a < n.length; a++)
          try {
            o(n[a], a);
          } catch (c) {
            e.warn(
              `Error restoring recent entry ${JSON.stringify(n[a])}: ${c.toString()}. Skip entry.`
            );
          }
      },
      r = t;
    Array.isArray(r.entries) &&
      s(r.entries, (n) => {
        const o = n.label,
          a = n.remoteAuthority;
        tT(n)
          ? i.workspaces.push({
              label: o,
              remoteAuthority: a,
              workspace: { id: n.workspace.id, configPath: _.parse(n.workspace.configPath) },
            })
          : iT(n)
          ? i.workspaces.push({ label: o, remoteAuthority: a, folderUri: _.parse(n.folderUri) })
          : sT(n) && i.files.push({ label: o, remoteAuthority: a, fileUri: _.parse(n.fileUri) });
      });
  }
  return i;
}
function nT(t) {
  const e = { entries: [] },
    i = (s, r) => s && s !== r.fsPath && s !== r.path;
  for (const s of t.workspaces)
    Ef(s)
      ? e.entries.push({
          folderUri: s.folderUri.toString(),
          label: i(s.label, s.folderUri) ? s.label : void 0,
          remoteAuthority: s.remoteAuthority,
        })
      : e.entries.push({
          workspace: { id: s.workspace.id, configPath: s.workspace.configPath.toString() },
          label: i(s.label, s.workspace.configPath) ? s.label : void 0,
          remoteAuthority: s.remoteAuthority,
        });
  for (const s of t.files)
    e.entries.push({
      fileUri: s.fileUri.toString(),
      label: i(s.label, s.fileUri) ? s.label : void 0,
      remoteAuthority: s.remoteAuthority,
    });
  return e;
}
var aw,
  cw = b({
    'out-build/vs/platform/workspaces/common/workspaces.js'() {
      'use strict';
      qi(),
        Ys(),
        j9(),
        Yr(),
        Oe(),
        xe(),
        ie(),
        lt(),
        be(),
        K(),
        Xl(),
        Oi(),
        (aw = W('workspacesService'));
    },
  });
import * as V9 from 'fs';
import oT from 'electron';
var Yn,
  Cf,
  Wo = b({
    'out-build/vs/platform/workspaces/electron-main/workspacesManagementMainService.js'() {
      'use strict';
      X(),
        Ys(),
        U(),
        Oe(),
        xe(),
        lt(),
        Zt(),
        he(),
        Gl(),
        jo(),
        vt(),
        K(),
        se(),
        Fo(),
        U9(),
        Oi(),
        cw(),
        Qm(),
        (Yn = W('workspacesManagementMainService')),
        (Cf = class extends H {
          constructor(e, i, s, r, n) {
            super(),
              (this.g = e),
              (this.h = i),
              (this.j = s),
              (this.m = r),
              (this.n = n),
              (this.a = this.B(new $())),
              (this.onDidDeleteUntitledWorkspace = this.a.event),
              (this.b = this.B(new $())),
              (this.onDidEnterWorkspace = this.b.event),
              (this.c = this.g.untitledWorkspacesHome),
              (this.f = []);
          }
          async initialize() {
            this.f = [];
            try {
              const e = (await ge.readdir(this.c.with({ scheme: N.file }).fsPath)).map((i) =>
                we(this.c, i, xm)
              );
              for (const i of e) {
                const s = No(i),
                  r = await this.resolveLocalWorkspace(i);
                r
                  ? this.f.push({ workspace: s, remoteAuthority: r.remoteAuthority })
                  : await this.deleteUntitledWorkspace(s);
              }
            } catch (e) {
              e.code !== 'ENOENT' && this.h.warn(`Unable to read folders in ${this.c} (${e}).`);
            }
          }
          resolveLocalWorkspace(e) {
            return this.r(e, (i) => V9.promises.readFile(i, 'utf8'));
          }
          r(e, i) {
            if (this.s(e) && e.scheme === N.file)
              try {
                const s = i(e.fsPath);
                return s instanceof Promise
                  ? s.then(
                      (r) => this.t(e, r),
                      (r) => {}
                    )
                  : this.t(e, s);
              } catch {
                return;
              }
          }
          s(e) {
            return M7(e, this.g) || Mo(e);
          }
          t(e, i) {
            try {
              const s = this.u(e, i),
                r = No(e);
              return {
                id: r.id,
                configPath: r.configPath,
                folders: eT(s.folders, r.configPath, yt),
                remoteAuthority: s.remoteAuthority,
                transient: s.transient,
              };
            } catch (s) {
              this.h.warn(s.toString());
            }
          }
          u(e, i) {
            const s = Ar(i);
            if (s && Array.isArray(s.folders)) s.folders = s.folders.filter((r) => QL(r));
            else throw new Error(`${e.toString(!0)} looks like an invalid workspace file.`);
            return s;
          }
          async createUntitledWorkspace(e, i) {
            const { workspace: s, storedWorkspace: r } = this.w(e, i),
              n = s.configPath.fsPath;
            return (
              await V9.promises.mkdir(vi(n), { recursive: !0 }),
              await ge.writeFile(n, JSON.stringify(r, null, '	')),
              this.f.push({ workspace: s, remoteAuthority: i }),
              s
            );
          }
          w(e = [], i) {
            const s = (Date.now() + Math.round(Math.random() * 1e3)).toString(),
              r = we(this.c, s),
              n = we(r, xm),
              o = [];
            for (const a of e) o.push(ZL(a.uri, !0, a.name, r, yt));
            return { workspace: No(n), storedWorkspace: { folders: o, remoteAuthority: i } };
          }
          async getWorkspaceIdentifier(e) {
            return No(e);
          }
          isUntitledWorkspace(e) {
            return M7(e.configPath, this.g);
          }
          async deleteUntitledWorkspace(e) {
            this.isUntitledWorkspace(e) &&
              (await this.y(e), this.j.unsetWorkspace(e), this.a.fire(e));
          }
          async y(e) {
            const i = as(e.configPath);
            try {
              await ge.rm(vi(i));
              const s = M(this.g.workspaceStorageHome.with({ scheme: N.file }).fsPath, e.id);
              (await ge.exists(s)) && (await ge.writeFile(M(s, 'obsolete'), '')),
                (this.f = this.f.filter((r) => r.workspace.id !== e.id));
            } catch (s) {
              this.h.warn(`Unable to delete untitled workspace ${i} (${s}).`);
            }
          }
          getUntitledWorkspaces() {
            return this.f;
          }
          async enterWorkspace(e, i, s) {
            if (!e || !e.win || !e.isReady || !(await this.z(e, i, s))) return;
            const n = await this.C(e, No(s));
            if (n) return this.b.fire({ window: e, workspace: n.workspace }), n;
          }
          async z(e, i, s) {
            return s
              ? Di(e.openedWorkspace) && yt.isEqual(e.openedWorkspace.configPath, s)
                ? !1
                : ec(i, s)
                ? (await this.n.showMessageBox(
                    {
                      type: 'info',
                      buttons: [u(2877, null)],
                      message: u(2878, null, br(s)),
                      detail: u(2879, null),
                    },
                    oT.BrowserWindow.getFocusedWindow() ?? void 0
                  ),
                  !1)
                : !0
              : !0;
          }
          async C(e, i) {
            if (!e.config) return;
            e.focus();
            let s;
            return (
              e.config.extensionDevelopmentPath ||
                (e.config.backupPath
                  ? (s = await this.m.registerWorkspaceBackup(
                      { workspace: i, remoteAuthority: e.remoteAuthority },
                      e.config.backupPath
                    ))
                  : (s = this.m.registerWorkspaceBackup({
                      workspace: i,
                      remoteAuthority: e.remoteAuthority,
                    }))),
              Di(e.openedWorkspace) &&
                this.isUntitledWorkspace(e.openedWorkspace) &&
                (await this.deleteUntitledWorkspace(e.openedWorkspace)),
              (e.config.workspace = i),
              (e.config.backupPath = s),
              { workspace: i, backupPath: s }
            );
          }
        }),
        (Cf = __decorate(
          [__param(0, dt), __param(1, ee), __param(2, xr), __param(3, Qa), __param(4, rn)],
          Cf
        ));
    },
  });
function aT(t, ...e) {
  const i = e.reduce((n, o) => ((n[o] = !0), n), {}),
    s = [
      /^ELECTRON_.+$/,
      /^VSCODE_(?!(PORTABLE|SHELL_LOGIN|ENV_REPLACE|ENV_APPEND|ENV_PREPEND)).+$/,
      /^SNAP(|_.*)$/,
      /^GDK_PIXBUF_.+$/,
      /^ICUBE_.+$/,
    ];
  Object.keys(t)
    .filter((n) => !i[n])
    .forEach((n) => {
      for (let o = 0; o < s.length; o++)
        if (n.search(s[o]) !== -1) {
          delete t[n];
          break;
        }
    });
}
function G9(t) {
  t && (delete t.DEBUG, Fe && delete t.LD_PRELOAD);
}
var q9,
  K9,
  Df = b({
    'out-build/vs/base/common/processes.js'() {
      'use strict';
      ie(),
        (function (t) {
          (t[(t.stdout = 0)] = 'stdout'), (t[(t.stderr = 1)] = 'stderr');
        })(q9 || (q9 = {})),
        (function (t) {
          (t[(t.Success = 0)] = 'Success'),
            (t[(t.Unknown = 1)] = 'Unknown'),
            (t[(t.AccessDenied = 2)] = 'AccessDenied'),
            (t[(t.ProcessNotFound = 3)] = 'ProcessNotFound');
        })(K9 || (K9 = {}));
    },
  }),
  cT,
  J9,
  Bi,
  X9,
  Y9,
  Q9,
  Z9,
  ls = b({
    'out-build/vs/workbench/services/icubeEventReport/common/icubeEventReport.js'() {
      'use strict';
      K(),
        X(),
        (cT = W('IICubeTrackerService')),
        (J9 = W('IICubeSlardarService')),
        (Bi = W('IICubeEventReportService')),
        (X9 = class {
          constructor() {
            (this.commonParams = {}),
              (this.a = new $()),
              (this.onDidCommonParamsChange = this.a.event);
          }
          async getTeaClient() {
            return null;
          }
          async getSlardarClient() {
            return null;
          }
          updateCommonParams() {}
          async getSlardarClientWithCustomSessionID(t) {
            return null;
          }
          getEventVerify() {
            return { isEventVerifyEnabled: !1, eventVerifyHost: '' };
          }
          getCommonParams() {
            return this.commonParams;
          }
        }),
        (Y9 = new X9()),
        (function (t) {
          (t.LOGIN = '1'), (t.NOT_LOGIN = '0');
        })(Q9 || (Q9 = {})),
        (function (t) {
          (t.Focus = 'focus'), (t.NotFocus = 'not_focus');
        })(Z9 || (Z9 = {}));
    },
  });
import { MessageChannelMain as lT, app as uT, utilityProcess as hT } from 'electron';
import { StringDecoder as e8 } from 'string_decoder';
function dT(t) {
  return typeof t.responseWindowId == 'number';
}
var sc,
  nn,
  Yl,
  Ho = b({
    'out-build/vs/platform/utilityProcess/electron-main/utilityProcess.js'() {
      'use strict';
      U(),
        X(),
        se(),
        le(),
        Oe(),
        qt(),
        Jl(),
        Gt(),
        St(),
        Df(),
        mi(),
        ie(),
        Kc(),
        ls(),
        (nn = class extends H {
          static {
            sc = this;
          }
          static {
            this.a = 0;
          }
          static {
            this.b = new Map();
          }
          static getAll() {
            return Array.from(sc.b.values());
          }
          constructor(e, i, s, r) {
            super(),
              (this.u = e),
              (this.w = i),
              (this.y = s),
              (this.z = r),
              (this.c = String(++sc.a)),
              (this.f = this.B(new $())),
              (this.onStdout = this.f.event),
              (this.g = this.B(new $())),
              (this.onStderr = this.g.event),
              (this.h = this.B(new $())),
              (this.onMessage = this.h.event),
              (this.j = this.B(new $())),
              (this.onSpawn = this.j.event),
              (this.m = this.B(new $())),
              (this.onExit = this.m.event),
              (this.n = this.B(new $())),
              (this.onCrash = this.n.event),
              (this.r = void 0),
              (this.s = void 0),
              (this.t = void 0);
          }
          C(e, i) {
            let s;
            switch (
              (this.t?.correlationId
                ? (s = `[UtilityProcess id: ${this.t?.correlationId}, type: ${this.t?.type}, pid: ${
                    this.s ?? '<none>'
                  }]: ${e}`)
                : (s = `[UtilityProcess type: ${this.t?.type}, pid: ${this.s ?? '<none>'}]: ${e}`),
              i)
            ) {
              case Ue.Error:
                this.u.error(s);
                break;
              case Ue.Warning:
                this.u.warn(s);
                break;
              case Ue.Info:
                this.u.trace(s);
                break;
            }
          }
          D() {
            return this.r
              ? (this.C('Cannot start utility process because it is already running...', Ue.Error),
                !1)
              : !0;
          }
          processId() {
            return this.s;
          }
          start(e) {
            const i = this.F(e);
            return (
              i &&
                e.payload &&
                this.postMessage(e.payload) &&
                this.C('payload sent via postMessage()', Ue.Info),
              i
            );
          }
          F(e) {
            if (!this.D()) return !1;
            this.t = e;
            const i = `${this.t.type}-${this.c}`,
              s = Ht.asFileUri('bootstrap-fork.js').fsPath,
              r = this.t.args ?? [],
              n = this.t.execArgv ?? [],
              o = this.t.allowLoadingUnsignedLibraries,
              a = this.t.respondToAuthRequestsFromMainProcess,
              c = 'pipe',
              l = this.G(e);
            return (
              this.C('creating new...', Ue.Info),
              (this.r = hT.fork(s, r, {
                serviceName: i,
                env: l,
                execArgv: n,
                allowLoadingUnsignedLibraries: o,
                respondToAuthRequestsFromMainProcess: a,
                stdio: c,
              })),
              this.H(this.r, this.t, i),
              !0
            );
          }
          G(e) {
            const i = e.env ? { ...e.env } : { ...ms(process.env) };
            (i.VSCODE_ESM_ENTRYPOINT = e.entryPoint),
              typeof e.parentLifecycleBound == 'number' &&
                (i.VSCODE_PARENT_PID = String(e.parentLifecycleBound)),
              (i.VSCODE_CRASH_REPORTER_PROCESS_TYPE = e.type),
              J &&
                (f$()
                  ? (i.NODE_DISABLE_UNC_ACCESS_CHECKS = '1')
                  : (i.NODE_UNC_HOST_ALLOWLIST = u$().join('\\'))),
              V4 && (i.ICUBE_IS_ELECTRON = 'true'),
              G9(i);
            for (const s of Object.keys(i)) i[s] = String(i[s]);
            return i;
          }
          H(e, i, s) {
            if (e.stdout) {
              const r = new e8('utf-8');
              this.B(
                P.fromNodeEventEmitter(
                  e.stdout,
                  'data'
                )((n) => this.f.fire(typeof n == 'string' ? n : r.write(n)))
              );
            }
            if (e.stderr) {
              const r = new e8('utf-8');
              this.B(
                P.fromNodeEventEmitter(
                  e.stderr,
                  'data'
                )((n) => this.g.fire(typeof n == 'string' ? n : r.write(n)))
              );
            }
            this.B(P.fromNodeEventEmitter(e, 'message')((r) => this.h.fire(r))),
              this.B(
                P.fromNodeEventEmitter(
                  e,
                  'spawn'
                )(() => {
                  (this.s = e.pid),
                    typeof e.pid == 'number' &&
                      sc.b.set(e.pid, {
                        pid: e.pid,
                        name: dT(i) ? `${i.type} [${i.responseWindowId}]` : i.type,
                      }),
                    this.C('successfully created', Ue.Info),
                    this.j.fire(e.pid);
                })
              ),
              this.B(
                P.fromNodeEventEmitter(
                  e,
                  'exit'
                )((r) => {
                  this.C(`received exit event with code ${r}`, Ue.Info),
                    this.m.fire({ pid: this.s, code: r, signal: 'unknown' }),
                    this.J();
                })
              ),
              this.B(
                P.fromNodeEventEmitter(e, 'error', (r, n, o) => ({
                  type: r,
                  location: n,
                  report: o,
                }))(({ type: r, location: n, report: o }) => {
                  this.C(`crashed due to ${r} from V8 at ${n}`, Ue.Info);
                  let a = [];
                  try {
                    a = JSON.parse(o)
                      .sharedObjects.filter((l) => l.endsWith('.node'))
                      .map((l) => {
                        const h =
                          l.indexOf('extensions') === -1
                            ? l.indexOf('node_modules')
                            : l.indexOf('extensions');
                        return l.substring(h);
                      });
                  } catch {}
                  this.w.publicLog2('utilityprocessv8error', {
                    processtype: i.type,
                    error: r,
                    location: n,
                    addons: a,
                  });
                })
              ),
              this.B(
                P.fromNodeEventEmitter(uT, 'child-process-gone', (r, n) => ({
                  event: r,
                  details: n,
                }))(({ details: r }) => {
                  r.type === 'Utility' &&
                    r.name === s &&
                    (this.C(`crashed with code ${r.exitCode} and reason '${r.reason}'`, Ue.Error),
                    this.w.publicLog2('utilityprocesscrash', {
                      type: i.type,
                      reason: r.reason,
                      code: r.exitCode,
                    }),
                    this.I({ type: i.type, reason: r.reason, code: r.exitCode, pid: this.s }),
                    this.n.fire({ pid: this.s, code: r.exitCode, reason: r.reason }),
                    this.J());
                })
              );
          }
          async I(e) {
            (await this.z.getSlardarClient())?.sendEvent?.({
              name: 'utilityprocesscrash',
              categories: {
                exitCode: `${e.code}`,
                pid: `${e.pid}`,
                type: e.type,
                reason: e.reason,
              },
            });
          }
          once(e, i) {
            const s = this.B(
              this.h.event((r) => {
                r === e && (s.dispose(), i());
              })
            );
          }
          postMessage(e, i) {
            return this.r ? (this.r.postMessage(e, i), !0) : !1;
          }
          connect(e) {
            const { port1: i, port2: s } = new lT();
            return this.postMessage(e, [s]), i;
          }
          enableInspectPort() {
            if (!this.r || typeof this.s != 'number') return !1;
            this.C('enabling inspect port', Ue.Info);
            const e = process;
            return typeof e._debugProcess == 'function' ? (e._debugProcess(this.s), !0) : !1;
          }
          kill() {
            if (!this.r) return;
            this.C('attempting to kill the process...', Ue.Info),
              this.r.kill()
                ? (this.C('successfully killed the process', Ue.Info), this.J())
                : this.C('unable to kill the process', Ue.Warning);
          }
          J() {
            typeof this.s == 'number' && sc.b.delete(this.s), (this.r = void 0);
          }
          async waitForExit(e) {
            this.r &&
              (this.C('waiting to exit...', Ue.Info),
              await Promise.race([P.toPromise(this.onExit), Ji(e)]),
              this.r &&
                (this.C(`did not exit within ${e}ms, will kill it now...`, Ue.Info), this.kill()));
          }
        }),
        (nn = sc =
          __decorate([__param(0, ee), __param(1, Vt), __param(2, st), __param(3, Bi)], nn)),
        (Yl = class extends nn {
          constructor(e, i, s, r, n) {
            super(e, s, r, n), (this.L = i);
          }
          start(e) {
            const i = this.L.getWindowById(e.responseWindowId);
            if (!i?.win || i.win.isDestroyed() || i.win.webContents.isDestroyed())
              return (
                this.C(
                  'Refusing to start utility process because requesting window cannot be found or is destroyed...',
                  Ue.Error
                ),
                !0
              );
            if (!super.F(e)) return !1;
            this.M(i.win, e);
            const r = this.connect(e.payload);
            return i.win.webContents.postMessage(e.responseChannel, e.responseNonce, [r]), !0;
          }
          M(e, i) {
            i.windowLifecycleBound &&
              (this.B(
                P.filter(this.y.onWillLoadWindow, (s) => s.window.win === e)(() => this.kill())
              ),
              this.B(P.fromNodeEventEmitter(e, 'closed')(() => this.kill())));
          }
        }),
        (Yl = __decorate(
          [__param(0, ee), __param(1, Tt), __param(2, Vt), __param(3, st), __param(4, Bi)],
          Yl
        ));
    },
  });
import { app as t8, BrowserWindow as fT } from 'electron';
var i8,
  Ql,
  xf,
  lw = b({
    'out-build/vs/platform/diagnostics/electron-main/diagnosticsMainService.js'() {
      'use strict';
      Ei(),
        jt(),
        K(),
        qt(),
        Oi(),
        Wo(),
        $e(),
        se(),
        Ho(),
        (i8 = 'diagnosticsMainService'),
        (Ql = W(i8)),
        (xf = class {
          constructor(e, i, s) {
            (this.a = e), (this.b = i), (this.c = s);
          }
          async getRemoteDiagnostics(e) {
            const i = this.a.getWindows();
            return (
              await Promise.all(
                i.map(async (r) => {
                  const n = r.remoteAuthority;
                  if (!n) return;
                  const o = `vscode:getDiagnosticInfoResponse${r.id}`,
                    a = {
                      includeProcesses: e.includeProcesses,
                      folders: e.includeWorkspaceMetadata ? await this.f(r) : void 0,
                    };
                  return new Promise((c) => {
                    r.sendWhenReady('vscode:getDiagnosticInfo', gt.None, {
                      replyChannel: o,
                      args: a,
                    }),
                      de.once(o, (l, h) => {
                        h ||
                          c({
                            hostName: n,
                            errorMessage: `Unable to resolve connection to '${n}'.`,
                          }),
                          c(h);
                      }),
                      setTimeout(() => {
                        c({
                          hostName: n,
                          errorMessage: `Connection to '${n}' could not be established`,
                        });
                      }, 5e3);
                  });
                })
              )
            ).filter((r) => !!r);
          }
          async getMainDiagnostics() {
            this.c.trace('Received request for main process info from other instance.');
            const e = [];
            for (const s of fT.getAllWindows()) {
              const r = this.a.getWindowById(s.id);
              r ? e.push(await this.d(r)) : e.push(this.e(s));
            }
            const i = [];
            for (const { pid: s, name: r } of nn.getAll()) i.push({ pid: s, name: r });
            return {
              mainPID: process.pid,
              mainArguments: process.argv.slice(1),
              windows: e,
              pidToNames: i,
              screenReader: !!t8.accessibilitySupportEnabled,
              gpuFeatureStatus: t8.getGPUFeatureStatus(),
            };
          }
          async d(e) {
            const i = await this.f(e),
              s = zc(e.win);
            return this.e(s, i, e.remoteAuthority);
          }
          e(e, i = [], s) {
            return {
              id: e.id,
              pid: e.webContents.getOSProcessId(),
              title: e.getTitle(),
              folderURIs: i,
              remoteAuthority: s,
            };
          }
          async f(e) {
            const i = [],
              s = e.openedWorkspace;
            if (cs(s)) i.push(s.uri);
            else if (Di(s)) {
              const r = await this.b.resolveLocalWorkspace(s.configPath);
              r &&
                r.folders.forEach((o) => {
                  i.push(o.uri);
                });
            }
            return i;
          }
        }),
        (xf = __decorate([__param(0, Tt), __param(1, Yn), __param(2, ee)], xf));
    },
  });
import { safeStorage as pT, app as gT } from 'electron';
var on,
  Af,
  mT = b({
    'out-build/vs/platform/encryption/electron-main/encryptionMainService.js'() {
      'use strict';
      ie(),
        se(),
        (on = pT),
        (Af = class {
          constructor(e) {
            (this.a = e),
              gT.commandLine.getSwitchValue('password-store') === 'basic' &&
                (this.a.trace('[EncryptionMainService] setting usePlainTextEncryption to true...'),
                on.setUsePlainTextEncryption?.(!0),
                this.a.trace('[EncryptionMainService] set usePlainTextEncryption to true'));
          }
          async encrypt(e) {
            this.a.trace('[EncryptionMainService] Encrypting value...');
            try {
              const i = JSON.stringify(on.encryptString(e));
              return this.a.trace('[EncryptionMainService] Encrypted value.'), i;
            } catch (i) {
              throw (this.a.error(i), i);
            }
          }
          async decrypt(e) {
            let i;
            try {
              if (((i = JSON.parse(e)), !i.data))
                throw new Error(`[EncryptionMainService] Invalid encrypted value: ${e}`);
              const s = Buffer.from(i.data);
              this.a.trace('[EncryptionMainService] Decrypting value...');
              const r = on.decryptString(s);
              return this.a.trace('[EncryptionMainService] Decrypted value.'), r;
            } catch (s) {
              throw (this.a.error(s), s);
            }
          }
          isEncryptionAvailable() {
            this.a.trace('[EncryptionMainService] Checking if encryption is available...');
            const e = on.isEncryptionAvailable();
            return (
              this.a.trace('[EncryptionMainService] Encryption is available: ', e),
              Promise.resolve(e)
            );
          }
          getKeyStorageProvider() {
            if (J) return Promise.resolve('dpapi');
            if (Q) return Promise.resolve('keychain_access');
            if (on.getSelectedStorageBackend)
              try {
                this.a.trace('[EncryptionMainService] Getting selected storage backend...');
                const e = on.getSelectedStorageBackend();
                return (
                  this.a.trace('[EncryptionMainService] Selected storage backend: ', e),
                  Promise.resolve(e)
                );
              } catch (e) {
                this.a.error(e);
              }
            return Promise.resolve('unknown');
          }
          async setUsePlainTextEncryption() {
            if (J) throw new Error('Setting plain text encryption is not supported on Windows.');
            if (Q) throw new Error('Setting plain text encryption is not supported on macOS.');
            if (!on.setUsePlainTextEncryption)
              throw new Error('Setting plain text encryption is not supported.');
            this.a.trace('[EncryptionMainService] Setting usePlainTextEncryption to true...'),
              on.setUsePlainTextEncryption(!0),
              this.a.trace('[EncryptionMainService] Set usePlainTextEncryption to true');
          }
        }),
        (Af = __decorate([__param(0, ee)], Af));
    },
  });
import wT from 'assert';
function bT(t, e) {
  const i = (c, l) => {
      console.warn(u(1874, null, c, l));
    },
    s = (c) => {
      console.warn(u(1875, null, c));
    },
    r = (c, l) => {
      console.warn(u(1876, null, c, l));
    },
    n = (c) => ({
      onUnknownOption: (l) => {
        ew.includes(c) || console.warn(u(1877, null, l, c));
      },
      onMultipleValues: i,
      onEmptyValue: s,
      onDeprecatedOption: r,
      getSubcommandReporter: ew.includes(c) ? n : void 0,
    }),
    a = Zm(
      t,
      tw,
      e
        ? {
            onUnknownOption: (c) => {
              console.warn(u(1878, null, c));
            },
            onMultipleValues: i,
            onEmptyValue: s,
            onDeprecatedOption: r,
            getSubcommandReporter: n,
          }
        : void 0
    );
  return a.goto && a._.forEach((c) => wT(/^(\w:)?[^:]+(:\d*){0,2}:?$/.test(c), u(1879, null))), a;
}
function vT(t) {
  const e = t.findIndex((i) => !/^-/.test(i));
  if (e > -1) return [...t.slice(0, e), ...t.slice(e + 1)];
}
function yT(t) {
  let [, ...e] = t;
  process.env.VSCODE_DEV && (e = vT(e) || []);
  const i = !zo(process.env);
  return bT(e, i);
}
function kT(t, ...e) {
  const i = t.indexOf('--');
  return i === -1 ? t.push(...e) : t.splice(i, 0, ...e), t;
}
function zo(t) {
  return t.VSCODE_CLI === '1';
}
var Zl = b({
  'out-build/vs/platform/environment/node/argvHelper.js'() {
    'use strict';
    he(), A9();
  },
});
import * as ST from 'os';
function ET({ useAlternateBitness: t = !1 } = {}) {
  return t
    ? eu === 0
      ? process.env['ProgramFiles(x86)'] || null
      : (rc === 0 && process.env.ProgramW6432) || null
    : process.env.ProgramFiles || null;
}
async function If({ useAlternateBitness: t = !1, findPreview: e = !1 } = {}) {
  const i = ET({ useAlternateBitness: t });
  if (!i) return null;
  const s = M(i, 'PowerShell');
  if (!(await Si.existsDirectory(s))) return null;
  let r = -1,
    n = null;
  for (const c of await ge.readdir(s)) {
    let l = -1;
    if (e) {
      const d = c.indexOf('-');
      if (d < 0) continue;
      const p = c.substring(0, d);
      if (!uw.test(p) || c.substring(d + 1) !== 'preview') continue;
      l = parseInt(p, 10);
    } else {
      if (!uw.test(c)) continue;
      l = parseInt(c, 10);
    }
    if (l <= r) continue;
    const h = M(s, c, 'pwsh.exe');
    (await Si.existsFile(h)) && ((n = h), (r = l));
  }
  if (!n) return null;
  const o = i.includes('x86') ? ' (x86)' : '',
    a = e ? ' Preview' : '';
  return new tu(n, `PowerShell${a}${o}`, !0);
}
async function s8({ findPreview: t } = {}) {
  if (!process.env.LOCALAPPDATA) return null;
  const e = M(process.env.LOCALAPPDATA, 'Microsoft', 'WindowsApps');
  if (!(await Si.existsDirectory(e))) return null;
  const { pwshMsixDirRegex: i, pwshMsixName: s } = t
    ? { pwshMsixDirRegex: o8, pwshMsixName: 'PowerShell Preview (Store)' }
    : { pwshMsixDirRegex: n8, pwshMsixName: 'PowerShell (Store)' };
  for (const r of await ge.readdir(e))
    if (i.test(r)) {
      const n = M(e, r, 'pwsh.exe');
      return new tu(n, s);
    }
  return null;
}
function CT() {
  const t = M(ST.homedir(), '.dotnet', 'tools', 'pwsh.exe');
  return new tu(t, '.NET Core PowerShell Global Tool');
}
function DT() {
  const t = M(
    process.env.windir,
    eu === 1 && rc !== 1 ? 'SysNative' : 'System32',
    'WindowsPowerShell',
    'v1.0',
    'powershell.exe'
  );
  return new tu(t, 'Windows PowerShell', !0);
}
async function* xT() {
  let t = await If();
  t && (yield t),
    (t = await If({ useAlternateBitness: !0 })),
    t && (yield t),
    (t = await s8()),
    t && (yield t),
    (t = CT()),
    t && (yield t),
    (t = await If({ findPreview: !0 })),
    t && (yield t),
    (t = await s8({ findPreview: !0 })),
    t && (yield t),
    (t = await If({ useAlternateBitness: !0, findPreview: !0 })),
    t && (yield t),
    (t = DT()),
    t && (yield t);
}
async function* r8() {
  for await (const t of xT()) (await t.exists()) && (yield t);
}
async function AT() {
  for await (const t of r8()) return t;
  return null;
}
var uw,
  n8,
  o8,
  a8,
  eu,
  rc,
  tu,
  c8 = b({
    'out-build/vs/base/node/powershell.js'() {
      'use strict';
      switch (
        (xe(),
        Zt(),
        (uw = /^\d+$/),
        (n8 = /^Microsoft.PowerShell_.*/),
        (o8 = /^Microsoft.PowerShellPreview_.*/),
        (function (t) {
          (t[(t.x64 = 0)] = 'x64'), (t[(t.x86 = 1)] = 'x86'), (t[(t.ARM = 2)] = 'ARM');
        })(a8 || (a8 = {})),
        process.arch)
      ) {
        case 'ia32':
          eu = 1;
          break;
        case 'arm':
        case 'arm64':
          eu = 2;
          break;
        default:
          eu = 0;
          break;
      }
      process.env.PROCESSOR_ARCHITEW6432
        ? (rc = process.env.PROCESSOR_ARCHITEW6432 === 'ARM64' ? 2 : 0)
        : process.env.PROCESSOR_ARCHITECTURE === 'ARM64'
        ? (rc = 2)
        : process.env.PROCESSOR_ARCHITECTURE === 'X86'
        ? (rc = 1)
        : (rc = 0),
        (tu = class {
          constructor(t, e, i) {
            (this.exePath = t), (this.displayName = e), (this.a = i);
          }
          async exists() {
            return this.a === void 0 && (this.a = await Si.existsFile(this.exePath)), this.a;
          }
        });
    },
  });
import { promises as l8 } from 'fs';
function u8(t = Ye) {
  return t.comspec || 'cmd.exe';
}
function IT(t) {
  let e = [],
    i = !1;
  const s = function (r) {
    if (i) {
      e.push(r);
      return;
    }
    (!t.send(r, (o) => {
      if ((o && console.error(o), (i = !1), e.length > 0)) {
        const a = e.slice(0);
        (e = []), a.forEach((c) => s(c));
      }
    }) ||
      J) &&
      (i = !0);
  };
  return { send: s };
}
async function $T(t) {
  if (await ge.exists(t)) {
    let e;
    try {
      e = await l8.stat(t);
    } catch (i) {
      i.message.startsWith('EACCES') && (e = await l8.lstat(t));
    }
    return e ? !e.isDirectory() : !1;
  }
  return !1;
}
async function hw(t, e, i, s = Ye, r = $T) {
  if (Sa(t)) return (await r(t)) ? t : void 0;
  if ((e === void 0 && (e = zr()), vi(t) !== '.')) {
    const c = M(e, t);
    return (await r(c)) ? c : void 0;
  }
  const o = v4(s, 'PATH');
  if ((i === void 0 && ot(o) && (i = o.split(ud)), i === void 0 || i.length === 0)) {
    const c = M(e, t);
    return (await r(c)) ? c : void 0;
  }
  for (const c of i) {
    let l;
    if ((Sa(c) ? (l = M(c, t)) : (l = M(e, c, t)), J)) {
      const d = (v4(s, 'PATHEXT') || '.COM;.EXE;.BAT;.CMD').split(';').map(async (p) => {
        const m = l + p;
        return (await r(m)) ? m : void 0;
      });
      for (const p of d) {
        const m = await p;
        if (m) return m;
      }
    }
    if (await r(l)) return l;
  }
  const a = M(e, t);
  return (await r(a)) ? a : void 0;
}
var $f = b({
  'out-build/vs/base/node/processes.js'() {
    'use strict';
    mi(), xe(), ie(), Vs(), Df(), $e(), Zt();
  },
});
import { userInfo as PT } from 'os';
async function h8(t, e) {
  return t === 1 ? (J ? LT() : u8(e)) : _T(t, e);
}
function _T(t, e) {
  if ((Fe && t === 2) || (Q && t === 3)) return '/bin/bash';
  if (!Pf) {
    let i;
    if (J) i = '/bin/bash';
    else {
      if (((i = e.SHELL), !i))
        try {
          i = PT().shell;
        } catch {}
      i || (i = 'sh'), i === '/bin/false' && (i = '/bin/bash');
    }
    Pf = i;
  }
  return Pf;
}
async function LT() {
  return _f || (_f = (await AT()).exePath), _f;
}
var Pf,
  _f,
  d8 = b({
    'out-build/vs/base/node/shell.js'() {
      'use strict';
      ie(), c8(), $f(), (Pf = null), (_f = null);
    },
  });
function TT(t, e, i) {
  return Math.min(Math.max(t, e), i);
}
var MT = b({
  'out-build/vs/base/common/numbers.js'() {
    'use strict';
    Jh();
  },
});
import { spawn as FT } from 'child_process';
async function dw(t, e, i, s) {
  return i['force-disable-user-env']
    ? (e.trace('resolveShellEnv(): skipped (--force-disable-user-env)'), {})
    : J
    ? (e.trace('resolveShellEnv(): skipped (Windows)'), {})
    : zo(s) && !i['force-user-env']
    ? (e.trace('resolveShellEnv(): skipped (VSCODE_CLI is set)'), {})
    : (zo(s)
        ? e.trace('resolveShellEnv(): running (--force-user-env)')
        : e.trace('resolveShellEnv(): running (macOS/Linux)'),
      Lf ||
        (Lf = ui.withAsyncBody(async (r, n) => {
          const o = new Js();
          let a = 3e4;
          const c = t.getValue('application.shellEnvironmentResolutionTimeout');
          typeof c == 'number' && (a = TT(c, 1, 120) * 1e3);
          const l = setTimeout(() => {
            o.dispose(!0), n(new Error(u(2274, null)));
          }, a);
          try {
            r(await OT(e, o.token));
          } catch (h) {
            !qh(h) && !o.token.isCancellationRequested ? n(new Error(u(2275, null, ki(h)))) : r({});
          } finally {
            clearTimeout(l), o.dispose();
          }
        })),
      Lf);
}
async function OT(t, e) {
  const i = process.env.ELECTRON_RUN_AS_NODE;
  t.trace('getUnixShellEnvironment#runAsNode', i);
  const s = process.env.ELECTRON_NO_ATTACH_CONSOLE;
  t.trace('getUnixShellEnvironment#noAttach', s);
  const r = ei().replace(/-/g, '').substr(0, 12),
    n = new RegExp(r + '({.*})' + r),
    o = {
      ...process.env,
      ELECTRON_RUN_AS_NODE: '1',
      ELECTRON_NO_ATTACH_CONSOLE: '1',
      VSCODE_RESOLVING_ENVIRONMENT: '1',
    };
  t.trace('getUnixShellEnvironment#env', o);
  const a = await h8(ws, o);
  return (
    t.trace('getUnixShellEnvironment#shell', a),
    new Promise((c, l) => {
      if (e.isCancellationRequested) return l(new Hi());
      const h = ct(a);
      let d, p;
      const m = '';
      /^(?:pwsh|powershell)(?:-preview)?$/.test(h)
        ? ((d = `& '${process.execPath}' ${m} -p '''${r}'' + JSON.stringify(process.env) + ''${r}'''`),
          (p = ['-Login', '-Command']))
        : h === 'nu'
        ? ((d = `^'${process.execPath}' ${m} -p '"${r}" + JSON.stringify(process.env) + "${r}"'`),
          (p = ['-i', '-l', '-c']))
        : h === 'xonsh'
        ? ((d = `import os, json; print("${r}", json.dumps(dict(os.environ)), "${r}")`),
          (p = ['-i', '-l', '-c']))
        : ((d = `'${process.execPath}' ${m} -p '"${r}" + JSON.stringify(process.env) + "${r}"'`),
          h === 'tcsh' || h === 'csh' ? (p = ['-ic']) : (p = ['-i', '-l', '-c'])),
        t.trace('getUnixShellEnvironment#spawn', JSON.stringify(p), d);
      const w = FT(a, [...p, d], { detached: !0, stdio: ['ignore', 'pipe', 'pipe'], env: o });
      e.onCancellationRequested(() => (w.kill(), l(new Hi()))),
        w.on('error', (y) => {
          t.error('getUnixShellEnvironment#errorChildProcess', ki(y)), l(y);
        });
      const v = [];
      w.stdout.on('data', (y) => v.push(y));
      const k = [];
      w.stderr.on('data', (y) => k.push(y)),
        w.on('close', (y, C) => {
          const I = Buffer.concat(v).toString('utf8');
          t.trace('getUnixShellEnvironment#raw', I);
          const E = Buffer.concat(k).toString('utf8');
          if ((E.trim() && t.trace('getUnixShellEnvironment#stderr', E), y || C))
            return l(new Error(u(2276, null, y, C)));
          const x = n.exec(I),
            F = x ? x[1] : '{}';
          try {
            const Y = JSON.parse(F);
            i ? (Y.ELECTRON_RUN_AS_NODE = i) : delete Y.ELECTRON_RUN_AS_NODE,
              s ? (Y.ELECTRON_NO_ATTACH_CONSOLE = s) : delete Y.ELECTRON_NO_ATTACH_CONSOLE,
              delete Y.VSCODE_RESOLVING_ENVIRONMENT,
              delete Y.XDG_RUNTIME_DIR,
              t.trace('getUnixShellEnvironment#result', Y),
              c(Y);
          } catch (Y) {
            t.error('getUnixShellEnvironment#errorCaught', ki(Y)), l(Y);
          }
        });
    })
  );
}
var Lf,
  fw = b({
    'out-build/vs/platform/shell/node/shellEnv.js'() {
      'use strict';
      xe(), he(), jt(), Fn(), He(), ie(), hi(), d8(), Zl(), le(), MT(), (Lf = void 0);
    },
  }),
  pw,
  f8,
  RT = b({
    'out-build/vs/platform/extensions/common/extensionHostStarter.js'() {
      'use strict';
      K(), (pw = W('extensionHostStarter')), (f8 = 'extensionHostStarter');
    },
  }),
  gw,
  Tf,
  NT = b({
    'out-build/vs/platform/extensions/electron-main/extensionHostStarter.js'() {
      'use strict';
      le(),
        He(),
        X(),
        U(),
        St(),
        se(),
        Gt(),
        Ho(),
        qt(),
        ls(),
        (Tf = class extends H {
          static {
            gw = this;
          }
          static {
            this.a = 0;
          }
          constructor(e, i, s, r, n) {
            super(),
              (this.f = e),
              (this.g = i),
              (this.h = s),
              (this.j = r),
              (this.m = n),
              (this.b = new Map()),
              (this.c = !1),
              this.B(
                this.g.onWillShutdown((o) => {
                  (this.c = !0), o.join('extHostStarter', this._waitForAllExit(6e3));
                })
              );
          }
          dispose() {
            super.dispose();
          }
          n(e) {
            const i = this.b.get(e);
            if (!i) throw new Error('Unknown extension host!');
            return i;
          }
          async getProcessId(e) {
            return this.n(e).processId();
          }
          onDynamicStdout(e) {
            return this.n(e).onStdout;
          }
          onDynamicStderr(e) {
            return this.n(e).onStderr;
          }
          onDynamicMessage(e) {
            return this.n(e).onMessage;
          }
          onDynamicExit(e) {
            return this.n(e).onExit;
          }
          async createExtensionHost() {
            if (this.c) throw ba();
            const e = String(++gw.a),
              i = new Yl(this.f, this.h, this.j, this.g, this.m);
            this.b.set(e, i);
            const s = i.onExit(({ pid: r, code: n, signal: o }) => {
              s.dispose(),
                this.f.info(`Extension host with pid ${r} exited with code: ${n}, signal: ${o}.`),
                setTimeout(() => {
                  i.dispose(), this.b.delete(e);
                }),
                setTimeout(() => {
                  try {
                    process.kill(r, 0),
                      this.f.error(
                        `Extension host with pid ${r} still exists, forcefully killing it...`
                      ),
                      process.kill(r);
                  } catch {}
                }, 1e3);
            });
            return { id: e };
          }
          async start(e, i) {
            if (this.c) throw ba();
            const s = this.n(e);
            return (
              s.start({
                ...i,
                type: 'extensionHost',
                entryPoint: 'vs/workbench/api/node/extensionHostProcess',
                args: ['--skipWorkspaceStorageLock'],
                execArgv: i.execArgv,
                allowLoadingUnsignedLibraries: !0,
                respondToAuthRequestsFromMainProcess: !0,
                correlationId: e,
              }),
              { pid: await P.toPromise(s.onSpawn) }
            );
          }
          async enableInspectPort(e) {
            if (this.c) throw ba();
            const i = this.b.get(e);
            return i ? i.enableInspectPort() : !1;
          }
          async kill(e) {
            if (this.c) throw ba();
            const i = this.b.get(e);
            i && i.kill();
          }
          async _killAllNow() {
            for (const [, e] of this.b) e.kill();
          }
          async _waitForAllExit(e) {
            const i = [];
            for (const [, s] of this.b) i.push(s.waitForExit(e));
            return ui.settled(i).then(() => {});
          }
        }),
        (Tf = gw =
          __decorate(
            [__param(0, ee), __param(1, st), __param(2, Tt), __param(3, Vt), __param(4, Bi)],
            Tf
          ));
    },
  }),
  iu,
  BT = b({
    'out-build/vs/platform/externalTerminal/electron-main/externalTerminal.js'() {
      'use strict';
      K(), (iu = W('externalTerminal'));
    },
  }),
  UT,
  su,
  jT = b({
    'out-build/vs/platform/externalTerminal/common/externalTerminal.js'() {
      'use strict';
      K(), (UT = W('externalTerminal')), (su = 'Terminal.app');
    },
  });
import * as nc from 'child_process';
function oc(t) {
  const e = { ...t.env };
  return aT(e), e;
}
function mw(t) {
  return 'errno' in t && t.errno === 'ENOENT' && 'path' in t && typeof t.path == 'string'
    ? new Error(u(1980, null, t.path))
    : t;
}
function WT(t) {
  let e = '';
  for (const i of t) i.indexOf(' ') >= 0 ? (e += '"' + i + '"') : (e += i), (e += ' ');
  return e;
}
var ww,
  Mf,
  Ff,
  p8,
  bw,
  HT = b({
    'out-build/vs/platform/externalTerminal/node/externalTerminalService.js'() {
      'use strict';
      Qr(),
        Oe(),
        xe(),
        ie(),
        Df(),
        Zt(),
        $f(),
        he(),
        jT(),
        (ww = u(1975, null)),
        (Mf = class {
          async getDefaultTerminalForPlatforms() {
            return {
              windows: Ff.getDefaultTerminalWindows(),
              linux: await bw.getDefaultTerminalLinuxReady(),
              osx: 'xterm',
            };
          }
        }),
        (Ff = class kn extends Mf {
          static {
            this.b = 'cmd.exe';
          }
          openTerminal(e, i) {
            return this.spawnTerminal(nc, e, u8(), i);
          }
          spawnTerminal(e, i, s, r) {
            const n = i.windowsExec || kn.getDefaultTerminalWindows();
            r && r[1] === ':' && (r = r[0].toUpperCase() + r.substr(1));
            const o = ct(n, '.exe').toLowerCase();
            if (o === 'cmder') return e.spawn(n, r ? [r] : void 0), Promise.resolve(void 0);
            const a = ['/c', 'start', '/wait'];
            return (
              n.indexOf(' ') >= 0 && a.push(n),
              a.push(n),
              o === 'wt' && a.push('-d .'),
              new Promise((c, l) => {
                const h = oc(process),
                  d = e.spawn(s, a, { cwd: r, env: h, detached: !0 });
                d.on('error', l), d.on('exit', () => c());
              })
            );
          }
          async runInTerminal(e, i, s, r, n) {
            const o =
                'windowsExec' in n && n.windowsExec
                  ? n.windowsExec
                  : kn.getDefaultTerminalWindows(),
              a = await kn.f();
            return new Promise((c, l) => {
              const h = `"${i} - ${ww}"`,
                d = `"${s.join('" "')}" & pause`,
                p = Object.assign({}, oc(process), r);
              Object.keys(p)
                .filter((y) => p[y] === null)
                .forEach((y) => delete p[y]);
              const m = { cwd: i, env: p, windowsVerbatimArguments: !0 };
              let w, v;
              ct(o, '.exe') === 'wt'
                ? ((w = o), (v = ['-d', '.', kn.b, '/c', d]))
                : a
                ? ((w = a), (v = ['-d', '.', o, '/c', d]))
                : ((w = kn.b), (v = ['/c', 'start', h, '/wait', o, '/c', `"${d}"`])),
                nc.spawn(w, v, m).on('error', (y) => {
                  l(mw(y));
                }),
                c(void 0);
            });
          }
          static getDefaultTerminalWindows() {
            if (!kn.d) {
              const e = !!process.env.hasOwnProperty('PROCESSOR_ARCHITEW6432');
              kn.d = `${process.env.windir ? process.env.windir : 'C:\\Windows'}\\${
                e ? 'Sysnative' : 'System32'
              }\\cmd.exe`;
            }
            return kn.d;
          }
          static async f() {
            try {
              return await hw('wt');
            } catch {
              return;
            }
          }
        }),
        __decorate([ye], Ff, 'f', null),
        (p8 = class AI extends Mf {
          static {
            this.b = '/usr/bin/osascript';
          }
          openTerminal(e, i) {
            return this.spawnTerminal(nc, e, i);
          }
          runInTerminal(e, i, s, r, n) {
            const o = n.osxExec || su;
            return new Promise((a, c) => {
              if (o === su || o === 'iTerm.app') {
                const l = o === su ? 'TerminalHelper' : 'iTermHelper',
                  d = [
                    Ht.asFileUri(`vs/workbench/contrib/externalTerminal/node/${l}.scpt`).fsPath,
                    '-t',
                    e || ww,
                    '-w',
                    i,
                  ];
                for (const w of s) d.push('-a'), d.push(w);
                if (r) {
                  const w = Object.assign({}, oc(process), r);
                  for (const v in w) {
                    const k = w[v];
                    k === null ? (d.push('-u'), d.push(v)) : (d.push('-e'), d.push(`${v}=${k}`));
                  }
                }
                let p = '';
                const m = nc.spawn(AI.b, d);
                m.on('error', (w) => {
                  c(mw(w));
                }),
                  m.stderr.on('data', (w) => {
                    p += w.toString();
                  }),
                  m.on('exit', (w) => {
                    if (w === 0) a(void 0);
                    else if (p) {
                      const v = p.split(
                        `
`,
                        1
                      );
                      c(new Error(v[0]));
                    } else c(new Error(u(1976, null, l, w)));
                  });
              } else c(new Error(u(1977, null, o)));
            });
          }
          spawnTerminal(e, i, s) {
            const r = i.osxExec || su;
            return new Promise((n, o) => {
              const a = ['-a', r];
              s && a.push(s);
              const c = oc(process),
                l = e.spawn('/usr/bin/open', a, { cwd: s, env: c });
              l.on('error', o), l.on('exit', () => n());
            });
          }
        }),
        (bw = class ho extends Mf {
          static {
            this.b = u(1978, null);
          }
          openTerminal(e, i) {
            return this.spawnTerminal(nc, e, i);
          }
          runInTerminal(e, i, s, r, n) {
            const o = n.linuxExec
              ? Promise.resolve(n.linuxExec)
              : ho.getDefaultTerminalLinuxReady();
            return new Promise((a, c) => {
              const l = [];
              o.then((h) => {
                h.indexOf('gnome-terminal') >= 0 ? l.push('-x') : l.push('-e'),
                  l.push('bash'),
                  l.push('-c');
                const d = `${WT(s)}; echo; read -p "${ho.b}" -n1;`;
                l.push(`''${d}''`);
                const p = Object.assign({}, oc(process), r);
                Object.keys(p)
                  .filter((k) => p[k] === null)
                  .forEach((k) => delete p[k]);
                const m = { cwd: i, env: p };
                let w = '';
                const v = nc.spawn(h, l, m);
                v.on('error', (k) => {
                  c(mw(k));
                }),
                  v.stderr.on('data', (k) => {
                    w += k.toString();
                  }),
                  v.on('exit', (k) => {
                    if (k === 0) a(void 0);
                    else if (w) {
                      const y = w.split(
                        `
`,
                        1
                      );
                      c(new Error(y[0]));
                    } else c(new Error(u(1979, null, h, k)));
                  });
              });
            });
          }
          static async getDefaultTerminalLinuxReady() {
            if (!ho.d)
              if (!Fe) ho.d = Promise.resolve('xterm');
              else {
                const e = await ge.exists('/etc/debian_version');
                ho.d = new Promise((i) => {
                  e
                    ? i('x-terminal-emulator')
                    : process.env.DESKTOP_SESSION === 'gnome' ||
                      process.env.DESKTOP_SESSION === 'gnome-classic'
                    ? i('gnome-terminal')
                    : process.env.DESKTOP_SESSION === 'kde-plasma'
                    ? i('konsole')
                    : process.env.COLORTERM
                    ? i(process.env.COLORTERM)
                    : process.env.TERM
                    ? i(process.env.TERM)
                    : i('xterm');
                });
              }
            return ho.d;
          }
          spawnTerminal(e, i, s) {
            const r = i.linuxExec
              ? Promise.resolve(i.linuxExec)
              : ho.getDefaultTerminalLinuxReady();
            return new Promise((n, o) => {
              r.then((a) => {
                const c = oc(process),
                  l = e.spawn(a, [], { cwd: s, env: c });
                l.on('error', o), l.on('exit', () => n());
              });
            });
          }
        });
    },
  });
function g8(t, e) {
  switch (t) {
    case 0:
      return '';
    case 1:
      return `${nu}*?`;
    default:
      return `(?:${ru}|${nu}+${ru}${e ? `|${ru}${nu}+` : ''})*?`;
  }
}
function m8(t, e) {
  if (!t) return [];
  const i = [];
  let s = !1,
    r = !1,
    n = '';
  for (const o of t) {
    switch (o) {
      case e:
        if (!s && !r) {
          i.push(n), (n = '');
          continue;
        }
        break;
      case '{':
        s = !0;
        break;
      case '}':
        s = !1;
        break;
      case '[':
        r = !0;
        break;
      case ']':
        r = !1;
        break;
    }
    n += o;
  }
  return n && i.push(n), i;
}
function w8(t) {
  if (!t) return '';
  let e = '';
  const i = m8(t, kw);
  if (i.every((s) => s === ac)) e = '.*';
  else {
    let s = !1;
    i.forEach((r, n) => {
      if (r === ac) {
        if (s) return;
        e += g8(2, n === i.length - 1);
      } else {
        let o = !1,
          a = '',
          c = !1,
          l = '';
        for (const h of r) {
          if (h !== '}' && o) {
            a += h;
            continue;
          }
          if (c && (h !== ']' || !l)) {
            let d;
            h === '-'
              ? (d = h)
              : (h === '^' || h === '!') && !l
              ? (d = '^')
              : h === kw
              ? (d = '')
              : (d = Aa(h)),
              (l += d);
            continue;
          }
          switch (h) {
            case '{':
              o = !0;
              continue;
            case '[':
              c = !0;
              continue;
            case '}': {
              const p = `(?:${m8(a, ',')
                .map((m) => w8(m))
                .join('|')})`;
              (e += p), (o = !1), (a = '');
              break;
            }
            case ']': {
              (e += '[' + l + ']'), (c = !1), (l = '');
              break;
            }
            case '?':
              e += nu;
              continue;
            case '*':
              e += g8(1);
              continue;
            default:
              e += Aa(h);
          }
        }
        n < i.length - 1 && (i[n + 1] !== ac || n + 2 < i.length) && (e += ru);
      }
      s = r === ac;
    });
  }
  return e;
}
function vw(t, e) {
  if (!t) return Qs;
  let i;
  typeof t != 'string' ? (i = t.pattern) : (i = t), (i = i.trim());
  const s = `${i}_${!!e.trimForExclusions}`;
  let r = Sw.get(s);
  if (r) return b8(r, t);
  let n;
  return (
    E8.test(i)
      ? (r = zT(i.substr(4), i))
      : (n = C8.exec(yw(i, e)))
      ? (r = VT(n[1], i))
      : (e.trimForExclusions ? x8 : D8).test(i)
      ? (r = GT(i, e))
      : (n = A8.exec(yw(i, e)))
      ? (r = v8(n[1].substr(1), i, !0))
      : (n = I8.exec(yw(i, e)))
      ? (r = v8(n[1], i, !1))
      : (r = qT(i)),
    Sw.set(s, r),
    b8(r, t)
  );
}
function b8(t, e) {
  if (typeof e == 'string') return t;
  const i = function (s, r) {
    return bl(s, e.base, !Fe) ? t(r5(s.substr(e.base.length), yi), r) : null;
  };
  return (
    (i.allBasenames = t.allBasenames),
    (i.allPaths = t.allPaths),
    (i.basenames = t.basenames),
    (i.patterns = t.patterns),
    i
  );
}
function yw(t, e) {
  return e.trimForExclusions && t.endsWith('/**') ? t.substr(0, t.length - 2) : t;
}
function zT(t, e) {
  return function (i, s) {
    return typeof i == 'string' && i.endsWith(t) ? e : null;
  };
}
function VT(t, e) {
  const i = `/${t}`,
    s = `\\${t}`,
    r = function (o, a) {
      return typeof o != 'string'
        ? null
        : a
        ? a === t
          ? e
          : null
        : o === t || o.endsWith(i) || o.endsWith(s)
        ? e
        : null;
    },
    n = [t];
  return (r.basenames = n), (r.patterns = [e]), (r.allBasenames = n), r;
}
function GT(t, e) {
  const i = y8(
      t
        .slice(1, -1)
        .split(',')
        .map((a) => vw(a, e))
        .filter((a) => a !== Qs),
      t
    ),
    s = i.length;
  if (!s) return Qs;
  if (s === 1) return i[0];
  const r = function (a, c) {
      for (let l = 0, h = i.length; l < h; l++) if (i[l](a, c)) return t;
      return null;
    },
    n = i.find((a) => !!a.allBasenames);
  n && (r.allBasenames = n.allBasenames);
  const o = i.reduce((a, c) => (c.allPaths ? a.concat(c.allPaths) : a), []);
  return o.length && (r.allPaths = o), r;
}
function v8(t, e, i) {
  const s = yi === Ce.sep,
    r = s ? t : t.replace(S8, yi),
    n = yi + r,
    o = Ce.sep + t;
  let a;
  return (
    i
      ? (a = function (c, l) {
          return typeof c == 'string' &&
            (c === r || c.endsWith(n) || (!s && (c === t || c.endsWith(o))))
            ? e
            : null;
        })
      : (a = function (c, l) {
          return typeof c == 'string' && (c === r || (!s && c === t)) ? e : null;
        }),
    (a.allPaths = [(i ? '*/' : './') + t]),
    a
  );
}
function qT(t) {
  try {
    const e = new RegExp(`^${w8(t)}$`);
    return function (i) {
      return (e.lastIndex = 0), typeof i == 'string' && e.test(i) ? t : null;
    };
  } catch {
    return Qs;
  }
}
function KT(t, e = {}) {
  if (!t) return Ew;
  if (typeof t == 'string' || JT(t)) {
    const i = vw(t, e);
    if (i === Qs) return Ew;
    const s = function (r, n) {
      return !!i(r, n);
    };
    return (
      i.allBasenames && (s.allBasenames = i.allBasenames),
      i.allPaths && (s.allPaths = i.allPaths),
      s
    );
  }
  return XT(t, e);
}
function JT(t) {
  const e = t;
  return e ? typeof e.base == 'string' && typeof e.pattern == 'string' : !1;
}
function XT(t, e) {
  const i = y8(
      Object.getOwnPropertyNames(t)
        .map((a) => YT(a, t[a], e))
        .filter((a) => a !== Qs)
    ),
    s = i.length;
  if (!s) return Qs;
  if (!i.some((a) => !!a.requiresSiblings)) {
    if (s === 1) return i[0];
    const a = function (h, d) {
        let p;
        for (let m = 0, w = i.length; m < w; m++) {
          const v = i[m](h, d);
          if (typeof v == 'string') return v;
          j0(v) && (p || (p = []), p.push(v));
        }
        return p
          ? (async () => {
              for (const m of p) {
                const w = await m;
                if (typeof w == 'string') return w;
              }
              return null;
            })()
          : null;
      },
      c = i.find((h) => !!h.allBasenames);
    c && (a.allBasenames = c.allBasenames);
    const l = i.reduce((h, d) => (d.allPaths ? h.concat(d.allPaths) : h), []);
    return l.length && (a.allPaths = l), a;
  }
  const r = function (a, c, l) {
      let h, d;
      for (let p = 0, m = i.length; p < m; p++) {
        const w = i[p];
        w.requiresSiblings &&
          l &&
          (c || (c = ct(a)), h || (h = c.substr(0, c.length - ld(a).length)));
        const v = w(a, c, h, l);
        if (typeof v == 'string') return v;
        j0(v) && (d || (d = []), d.push(v));
      }
      return d
        ? (async () => {
            for (const p of d) {
              const m = await p;
              if (typeof m == 'string') return m;
            }
            return null;
          })()
        : null;
    },
    n = i.find((a) => !!a.allBasenames);
  n && (r.allBasenames = n.allBasenames);
  const o = i.reduce((a, c) => (c.allPaths ? a.concat(c.allPaths) : a), []);
  return o.length && (r.allPaths = o), r;
}
function YT(t, e, i) {
  if (e === !1) return Qs;
  const s = vw(t, i);
  if (s === Qs) return Qs;
  if (typeof e == 'boolean') return s;
  if (e) {
    const r = e.when;
    if (typeof r == 'string') {
      const n = (o, a, c, l) => {
        if (!l || !s(o, a)) return null;
        const h = r.replace('$(basename)', () => c),
          d = l(h);
        return j0(d) ? d.then((p) => (p ? t : null)) : d ? t : null;
      };
      return (n.requiresSiblings = !0), n;
    }
  }
  return s;
}
function y8(t, e) {
  const i = t.filter((a) => !!a.basenames);
  if (i.length < 2) return t;
  const s = i.reduce((a, c) => {
    const l = c.basenames;
    return l ? a.concat(l) : a;
  }, []);
  let r;
  if (e) {
    r = [];
    for (let a = 0, c = s.length; a < c; a++) r.push(e);
  } else
    r = i.reduce((a, c) => {
      const l = c.patterns;
      return l ? a.concat(l) : a;
    }, []);
  const n = function (a, c) {
    if (typeof a != 'string') return null;
    if (!c) {
      let h;
      for (h = a.length; h > 0; h--) {
        const d = a.charCodeAt(h - 1);
        if (d === 47 || d === 92) break;
      }
      c = a.substr(h);
    }
    const l = s.indexOf(c);
    return l !== -1 ? r[l] : null;
  };
  (n.basenames = s), (n.patterns = r), (n.allBasenames = s);
  const o = t.filter((a) => !a.basenames);
  return o.push(n), o;
}
function k8(t, e) {
  return Zc(t, e, (i, s) =>
    typeof i == 'string' && typeof s == 'string'
      ? i === s
      : typeof i != 'string' && typeof s != 'string'
      ? i.base === s.base && i.pattern === s.pattern
      : !1
  );
}
var ac,
  kw,
  ru,
  nu,
  S8,
  E8,
  C8,
  D8,
  x8,
  A8,
  I8,
  Sw,
  Ew,
  Qs,
  $8 = b({
    'out-build/vs/base/common/glob.js'() {
      'use strict';
      ni(),
        le(),
        qi(),
        Pi(),
        xe(),
        ie(),
        Wt(),
        (ac = '**'),
        (kw = '/'),
        (ru = '[/\\\\]'),
        (nu = '[^/\\\\]'),
        (S8 = /\//g),
        (E8 = /^\*\*\/\*\.[\w\.-]+$/),
        (C8 = /^\*\*\/([\w\.-]+)\/?$/),
        (D8 = /^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/),
        (x8 = /^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/),
        (A8 = /^\*\*((\/[\w\.-]+)+)\/?$/),
        (I8 = /^([\w\.-]+(\/[\w\.-]+)*)\/?$/),
        (Sw = new ka(1e4)),
        (Ew = function () {
          return !1;
        }),
        (Qs = function () {
          return null;
        });
    },
  });
function P8(t) {
  return typeof t.correlationId == 'number';
}
function QT(t) {
  return t.recursive === !0;
}
function _8(t) {
  return t.map((e) => ({ type: e.type, resource: _.revive(e.resource), cId: e.cId }));
}
function ZT(t) {
  const e = new F8();
  for (const i of t) e.processEvent(i);
  return e.coalesce();
}
function eM(t, e) {
  return typeof e == 'string' && !e.startsWith(ac) && !Sa(e) ? { base: t, pattern: e } : e;
}
function L8(t, e) {
  const i = [];
  for (const s of e) i.push(KT(eM(t, s)));
  return i;
}
function tM(t, e) {
  if (typeof e == 'number')
    switch (t.type) {
      case 1:
        return (e & 4) === 0;
      case 2:
        return (e & 8) === 0;
      case 0:
        return (e & 2) === 0;
    }
  return !1;
}
function iM(t) {
  if (typeof t == 'number') {
    const e = [];
    return (
      t & 4 && e.push('Added'),
      t & 8 && e.push('Deleted'),
      t & 2 && e.push('Updated'),
      e.length === 0 ? '<all>' : `[${e.join(', ')}]`
    );
  }
  return '<none>';
}
var Cw,
  T8,
  M8,
  F8,
  cc = b({
    'out-build/vs/platform/files/common/watcher.js'() {
      'use strict';
      $8(),
        U(),
        xe(),
        ie(),
        be(),
        ft(),
        (Cw = class II extends H {
          static {
            this.a = 5;
          }
          constructor(e, i, s, r) {
            super(),
              (this.h = e),
              (this.j = i),
              (this.m = s),
              (this.n = r),
              (this.c = this.B(new ko())),
              (this.f = void 0),
              (this.g = 0);
          }
          s() {
            const e = new je();
            (this.c.value = e),
              (this.b = this.r(e)),
              this.b.setVerboseLogging(this.m),
              e.add(this.b.onDidChangeFile((i) => this.h(i))),
              e.add(this.b.onDidLogMessage((i) => this.j(i))),
              e.add(this.b.onDidError((i) => this.t(i.error, i.request)));
          }
          t(e, i) {
            this.u(e, i)
              ? this.g < II.a && this.f
                ? (this.y(`restarting watcher after unexpected error: ${e}`), this.w(this.f))
                : this.y(`gave up attempting to restart watcher after unexpected error: ${e}`)
              : this.y(e);
          }
          u(e, i) {
            return !(
              !this.n.restartOnError ||
              i ||
              e.indexOf('No space left on device') !== -1 ||
              e.indexOf('EMFILE') !== -1
            );
          }
          w(e) {
            this.g++, this.s(), this.watch(e);
          }
          async watch(e) {
            (this.f = e), await this.b?.watch(e);
          }
          async setVerboseLogging(e) {
            (this.m = e), await this.b?.setVerboseLogging(e);
          }
          y(e) {
            this.j({ type: 'error', message: `[File Watcher (${this.n.type})] ${e}` });
          }
          z(e) {
            this.j({ type: 'trace', message: `[File Watcher (${this.n.type})] ${e}` });
          }
          dispose() {
            return (this.b = void 0), super.dispose();
          }
        }),
        (T8 = class extends Cw {
          constructor(t, e, i) {
            super(t, e, i, { type: 'node.js', restartOnError: !1 });
          }
        }),
        (M8 = class extends Cw {
          constructor(t, e, i) {
            super(t, e, i, { type: 'universal', restartOnError: !0 });
          }
        }),
        (F8 = class {
          constructor() {
            (this.a = new Set()), (this.b = new Map());
          }
          c(t) {
            return Fe ? t.resource.fsPath : t.resource.fsPath.toLowerCase();
          }
          processEvent(t) {
            const e = this.b.get(this.c(t));
            let i = !1;
            if (e) {
              const s = e.type,
                r = t.type;
              e.resource.fsPath !== t.resource.fsPath && (t.type === 2 || t.type === 1)
                ? (i = !0)
                : s === 1 && r === 2
                ? (this.b.delete(this.c(t)), this.a.delete(e))
                : s === 2 && r === 1
                ? (e.type = 0)
                : (s === 1 && r === 0) || (e.type = r);
            } else i = !0;
            i && (this.a.add(t), this.b.set(this.c(t), t));
          }
          coalesce() {
            const t = [],
              e = [];
            return Array.from(this.a)
              .filter((i) => (i.type !== 2 ? (t.push(i), !1) : !0))
              .sort((i, s) => i.resource.fsPath.length - s.resource.fsPath.length)
              .filter((i) =>
                e.some((s) => uL(i.resource.fsPath, s, !Fe)) ? !1 : (e.push(i.resource.fsPath), !0)
              )
              .concat(t);
          }
        });
    },
  }),
  Dw,
  sM = b({
    'out-build/vs/platform/files/common/diskFileSystemProviderClient.js'() {
      'use strict';
      bt(), Fn(), He(), X(), U(), Dl(), hi(), ft(), cc(), (Dw = 'localFilesystem');
    },
  });
async function O8(t, e, i, s, r, n) {
  let o;
  try {
    await rM(t, e, i, s, r, n);
  } catch (a) {
    o = a;
  } finally {
    o && r.errorTransformer && (o = r.errorTransformer(o)), typeof o < 'u' && i.error(o), i.end();
  }
}
async function rM(t, e, i, s, r, n) {
  xw(n);
  const o = await t.open(e, { create: !1 });
  try {
    xw(n);
    let a = 0,
      c = 0,
      l = r && typeof r.length == 'number' ? r.length : void 0,
      h = re.alloc(Math.min(r.bufferSize, typeof l == 'number' ? l : r.bufferSize)),
      d = r && typeof r.position == 'number' ? r.position : 0,
      p = 0;
    do
      (c = await t.read(o, d, h.buffer, p, h.byteLength - p)),
        (d += c),
        (p += c),
        (a += c),
        typeof l == 'number' && (l -= c),
        p === h.byteLength &&
          (await i.write(s(h)),
          (h = re.alloc(Math.min(r.bufferSize, typeof l == 'number' ? l : r.bufferSize))),
          (p = 0));
    while (c > 0 && (typeof l != 'number' || l > 0) && xw(n) && nM(a, r));
    if (p > 0) {
      let m = p;
      typeof l == 'number' && (m = Math.min(p, l)), i.write(s(h.slice(0, m)));
    }
  } catch (a) {
    throw _o(a);
  } finally {
    await t.close(o);
  }
}
function xw(t) {
  if (t.isCancellationRequested) throw ba();
  return !0;
}
function nM(t, e) {
  if (typeof e?.limits?.size == 'number' && t > e.limits.size)
    throw Xs(u(2022, null), Se.FileTooLarge);
  return !0;
}
var R8 = b({
    'out-build/vs/platform/files/common/io.js'() {
      'use strict';
      bt(), He(), he(), ft();
    },
  }),
  N8,
  oM = b({
    'out-build/vs/platform/files/common/diskFileSystemProvider.js'() {
      'use strict';
      ni(),
        le(),
        He(),
        X(),
        qi(),
        U(),
        xe(),
        cc(),
        se(),
        (N8 = class extends H {
          constructor(t, e) {
            super(),
              (this.a = t),
              (this.b = e),
              (this.c = this.B(new $())),
              (this.onDidChangeFile = this.c.event),
              (this.g = this.B(new $())),
              (this.onDidWatchError = this.g.event),
              (this.j = []),
              (this.m = this.B(new Xr(0))),
              (this.y = []),
              (this.z = this.B(new Xr(0)));
          }
          watch(t, e) {
            return e.recursive || this.b?.watcher?.forceUniversal ? this.n(t, e) : this.C(t, e);
          }
          n(t, e) {
            const i = this.r(t, e),
              s = n2(this.j, i);
            return (
              this.s(),
              _e(() => {
                s(), this.s();
              })
            );
          }
          r(t, e) {
            const i = {
              path: this.L(t),
              excludes: e.excludes,
              includes: e.includes,
              recursive: e.recursive,
              filter: e.filter,
              correlationId: e.correlationId,
            };
            if (QT(i)) {
              const s = this.b?.watcher?.recursive?.usePolling;
              s === !0
                ? (i.pollingInterval = this.b?.watcher?.recursive?.pollingInterval ?? 5e3)
                : Array.isArray(s) &&
                  s.includes(i.path) &&
                  (i.pollingInterval = this.b?.watcher?.recursive?.pollingInterval ?? 5e3);
            }
            return i;
          }
          s() {
            this.m.trigger(() => this.t()).catch((t) => Xt(t));
          }
          t() {
            return (
              this.h ||
                ((this.h = this.B(
                  this.u(
                    (t) => this.c.fire(_8(t)),
                    (t) => this.H(t),
                    this.a.getLevel() === ce.Trace
                  )
                )),
                this.B(
                  this.a.onDidChangeLogLevel(() => {
                    this.h?.setVerboseLogging(this.a.getLevel() === ce.Trace);
                  })
                )),
              this.h.watch(this.j)
            );
          }
          C(t, e) {
            const i = {
                path: this.L(t),
                excludes: e.excludes,
                includes: e.includes,
                recursive: !1,
                filter: e.filter,
                correlationId: e.correlationId,
              },
              s = n2(this.y, i);
            return (
              this.D(),
              _e(() => {
                s(), this.D();
              })
            );
          }
          D() {
            this.z.trigger(() => this.F()).catch((t) => Xt(t));
          }
          F() {
            return (
              this.w ||
                ((this.w = this.B(
                  this.G(
                    (t) => this.c.fire(_8(t)),
                    (t) => this.H(t),
                    this.a.getLevel() === ce.Trace
                  )
                )),
                this.B(
                  this.a.onDidChangeLogLevel(() => {
                    this.w?.setVerboseLogging(this.a.getLevel() === ce.Trace);
                  })
                )),
              this.w.watch(this.y)
            );
          }
          H(t) {
            t.type === 'error' && this.g.fire(t.message), this.I(t);
          }
          I(t) {
            this.a[t.type](t.message);
          }
          J(t) {
            return _i(t.fsPath);
          }
          L(t) {
            const e = this.J(t);
            return d5(e);
          }
        });
    },
  });
function aM(t) {
  const e = t;
  return e && typeof e.type == 'string' && typeof e.severity == 'string';
}
function cM(t) {
  const e = [];
  let i;
  try {
    const s = JSON.parse(t.arguments),
      r = s[s.length - 1];
    r && r.__$stack && (s.pop(), (i = r.__$stack)), e.push(...s);
  } catch {
    e.push('Unable to log remote console arguments', t.arguments);
  }
  return { args: e, stack: i };
}
function lM(t) {
  if (!t) return t;
  const e = t.indexOf(`
`);
  return e === -1 ? t : t.substring(0, e);
}
function uM(t, e) {
  const { args: i, stack: s } = cM(t),
    r = typeof i[0] == 'string' && i.length === 1;
  let n = lM(s);
  n && (n = `(${n.trim()})`);
  let o = [];
  if (
    (typeof i[0] == 'string'
      ? n && r
        ? (o = [`%c[${e}] %c${i[0]} %c${n}`, lc('blue'), lc(''), lc('grey')])
        : (o = [`%c[${e}] %c${i[0]}`, lc('blue'), lc(''), ...i.slice(1)])
      : (o = [`%c[${e}]%`, lc('blue'), ...i]),
    n && !r && o.push(n),
    typeof console[t.severity] != 'function')
  )
    throw new Error('Unknown console method');
  console[t.severity].apply(console, o);
}
function lc(t) {
  return `color: ${t}`;
}
var hM = b({
  'out-build/vs/base/common/console.js'() {
    'use strict';
    be();
  },
});
import { fork as dM } from 'child_process';
var B8,
  fM = b({
    'out-build/vs/base/parts/ipc/node/ipc.cp.js'() {
      'use strict';
      le(),
        bt(),
        jt(),
        hM(),
        He(),
        X(),
        U(),
        mi(),
        $f(),
        Df(),
        Zr(),
        (B8 = class {
          constructor(t, e) {
            (this.i = t),
              (this.j = e),
              (this.c = new Set()),
              (this.g = new Map()),
              (this.h = new $()),
              (this.onDidProcessExit = this.h.event);
            const i = e && e.timeout ? e.timeout : 6e4;
            (this.b = new H0(i)), (this.d = null), (this.f = null);
          }
          getChannel(t) {
            const e = this;
            return {
              call(i, s, r) {
                return e.k(t, i, s, r);
              },
              listen(i, s) {
                return e.l(t, i, s);
              },
            };
          }
          k(t, e, i, s = gt.None) {
            if (!this.b) return Promise.reject(new Error('disposed'));
            if (s.isCancellationRequested) return Promise.reject(ba());
            this.b.cancel();
            const r = this.n(t),
              n = $a((c) => r.call(e, i, c)),
              o = s.onCancellationRequested(() => n.cancel()),
              a = _e(() => n.cancel());
            return (
              this.c.add(a),
              n.finally(() => {
                o.dispose(),
                  this.c.delete(a),
                  this.c.size === 0 && this.b && this.b.trigger(() => this.o());
              }),
              n
            );
          }
          l(t, e, i) {
            if (!this.b) return P.None;
            this.b.cancel();
            let s;
            const r = new $({
              onWillAddFirstListener: () => {
                (s = this.n(t).listen(e, i)(r.fire, r)), this.c.add(s);
              },
              onDidRemoveLastListener: () => {
                this.c.delete(s),
                  s.dispose(),
                  this.c.size === 0 && this.b && this.b.trigger(() => this.o());
              },
            });
            return r.event;
          }
          get m() {
            if (!this.f) {
              const t = this.j && this.j.args ? this.j.args : [],
                e = Object.create(null);
              (e.env = { ...ms(process.env), VSCODE_PARENT_PID: String(process.pid) }),
                this.j && this.j.env && (e.env = { ...e.env, ...this.j.env }),
                this.j && this.j.freshExecArgv && (e.execArgv = []),
                this.j &&
                  typeof this.j.debug == 'number' &&
                  (e.execArgv = ['--nolazy', '--inspect=' + this.j.debug]),
                this.j &&
                  typeof this.j.debugBrk == 'number' &&
                  (e.execArgv = ['--nolazy', '--inspect-brk=' + this.j.debugBrk]),
                e.execArgv === void 0 &&
                  (e.execArgv = process.execArgv
                    .filter((h) => !/^--inspect(-brk)?=/.test(h))
                    .filter((h) => !h.startsWith('--vscode-'))),
                G9(e.env),
                (this.d = dM(this.i, t, e));
              const i = new $(),
                r = P.fromNodeEventEmitter(
                  this.d,
                  'message',
                  (h) => h
                )((h) => {
                  if (aM(h)) {
                    uM(h, `IPC Library: ${this.j.serverName}`);
                    return;
                  }
                  i.fire(re.wrap(Buffer.from(h, 'base64')));
                }),
                n = this.j.useQueue ? IT(this.d) : this.d,
                o = (h) => this.d && this.d.connected && n.send(h.buffer.toString('base64')),
                a = i.event,
                c = { send: o, onMessage: a };
              this.f = new $l(c);
              const l = () => this.o();
              process.once('exit', l),
                this.d.on('error', (h) =>
                  console.warn('IPC "' + this.j.serverName + '" errored with ' + h)
                ),
                this.d.on('exit', (h, d) => {
                  process.removeListener('exit', l),
                    r.dispose(),
                    this.c.forEach((p) => Qt(p)),
                    this.c.clear(),
                    h !== 0 &&
                      d !== 'SIGTERM' &&
                      console.warn(
                        'IPC "' +
                          this.j.serverName +
                          '" crashed with exit code ' +
                          h +
                          ' and signal ' +
                          d
                      ),
                    this.b?.cancel(),
                    this.o(),
                    this.h.fire({ code: h, signal: d });
                });
            }
            return this.f;
          }
          n(t) {
            let e = this.g.get(t);
            return e || ((e = this.m.getChannel(t)), this.g.set(t, e)), e;
          }
          o() {
            this.f && (this.d && (this.d.kill(), (this.d = null)), (this.f = null), this.g.clear());
          }
          dispose() {
            this.h.dispose(), this.b?.cancel(), (this.b = void 0), this.o(), this.c.clear();
          }
        });
    },
  }),
  U8,
  pM = b({
    'out-build/vs/platform/files/node/watcher/watcherClient.js'() {
      'use strict';
      Oe(),
        Zr(),
        fM(),
        cc(),
        (U8 = class extends M8 {
          constructor(t, e, i) {
            super(t, e, i), this.s();
          }
          r(t) {
            const e = t.add(
              new B8(Ht.asFileUri('bootstrap-fork').fsPath, {
                serverName: 'File Watcher',
                args: ['--type=fileWatcher'],
                env: {
                  VSCODE_ESM_ENTRYPOINT: 'vs/platform/files/node/watcher/watcherMain',
                  VSCODE_PIPE_LOGGING: 'true',
                  VSCODE_VERBOSE_LOGGING: 'true',
                },
              })
            );
            return (
              t.add(
                e.onDidProcessExit(({ code: i, signal: s }) =>
                  this.t(`terminated by itself with code ${i}, signal: ${s} (ETERM)`)
                )
              ),
              Qe.toService(D_(e.getChannel('watcher')))
            );
          }
        });
    },
  });
import { watchFile as gM, unwatchFile as mM } from 'fs';
var j8,
  wM = b({
    'out-build/vs/platform/files/node/watcher/baseWatcher.js'() {
      'use strict';
      U(),
        cc(),
        X(),
        be(),
        le(),
        Io(),
        He(),
        (j8 = class extends H {
          constructor() {
            super(),
              (this.a = this.B(new $())),
              (this.onDidChangeFile = this.a.event),
              (this.b = this.B(new $())),
              (this.onDidLogMessage = this.b.event),
              (this.c = this.B(new $())),
              (this.f = this.c.event),
              (this.g = new Map()),
              (this.h = new Map()),
              (this.j = this.B(new f0())),
              (this.m = new Set()),
              (this.n = this.B(new Xr(this.y()))),
              (this.r = 5007),
              (this.s = new zt()),
              (this.R = !1),
              this.B(
                this.f((t) =>
                  this.z({
                    id: this.u(t),
                    correlationId: this.t(t) ? t.correlationId : void 0,
                    path: t.path,
                  })
                )
              );
          }
          t(t) {
            return P8(t);
          }
          u(t) {
            return this.t(t) ? t.correlationId : Un(t);
          }
          async watch(t) {
            this.s.isSettled || this.s.complete(), (this.s = new zt());
            try {
              this.g.clear(), this.h.clear();
              for (const e of t)
                this.t(e) ? this.g.set(e.correlationId, e) : this.h.set(this.u(e), e);
              for (const [e] of this.j)
                !this.h.has(e) && !this.g.has(e) && (this.j.deleteAndDispose(e), this.m.delete(e));
              return await this.w(!1);
            } finally {
              this.s.complete();
            }
          }
          w(t) {
            const e = [];
            for (const [i, s] of [...this.h, ...this.g]) this.j.has(i) || e.push(s);
            return this.n.trigger(() => this.N(e), t ? this.y() : 0).catch((i) => Xt(i));
          }
          y() {
            return 800;
          }
          isSuspended(t) {
            const e = this.u(t);
            return this.m.has(e) ? 'polling' : this.j.has(e);
          }
          async z(t) {
            if (this.j.has(t.id)) return;
            const e = new je();
            this.j.set(t.id, e), await this.s.p, !e.isDisposed && (this.D(t, e), this.w(!0));
          }
          C(t) {
            this.j.deleteAndDispose(t.id), this.m.delete(t.id), this.w(!1);
          }
          D(t, e) {
            this.F(t, e)
              ? (this.P(`reusing an existing recursive watcher to monitor ${t.path}`),
                this.m.delete(t.id))
              : (this.G(t, e), this.m.add(t.id));
          }
          F(t, e) {
            const i = this.O?.subscribe(t.path, (s, r) => {
              e.isDisposed || (s ? this.D(t, e) : r?.type === 1 && this.H(t));
            });
            return i ? (e.add(i), !0) : !1;
          }
          G(t, e) {
            let i = !1;
            const s = (r, n) => {
              if (e.isDisposed) return;
              const o = this.I(r),
                a = this.I(n),
                c = i;
              (i = o), !o && (a || c) && this.H(t);
            };
            this.P(`starting fs.watchFile() on ${t.path} (correlationId: ${t.correlationId})`);
            try {
              gM(t.path, { persistent: !1, interval: this.r }, s);
            } catch (r) {
              this.Q(
                `fs.watchFile() failed with error ${r} on path ${t.path} (correlationId: ${t.correlationId})`
              );
            }
            e.add(
              _e(() => {
                this.P(`stopping fs.watchFile() on ${t.path} (correlationId: ${t.correlationId})`);
                try {
                  mM(t.path, s);
                } catch (r) {
                  this.Q(
                    `fs.unwatchFile() failed with error ${r} on path ${t.path} (correlationId: ${t.correlationId})`
                  );
                }
              })
            );
          }
          H(t) {
            this.P(
              `detected ${t.path} exists again, resuming watcher (correlationId: ${t.correlationId})`
            );
            const e = { resource: _.file(t.path), type: 1, cId: t.correlationId };
            this.a.fire([e]), this.J(e, t), this.C(t);
          }
          I(t) {
            return t.ctimeMs === 0 && t.ino === 0;
          }
          async stop() {
            this.j.clearAndDisposeAll(), this.m.clear();
          }
          J(t, e) {
            if (this.R) {
              const i = ` >> normalized ${
                t.type === 1 ? '[ADDED]' : t.type === 2 ? '[DELETED]' : '[CHANGED]'
              } ${t.resource.fsPath}`;
              this.L(i, e);
            }
          }
          L(t, e) {
            this.R &&
              this.P(`${t}${typeof e.correlationId == 'number' ? ` <${e.correlationId}> ` : ''}`);
          }
          M(t) {
            return `${t.path} (excludes: ${
              t.excludes.length > 0 ? t.excludes : '<none>'
            }, includes: ${
              t.includes && t.includes.length > 0 ? JSON.stringify(t.includes) : '<all>'
            }, filter: ${iM(t.filter)}, correlationId: ${
              typeof t.correlationId == 'number' ? t.correlationId : '<none>'
            })`;
          }
          async setVerboseLogging(t) {
            this.R = t;
          }
        });
    },
  });
import * as W8 from 'fs';
async function H8(t) {
  try {
    return await ge.realpath(t);
  } catch {
    const i = bM(t);
    return await W8.promises.access(i, W8.constants.R_OK), i;
  }
}
function bM(t) {
  return Co(_i(t), yi);
}
var z8 = b({
  'out-build/vs/base/node/extpath.js'() {
    'use strict';
    xe(), ie(), Wt(), Zt();
  },
});
import { watch as vM, promises as yM } from 'fs';
var V8,
  kM = b({
    'out-build/vs/platform/files/node/watcher/nodejs/nodejsWatcherLib.js'() {
      'use strict';
      le(),
        jt(),
        qi(),
        U(),
        vd(),
        xe(),
        ie(),
        lt(),
        be(),
        z8(),
        Zt(),
        cc(),
        xa(),
        (V8 = class Pg extends H {
          static {
            this.a = 100;
          }
          static {
            this.b = 75;
          }
          get isReusingRecursiveWatcher() {
            return this.r;
          }
          get failed() {
            return this.s;
          }
          constructor(e, i, s, r, n, o) {
            super(),
              (this.t = e),
              (this.u = i),
              (this.w = s),
              (this.y = r),
              (this.z = n),
              (this.C = o),
              (this.c = this.B(
                new L5({ maxWorkChunkSize: 100, throttleDelay: 200, maxBufferedWork: 1e4 }, (a) =>
                  this.w(a)
                )
              )),
              (this.f = this.B(new _5((a) => this.M(a), Pg.b))),
              (this.g = L8(this.t.path, this.t.excludes)),
              (this.h = this.t.includes ? L8(this.t.path, this.t.includes) : void 0),
              (this.j = P8(this.t) ? this.t.filter : void 0),
              (this.m = new Js()),
              (this.n = new Jr(async () => {
                let a = this.t.path;
                try {
                  (a = await H8(this.t.path)),
                    this.t.path !== a &&
                      this.Q(
                        `correcting a path to watch that seems to be a symbolic link (original: ${this.t.path}, real: ${a})`
                      );
                } catch {}
                return a;
              })),
              (this.ready = this.D()),
              (this.r = !1),
              (this.s = !1);
          }
          async D() {
            try {
              const e = await yM.stat(this.t.path);
              if (this.m.token.isCancellationRequested) return;
              this.B(await this.G(e.isDirectory()));
            } catch (e) {
              e.code !== 'ENOENT'
                ? this.O(e)
                : this.Q(
                    `ignoring a path for watching who's stat info failed to resolve: ${this.t.path} (error: ${e})`
                  ),
                this.F();
            }
          }
          F() {
            (this.s = !0), this.y?.();
          }
          async G(e) {
            const i = new je();
            return (
              this.H(e, i)
                ? (this.Q(`reusing an existing recursive watcher for ${this.t.path}`),
                  (this.r = !0))
                : ((this.r = !1), await this.I(e, i)),
              i
            );
          }
          H(e, i) {
            if (e) return !1;
            const s = _.file(this.t.path),
              r = this.u?.subscribe(this.t.path, async (n, o) => {
                if (!i.isDisposed)
                  if (n) {
                    const a = await this.G(e);
                    i.isDisposed ? a.dispose() : i.add(a);
                  } else
                    o &&
                      (typeof o.cId == 'number' || typeof this.t.correlationId == 'number') &&
                      this.L({ resource: s, type: o.type, cId: this.t.correlationId }, !0);
              });
            return r ? (i.add(r), !0) : !1;
          }
          async I(e, i) {
            const s = await this.n.value;
            if (Q && bl(s, '/Volumes/', !0)) {
              this.O(
                `Refusing to watch ${s} for changes using fs.watch() for possibly being a network share where watching is unreliable and unstable.`
              );
              return;
            }
            const r = new Js(this.m.token);
            i.add(_e(() => r.dispose(!0)));
            const n = new je();
            i.add(n);
            try {
              const o = _.file(this.t.path),
                a = ct(s),
                c = vM(s);
              n.add(
                _e(() => {
                  c.removeAllListeners(), c.close();
                })
              ),
                this.Q(`Started watching: '${s}'`);
              const l = new Set();
              if (e)
                try {
                  for (const d of await ge.readdir(s)) l.add(d);
                } catch (d) {
                  this.O(d);
                }
              if (r.token.isCancellationRequested) return;
              const h = new Map();
              n.add(
                _e(() => {
                  for (const [, d] of h) d.dispose();
                  h.clear();
                })
              ),
                c.on('error', (d, p) => {
                  r.token.isCancellationRequested ||
                    (this.O(`Failed to watch ${s} for changes using fs.watch() (${d}, ${p})`),
                    this.F());
                }),
                c.on('change', (d, p) => {
                  if (r.token.isCancellationRequested) return;
                  this.C && this.R(`[raw] ["${d}"] ${p}`);
                  let m = '';
                  if (
                    (p && ((m = p.toString()), Q && (m = La(m))),
                    !(!m || (d !== 'change' && d !== 'rename')))
                  )
                    if (e)
                      if (d === 'rename') {
                        h.get(m)?.dispose();
                        const w = setTimeout(async () => {
                          if ((h.delete(m), wl(m, a, !Fe) && !(await ge.exists(s)))) {
                            this.J(o);
                            return;
                          }
                          if (r.token.isCancellationRequested) return;
                          const v = await this.N(M(s, m));
                          if (r.token.isCancellationRequested) return;
                          let k;
                          v ? (l.has(m) ? (k = 0) : ((k = 1), l.add(m))) : (l.delete(m), (k = 2)),
                            this.L({ resource: we(o, m), type: k, cId: this.t.correlationId });
                        }, Pg.a);
                        h.set(
                          m,
                          _e(() => clearTimeout(w))
                        );
                      } else {
                        let w;
                        l.has(m) ? (w = 0) : ((w = 1), l.add(m)),
                          this.L({ resource: we(o, m), type: w, cId: this.t.correlationId });
                      }
                    else if (d === 'rename' || !wl(m, a, !Fe)) {
                      const w = setTimeout(async () => {
                        const v = await ge.exists(s);
                        r.token.isCancellationRequested ||
                          (v
                            ? (this.L({ resource: o, type: 0, cId: this.t.correlationId }, !0),
                              n.add(await this.G(!1)))
                            : this.J(o));
                      }, Pg.a);
                      n.clear(), n.add(_e(() => clearTimeout(w)));
                    } else this.L({ resource: o, type: 0, cId: this.t.correlationId }, !0);
                });
            } catch (o) {
              r.token.isCancellationRequested ||
                this.O(`Failed to watch ${s} for changes using fs.watch() (${o.toString()})`),
                this.F();
            }
          }
          J(e) {
            this.P('Watcher shutdown because watched path got deleted'),
              this.L({ resource: e, type: 2, cId: this.t.correlationId }, !0),
              this.f.flush(),
              this.F();
          }
          L(e, i = !1) {
            this.m.token.isCancellationRequested ||
              (this.C &&
                this.R(
                  `${e.type === 1 ? '[ADDED]' : e.type === 2 ? '[DELETED]' : '[CHANGED]'} ${
                    e.resource.fsPath
                  }`
                ),
              !i && this.g.some((s) => s(e.resource.fsPath))
                ? this.C && this.R(` >> ignored (excluded) ${e.resource.fsPath}`)
                : !i && this.h && this.h.length > 0 && !this.h.some((s) => s(e.resource.fsPath))
                ? this.C && this.R(` >> ignored (not included) ${e.resource.fsPath}`)
                : this.f.work(e));
          }
          M(e) {
            const i = ZT(e),
              s = [];
            for (const n of i) {
              if (tM(n, this.j)) {
                this.C && this.R(` >> ignored (filtered) ${n.resource.fsPath}`);
                continue;
              }
              s.push(n);
            }
            if (s.length === 0) return;
            if (this.C)
              for (const n of s)
                this.R(
                  ` >> normalized ${
                    n.type === 1 ? '[ADDED]' : n.type === 2 ? '[DELETED]' : '[CHANGED]'
                  } ${n.resource.fsPath}`
                );
            this.c.work(s)
              ? this.c.pending > 0 &&
                this.Q(
                  `started throttling events due to large amount of file change events at once (pending: ${this.c.pending}, most recent change: ${s[0].resource.fsPath}). Use 'files.watcherExclude' setting to exclude folders with lots of changing files (e.g. compilation output).`
                )
              : this.P(
                  `started ignoring events due to too many file change events at once (incoming: ${s.length}, most recent change: ${s[0].resource.fsPath}). Use 'files.watcherExclude' setting to exclude folders with lots of changing files (e.g. compilation output).`
                );
          }
          async N(e) {
            if (Fe) return ge.exists(e);
            try {
              const i = ct(e);
              return (await ge.readdir(vi(e))).some((r) => r === i);
            } catch (i) {
              return this.Q(i), !1;
            }
          }
          setVerboseLogging(e) {
            this.C = e;
          }
          O(e) {
            this.m.token.isCancellationRequested ||
              this.z?.({ type: 'error', message: `[File Watcher (node.js)] ${e}` });
          }
          P(e) {
            this.m.token.isCancellationRequested ||
              this.z?.({ type: 'warn', message: `[File Watcher (node.js)] ${e}` });
          }
          Q(e) {
            !this.m.token.isCancellationRequested &&
              this.C &&
              this.z?.({ type: 'trace', message: `[File Watcher (node.js)] ${e}` });
          }
          R(e) {
            !this.m.token.isCancellationRequested &&
              this.C &&
              this.Q(
                `${e}${
                  typeof this.t.correlationId == 'number' ? ` <${this.t.correlationId}> ` : ''
                }`
              );
          }
          dispose() {
            this.m.dispose(!0), super.dispose();
          }
        });
    },
  }),
  G8,
  SM = b({
    'out-build/vs/platform/files/node/watcher/nodejs/nodejsWatcher.js'() {
      'use strict';
      X(),
        $8(),
        wM(),
        ie(),
        kM(),
        (G8 = class extends j8 {
          get watchers() {
            return this.S.values();
          }
          constructor(t) {
            super(), (this.O = t), (this.onDidError = P.None), (this.S = new Map());
          }
          async N(t) {
            t = this.ab(t);
            const e = [],
              i = new Set(Array.from(this.watchers));
            for (const s of t) {
              const r = this.S.get(this.X(s));
              r && k8(r.request.excludes, s.excludes) && k8(r.request.includes, s.includes)
                ? i.delete(r)
                : e.push(s);
            }
            e.length && this.P(`Request to start watching: ${e.map((s) => this.M(s)).join(',')}`),
              i.size &&
                this.P(
                  `Request to stop watching: ${Array.from(i)
                    .map((s) => this.M(s.request))
                    .join(',')}`
                );
            for (const s of i) this.$(s);
            for (const s of e) this.Z(s);
          }
          X(t) {
            return typeof t.correlationId == 'number' ? t.correlationId : this.Y(t.path);
          }
          Y(t) {
            return Fe ? t : t.toLowerCase();
          }
          Z(t) {
            const e = new V8(
                t,
                this.O,
                (s) => this.a.fire(s),
                () => this.c.fire(t),
                (s) => this.b.fire(s),
                this.R
              ),
              i = { request: t, instance: e };
            this.S.set(this.X(t), i);
          }
          async stop() {
            await super.stop();
            for (const t of this.watchers) this.$(t);
          }
          $(t) {
            this.P('stopping file watcher', t),
              this.S.delete(this.X(t.request)),
              t.instance.dispose();
          }
          ab(t) {
            const e = new Map();
            for (const i of t) {
              let s = e.get(i.correlationId);
              s || ((s = new Map()), e.set(i.correlationId, s));
              const r = this.Y(i.path);
              s.has(r) &&
                this.P(
                  `ignoring a request for watching who's path is already watched: ${this.M(i)}`
                ),
                s.set(r, i);
            }
            return Array.from(e.values())
              .map((i) => Array.from(i.values()))
              .flat();
          }
          async setVerboseLogging(t) {
            super.setVerboseLogging(t);
            for (const e of this.watchers) e.instance.setVerboseLogging(t);
          }
          P(t, e) {
            this.R && this.b.fire({ type: 'trace', message: this.db(t, e) });
          }
          Q(t) {
            this.b.fire({ type: 'warn', message: this.db(t) });
          }
          db(t, e) {
            return e
              ? `[File Watcher (node.js)] ${t} (${this.M(e.request)})`
              : `[File Watcher (node.js)] ${t}`;
          }
        });
    },
  }),
  q8,
  EM = b({
    'out-build/vs/platform/files/node/watcher/nodejs/nodejsClient.js'() {
      'use strict';
      cc(),
        SM(),
        (q8 = class extends T8 {
          constructor(t, e, i) {
            super(t, e, i), this.s();
          }
          r(t) {
            return t.add(new G8(void 0));
          }
        });
    },
  });
import { promises as Vo } from 'fs';
var Of,
  Aw = b({
    'out-build/vs/platform/files/node/diskFileSystemProvider.js'() {
      'use strict';
      le(),
        Pi(),
        bt(),
        X(),
        qi(),
        U(),
        xe(),
        ie(),
        lt(),
        Dl(),
        Zt(),
        he(),
        ft(),
        R8(),
        oM(),
        pM(),
        EM(),
        (Of = class Uh extends N8 {
          static {
            this.M = !1;
          }
          constructor(e, i) {
            super(e, i),
              (this.onDidChangeCapabilities = P.None),
              (this.Q = new bi((s) => yt.getComparisonKey(s))),
              (this.Y = new Map()),
              (this.Z = new Map()),
              (this.$ = new Map());
          }
          get capabilities() {
            return this.N || ((this.N = 253982), Fe && (this.N |= 1024)), this.N;
          }
          async stat(e) {
            try {
              const { stat: i, symbolicLink: s } = await Si.stat(this.J(e));
              return {
                type: this.P(i, s),
                ctime: i.birthtime.getTime(),
                mtime: i.mtime.getTime(),
                size: i.size,
                permissions: (i.mode & 128) === 0 ? Va.Locked : void 0,
              };
            } catch (i) {
              throw this.ib(i);
            }
          }
          async O(e) {
            try {
              return await this.stat(e);
            } catch {
              return;
            }
          }
          async readdir(e) {
            try {
              const i = await ge.readdir(this.J(e), { withFileTypes: !0 }),
                s = [];
              return (
                await Promise.all(
                  i.map(async (r) => {
                    try {
                      let n;
                      r.isSymbolicLink()
                        ? (n = (await this.stat(we(e, r.name))).type)
                        : (n = this.P(r)),
                        s.push([r.name, n]);
                    } catch (n) {
                      this.a.trace(n);
                    }
                  })
                ),
                s
              );
            } catch (i) {
              throw this.ib(i);
            }
          }
          P(e, i) {
            let s;
            return (
              i?.dangling
                ? (s = ai.Unknown)
                : e.isFile()
                ? (s = ai.File)
                : e.isDirectory()
                ? (s = ai.Directory)
                : (s = ai.Unknown),
              i && (s |= ai.SymbolicLink),
              s
            );
          }
          async R(e) {
            const i = this.J(e);
            this.S(
              `[Disk FileSystemProvider]: createResourceLock() - request to acquire resource lock (${i})`
            );
            let s;
            for (; (s = this.Q.get(e)); )
              this.S(
                `[Disk FileSystemProvider]: createResourceLock() - waiting for resource lock to be released (${i})`
              ),
                await s.wait();
            const r = new Mn();
            return (
              this.Q.set(e, r),
              this.S(
                `[Disk FileSystemProvider]: createResourceLock() - new resource lock created (${i})`
              ),
              _e(() => {
                this.S(
                  `[Disk FileSystemProvider]: createResourceLock() - resource lock dispose() (${i})`
                ),
                  this.Q.get(e) === r &&
                    (this.S(
                      `[Disk FileSystemProvider]: createResourceLock() - resource lock removed from resource-lock map (${i})`
                    ),
                    this.Q.delete(e)),
                  this.S(
                    `[Disk FileSystemProvider]: createResourceLock() - resource lock barrier open() (${i})`
                  ),
                  r.open();
              })
            );
          }
          async readFile(e, i) {
            let s;
            try {
              i?.atomic &&
                (this.S(`[Disk FileSystemProvider]: atomic read operation started (${this.J(e)})`),
                (s = await this.R(e)));
              const r = this.J(e);
              return await Vo.readFile(r);
            } catch (r) {
              throw this.ib(r);
            } finally {
              s?.dispose();
            }
          }
          S(e) {
            Uh.M && this.a.trace(e);
          }
          readFileStream(e, i, s) {
            const r = Sd((n) => re.concat(n.map((o) => re.wrap(o))).buffer);
            return O8(this, e, r, (n) => n.buffer, { ...i, bufferSize: 256 * 1024 }, s), r;
          }
          async writeFile(e, i, s) {
            return s?.atomic !== !1 && s?.atomic?.postfix && (await this.U(e))
              ? this.W(e, we(md(e), `${br(e)}${s.atomic.postfix}`), i, s)
              : this.X(e, i, s);
          }
          async U(e) {
            try {
              const i = this.J(e),
                { symbolicLink: s } = await Si.stat(i);
              if (s) return !1;
            } catch {}
            return !0;
          }
          async W(e, i, s, r) {
            const n = new je();
            try {
              n.add(await this.R(e)), n.add(await this.R(i)), await this.X(i, s, r, !0);
              try {
                await this.rename(i, e, { overwrite: !0 });
              } catch (o) {
                try {
                  await this.delete(i, { recursive: !1, useTrash: !1, atomic: !1 });
                } catch {}
                throw o;
              }
            } finally {
              n.dispose();
            }
          }
          async X(e, i, s, r) {
            let n;
            try {
              const o = this.J(e);
              if (!s.create || !s.overwrite) {
                if (await ge.exists(o)) {
                  if (!s.overwrite) throw Xs(u(2025, null), Se.FileExists);
                } else if (!s.create) throw Xs(u(2026, null), Se.FileNotFound);
              }
              (n = await this.open(e, { create: !0, unlock: s.unlock }, r)),
                await this.write(n, 0, i, 0, i.byteLength);
            } catch (o) {
              throw await this.jb(e, o);
            } finally {
              typeof n == 'number' && (await this.close(n));
            }
          }
          static {
            this.ab = !0;
          }
          static configureFlushOnWrite(e) {
            Uh.ab = e;
          }
          async open(e, i, s) {
            const r = this.J(e);
            let n;
            za(i) && !s && (n = await this.R(e));
            let o;
            try {
              if (za(i) && i.unlock)
                try {
                  const { stat: a } = await Si.stat(r);
                  a.mode & 128 || (await Vo.chmod(r, a.mode | 128));
                } catch (a) {
                  a.code !== 'ENOENT' && this.a.trace(a);
                }
              if (J && za(i))
                try {
                  (o = await ge.open(r, 'r+')), await ge.ftruncate(o, 0);
                } catch (a) {
                  if ((a.code !== 'ENOENT' && this.a.trace(a), typeof o == 'number')) {
                    try {
                      await ge.close(o);
                    } catch (c) {
                      this.a.trace(c);
                    }
                    o = void 0;
                  }
                }
              typeof o != 'number' && (o = await ge.open(r, za(i) ? 'w' : 'r'));
            } catch (a) {
              throw (n?.dispose(), za(i) ? await this.jb(e, a) : this.ib(a));
            }
            if ((this.Y.set(o, 0), za(i) && this.$.set(o, e), n)) {
              const a = this.Z.get(o);
              this.S(`[Disk FileSystemProvider]: open() - storing lock for handle ${o} (${r})`),
                this.Z.set(o, n),
                a &&
                  (this.S(
                    `[Disk FileSystemProvider]: open() - disposing a previous lock that was still stored on same handle ${o} (${r})`
                  ),
                  a.dispose());
            }
            return o;
          }
          async close(e) {
            const i = this.Z.get(e);
            try {
              if ((this.Y.delete(e), this.$.delete(e) && Uh.ab))
                try {
                  await ge.fdatasync(e);
                } catch (s) {
                  Uh.configureFlushOnWrite(!1), this.a.error(s);
                }
              return await ge.close(e);
            } catch (s) {
              throw this.ib(s);
            } finally {
              i &&
                (this.Z.get(e) === i &&
                  (this.S(
                    `[Disk FileSystemProvider]: close() - resource lock removed from handle-lock map ${e}`
                  ),
                  this.Z.delete(e)),
                this.S(`[Disk FileSystemProvider]: close() - disposing lock for handle ${e}`),
                i.dispose());
            }
          }
          async read(e, i, s, r, n) {
            const o = this.bb(e, i);
            let a = null;
            try {
              a = (await ge.read(e, s, r, n, o)).bytesRead;
            } catch (c) {
              throw this.ib(c);
            } finally {
              this.cb(e, o, a);
            }
            return a;
          }
          bb(e, i) {
            return i === this.Y.get(e) ? null : i;
          }
          cb(e, i, s) {
            const r = this.Y.get(e);
            typeof r == 'number' &&
              (typeof i == 'number' ||
                (typeof s == 'number' ? this.Y.set(e, r + s) : this.Y.delete(e)));
          }
          async write(e, i, s, r, n) {
            return RP(() => this.db(e, i, s, r, n), 100, 3);
          }
          async db(e, i, s, r, n) {
            const o = this.bb(e, i);
            let a = null;
            try {
              a = (await ge.write(e, s, r, n, o)).bytesWritten;
            } catch (c) {
              throw await this.jb(this.$.get(e), c);
            } finally {
              this.cb(e, o, a);
            }
            return a;
          }
          async mkdir(e) {
            try {
              await Vo.mkdir(this.J(e));
            } catch (i) {
              throw this.ib(i);
            }
          }
          async delete(e, i) {
            try {
              const s = this.J(e);
              if (i.recursive) {
                let r;
                i?.atomic !== !1 &&
                  i.atomic.postfix &&
                  (r = M(vi(s), `${ct(s)}${i.atomic.postfix}`)),
                  await ge.rm(s, Do.MOVE, r);
              } else
                try {
                  await Vo.unlink(s);
                } catch (r) {
                  if (r.code === 'EPERM' || r.code === 'EISDIR') {
                    let n = !1;
                    try {
                      const { stat: o, symbolicLink: a } = await Si.stat(s);
                      n = o.isDirectory() && !a;
                    } catch {}
                    if (n) await Vo.rmdir(s);
                    else throw r;
                  } else throw r;
                }
            } catch (s) {
              throw this.ib(s);
            }
          }
          async rename(e, i, s) {
            const r = this.J(e),
              n = this.J(i);
            if (r !== n)
              try {
                await this.eb(e, i, 'move', s.overwrite), await ge.rename(r, n);
              } catch (o) {
                throw (
                  ((o.code === 'EINVAL' || o.code === 'EBUSY' || o.code === 'ENAMETOOLONG') &&
                    (o = new Error(u(2027, null, ct(r), ct(vi(n)), o.toString()))),
                  this.ib(o))
                );
              }
          }
          async copy(e, i, s) {
            const r = this.J(e),
              n = this.J(i);
            if (r !== n)
              try {
                await this.eb(e, i, 'copy', s.overwrite),
                  await ge.copy(r, n, { preserveSymlinks: !0 });
              } catch (o) {
                throw (
                  ((o.code === 'EINVAL' || o.code === 'EBUSY' || o.code === 'ENAMETOOLONG') &&
                    (o = new Error(u(2028, null, ct(r), ct(vi(n)), o.toString()))),
                  this.ib(o))
                );
              }
          }
          async eb(e, i, s, r) {
            const n = this.J(e),
              o = this.J(i);
            let a = !1;
            if ((!!(this.capabilities & 1024) || (a = wl(n, o, !0)), a)) {
              if (s === 'copy') throw Xs(u(2029, null), Se.FileExists);
              if (s === 'move') return;
            }
            const l = await this.O(e);
            if (!l) throw Xs(u(2030, null), Se.FileNotFound);
            const h = await this.O(i);
            if (h) {
              if (!r) throw Xs(u(2031, null), Se.FileExists);
              ((l.type & ai.File) !== 0 && (h.type & ai.File) !== 0) ||
                (await this.delete(i, { recursive: !0, useTrash: !1, atomic: !1 }));
            }
          }
          async cloneFile(e, i) {
            return this.fb(e, i, !1);
          }
          async fb(e, i, s) {
            const r = this.J(e),
              n = this.J(i),
              o = !!(this.capabilities & 1024);
            if (wl(r, n, !o)) return;
            const a = new je();
            try {
              a.add(await this.R(e)),
                a.add(await this.R(i)),
                s && (await Vo.mkdir(vi(n), { recursive: !0 })),
                await Vo.copyFile(r, n);
            } catch (c) {
              if (c.code === 'ENOENT' && !s) return this.fb(e, i, !0);
              throw this.ib(c);
            } finally {
              a.dispose();
            }
          }
          u(e, i, s) {
            return new U8(
              (r) => e(r),
              (r) => i(r),
              s
            );
          }
          G(e, i, s) {
            return new q8(
              (r) => e(r),
              (r) => i(r),
              s
            );
          }
          ib(e) {
            if (e instanceof Vd) return e;
            let i = e,
              s;
            switch (e.code) {
              case 'ENOENT':
                s = Se.FileNotFound;
                break;
              case 'EISDIR':
                s = Se.FileIsADirectory;
                break;
              case 'ENOTDIR':
                s = Se.FileNotADirectory;
                break;
              case 'EEXIST':
                s = Se.FileExists;
                break;
              case 'EPERM':
              case 'EACCES':
                s = Se.NoPermissions;
                break;
              case 'ERR_UNC_HOST_NOT_ALLOWED':
                (i = `${e.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`),
                  (s = Se.Unknown);
                break;
              default:
                s = Se.Unknown;
            }
            return Xs(i, s);
          }
          async jb(e, i) {
            let s = this.ib(i);
            if (e && s.code === Se.NoPermissions)
              try {
                const { stat: r } = await Si.stat(this.J(e));
                r.mode & 128 || (s = Xs(i, Se.FileWriteLocked));
              } catch (r) {
                this.a.trace(r);
              }
            return s;
          }
        });
    },
  }),
  K8,
  J8,
  CM = b({
    'out-build/vs/platform/files/node/diskFileSystemProviderServer.js'() {
      'use strict';
      X(),
        Aw(),
        U(),
        bt(),
        Dl(),
        jt(),
        (K8 = class extends H {
          constructor(t, e) {
            super(), (this.a = t), (this.b = e), (this.F = new Map()), (this.G = new Map());
          }
          call(t, e, i) {
            const s = this.c(t);
            switch (e) {
              case 'stat':
                return this.g(s, i[0]);
              case 'readdir':
                return this.h(s, i[0]);
              case 'open':
                return this.r(s, i[0], i[1], i[2]);
              case 'close':
                return this.s(i[0]);
              case 'read':
                return this.t(i[0], i[1], i[2]);
              case 'readFile':
                return this.j(s, i[0], i[1]);
              case 'write':
                return this.u(i[0], i[1], i[2], i[3], i[4]);
              case 'writeFile':
                return this.n(s, i[0], i[1], i[2]);
              case 'rename':
                return this.z(s, i[0], i[1], i[2]);
              case 'copy':
                return this.C(s, i[0], i[1], i[2]);
              case 'cloneFile':
                return this.D(s, i[0], i[1]);
              case 'mkdir':
                return this.w(s, i[0]);
              case 'delete':
                return this.y(s, i[0], i[1]);
              case 'watch':
                return this.I(s, i[0], i[1], i[2], i[3]);
              case 'unwatch':
                return this.J(i[0], i[1]);
            }
            throw new Error(`IPC Command ${e} not found`);
          }
          listen(t, e, i) {
            const s = this.c(t);
            switch (e) {
              case 'fileChange':
                return this.H(s, i[0]);
              case 'readFileStream':
                return this.m(s, i[0], i[1]);
            }
            throw new Error(`Unknown event ${e}`);
          }
          g(t, e) {
            const i = this.f(t, e, !0);
            return this.a.stat(i);
          }
          h(t, e) {
            const i = this.f(t, e);
            return this.a.readdir(i);
          }
          async j(t, e, i) {
            const s = this.f(t, e, !0),
              r = await this.a.readFile(s, i);
            return re.wrap(r);
          }
          m(t, e, i) {
            const s = this.f(t, e, !0),
              r = new Js(),
              n = new $({
                onDidRemoveLastListener: () => {
                  r.cancel();
                },
              }),
              o = this.a.readFileStream(s, i, r.token);
            return (
              Ed(o, {
                onData: (a) => n.fire(re.wrap(a)),
                onError: (a) => n.fire(a),
                onEnd: () => {
                  n.fire('end'), n.dispose(), r.dispose();
                },
              }),
              n.event
            );
          }
          n(t, e, i, s) {
            const r = this.f(t, e);
            return this.a.writeFile(r, i.buffer, s);
          }
          r(t, e, i, s) {
            const r = this.f(t, e, !0);
            return this.a.open(r, i, s);
          }
          s(t) {
            return this.a.close(t);
          }
          async t(t, e, i) {
            const s = re.alloc(i),
              n = await this.a.read(t, e, s.buffer, 0, i);
            return [s, n];
          }
          u(t, e, i, s, r) {
            return this.a.write(t, e, i.buffer, s, r);
          }
          w(t, e) {
            const i = this.f(t, e);
            return this.a.mkdir(i);
          }
          y(t, e, i) {
            const s = this.f(t, e);
            return this.a.delete(s, i);
          }
          z(t, e, i, s) {
            const r = this.f(t, e),
              n = this.f(t, i);
            return this.a.rename(r, n, s);
          }
          C(t, e, i, s) {
            const r = this.f(t, e),
              n = this.f(t, i);
            return this.a.copy(r, n, s);
          }
          D(t, e, i) {
            const s = this.f(t, e),
              r = this.f(t, i);
            return this.a.cloneFile(s, r);
          }
          H(t, e) {
            const i = new $({
              onWillAddFirstListener: () => {
                this.F.set(e, this.L(t, i));
              },
              onDidRemoveLastListener: () => {
                Qt(this.F.get(e)), this.F.delete(e);
              },
            });
            return i.event;
          }
          async I(t, e, i, s, r) {
            const n = this.F.get(e);
            if (n) {
              const o = this.f(t, s),
                a = n.watch(i, o, r);
              this.G.set(e + i, a);
            }
          }
          async J(t, e) {
            const i = t + e,
              s = this.G.get(i);
            s && (Qt(s), this.G.delete(i));
          }
          dispose() {
            super.dispose();
            for (const [, t] of this.G) t.dispose();
            this.G.clear();
            for (const [, t] of this.F) t.dispose();
            this.F.clear();
          }
        }),
        (J8 = class extends H {
          constructor(t, e, i, s) {
            super(),
              (this.c = t),
              (this.f = i),
              (this.g = s),
              (this.a = new Map()),
              (this.b = this.B(new Of(this.f))),
              this.h(e);
          }
          h(t) {
            const e = this.B(new $());
            this.B(
              e.event((i) => {
                t.fire(
                  i.map((s) => ({
                    resource: this.c.transformOutgoingURI(s.resource),
                    type: s.type,
                    cId: s.cId,
                  }))
                );
              })
            ),
              this.B(this.b.onDidChangeFile((i) => e.fire(i))),
              this.B(this.b.onDidWatchError((i) => t.fire(i)));
          }
          j(t) {}
          m(t) {}
          watch(t, e, i) {
            const s = this.m(this.g);
            return (
              Array.isArray(s) && (i.excludes = [...i.excludes, ...s]),
              this.a.set(t, this.b.watch(e, i)),
              _e(() => {
                Qt(this.a.get(t)), this.a.delete(t);
              })
            );
          }
          dispose() {
            for (const [, t] of this.a) t.dispose();
            this.a.clear(), super.dispose();
          }
        });
    },
  }),
  X8,
  DM = b({
    'out-build/vs/base/common/uriIpc.js'() {
      'use strict';
      bt(),
        be(),
        (X8 = new (class {
          transformIncoming(t) {
            return t;
          }
          transformOutgoing(t) {
            return t;
          }
          transformOutgoingURI(t) {
            return t;
          }
          transformOutgoingScheme(t) {
            return t;
          }
        })());
    },
  });
import { shell as xM } from 'electron';
var Y8,
  Q8,
  AM = b({
    'out-build/vs/platform/files/electron-main/diskFileSystemProviderServer.js'() {
      'use strict';
      he(),
        ie(),
        be(),
        ft(),
        xe(),
        CM(),
        DM(),
        Fn(),
        (Y8 = class extends K8 {
          constructor(t, e, i) {
            super(t, e), (this.M = i);
          }
          c(t) {
            return X8;
          }
          f(t, e) {
            return _.revive(e);
          }
          async y(t, e, i) {
            if (!i.useTrash) return super.y(t, e, i);
            const s = this.f(t, e),
              r = _i(s.fsPath);
            try {
              await xM.trashItem(r);
            } catch (n) {
              throw Xs(u(J ? 2023 : 2024, null, ct(r), ki(n)), Se.Unknown);
            }
          }
          L(t, e) {
            return new Q8(t, e, this.b, this.M);
          }
        }),
        (Q8 = class extends J8 {
          watch(t, e, i) {
            if (i.recursive)
              throw Xs(
                'Recursive file watching is not supported from main process for performance reasons.',
                Se.Unavailable
              );
            return super.watch(t, e, i);
          }
        });
    },
  }),
  Rf,
  Iw = b({
    'out-build/vs/platform/instantiation/common/serviceCollection.js'() {
      'use strict';
      Rf = class {
        constructor(...t) {
          this.a = new Map();
          for (const [e, i] of t) this.set(e, i);
        }
        set(t, e) {
          const i = this.a.get(t);
          return this.a.set(t, e), i;
        }
        has(t) {
          return this.a.has(t);
        }
        get(t) {
          return this.a.get(t);
        }
      };
    },
  }),
  Z8,
  $w,
  IM = b({
    'out-build/vs/platform/process/common/process.js'() {
      'use strict';
      K(),
        (function (t) {
          (t.VSCode = 'vscode'), (t.Extension = 'extension'), (t.Marketplace = 'marketplace');
        })(Z8 || (Z8 = {})),
        ($w = W('processService'));
    },
  });
import { exec as ou } from 'child_process';
function Nf(t) {
  return new Promise((e, i) => {
    let s;
    const r = new Map();
    function n(l, h, d, p, m) {
      const w = r.get(h);
      if (l === t || w) {
        const v = { name: a(d), cmd: d, pid: l, ppid: h, load: p, mem: m };
        r.set(l, v),
          l === t && (s = v),
          w &&
            (w.children || (w.children = []),
            w.children.push(v),
            w.children.length > 1 && (w.children = w.children.sort((k, y) => k.pid - y.pid)));
      }
    }
    function o(l) {
      const h = /bin\/manager/i,
        d = /ckg_server/i,
        p = /aiserver/i,
        m = /ai-completion/i;
      return h.test(l)
        ? 'rust-manager'
        : d.test(l)
        ? 'ckg-server'
        : p.test(l)
        ? 'ai-server'
        : m.test(l)
        ? 'ai-completion'
        : l;
    }
    function a(l) {
      const h = /--utility-sub-type=network/i,
        d = /--crashes-directory/i,
        p = /\\pipe\\winpty-control/i,
        m = /conhost\.exe.+--headless/i,
        w = /--type=([a-zA-Z-]+)/;
      if (d.exec(l)) return 'electron-crash-reporter';
      if (p.exec(l)) return 'winpty-agent';
      if (m.exec(l)) return 'conpty-agent';
      let v = w.exec(l);
      if (v && v.length === 2)
        return v[1] === 'renderer'
          ? 'window'
          : v[1] === 'utility'
          ? h.exec(l)
            ? 'utility-network-service'
            : 'utility-process'
          : v[1] === 'extensionHost'
          ? 'extension-host'
          : v[1];
      const k = /[a-zA-Z-]+\.js/g;
      let y = '';
      do (v = k.exec(l)), v && (y += v + ' ');
      while (v);
      return y && l.indexOf('node ') < 0 && l.indexOf('node.exe') < 0
        ? `electron-nodejs (${y})`
        : /--ms-enable-electron-run-as-node/i.exec(l)
        ? `electron-nodejs (${l})`
        : o(l);
    }
    if (process.platform === 'win32') {
      const l = (h) =>
        h.indexOf('\\\\?\\') === 0 || h.indexOf('\\??\\') === 0
          ? h.substring(4)
          : h.indexOf('"\\\\?\\') === 0 || h.indexOf('"\\??\\') === 0
          ? '"' + h.substring(5)
          : h;
      import('@vscode/windows-process-tree').then((h) => {
        h.getProcessList(
          t,
          (d) => {
            if (!d) {
              i(new Error(`Root process ${t} not found`));
              return;
            }
            h.getProcessCpuUsage(d, (p) => {
              const m = new Map();
              p.forEach((w) => {
                const v = l(w.commandLine || '');
                m.set(w.pid, {
                  name: a(v),
                  cmd: v,
                  pid: w.pid,
                  ppid: w.ppid,
                  load: w.cpu || 0,
                  mem: w.memory || 0,
                });
              }),
                (s = m.get(t)),
                s
                  ? (m.forEach((w) => {
                      const v = m.get(w.ppid);
                      v && (v.children || (v.children = []), v.children.push(w));
                    }),
                    m.forEach((w) => {
                      w.children && (w.children = w.children.sort((v, k) => v.pid - k.pid));
                    }),
                    e(s))
                  : i(new Error(`Root process ${t} not found`));
            });
          },
          h.ProcessDataFlag.CommandLine | h.ProcessDataFlag.Memory
        );
      });
    } else {
      let l = function () {
        let h = [s];
        const d = [];
        for (; h.length; ) {
          const m = h.shift();
          m && (d.push(m.pid), m.children && (h = h.concat(m.children)));
        }
        let p = JSON.stringify(Ht.asFileUri('vs/base/node/cpuUsage.sh').fsPath);
        (p += ' ' + d.join(' ')),
          ou(p, {}, (m, w, v) => {
            if (m || v) i(m || new Error(v.toString()));
            else {
              const k = w.toString().split(`
`);
              for (let y = 0; y < d.length; y++) {
                const C = r.get(d[y]);
                C.load = parseFloat(k[y]);
              }
              if (!s) {
                i(new Error(`Root process ${t} not found`));
                return;
              }
              e(s);
            }
          });
      };
      var c = l;
      ou('which ps', {}, (h, d, p) => {
        if (h || p)
          if (process.platform !== 'linux') i(h || new Error(p.toString()));
          else {
            const m = JSON.stringify(Ht.asFileUri('vs/base/node/ps.sh').fsPath);
            ou(m, {}, (w, v, k) => {
              w || k ? i(w || new Error(k.toString())) : (e3(v, n), l());
            });
          }
        else {
          const m = d.toString().trim();
          ou(
            `${m} -ax -o pid=,ppid=,pcpu=,pmem=,command=`,
            { maxBuffer: 1e3 * 1024, env: { LC_NUMERIC: 'en_US.UTF-8' } },
            (v, k, y) => {
              v || (y && !y.includes('screen size is bogus'))
                ? i(v || new Error(y.toString()))
                : (e3(k, n),
                  process.platform === 'linux'
                    ? l()
                    : s
                    ? e(s)
                    : i(new Error(`Root process ${t} not found`)));
            }
          );
        }
      });
    }
  });
}
function e3(t, e) {
  const i = /^\s*([0-9]+)\s+([0-9]+)\s+([0-9]+\.[0-9]+)\s+([0-9]+\.[0-9]+)\s+(.+)$/,
    s = t.toString().split(`
`);
  for (const r of s) {
    const n = i.exec(r.trim());
    n &&
      n.length === 6 &&
      e(parseInt(n[1]), parseInt(n[2]), n[5], parseFloat(n[3]), parseFloat(n[4]));
  }
}
var Pw,
  au = b({
    'out-build/vs/base/node/ps.js'() {
      'use strict';
      Oe(),
        (Pw = (t) =>
          new Promise((e, i) => {
            const s = ou(`taskkill /F /T /PID ${t}`, function (r, n, o) {
              if (r) return i(r);
            });
            s.on('exit', e), s.on('error', i);
          }));
    },
  });
import { spawn as $M } from 'child_process';
import { relative as PM } from 'path';
var Bf,
  Uf,
  _w = b({
    'out-build/vs/platform/cssDev/node/cssDevService.js'() {
      'use strict';
      Oe(),
        Hr(),
        Xi(),
        K(),
        se(),
        (Bf = W('ICSSDevelopmentService')),
        (Uf = class {
          constructor(e, i) {
            (this.b = e), (this.c = i);
          }
          get isEnabled() {
            return !this.b.isBuilt;
          }
          getCssModules() {
            return (this.a ??= this.d()), this.a;
          }
          getLatestCssModules() {
            return (this.a = this.d()), this.a;
          }
          async d() {
            if (!this.isEnabled) return [];
            const e = await import('@vscode/ripgrep');
            return await new Promise((i) => {
              const s = gr.create(),
                r = [],
                n = new TextDecoder(),
                o = Ht.asFileUri('').fsPath,
                a = $M(e.rgPath, ['-g', '**/*.css', '--files', '--no-ignore', o], {});
              a.stdout.on('data', (c) => {
                const l = n.decode(c, { stream: !0 });
                r.push(
                  l
                    .split(
                      `
`
                    )
                    .filter(Boolean)
                );
              }),
                a.on('error', (c) => {
                  this.c.error('[CSS_DEV] FAILED to compute CSS data', c), i([]);
                }),
                a.on('close', () => {
                  const c = r
                    .flat()
                    .map((l) => PM(o, l).replace(/\\/g, '/'))
                    .filter(Boolean)
                    .sort();
                  i(c),
                    this.c.info(
                      `[CSS_DEV] DONE, ${c.length} css modules (${Math.round(s.elapsed())}ms)`
                    );
                });
            });
          }
        }),
        (Uf = __decorate([__param(0, vr), __param(1, ee)], Uf));
    },
  }),
  t3,
  _M = b({
    'out-build/vs/base/node/macAddress.js'() {
      'use strict';
      T4(), (t3 = P4);
    },
  });
import { networkInterfaces as LM } from 'os';
async function i3(t) {
  return Lw || (Lw = (async () => (await TM(t)) || ei())()), Lw;
}
async function TM(t) {
  try {
    const e = await import('crypto'),
      i = t3();
    return e.createHash('sha256').update(i, 'utf8').digest('hex');
  } catch (e) {
    t(e);
    return;
  }
}
async function MM(t) {
  if (J) {
    const e = await import('@vscode/windows-registry');
    try {
      return e.GetStringRegKey('HKEY_LOCAL_MACHINE', r3, 'MachineId') || '';
    } catch (i) {
      return t(i), '';
    }
  }
  return '';
}
async function s3(t) {
  try {
    return await (await import('@vscode/deviceid')).getDeviceId();
  } catch (e) {
    return t(e), ei();
  }
}
var jf,
  Lw,
  r3,
  cu = b({
    'out-build/vs/base/node/id.js'() {
      'use strict';
      Ha(),
        hi(),
        _M(),
        ie(),
        (jf = new (class {
          c(t) {
            return (
              this.a ||
                ((this.a = Wn.forStrings()),
                this.a.set('00-50-56', !0),
                this.a.set('00-0C-29', !0),
                this.a.set('00-05-69', !0),
                this.a.set('00-03-FF', !0),
                this.a.set('00-1C-42', !0),
                this.a.set('00-16-3E', !0),
                this.a.set('08-00-27', !0),
                this.a.set('00:50:56', !0),
                this.a.set('00:0C:29', !0),
                this.a.set('00:05:69', !0),
                this.a.set('00:03:FF', !0),
                this.a.set('00:1C:42', !0),
                this.a.set('00:16:3E', !0),
                this.a.set('08:00:27', !0)),
              !!this.a.findSubstr(t)
            );
          }
          value() {
            if (this.b === void 0) {
              let t = 0,
                e = 0;
              const i = LM();
              for (const s in i) {
                const r = i[s];
                if (r)
                  for (const { mac: n, internal: o } of r)
                    o || ((e += 1), this.c(n.toUpperCase()) && (t += 1));
              }
              this.b = e > 0 ? t / e : 0;
            }
            return this.b;
          }
        })()),
        (r3 = 'Software\\Microsoft\\SQMClient');
    },
  });
import * as n3 from 'net';
function o3(t, e, i, s = 1) {
  let r = !1;
  return new Promise((n) => {
    const o = setTimeout(() => {
      if (!r) return (r = !0), n(0);
    }, i);
    Tw(t, e, s, (a) => {
      if (!r) return (r = !0), clearTimeout(o), n(a);
    });
  });
}
function Tw(t, e, i, s) {
  if (e === 0) return s(0);
  const r = new n3.Socket();
  r.once('connect', () => (a3(r), Tw(t + i, e - 1, i, s))),
    r.once('data', () => {}),
    r.once('error', (n) => (a3(r), n.code !== 'ECONNREFUSED' ? Tw(t + i, e - 1, i, s) : s(t))),
    r.connect(t, '127.0.0.1');
}
function FM(t, e, i, s = '127.0.0.1') {
  let r = !1,
    n,
    o = 1;
  const a = n3.createServer({ pauseOnConnect: !0 });
  function c(l, h) {
    r || ((r = !0), a.removeAllListeners(), a.close(), n && clearTimeout(n), h(l));
  }
  return new Promise((l) => {
    (n = setTimeout(() => {
      c(0, l);
    }, i)),
      a.on('listening', () => {
        c(t, l);
      }),
      a.on('error', (h) => {
        h && (h.code === 'EADDRINUSE' || h.code === 'EACCES') && o < e
          ? (t++, o++, a.listen(t, s))
          : c(0, l);
      }),
      a.on('close', () => {
        c(0, l);
      }),
      a.listen(t, s);
  });
}
function a3(t) {
  try {
    t.removeAllListeners('connect'), t.removeAllListeners('error'), t.end(), t.destroy(), t.unref();
  } catch (e) {
    console.error(e);
  }
}
var Mw,
  c3 = b({
    'out-build/vs/base/node/ports.js'() {
      'use strict';
      Mw = {
        1: !0,
        7: !0,
        9: !0,
        11: !0,
        13: !0,
        15: !0,
        17: !0,
        19: !0,
        20: !0,
        21: !0,
        22: !0,
        23: !0,
        25: !0,
        37: !0,
        42: !0,
        43: !0,
        53: !0,
        69: !0,
        77: !0,
        79: !0,
        87: !0,
        95: !0,
        101: !0,
        102: !0,
        103: !0,
        104: !0,
        109: !0,
        110: !0,
        111: !0,
        113: !0,
        115: !0,
        117: !0,
        119: !0,
        123: !0,
        135: !0,
        137: !0,
        139: !0,
        143: !0,
        161: !0,
        179: !0,
        389: !0,
        427: !0,
        465: !0,
        512: !0,
        513: !0,
        514: !0,
        515: !0,
        526: !0,
        530: !0,
        531: !0,
        532: !0,
        540: !0,
        548: !0,
        554: !0,
        556: !0,
        563: !0,
        587: !0,
        601: !0,
        636: !0,
        989: !0,
        990: !0,
        993: !0,
        995: !0,
        1719: !0,
        1720: !0,
        1723: !0,
        2049: !0,
        3659: !0,
        4045: !0,
        5060: !0,
        5061: !0,
        6e3: !0,
        6566: !0,
        6665: !0,
        6666: !0,
        6667: !0,
        6668: !0,
        6669: !0,
        6697: !0,
        10080: !0,
      };
    },
  });
import * as OM from 'fs';
import * as RM from 'os';
import * as NM from 'child_process';
import * as BM from 'path';
async function UM(t = !1) {
  return (Fw === void 0 || t) && (Fw = jM()), Fw;
}
async function jM() {
  const t = WM();
  if (t === void 0) return !1;
  if (t >= 22e3) {
    const e = HM();
    if (e)
      return new Promise((i) => {
        try {
          NM.execFile(e, ['--status'], (s) => i(!s));
        } catch {
          i(!1);
        }
      });
  } else {
    const e = zM();
    if (e)
      try {
        if ((await OM.promises.stat(e)).isFile()) return !0;
      } catch {}
  }
  return !1;
}
function WM() {
  const t = /(\d+)\.(\d+)\.(\d+)/g.exec(RM.release());
  if (t) return parseInt(t[3]);
}
function l3(t) {
  const e = process.env.SystemRoot;
  if (e) {
    const i = process.env.hasOwnProperty('PROCESSOR_ARCHITEW6432');
    return BM.join(e, i ? 'Sysnative' : 'System32', t);
  }
}
function HM() {
  return l3('wsl.exe');
}
function zM() {
  return l3('lxss\\LxssManager.dll');
}
var Fw,
  VM = b({
    'out-build/vs/platform/remote/node/wsl.js'() {
      'use strict';
    },
  }),
  Wf,
  GM = b({
    'out-build/vs/platform/profiling/electron-main/windowProfiling.js'() {
      'use strict';
      le(),
        se(),
        (Wf = class {
          constructor(e, i, s) {
            (this.a = e), (this.b = i), (this.c = s);
          }
          async inspect(e) {
            await this.d();
            const i = this.a.webContents.debugger;
            await i.sendCommand('Profiler.start'),
              this.c.warn('[perf] profiling STARTED', this.b),
              await Ji(e);
            const s = await i.sendCommand('Profiler.stop');
            return this.c.warn('[perf] profiling DONE', this.b), await this.e(), s.profile;
          }
          async d() {
            const e = this.a.webContents.debugger;
            e.attach(), await e.sendCommand('Profiler.enable');
          }
          async e() {
            const e = this.a.webContents.debugger;
            await e.sendCommand('Profiler.disable'), e.detach();
          }
        }),
        (Wf = __decorate([__param(2, ee)], Wf));
    },
  }),
  qM,
  Ow,
  KM = b({
    'out-build/vs/platform/profiling/common/profiling.js'() {
      'use strict';
      xe(),
        K(),
        (qM = W('IV8InspectProfilingService')),
        (function (t) {
          function e(s) {
            return !!(s.samples && s.timeDeltas);
          }
          t.isValidProfile = e;
          function i(s, r = 'noAbsolutePaths') {
            for (const n of s.nodes)
              n.callFrame &&
                n.callFrame.url &&
                (Sa(n.callFrame.url) || /^\w[\w\d+.-]*:\/\/\/?/.test(n.callFrame.url)) &&
                (n.callFrame.url = M(r, ct(n.callFrame.url)));
            return s;
          }
          t.rewriteAbsolutePaths = i;
        })(Ow || (Ow = {}));
    },
  });
function JM(t) {
  return (
    (t.res.statusCode && t.res.statusCode >= 200 && t.res.statusCode < 300) ||
    t.res.statusCode === 1223
  );
}
function XM(t) {
  return t.res.statusCode === 204;
}
async function Hf(t) {
  if (!JM(t)) throw new Error('Server returned ' + t.res.statusCode);
  if (XM(t)) return null;
  const i = (await xl(t.stream)).toString();
  try {
    return JSON.parse(i);
  } catch (s) {
    throw (
      ((s.message +=
        `:
` + i),
      s)
    );
  }
}
function YM(t = !0, e = !0) {
  if (Rw === t && Nw === e) return;
  (Rw = t), (Nw = e);
  const i = tt.as(Li.Configuration),
    s = zf;
  (zf = [
    {
      id: 'http',
      order: 15,
      title: u(2233, null),
      type: 'object',
      scope: 2,
      properties: {
        'http.useLocalProxyConfiguration': {
          type: 'boolean',
          default: e,
          markdownDescription: u(2234, null),
          restricted: !0,
        },
      },
    },
    {
      id: 'http',
      order: 15,
      title: u(2235, null),
      type: 'object',
      scope: 1,
      properties: {
        'http.electronFetch': {
          type: 'boolean',
          default: !1,
          description: u(2236, null),
          restricted: !0,
        },
      },
    },
    {
      id: 'http',
      order: 15,
      title: u(2237, null),
      type: 'object',
      scope: t ? 1 : 2,
      properties: {
        'http.proxy': {
          type: 'string',
          pattern:
            '^(https?|socks|socks4a?|socks5h?)://([^:]*(:[^@]*)?@)?([^:]+|\\[[:0-9a-fA-F]+\\])(:\\d+)?/?$|^$',
          markdownDescription: u(2238, null, '`#http.useLocalProxyConfiguration#`'),
          restricted: !0,
        },
        'http.proxyStrictSSL': {
          type: 'boolean',
          default: !0,
          markdownDescription: u(2239, null, '`#http.useLocalProxyConfiguration#`'),
          restricted: !0,
        },
        'http.proxyKerberosServicePrincipal': {
          type: 'string',
          markdownDescription: u(2240, null, '`#http.useLocalProxyConfiguration#`'),
          restricted: !0,
        },
        'http.noProxy': {
          type: 'array',
          items: { type: 'string' },
          markdownDescription: u(2241, null, '`#http.useLocalProxyConfiguration#`'),
          restricted: !0,
        },
        'http.proxyAuthorization': {
          type: ['null', 'string'],
          default: null,
          markdownDescription: u(2242, null, '`#http.useLocalProxyConfiguration#`'),
          restricted: !0,
        },
        'http.proxySupport': {
          type: 'string',
          enum: ['off', 'on', 'fallback', 'override'],
          enumDescriptions: [u(2243, null), u(2244, null), u(2245, null), u(2246, null)],
          default: 'override',
          markdownDescription: u(2247, null, '`#http.useLocalProxyConfiguration#`'),
          restricted: !0,
        },
        'http.systemCertificates': {
          type: 'boolean',
          default: !0,
          markdownDescription: u(2248, null, '`#http.useLocalProxyConfiguration#`'),
          restricted: !0,
        },
        'http.experimental.systemCertificatesV2': {
          type: 'boolean',
          tags: ['experimental'],
          default: !1,
          markdownDescription: u(2249, null, '`#http.useLocalProxyConfiguration#`'),
          restricted: !0,
        },
        'http.fetchAdditionalSupport': {
          type: 'boolean',
          default: !0,
          markdownDescription: u(
            2250,
            null,
            '`#http.useLocalProxyConfiguration#`',
            '`#http.proxySupport#`',
            '`#http.systemCertificates#`'
          ),
          restricted: !0,
        },
      },
    },
  ]),
    i.updateConfigurations({ add: zf, remove: s });
}
var an,
  u3,
  h3,
  zf,
  Rw,
  Nw,
  Ir = b({
    'out-build/vs/platform/request/common/request.js'() {
      'use strict';
      bt(),
        He(),
        U(),
        he(),
        _n(),
        K(),
        li(),
        (an = W('requestService')),
        (u3 = class {
          constructor(t) {
            this.b = t;
          }
          toJSON() {
            if (!this.a) {
              const t = Object.create(null);
              for (const e in this.b)
                e.toLowerCase() === 'authorization' || e.toLowerCase() === 'proxy-authorization'
                  ? (t[e] = '*****')
                  : (t[e] = this.b[e]);
              this.a = t;
            }
            return this.a;
          }
        }),
        (h3 = class extends H {
          constructor(t) {
            super(), (this.b = t), (this.a = 0);
          }
          async c(t, e) {
            const i = `#${++this.a}: ${t.url}`;
            this.b.trace(`${i} - begin`, t.type, new u3(t.headers ?? {}));
            try {
              const s = await e();
              return this.b.trace(`${i} - end`, t.type, s.res.statusCode, s.res.headers), s;
            } catch (s) {
              throw (this.b.error(`${i} - error`, t.type, Ds(s)), s);
            }
          }
        }),
        (zf = []),
        (Rw = void 0),
        (Nw = void 0),
        YM();
    },
  });
function QM() {
  return 1025 + Math.floor(64510 * Math.random());
}
var ZM = b({
  'out-build/vs/base/common/ports.js'() {
    'use strict';
  },
});
import * as Bw from 'fs';
import * as d3 from 'inspector';
import { exec as Vf } from 'child_process';
import {
  app as lu,
  BrowserWindow as Uw,
  clipboard as cn,
  ipcMain as eF,
  Menu as uu,
  powerMonitor as tF,
  screen as hu,
  shell as Qn,
  webContents as iF,
} from 'electron';
import {
  arch as sF,
  cpus as rF,
  freemem as nF,
  loadavg as oF,
  platform as aF,
  release as cF,
  totalmem as lF,
  type as uF,
} from 'os';
import { promisify as f3 } from 'util';
import { nativeImage as hF } from 'electron/common';
function dF(t) {
  const e = d3.url();
  if (e) {
    const i = new URL(e),
      s = parseInt(i.port, 10);
    if (s) return s;
  }
  return d3.open(t), t;
}
var $r,
  p3,
  du,
  uc = b({
    'out-build/vs/platform/native/electron-main/nativeHostMainService.js'() {
      'use strict';
      Qr(),
        X(),
        U(),
        Oe(),
        xe(),
        ie(),
        be(),
        z8(),
        cu(),
        Zt(),
        c3(),
        he(),
        jo(),
        vt(),
        K(),
        St(),
        se(),
        Ze(),
        zl(),
        Xa(),
        qt(),
        Oi(),
        Wo(),
        bt(),
        VM(),
        GM(),
        KM(),
        Vl(),
        He(),
        Ge(),
        E9(),
        Ir(),
        qi(),
        le(),
        ZM(),
        au(),
        ($r = W('nativeHostMainService')),
        (p3 = class {
          static async start(t, e, i) {
            const s = await import('v8-inspect-profiler');
            let r;
            try {
              (r = await s.startProfiling({ ...i })), await Ji(e);
            } catch {
              console.error(`FAILED to start profiling for '${t}' on port '${i.port}'`);
              return;
            }
            const n = await r.stop();
            return (n.profile = Ow.rewriteAbsolutePaths(n.profile, 'piiRemoved')), n.profile;
          }
        }),
        (du = class extends H {
          constructor(e, i, s, r, n, o, a, c, l, h, d, p, m) {
            super(),
              (this.b = e),
              (this.c = i),
              (this.f = s),
              (this.g = r),
              (this.h = n),
              (this.j = o),
              (this.m = a),
              (this.n = c),
              (this.r = l),
              (this.s = h),
              (this.t = d),
              (this.u = p),
              (this.w = m),
              (this.a = {}),
              (this.onDidOpenMainWindow = P.map(this.b.onDidOpenWindow, (w) => w.id)),
              (this.onDidTriggerWindowSystemContextMenu = P.any(
                P.map(this.b.onDidTriggerSystemContextMenu, ({ window: w, x: v, y: k }) => ({
                  windowId: w.id,
                  x: v,
                  y: k,
                })),
                P.map(this.c.onDidTriggerSystemContextMenu, ({ window: w, x: v, y: k }) => ({
                  windowId: w.id,
                  x: v,
                  y: k,
                }))
              )),
              (this.onDidMaximizeWindow = P.any(
                P.map(this.b.onDidMaximizeWindow, (w) => w.id),
                P.map(this.c.onDidMaximizeWindow, (w) => w.id)
              )),
              (this.onDidUnmaximizeWindow = P.any(
                P.map(this.b.onDidUnmaximizeWindow, (w) => w.id),
                P.map(this.c.onDidUnmaximizeWindow, (w) => w.id)
              )),
              (this.onDidChangeWindowFullScreen = P.any(
                P.map(this.b.onDidChangeFullScreen, (w) => ({
                  windowId: w.window.id,
                  fullscreen: w.fullscreen,
                })),
                P.map(this.c.onDidChangeFullScreen, (w) => ({
                  windowId: w.window.id,
                  fullscreen: w.fullscreen,
                }))
              )),
              (this.onDidBlurMainWindow = P.filter(
                P.fromNodeEventEmitter(lu, 'browser-window-blur', (w, v) => v.id),
                (w) => !!this.b.getWindowById(w)
              )),
              (this.onDidFocusMainWindow = P.any(
                P.map(
                  P.filter(
                    P.map(this.b.onDidChangeWindowsCount, () => this.b.getLastActiveWindow()),
                    (w) => !!w
                  ),
                  (w) => w.id
                ),
                P.filter(
                  P.fromNodeEventEmitter(lu, 'browser-window-focus', (w, v) => v.id),
                  (w) => !!this.b.getWindowById(w)
                )
              )),
              (this.onDidBlurMainOrAuxiliaryWindow = P.any(
                this.onDidBlurMainWindow,
                P.map(
                  P.filter(
                    P.fromNodeEventEmitter(lu, 'browser-window-blur', (w, v) =>
                      this.c.getWindowByWebContents(v.webContents)
                    ),
                    (w) => !!w
                  ),
                  (w) => w.id
                )
              )),
              (this.onDidFocusMainOrAuxiliaryWindow = P.any(
                this.onDidFocusMainWindow,
                P.map(
                  P.filter(
                    P.fromNodeEventEmitter(lu, 'browser-window-focus', (w, v) =>
                      this.c.getWindowByWebContents(v.webContents)
                    ),
                    (w) => !!w
                  ),
                  (w) => w.id
                )
              )),
              (this.onDidResumeOS = P.fromNodeEventEmitter(tF, 'resume')),
              (this.onDidChangeColorScheme = this.n.onDidChangeColorScheme),
              (this.z = this.B(new $())),
              (this.onDidChangePassword = this.z.event),
              (this.onDidChangeDisplay = P.debounce(
                P.any(
                  P.filter(
                    P.fromNodeEventEmitter(hu, 'display-metrics-changed', (w, v, k) => k),
                    (w) => !(Array.isArray(w) && w.length === 1 && w[0] === 'workArea')
                  ),
                  P.fromNodeEventEmitter(hu, 'display-added'),
                  P.fromNodeEventEmitter(hu, 'display-removed')
                ),
                () => {},
                100
              )),
              eF.handle('vscode:getLastWorkspace', async (w, v) => this.a[String(v)]);
          }
          get windowId() {
            throw new Error('Not implemented in electron-main');
          }
          async getWindows(e, i) {
            const s = this.b
                .getWindows()
                .map((n) => ({
                  id: n.id,
                  workspace: n.openedWorkspace ?? Yd(n.backupPath, n.isExtensionDevelopmentHost),
                  title: n.win?.getTitle() ?? '',
                  filename: n.getRepresentedFilename(),
                  dirty: n.isDocumentEdited(),
                })),
              r = [];
            return (
              i.includeAuxiliaryWindows &&
                r.push(
                  ...this.c
                    .getWindows()
                    .map((n) => ({
                      id: n.id,
                      parentId: n.parentId,
                      title: n.win?.getTitle() ?? '',
                      filename: n.getRepresentedFilename(),
                    }))
                ),
              [...s, ...r]
            );
          }
          async getWindowCount(e) {
            return this.b.getWindowCount();
          }
          async getActiveWindowId(e) {
            const i = this.b.getFocusedWindow() || this.b.getLastActiveWindow();
            if (i) return i.id;
          }
          async getActiveWindowPosition() {
            const e = this.b.getFocusedWindow() || this.b.getLastActiveWindow();
            if (e) return e.getBounds();
          }
          async getNativeWindowHandle(e, i) {
            const s = this.L(i, e);
            if (s?.win) return re.wrap(s.win.getNativeWindowHandle());
          }
          openWindow(e, i, s) {
            return Array.isArray(i) ? this.C(e, i, s) : this.D(e, i);
          }
          async C(e, i, s = Object.create(null)) {
            i.length > 0 &&
              (await this.saveLastWorkspace(e),
              await this.b.open({
                context: 5,
                contextWindowId: e,
                urisToOpen: i,
                cli: this.h.args,
                forceNewWindow: s.forceNewWindow,
                forceReuseWindow: s.forceReuseWindow,
                preferNewWindow: s.preferNewWindow,
                diffMode: s.diffMode,
                mergeMode: s.mergeMode,
                addMode: s.addMode,
                removeMode: s.removeMode,
                gotoLineMode: s.gotoLineMode,
                noRecentEntry: s.noRecentEntry,
                waitMarkerFileURI: s.waitMarkerFileURI,
                remoteAuthority: s.remoteAuthority || void 0,
                forceProfile: s.forceProfile,
                forceTempProfile: s.forceTempProfile,
              }));
          }
          async D(e, i) {
            await this.b.openEmptyWindow({ context: 5, contextWindowId: e }, i);
          }
          async isFullScreen(e, i) {
            return this.L(i?.targetWindowId, e)?.isFullScreen ?? !1;
          }
          async toggleFullScreen(e, i) {
            this.L(i?.targetWindowId, e)?.toggleFullScreen();
          }
          async getCursorScreenPoint(e) {
            const i = hu.getCursorScreenPoint(),
              s = hu.getDisplayNearestPoint(i);
            return { point: i, display: s.bounds };
          }
          async isMaximized(e, i) {
            return this.L(i?.targetWindowId, e)?.win?.isMaximized() ?? !1;
          }
          async moveWindowTop(e, i) {
            this.L(i?.targetWindowId, e)?.win?.moveTop();
          }
          async positionWindow(e, i, s) {
            const r = this.L(s?.targetWindowId, e);
            if (r?.win) {
              if (r.win.isFullScreen()) {
                const n = P.toPromise(P.once(P.fromNodeEventEmitter(r.win, 'leave-full-screen')));
                r.win.setFullScreen(!1), await n;
              }
              r.win.setBounds(i);
            }
          }
          async updateWindowControls(e, i) {
            this.L(i?.targetWindowId, e)?.updateWindowControls(i);
          }
          async focusWindow(e, i) {
            this.L(i?.targetWindowId, e)?.focus({ force: i?.force ?? !1 });
          }
          async setMinimumSize(e, i, s) {
            const r = this.M(e);
            if (r?.win) {
              const [n, o] = r.win.getSize(),
                [a, c] = r.win.getMinimumSize(),
                [l, h] = [i ?? a, s ?? c],
                [d, p] = [Math.max(n, l), Math.max(o, h)];
              (a !== l || c !== h) && r.win.setMinimumSize(l, h),
                (n !== d || o !== p) && r.win.setSize(d, p);
            }
          }
          async saveWindowSplash(e, i) {
            const s = this.M(e);
            this.n.saveWindowSplash(e, s?.openedWorkspace, i);
          }
          async installShellCommand(e) {
            const { source: i, target: s } = await this.F();
            try {
              const { symbolicLink: r } = await Si.stat(i);
              if (r && !r.dangling) {
                const n = await H8(i);
                if (s === n) return;
              }
              await this.uninstallShellCommand(e);
            } catch (r) {
              if (r.code !== 'ENOENT') throw r;
            }
            try {
              await Bw.promises.symlink(s, i);
            } catch (r) {
              if (r.code !== 'EACCES' && r.code !== 'ENOENT') throw r;
              this.j.error('[installShellCommand]', r);
              const { response: n } = await this.showMessageBox(e, {
                type: 'info',
                message: u(2173, null, this.m.nameShort),
                buttons: [u(2174, null), u(2175, null)],
              });
              if (n === 1) throw new Hi();
              try {
                const o = `osascript -e "do shell script \\"mkdir -p /usr/local/bin && ln -sf '${s}' '${i}'\\" with administrator privileges"`;
                await f3(Vf)(o);
              } catch {
                throw new Error(u(2176, null, i));
              }
            }
          }
          async uninstallShellCommand(e) {
            const { source: i } = await this.F();
            try {
              await Bw.promises.unlink(i);
            } catch (s) {
              switch (s.code) {
                case 'EACCES': {
                  const { response: r } = await this.showMessageBox(e, {
                    type: 'info',
                    message: u(2177, null, this.m.nameShort),
                    buttons: [u(2178, null), u(2179, null)],
                  });
                  if (r === 1) throw new Hi();
                  try {
                    const n = `osascript -e "do shell script \\"rm '${i}'\\" with administrator privileges"`;
                    await f3(Vf)(n);
                  } catch {
                    throw new Error(u(2180, null, i));
                  }
                  break;
                }
                case 'ENOENT':
                  break;
                default:
                  throw s;
              }
            }
          }
          async F() {
            const e = Gs(this.h.appRoot, 'bin', 'marscode'),
              i = `/usr/local/bin/${this.m.applicationName.toLowerCase()}`;
            if ((this.j.info('[getShellCommandLink]', e, i), !(await ge.exists(e))))
              throw new Error(u(2181, null, e));
            return { source: i, target: e };
          }
          async showMessageBox(e, i) {
            const s = this.L(i?.targetWindowId, e);
            return this.f.showMessageBox(i, s?.win ?? void 0);
          }
          async showSaveDialog(e, i) {
            const s = this.L(i?.targetWindowId, e);
            return this.f.showSaveDialog(i, s?.win ?? void 0);
          }
          async showOpenDialog(e, i) {
            const s = this.L(i?.targetWindowId, e);
            return this.f.showOpenDialog(i, s?.win ?? void 0);
          }
          async pickFileFolderAndOpen(e, i) {
            const s = await this.f.pickFileFolder(i);
            s &&
              (await this.G(
                await Promise.all(
                  s.map(async (r) =>
                    (await Si.existsDirectory(r))
                      ? { folderUri: _.file(r) }
                      : { fileUri: _.file(r) }
                  )
                ),
                i,
                e
              ));
          }
          async pickFolderAndOpen(e, i) {
            const s = await this.f.pickFolder(i);
            s &&
              (await this.G(
                s.map((r) => ({ folderUri: _.file(r) })),
                i,
                e
              ));
          }
          async pickFileAndOpen(e, i) {
            const s = await this.f.pickFile(i);
            s &&
              (await this.G(
                s.map((r) => ({ fileUri: _.file(r) })),
                i,
                e
              ));
          }
          async pickWorkspaceAndOpen(e, i) {
            const s = await this.f.pickWorkspace(i);
            s &&
              (await this.G(
                s.map((r) => ({ workspaceUri: _.file(r) })),
                i,
                e
              ));
          }
          async G(e, i, s) {
            await this.saveLastWorkspace(s),
              await this.b.open({
                context: 3,
                contextWindowId: s,
                cli: this.h.args,
                urisToOpen: e,
                forceNewWindow: i.forceNewWindow,
              });
          }
          async openPath(e, i) {
            Qn.openPath(i);
          }
          async saveLastWorkspace(e, i) {
            const s = this.L(i?.targetWindowId, e);
            try {
              this.a[String(e)] = await s?.win?.webContents.executeJavaScript(
                'window.icubeWorkspace'
              );
            } catch {}
          }
          async showItemInFolder(e, i) {
            Qn.showItemInFolder(i);
          }
          async setRepresentedFilename(e, i, s) {
            this.L(s?.targetWindowId, e)?.setRepresentedFilename(i);
          }
          async setDocumentEdited(e, i, s) {
            this.L(s?.targetWindowId, e)?.setDocumentEdited(i);
          }
          async openExternal(e, i, s) {
            this.h.unsetSnapExportedVariables();
            try {
              xP(i, N.http, N.https) ? this.H(i, s) : Qn.openExternal(i);
            } finally {
              this.h.restoreSnapExportedVariables();
            }
            return !0;
          }
          async openBrowser(e, i, s) {
            return this.H(i, s).catch(async (r) => {
              throw (
                (this.showMessageBox(e, {
                  type: 'info',
                  buttons: [u(2182, null)],
                  message: u(2183, null),
                  detail: u(2184, null),
                }).then(() => {
                  J
                    ? Vf('control /name Microsoft.DefaultPrograms')
                    : Q && Vf('open "x-apple.systempreferences:com.apple.preference.dock"');
                }),
                r)
              );
            });
          }
          async H(e, i) {
            const s = i ?? this.s.getValue('workbench.externalBrowser');
            if (!s) return Qn.openExternal(e);
            if ((s.includes(Ce.sep) || s.includes(wt.sep)) && !(await ge.exists(s)))
              return (
                this.j.error(`Configured external browser path does not exist: ${s}`),
                Qn.openExternal(e)
              );
            try {
              const { default: r } = await import('open'),
                n = await r(e, { app: { name: Object.hasOwn(r.apps, s) ? r.apps[s] : s } });
              J ||
                n.stderr?.once(
                  'data',
                  (o) => (
                    this.j.error(
                      `Error openening external URL '${e}' using browser '${s}': ${o.toString()}`
                    ),
                    Qn.openExternal(e)
                  )
                );
            } catch (r) {
              return (
                this.j.error(
                  `Unable to open external URL '${e}' using browser '${s}' due to ${r}.`
                ),
                Qn.openExternal(e)
              );
            }
          }
          moveItemToTrash(e, i) {
            return Qn.trashItem(i);
          }
          async isAdmin() {
            let e;
            return (
              J
                ? (e = (await import('native-is-elevated')).default())
                : (e = process.getuid?.() === 0),
              e
            );
          }
          async writeElevated(e, i, s, r) {
            const n = await import('@vscode/sudo-prompt'),
              o = vl(this.h.userDataPath, 'code-elevated');
            await ge.writeFile(o, JSON.stringify({ source: i.fsPath, target: s.fsPath }));
            try {
              await new Promise((a, c) => {
                const l = [`"${this.I}"`];
                r?.unlock && l.push('--file-chmod'), l.push('--file-write', `"${o}"`);
                const h = {
                  name: this.m.nameLong.replace('-', ''),
                  icns:
                    Q && this.h.isBuilt
                      ? M(vi(this.h.appRoot), `${this.m.nameShort}.icns`)
                      : void 0,
                };
                this.j.trace(`[sudo-prompt] running command: ${l.join(' ')}`),
                  n.exec(l.join(' '), h, (d, p, m) => {
                    p && this.j.trace(`[sudo-prompt] received stdout: ${p}`),
                      m && this.j.error(`[sudo-prompt] received stderr: ${m}`),
                      d ? c(d) : a(void 0);
                  });
              });
            } finally {
              await Bw.promises.unlink(o);
            }
          }
          async isRunningUnderARM64Translation() {
            return Fe || J ? !1 : lu.runningUnderARM64Translation;
          }
          get I() {
            return J
              ? this.h.isBuilt
                ? M(vi(process.execPath), 'bin', `${this.m.applicationName}.cmd`)
                : M(this.h.appRoot, 'scripts', 'code-cli.bat')
              : Fe
              ? this.h.isBuilt
                ? M(vi(process.execPath), 'bin', `${this.m.applicationName}`)
                : M(this.h.appRoot, 'scripts', 'code-cli.sh')
              : this.h.isBuilt
              ? M(this.h.appRoot, 'bin', 'code')
              : M(this.h.appRoot, 'scripts', 'code-cli.sh');
          }
          async getOSStatistics() {
            return { totalmem: lF(), freemem: nF(), loadavg: oF() };
          }
          async getOSProperties() {
            return { arch: sF(), platform: aF(), release: cF(), type: uF(), cpus: rF() };
          }
          async getOSVirtualMachineHint() {
            return jf.value();
          }
          async getOSColorScheme() {
            return this.n.getColorScheme();
          }
          async hasWSLFeatureInstalled() {
            return J && UM();
          }
          async getScreenshot(e, i) {
            return (await this.L(i?.targetWindowId, e)?.win?.webContents.capturePage())?.toJPEG(95);
          }
          async getProcessId(e) {
            return this.L(void 0, e)?.win?.webContents.getOSProcessId();
          }
          async killProcess(e, i, s) {
            process.kill(i, s);
          }
          async treeKillWindowsProcess(e, i) {
            await Pw(i);
          }
          async readClipboardText(e, i) {
            return cn.readText(i);
          }
          async readImage() {
            return cn.readImage().toPNG();
          }
          async writeClipboardText(e, i, s) {
            return cn.writeText(i, s);
          }
          async writeClipboardImage(e, i) {
            try {
              const s = Buffer.from(i),
                r = hF.createFromBuffer(s);
              return cn.writeImage(r);
            } catch (s) {
              this.j.error('writeClipboardImage failed', s);
            }
          }
          async readClipboardFindText(e) {
            return cn.readFindText();
          }
          async writeClipboardFindText(e, i) {
            return cn.writeFindText(i);
          }
          async writeClipboardBuffer(e, i, s, r) {
            return cn.writeBuffer(i, Buffer.from(s.buffer), r);
          }
          async readClipboardBuffer(e, i) {
            return re.wrap(cn.readBuffer(i));
          }
          async hasClipboard(e, i, s) {
            return cn.has(i, s);
          }
          async newWindowTab() {
            await this.b.open({
              context: 5,
              cli: this.h.args,
              forceNewTabbedWindow: !0,
              forceEmpty: !0,
              remoteAuthority: this.h.args.remote || void 0,
            });
          }
          async showPreviousWindowTab() {
            uu.sendActionToFirstResponder('selectPreviousTab:');
          }
          async showNextWindowTab() {
            uu.sendActionToFirstResponder('selectNextTab:');
          }
          async moveWindowTabToNewWindow() {
            uu.sendActionToFirstResponder('moveTabToNewWindow:');
          }
          async mergeAllWindowTabs() {
            uu.sendActionToFirstResponder('mergeAllWindows:');
          }
          async toggleWindowTabsBar() {
            uu.sendActionToFirstResponder('toggleTabBar:');
          }
          async updateTouchBar(e, i) {
            this.M(e)?.updateTouchBar(i);
          }
          async notifyReady(e) {
            this.M(e)?.setReady();
          }
          async relaunch(e, i) {
            return this.g.relaunch(i);
          }
          async reload(e, i) {
            const s = this.M(e);
            if (s) {
              if (Di(s.openedWorkspace)) {
                const r = s.openedWorkspace.configPath;
                if (r.scheme === N.file && (await this.r.resolveLocalWorkspace(r))?.transient)
                  return this.openWindow(s.id, { forceReuseWindow: !0 });
              }
              return this.g.reload(
                s,
                i?.disableExtensions !== void 0
                  ? { _: [], 'disable-extensions': i.disableExtensions }
                  : void 0
              );
            }
          }
          async closeWindow(e, i) {
            return this.L(i?.targetWindowId, e)?.win?.close();
          }
          async quit(e) {
            const i = this.b.getLastActiveWindow();
            i?.isExtensionDevelopmentHost && this.b.getWindowCount() > 1 && i.win
              ? i.win.close()
              : this.g.quit();
          }
          async exit(e, i) {
            await this.g.kill(i);
          }
          async resolveProxy(e, i) {
            return this.M(e)?.win?.webContents?.session?.resolveProxy(i);
          }
          async lookupAuthorization(e, i) {
            return this.u.lookupAuthorization(i);
          }
          async lookupKerberosAuthorization(e, i) {
            return this.t.lookupKerberosAuthorization(i);
          }
          async loadCertificates(e) {
            return this.t.loadCertificates();
          }
          findFreePort(e, i, s, r, n = 1) {
            return o3(i, s, r, n);
          }
          async openDevTools(e, i) {
            this.L(i?.targetWindowId, e)?.win?.webContents.openDevTools(
              i?.mode ? { mode: i.mode, activate: i.activate } : void 0
            );
          }
          async toggleDevTools(e, i) {
            this.L(i?.targetWindowId, e)?.win?.webContents.toggleDevTools();
          }
          async openGPUInfoWindow(e) {
            const i = this.M(e);
            if (i) {
              if (typeof this.J != 'number') {
                const s = this.w.invokeFunction(hf, Xn(), { forceNativeTitlebar: !0 });
                s.backgroundColor = void 0;
                const r = new Uw(s);
                r.setMenuBarVisibility(!1),
                  r.loadURL('chrome://gpu'),
                  r.once('ready-to-show', () => r.show()),
                  r.once('close', () => (this.J = void 0)),
                  i.win?.on('close', () => {
                    this.J && (Uw.fromId(this.J)?.close(), (this.J = void 0));
                  }),
                  (this.J = r.id);
              }
              if (typeof this.J == 'number') {
                const s = Uw.fromId(this.J);
                s?.isMinimized() && s?.restore(), s?.focus();
              }
            }
          }
          async profileRenderer(e, i, s) {
            const r = this.M(e);
            if (!r || !r.win) throw new Error();
            return await new Wf(r.win, i, this.j).inspect(s);
          }
          async profileMain(e, i) {
            const s = dF(await o3(QM(), 10, 3e3));
            return await p3.start('main', i, { port: s });
          }
          async windowsGetStringRegKey(e, i, s, r) {
            if (!J) return;
            const n = await import('@vscode/windows-registry');
            try {
              return n.GetStringRegKey(i, s, r);
            } catch {
              return;
            }
          }
          L(e, i) {
            return this.M(e) ?? this.N(e) ?? this.M(i);
          }
          M(e) {
            if (typeof e == 'number') return this.b.getWindowById(e);
          }
          N(e) {
            if (typeof e != 'number') return;
            const i = iF.fromId(e);
            if (i) return this.c.getWindowByWebContents(i);
          }
        }),
        __decorate([ye], du.prototype, 'I', null),
        (du = __decorate(
          [
            __param(0, Tt),
            __param(1, Ya),
            __param(2, rn),
            __param(3, st),
            __param(4, dt),
            __param(5, ee),
            __param(6, Be),
            __param(7, Ja),
            __param(8, Yn),
            __param(9, Ve),
            __param(10, an),
            __param(11, ff),
            __param(12, Ks),
          ],
          du
        ));
    },
  }),
  Kt,
  Gf,
  _s,
  fu = b({
    'out-build/vs/platform/product/common/product.js'() {
      'use strict';
      if ((Vs(), X(), hi(), (Gf = globalThis.vscode), typeof Gf < 'u' && typeof Gf.context < 'u')) {
        const t = Gf.context.configuration();
        if (t) Kt = t.product;
        else
          throw new Error('Sandbox: unable to resolve product configuration from preload script.');
      } else if (globalThis._VSCODE_PRODUCT_JSON && globalThis._VSCODE_PACKAGE_JSON) {
        if (
          ((Kt = globalThis._VSCODE_PRODUCT_JSON),
          Ye.VSCODE_DEV &&
            Object.assign(Kt, {
              nameShort: `${Kt.nameShort} - Local`,
              nameLong: `${Kt.nameLong} - Local`,
              dataFolderName: `${Kt.dataFolderName}-local`,
              serverDataFolderName: Kt.serverDataFolderName
                ? `${Kt.serverDataFolderName}-local`
                : void 0,
            }),
          !Kt.version)
        ) {
          const t = globalThis._VSCODE_PACKAGE_JSON;
          Object.assign(Kt, { version: t.version });
        }
        Ye.ICUBE_EXTENSIONS_GALLERY &&
          Object.assign(Kt, { extensionsGallery: JSON.parse(Ye.ICUBE_EXTENSIONS_GALLERY) });
      } else
        (Kt = {}),
          Object.keys(Kt).length === 0 &&
            Object.assign(Kt, {
              version: '1.95.0-dev',
              nameShort: 'Code - OSS Dev',
              nameLong: 'Code - OSS Dev',
              applicationName: 'code-oss',
              dataFolderName: '.vscode-oss',
              urlProtocol: 'code-oss',
              reportIssueUrl: 'https://github.com/microsoft/vscode/issues/new',
              licenseName: 'MIT',
              licenseUrl: 'https://github.com/microsoft/vscode/blob/main/LICENSE.txt',
              serverLicenseUrl: 'https://github.com/microsoft/vscode/blob/main/LICENSE.txt',
            });
      if (Ye.IDE_ENVIRONMENT_ID) {
        const e = {
          id: Ye.IDE_ENVIRONMENT_ID || '',
          owner: Ye.IDE_OWNER || '',
          ideLang: Ye.IDE_LANG || '',
          ideTemplate: Ye.IDE_TEMPLATE || '',
          isBOE: (Ye.CLOUDIDE_APISERVER_BASE_URL || '').includes('-boe.'),
          apiServerBaseUrl: Ye.IDE_APISERVER_BASE_URL || '',
          isBuilt: !Ye.VSCODE_DEV,
          workspacePath: Ye.CLOUDIDE_WORKSPACEPATH || '',
        };
        Object.assign(Kt, { devSpaceInfo: e });
      }
      Kt.iCubeApp || Object.assign(Kt, { iCubeApp: {} }),
        Object.assign(Kt.iCubeApp, { envInfo: { ...Kt.iCubeApp?.envInfo, sessionID: ei() } }),
        Object.assign(Kt, { _onDidChangeConfig: new $() }),
        (_s = Kt);
    },
  }),
  hc,
  pu = b({
    'out-build/vs/platform/protocol/electron-main/protocol.js'() {
      'use strict';
      K(), (hc = W('protocolMainService'));
    },
  });
import { BrowserWindow as jw, contentTracing as fF, screen as gu } from 'electron';
function pF(t) {
  return typeof t != 'object' || t === null
    ? !1
    : 'x' in t && 'y' in t && 'width' in t && 'height' in t;
}
var Ww,
  Hw,
  qf,
  gF = b({
    'out-build/vs/platform/process/electron-main/processMainService.js'() {
      'use strict';
      qi(),
        U(),
        Oe(),
        ie(),
        au(),
        Ei(),
        he(),
        bf(),
        lw(),
        jo(),
        vt(),
        _w(),
        se(),
        uc(),
        fu(),
        Ze(),
        pu(),
        Pt(),
        Ho(),
        Jn(),
        (Hw = 'issue.processExplorerWindowState'),
        (qf = class {
          static {
            Ww = this;
          }
          static {
            this.a = '#1E1E1E';
          }
          constructor(e, i, s, r, n, o, a, c, l, h, d) {
            (this.d = e),
              (this.f = i),
              (this.g = s),
              (this.h = r),
              (this.i = n),
              (this.j = o),
              (this.k = a),
              (this.l = c),
              (this.m = l),
              (this.n = h),
              (this.o = d),
              (this.b = null),
              (this.c = null),
              this.p();
          }
          p() {
            de.on('vscode:listProcesses', async (e) => {
              const i = [];
              try {
                i.push({ name: u(2185, null), rootProcess: await Nf(process.pid) }),
                  (await this.i.getRemoteDiagnostics({ includeProcesses: !0 })).forEach((r) => {
                    wf(r)
                      ? i.push({ name: r.hostName, rootProcess: r })
                      : r.processes && i.push({ name: r.hostName, rootProcess: r.processes });
                  });
              } catch (s) {
                this.g.error(`Listing processes failed: ${s}`);
              }
              this.t(e, 'vscode:listProcessesResponse', i);
            }),
              de.on('vscode:workbenchCommand', (e, i) => {
                const { id: s, from: r, args: n } = i;
                let o;
                switch (r) {
                  case 'processExplorer':
                    o = this.c;
                    break;
                  default:
                    throw new Error(`Unexpected command source: ${r}`);
                }
                o?.webContents.send('vscode:runAction', { id: s, from: r, args: n });
              }),
              de.on('vscode:closeProcessExplorer', (e) => {
                this.b?.close();
              }),
              de.on('vscode:pidToNameRequest', async (e) => {
                const i = await this.i.getMainDiagnostics(),
                  s = [];
                for (const r of i.windows) s.push([r.pid, `window [${r.id}] (${r.title})`]);
                for (const { pid: r, name: n } of nn.getAll()) s.push([r, n]);
                this.t(e, 'vscode:pidToNameResponse', s);
              });
          }
          async openProcessExplorer(e) {
            if (!this.b && ((this.c = jw.getFocusedWindow()), this.c)) {
              const i = new je(),
                s = i.add(this.l.createIPCObjectUrl()),
                r = this.n.getItem(Hw, void 0),
                n = pF(r) ? r : this.r(this.c, 800, 500);
              (this.b = this.s(
                n,
                s,
                {
                  backgroundColor: e.styles.backgroundColor,
                  title: u(2186, null),
                  zoomLevel: e.zoomLevel,
                  alwaysOnTop: !0,
                },
                'process-explorer'
              )),
                s.update({
                  appRoot: this.f.appRoot,
                  windowId: this.b.id,
                  userEnv: this.d,
                  data: e,
                  product: _s,
                  nls: { messages: Zh(), language: Jc() },
                  cssModules: this.o.isEnabled ? await this.o.getCssModules() : void 0,
                }),
                this.b.loadURL(
                  Ht.asBrowserUri(
                    `vs/code/electron-sandbox/processExplorer/processExplorer${
                      this.f.isBuilt ? '' : '-dev'
                    }.html`
                  ).toString(!0)
                ),
                this.b.on('close', () => {
                  (this.b = null), i.dispose();
                }),
                this.c.on('close', () => {
                  this.b && (this.b.close(), (this.b = null), i.dispose());
                });
              const o = () => {
                if (!this.b) return;
                const a = this.b.getSize(),
                  c = this.b.getPosition();
                if (!a || !c) return;
                const l = { width: a[0], height: a[1], x: c[0], y: c[1] };
                this.n.setItem(Hw, l);
              };
              this.b.on('moved', o), this.b.on('resized', o);
            }
            this.b && this.q(this.b);
          }
          q(e) {
            e.isMinimized() && e.restore(), e.focus();
          }
          r(e, i, s) {
            let r;
            const n = gu.getAllDisplays();
            if (n.length === 1) r = n[0];
            else {
              if (Q) {
                const c = gu.getCursorScreenPoint();
                r = gu.getDisplayNearestPoint(c);
              }
              !r && e && (r = gu.getDisplayMatching(e.getBounds())),
                r || (r = gu.getPrimaryDisplay() || n[0]);
            }
            const o = r.bounds,
              a = {
                width: i,
                height: s,
                x: o.x + o.width / 2 - i / 2,
                y: o.y + o.height / 2 - s / 2,
              };
            return (
              o.width > 0 &&
                o.height > 0 &&
                (a.x < o.x && (a.x = o.x),
                a.y < o.y && (a.y = o.y),
                a.x > o.x + o.width && (a.x = o.x),
                a.y > o.y + o.height && (a.y = o.y),
                a.width > o.width && (a.width = o.width),
                a.height > o.height && (a.height = o.height)),
              a
            );
          }
          async stopTracing() {
            if (!this.f.args.trace) return;
            const e = await fF.stopRecording(
              `${vl(this.f.userHome.fsPath, this.m.applicationName)}.trace.txt`
            );
            await this.j.showMessageBox(
              {
                type: 'info',
                message: u(2187, null),
                detail: u(2188, null, e),
                buttons: [u(2189, null)],
              },
              jw.getFocusedWindow() ?? void 0
            ),
              this.k.showItemInFolder(void 0, e);
          }
          async getSystemStatus() {
            const [e, i] = await Promise.all([
              this.i.getMainDiagnostics(),
              this.i.getRemoteDiagnostics({ includeProcesses: !1, includeWorkspaceMetadata: !1 }),
            ]);
            return this.h.getDiagnostics(e, i);
          }
          async $getSystemInfo() {
            const [e, i] = await Promise.all([
              this.i.getMainDiagnostics(),
              this.i.getRemoteDiagnostics({ includeProcesses: !1, includeWorkspaceMetadata: !1 }),
            ]);
            return await this.h.getSystemInfo(e, i);
          }
          async $getPerformanceInfo() {
            try {
              const [e, i] = await Promise.all([
                this.i.getMainDiagnostics(),
                this.i.getRemoteDiagnostics({ includeProcesses: !0, includeWorkspaceMetadata: !0 }),
              ]);
              return await this.h.getPerformanceInfo(e, i);
            } catch (e) {
              throw (this.g.warn('issueService#getPerformanceInfo ', e.message), e);
            }
          }
          s(e, i, s, r) {
            const n = {
                fullscreen: !1,
                skipTaskbar: !1,
                resizable: !0,
                width: e.width,
                height: e.height,
                minWidth: 300,
                minHeight: 200,
                x: e.x,
                y: e.y,
                title: s.title,
                backgroundColor: s.backgroundColor || Ww.a,
                webPreferences: {
                  preload: Ht.asFileUri('vs/base/parts/sandbox/electron-sandbox/preload.js').fsPath,
                  additionalArguments: [`--vscode-window-config=${i.resource.toString()}`],
                  v8CacheOptions: this.f.useCodeCache ? 'bypassHeatCheck' : 'none',
                  enableWebSQL: !1,
                  spellcheck: !1,
                  zoomFactor: u9(s.zoomLevel),
                  sandbox: !0,
                  nodeIntegrationInSubFrames: !0,
                },
                alwaysOnTop: s.alwaysOnTop,
                experimentalDarkMode: !0,
              },
              o = new jw(n);
            return o.setMenuBarVisibility(!1), o;
          }
          t(e, i, ...s) {
            e.sender.isDestroyed() || e.sender.send(i, ...s);
          }
          async closeProcessExplorer() {
            this.b?.close();
          }
        }),
        (qf = Ww =
          __decorate(
            [
              __param(1, dt),
              __param(2, ee),
              __param(3, iw),
              __param(4, Ql),
              __param(5, rn),
              __param(6, $r),
              __param(7, hc),
              __param(8, Be),
              __param(9, kt),
              __param(10, Bf),
            ],
            qf
          ));
    },
  });
function g3(t) {
  const e = t.getKeyMap(),
    i = t.getCurrentKeyboardLayout();
  return { keyboardMapping: e, keyboardLayoutInfo: i };
}
var zw,
  Kf,
  mF = b({
    'out-build/vs/platform/keyboardLayout/electron-main/keyboardLayoutMainService.js'() {
      'use strict';
      ie(),
        X(),
        U(),
        K(),
        St(),
        (zw = W('keyboardLayoutMainService')),
        (Kf = class extends H {
          constructor(e) {
            super(),
              (this.a = this.B(new $())),
              (this.onDidChangeKeyboardLayout = this.a.event),
              (this.b = null),
              (this.c = null),
              e.when(3).then(() => this.f());
          }
          f() {
            return this.b || (this.b = this.g()), this.b;
          }
          async g() {
            const e = await import('native-keymap');
            (this.c = g3(e)),
              K4 ||
                e.onDidChangeKeyboardLayout(() => {
                  (this.c = g3(e)), this.a.fire(this.c);
                });
          }
          async getKeyboardLayoutData() {
            return await this.f(), this.c;
          }
        }),
        (Kf = __decorate([__param(0, st)], Kf));
    },
  }),
  mu,
  m3 = b({
    'out-build/vs/platform/url/common/url.js'() {
      'use strict';
      K(), (mu = W('urlService'));
    },
  });
import { app as wF } from 'electron';
var w3,
  Vw,
  Jf,
  bF = b({
    'out-build/vs/platform/launch/electron-main/launchMainService.js'() {
      'use strict';
      ni(),
        ie(),
        be(),
        Zt(),
        Ge(),
        Zl(),
        K(),
        se(),
        m3(),
        qt(),
        (w3 = 'launchMainService'),
        (Vw = W(w3)),
        (Jf = class {
          constructor(e, i, s, r) {
            (this.a = e), (this.b = i), (this.c = s), (this.d = r);
          }
          async start(e, i) {
            this.a.trace('Received data from other instance: ', e, i), Q && wF.focus({ steal: !0 });
            const s = this.e(e);
            if (s.length) {
              let r = Promise.resolve();
              if (this.b.getWindowCount() === 0) {
                const n = (await this.b.openEmptyWindow({ context: 4 })).at(0);
                n && (r = n.ready());
              }
              r.then(() => {
                for (const { uri: n, originalUrl: o } of s) this.c.open(n, { originalUrl: o });
              });
            } else return this.f(e, i);
          }
          e(e) {
            return e['open-url'] && e._urls && e._urls.length > 0
              ? Yt(
                  e._urls.map((i) => {
                    try {
                      return { uri: _.parse(i), originalUrl: i };
                    } catch {
                      return null;
                    }
                  })
                )
              : [];
          }
          async f(e, i) {
            const s = zo(i) ? 0 : 4;
            let r = [];
            const n = e.wait && e.waitMarkerFilePath ? _.file(e.waitMarkerFilePath) : void 0,
              o = e.remote || void 0,
              a = {
                context: s,
                cli: e,
                userEnv: e['preserve-env'] || s === 0 ? i : void 0,
                waitMarkerFileURI: n,
                remoteAuthority: o,
                forceProfile: e.profile,
                forceTempProfile: e['profile-temp'],
              };
            if (e.extensionDevelopmentPath)
              await this.b.openExtensionDevelopmentHostWindow(e.extensionDevelopmentPath, a);
            else if (!e._.length && !e['folder-uri'] && !e['file-uri']) {
              let c = !1;
              if (e['new-window'] || a.forceProfile || a.forceTempProfile) c = !0;
              else if (e['reuse-window']) c = !1;
              else
                switch (this.d.getValue('window')?.openWithoutArgumentsInNewWindow || 'default') {
                  case 'on':
                    c = !0;
                    break;
                  case 'off':
                    c = !1;
                    break;
                  default:
                    c = !Q;
                }
              if (c) r = await this.b.open({ ...a, forceNewWindow: !0, forceEmpty: !0 });
              else {
                const l = this.b.getLastActiveWindow();
                l
                  ? (this.b.openExistingWindow(l, a), (r = [l]))
                  : (r = await this.b.open({ ...a, forceEmpty: !0 }));
              }
            } else
              r = await this.b.open({
                ...a,
                forceNewWindow: e['new-window'],
                preferNewWindow: !e['reuse-window'] && !e.wait,
                forceReuseWindow: e['reuse-window'],
                diffMode: e.diff,
                mergeMode: e.merge,
                addMode: e.add,
                removeMode: e.remove,
                noRecentEntry: !!e['skip-add-to-recently-opened'],
                gotoLineMode: e.goto,
              });
            if (n && r.length === 1 && r[0])
              return Promise.race([r[0].whenClosedOrLoaded, JP(n.fsPath)]).then(
                () => {},
                () => {}
              );
          }
          async getMainProcessId() {
            return (
              this.a.trace('Received request for process ID from other instance.'), process.pid
            );
          }
        }),
        (Jf = __decorate([__param(0, ee), __param(1, Tt), __param(2, mu), __param(3, Ve)], Jf));
    },
  });
function b3(t) {
  return t.submenu !== void 0;
}
function v3(t) {
  return t.id === 'vscode.menubar.separator';
}
function y3(t) {
  return t.uri !== void 0;
}
function vF(t) {
  return !b3(t) && !v3(t) && !y3(t);
}
var yF = b({
    'out-build/vs/platform/menubar/common/menubar.js'() {
      'use strict';
    },
  }),
  k3,
  S3,
  E3,
  Ie,
  Go,
  ln = b({
    'out-build/vs/platform/update/common/update.js'() {
      'use strict';
      $e(),
        K(),
        (function (t) {
          (t.Uninitialized = 'uninitialized'),
            (t.Idle = 'idle'),
            (t.Disabled = 'disabled'),
            (t.CheckingForUpdates = 'checking for updates'),
            (t.AvailableForDownload = 'available for download'),
            (t.Downloading = 'downloading'),
            (t.Downloaded = 'downloaded'),
            (t.Updating = 'updating'),
            (t.Ready = 'ready'),
            (t.Recheck = 'recheck');
        })(k3 || (k3 = {})),
        (function (t) {
          (t[(t.Setup = 0)] = 'Setup'),
            (t[(t.Archive = 1)] = 'Archive'),
            (t[(t.Snap = 2)] = 'Snap');
        })(S3 || (S3 = {})),
        (function (t) {
          (t[(t.NotBuilt = 0)] = 'NotBuilt'),
            (t[(t.DisabledByEnvironment = 1)] = 'DisabledByEnvironment'),
            (t[(t.ManuallyDisabled = 2)] = 'ManuallyDisabled'),
            (t[(t.MissingConfiguration = 3)] = 'MissingConfiguration'),
            (t[(t.InvalidConfiguration = 4)] = 'InvalidConfiguration'),
            (t[(t.RunningAsAdmin = 5)] = 'RunningAsAdmin');
        })(E3 || (E3 = {})),
        (Ie = {
          Uninitialized: { type: 'uninitialized' },
          Disabled: (t) => ({ type: 'disabled', reason: t }),
          Idle: (t, e) => ({ type: 'idle', updateType: t, error: e }),
          CheckingForUpdates: (t) => ({ type: 'checking for updates', explicit: t }),
          AvailableForDownload: (t) => ({ type: 'available for download', update: t }),
          Downloading: (t, e) => ({ type: 'downloading', update: t, percent: e }),
          Downloaded: (t) => ({ type: 'downloaded', update: t }),
          Updating: (t) => ({ type: 'updating', update: t }),
          Ready: (t) => ({ type: 'ready', update: t }),
          Recheck: { type: 'recheck' },
        }),
        (Go = W('updateService'));
    },
  });
import { app as qo } from 'electron';
var vs,
  wu,
  Xf,
  Yf = b({
    'out-build/vs/platform/workspaces/electron-main/workspacesHistoryMainService.js'() {
      'use strict';
      ni(),
        le(),
        X(),
        Yr(),
        U(),
        Oe(),
        ie(),
        lt(),
        be(),
        Zt(),
        he(),
        K(),
        St(),
        se(),
        Gn(),
        cw(),
        Oi(),
        Wo(),
        Pi(),
        jo(),
        (wu = W('workspacesHistoryMainService')),
        (Xf = class extends H {
          static {
            vs = this;
          }
          static {
            this.a = 500;
          }
          static {
            this.b = 'history.recentlyOpenedPathsList';
          }
          constructor(e, i, s, r, n) {
            super(),
              (this.f = e),
              (this.g = i),
              (this.h = s),
              (this.j = r),
              (this.m = n),
              (this.c = this.B(new $())),
              (this.onDidChangeRecentlyOpened = this.c.event),
              (this.H = this.B(new Xr(800))),
              this.n();
          }
          n() {
            this.h.when(4).then(() => this.I()),
              this.B(
                this.g.onDidEnterWorkspace((e) =>
                  this.addRecentlyOpened([
                    { workspace: e.workspace, remoteAuthority: e.window.remoteAuthority },
                  ])
                )
              );
          }
          async addRecentlyOpened(e) {
            let i = [],
              s = [];
            for (const n of e)
              if (ow(n))
                !this.g.isUntitledWorkspace(n.workspace) && !this.w(i, n.workspace) && i.push(n);
              else if (Ef(n)) this.y(i, n.folderUri) || i.push(n);
              else {
                const o = this.z(s, n.fileUri),
                  a = n.fileUri.scheme === N.file && vs.G.indexOf(br(n.fileUri)) >= 0;
                !o &&
                  !a &&
                  (s.push(n),
                  J && n.fileUri.scheme === N.file && qo.addRecentDocument(n.fileUri.fsPath));
              }
            const r = await this.r({ workspaces: i, files: s });
            (i = r.workspaces),
              (s = r.files),
              i.length > vs.a && (i.length = vs.a),
              s.length > vs.a && (s.length = vs.a),
              await this.t({ workspaces: i, files: s }),
              this.c.fire(),
              Q && this.H.trigger(() => this.N());
          }
          async removeRecentlyOpened(e) {
            const i = (o) => {
                const a = this.u(o);
                for (const c of e) if (yt.isEqual(c, a)) return !1;
                return !0;
              },
              s = await this.getRecentlyOpened(),
              r = s.workspaces.filter(i),
              n = s.files.filter(i);
            (r.length !== s.workspaces.length || n.length !== s.files.length) &&
              (await this.t({ files: n, workspaces: r }),
              this.c.fire(),
              Q && this.H.trigger(() => this.N()));
          }
          async clearRecentlyOpened(e) {
            if (e?.confirm) {
              const { response: i } = await this.m.showMessageBox({
                type: 'warning',
                buttons: [u(2867, null), u(2868, null)],
                message: u(2869, null),
                detail: u(2870, null),
                cancelId: 1,
              });
              if (i !== 0) return;
            }
            await this.t({ workspaces: [], files: [] }), qo.clearRecentDocuments(), this.c.fire();
          }
          async getRecentlyOpened() {
            return this.r();
          }
          async r(e) {
            const i = new bi((n) => yt.getComparisonKey(n));
            if (e?.workspaces) for (const n of e.workspaces) i.set(this.u(n), n);
            const s = new bi((n) => yt.getComparisonKey(n));
            if (e?.files) for (const n of e.files) s.set(this.u(n), n);
            const r = await this.s();
            for (const n of r.workspaces) {
              const o = i.get(this.u(n));
              o ? (o.label = o.label ?? n.label) : i.set(this.u(n), n);
            }
            for (const n of r.files) {
              const o = s.get(this.u(n));
              o ? (o.label = o.label ?? n.label) : s.set(this.u(n), n);
            }
            return { workspaces: [...i.values()], files: [...s.values()] };
          }
          async s() {
            await this.j.whenReady;
            let e;
            const i = this.j.get(vs.b, -1);
            if (typeof i == 'string')
              try {
                e = JSON.parse(i);
              } catch (s) {
                this.f.error('Unexpected error parsing opened paths list', s);
              }
            return rT(e, this.f);
          }
          async t(e) {
            await this.j.whenReady, this.j.store(vs.b, JSON.stringify(nT(e)), -1, 1);
          }
          u(e) {
            return Ef(e) ? e.folderUri : YL(e) ? e.fileUri : e.workspace.configPath;
          }
          w(e, i) {
            return !!e.find((s) => ow(s) && s.workspace.id === i.id);
          }
          y(e, i) {
            return !!e.find((s) => Ef(s) && yt.isEqual(s.folderUri, i));
          }
          z(e, i) {
            return !!e.find((s) => yt.isEqual(s.fileUri, i));
          }
          static {
            this.C = 7;
          }
          static {
            this.D = 10;
          }
          static {
            this.F = 7;
          }
          static {
            this.G = ['COMMIT_EDITMSG', 'MERGE_MSG', 'git-rebase-todo'];
          }
          async I() {
            J && (await this.J(), this.B(this.onDidChangeRecentlyOpened(() => this.J())));
          }
          async J() {
            if (!J) return;
            const e = [];
            if (
              (e.push({
                type: 'tasks',
                items: [
                  {
                    type: 'task',
                    title: u(2871, null),
                    description: u(2872, null),
                    program: process.execPath,
                    args: '-n',
                    iconPath: process.execPath,
                    iconIndex: 0,
                  },
                ],
              }),
              (await this.getRecentlyOpened()).workspaces.length > 0)
            ) {
              const i = [];
              for (const n of qo.getJumpListSettings().removedItems) {
                const o = n.args;
                if (o) {
                  const a = /^--(folder|file)-uri\s+"([^"]+)"$/.exec(o);
                  a && i.push(_.parse(a[2]));
                }
              }
              await this.removeRecentlyOpened(i);
              let s = !1;
              const r = Yt(
                (await this.getRecentlyOpened()).workspaces.slice(0, vs.F).map((n) => {
                  const o = ow(n) ? n.workspace : n.folderUri,
                    { title: a, description: c } = this.L(o, n.label);
                  let l;
                  return (
                    _.isUri(o)
                      ? (l = `--folder-uri "${o.toString()}"`)
                      : ((s = !0), (l = `--file-uri "${o.configPath.toString()}"`)),
                    {
                      type: 'task',
                      title: a.substr(0, 255),
                      description: c.substr(0, 255),
                      program: process.execPath,
                      args: l,
                      iconPath: 'explorer.exe',
                      iconIndex: 0,
                    }
                  );
                })
              );
              r.length > 0 && e.push({ type: 'custom', name: u(s ? 2873 : 2874, null), items: r });
            }
            e.push({ type: 'recent' });
            try {
              const i = qo.setJumpList(e);
              i &&
                i !== 'ok' &&
                this.f.warn(`updateWindowsJumpList#setJumpList unexpected result: ${i}`);
            } catch (i) {
              this.f.warn('updateWindowsJumpList#setJumpList', i);
            }
          }
          L(e, i) {
            if (i) return { title: U5(i).name, description: i };
            if (_.isUri(e)) return { title: br(e), description: this.M(e) };
            if (this.g.isUntitledWorkspace(e)) return { title: u(2875, null), description: '' };
            let s = br(e.configPath);
            return (
              s.endsWith(Nl) && (s = s.substr(0, s.length - Nl.length - 1)),
              { title: u(2876, null, s), description: this.M(e.configPath) }
            );
          }
          M(e) {
            return e.scheme === 'file' ? q0(e.fsPath) : e.toString();
          }
          async N() {
            if (!Q) return;
            qo.clearRecentDocuments();
            const e = await this.getRecentlyOpened(),
              i = [];
            let s = 0;
            for (let n = 0; n < e.workspaces.length && s < vs.C; n++) {
              const o = this.u(e.workspaces[n]);
              if (o.scheme === N.file) {
                const a = as(o);
                (await ge.exists(a)) && (i.push(a), s++);
              }
            }
            const r = [];
            for (let n = 0; n < e.files.length && s < vs.D; n++) {
              const o = this.u(e.files[n]);
              if (o.scheme === N.file) {
                const a = as(o);
                if (vs.G.includes(br(o)) || i.includes(a)) continue;
                (await ge.exists(a)) && (r.push(a), s++);
              }
            }
            r.reverse().forEach((n) => qo.addRecentDocument(n)),
              i.reverse().forEach((n) => qo.addRecentDocument(n));
          }
        }),
        (Xf = vs =
          __decorate(
            [__param(0, ee), __param(1, Yn), __param(2, st), __param(3, Vn), __param(4, rn)],
            Xf
          ));
    },
  });
import { app as kF, BrowserWindow as Qf, Menu as Jt, MenuItem as qe } from 'electron';
function un() {
  return new qe({ type: 'separator' });
}
var Zf,
  bu,
  ep,
  SF = b({
    'out-build/vs/platform/menubar/electron-main/menubar.js'() {
      'use strict';
      le(),
        jt(),
        Yr(),
        ie(),
        be(),
        he(),
        Vl(),
        Ge(),
        vt(),
        St(),
        se(),
        yF(),
        uc(),
        Ze(),
        Pt(),
        Gt(),
        ln(),
        Jn(),
        qt(),
        Yf(),
        U(),
        ls(),
        (bu = 'menu'),
        (ep = class extends H {
          static {
            Zf = this;
          }
          static {
            this.a = 'lastKnownMenubarData';
          }
          constructor(e, i, s, r, n, o, a, c, l, h, d, p, m) {
            super(),
              (this.t = e),
              (this.u = i),
              (this.w = s),
              (this.y = r),
              (this.z = n),
              (this.C = o),
              (this.D = a),
              (this.F = c),
              (this.G = l),
              (this.H = h),
              (this.I = d),
              (this.J = p),
              (this.L = m),
              (this.s = Object.create(null)),
              (this.h = new As(() => this.S(), 0)),
              (this.j = new As(() => {
                this.m = [];
              }, 1e4)),
              (this.n = Object.create(null)),
              (this.r = Object.create(null)),
              (Q || Ro(i)) && this.M(),
              this.N(),
              (this.f = !1),
              (this.g = !1),
              (this.m = []),
              this.Y(),
              this.O();
          }
          M() {
            const e = this.D.getItem(Zf.a);
            e && (e.menus && (this.n = e.menus), e.keybindings && (this.r = e.keybindings));
          }
          N() {
            (this.s['workbench.action.files.newUntitledFile'] = (o, a, c) => {
              this.nb({ type: 'commandId', commandId: 'workbench.action.files.newUntitledFile' }) ||
                this.w.openEmptyWindow({ context: 2, contextWindowId: a?.id });
            }),
              (this.s['workbench.action.newWindow'] = (o, a, c) =>
                this.w.openEmptyWindow({ context: 2, contextWindowId: a?.id })),
              (this.s['workbench.action.files.openFileFolder'] = (o, a, c) =>
                this.H.pickFileFolderAndOpen(void 0, {
                  forceNewWindow: this.gb(c),
                  telemetryExtraData: { from: bu },
                })),
              (this.s['workbench.action.files.openFolder'] = (o, a, c) =>
                this.H.pickFolderAndOpen(void 0, {
                  forceNewWindow: this.gb(c),
                  telemetryExtraData: { from: bu },
                })),
              (this.s['workbench.action.openWorkspace'] = (o, a, c) =>
                this.H.pickWorkspaceAndOpen(void 0, {
                  forceNewWindow: this.gb(c),
                  telemetryExtraData: { from: bu },
                })),
              (this.s['workbench.action.clearRecentFiles'] = () =>
                this.C.clearRecentlyOpened({ confirm: !0 }));
            const e = this.I.youTubeUrl;
            e && (this.s['workbench.action.openYouTubeUrl'] = () => this.qb(e, 'openYouTubeUrl'));
            const i = this.I.requestFeatureUrl;
            i &&
              (this.s['workbench.action.openRequestFeatureUrl'] = () =>
                this.qb(i, 'openUserVoiceUrl'));
            const s = this.I.reportIssueUrl;
            s &&
              (this.s['workbench.action.openIssueReporter'] = () => this.qb(s, 'openReportIssues'));
            const r = this.I.licenseUrl;
            r &&
              (this.s['workbench.action.openLicenseUrl'] = () => {
                if ($i) {
                  const o = r.indexOf('?') > 0 ? '&' : '?';
                  this.qb(`${r}${o}lang=${$i}`, 'openLicenseUrl');
                } else this.qb(r, 'openLicenseUrl');
              });
            const n = this.I.privacyStatementUrl;
            n &&
              r &&
              (this.s['workbench.action.openPrivacyStatementUrl'] = () => {
                this.qb(n, 'openPrivacyStatement');
              });
          }
          O() {
            this.B(this.F.onWillShutdown(() => (this.b = !0))),
              this.B(this.w.onDidChangeWindowsCount((e) => this.U(e))),
              this.B(this.H.onDidBlurMainWindow(() => this.W())),
              this.B(this.H.onDidFocusMainWindow(() => this.W()));
          }
          get P() {
            const e = this.u.getValue('window.enableMenuBarMnemonics');
            return typeof e != 'boolean' ? !0 : e;
          }
          get Q() {
            if (!Q) return !1;
            const e = this.u.getValue('window.nativeTabs');
            return typeof e != 'boolean' ? !1 : e;
          }
          updateMenu(e, i) {
            (this.n = e.menus), (this.r = e.keybindings), this.D.setItem(Zf.a, e), this.R();
          }
          R() {
            this.h.schedule();
          }
          S() {
            this.b ||
              setTimeout(() => {
                this.b || this.Y();
              }, 10);
          }
          U(e) {
            Q &&
              ((e.oldCount === 0 && e.newCount > 0) || (e.oldCount > 0 && e.newCount === 0)) &&
              ((this.f = e.newCount === 0), this.R());
          }
          W() {
            if (!Q) return;
            const e = Qf.getFocusedWindow();
            (this.g = !e || !!this.J.getWindowByWebContents(e.webContents)), this.R();
          }
          X(e) {
            this.L.getTeaClient().then((i) => {
              i?.collect('icube_click_menu_item', { menu_id: e });
            });
          }
          Y() {
            const e = Jt.getApplicationMenu();
            if ((e && this.m.push(e), Object.keys(this.n).length === 0)) {
              this.Z(Q ? new Jt() : null);
              return;
            }
            const i = new Jt();
            let s;
            if (Q) {
              const n = new Jt(),
                o = u(2135, null);
              (s = new qe({ label: `${o}`, submenu: n })), this.$(n), i.append(s);
            }
            if (Q && !this.c) {
              this.c = !0;
              const n = new Jt();
              n.append(
                new qe({
                  label: this.sb(u(2136, null)),
                  click: () => this.w.openEmptyWindow({ context: 1 }),
                })
              ),
                kF.dock.setMenu(n);
            }
            if (this.bb('File')) {
              const n = new Jt(),
                o = new qe({ label: this.sb(u(2137, null)), submenu: n });
              this.db(n, 'File'), i.append(o);
            }
            if (this.bb('Edit')) {
              const n = new Jt(),
                o = new qe({ label: this.sb(u(2138, null)), submenu: n });
              this.db(n, 'Edit'), i.append(o);
            }
            if (this.bb('Selection')) {
              const n = new Jt(),
                o = new qe({ label: this.sb(u(2139, null)), submenu: n });
              this.db(n, 'Selection'), i.append(o);
            }
            if (this.bb('View')) {
              const n = new Jt(),
                o = new qe({ label: this.sb(u(2140, null)), submenu: n });
              this.db(n, 'View'), i.append(o);
            }
            if (this.bb('Go')) {
              const n = new Jt(),
                o = new qe({ label: this.sb(u(2141, null)), submenu: n });
              this.db(n, 'Go'), i.append(o);
            }
            if (this.bb('Run')) {
              const n = new Jt(),
                o = new qe({ label: this.sb(u(2142, null)), submenu: n });
              this.db(n, 'Run'), i.append(o);
            }
            if (this.bb('Terminal')) {
              const n = new Jt(),
                o = new qe({ label: this.sb(u(2143, null)), submenu: n });
              this.db(n, 'Terminal'), i.append(o);
            }
            let r;
            if (this.bb('Window')) {
              const n = new Jt();
              (r = new qe({ label: this.sb(u(2144, null)), submenu: n, role: 'window' })),
                this.jb(n);
            }
            if ((r && i.append(r), this.bb('Help'))) {
              const n = new Jt(),
                o = new qe({ label: this.sb(u(2145, null)), submenu: n, role: 'help' });
              this.db(n, 'Help'), i.append(o);
            }
            i.items && i.items.length > 0 ? this.Z(i) : this.Z(null), this.j.schedule();
          }
          Z(e) {
            if ((Jt.setApplicationMenu(e), e))
              for (const i of this.J.getWindows()) i.win?.setMenu(null);
          }
          $(e) {
            const i = u(2146, null),
              s = this.lb(u(2147, null, i), 'workbench.action.showAboutDialog'),
              r = this.kb();
            let n;
            if (this.bb('Preferences')) {
              const m = new Jt();
              this.db(m, 'Preferences'),
                (n = new qe({ label: this.sb(u(2148, null)), submenu: m }));
            }
            const o = new Jt(),
              a = new qe({ label: u(2149, null), role: 'services', submenu: o }),
              c = new qe({ label: u(2150, null, i), role: 'hide', accelerator: 'Command+H' }),
              l = new qe({
                label: u(2151, null),
                role: 'hideOthers',
                accelerator: 'Command+Alt+H',
              }),
              h = new qe({ label: u(2152, null), role: 'unhide' }),
              d = new qe(
                this.pb('workbench.action.quit', {
                  label: u(2153, null, i),
                  click: async (m, w, v) => {
                    const k = this.w.getLastActiveWindow();
                    (this.w.getWindowCount() === 0 ||
                      Qf.getFocusedWindow() ||
                      k?.win?.isMinimized()) &&
                      (await this.ab(v)) &&
                      this.H.quit(void 0);
                  },
                })
              ),
              p = [s];
            p.push(...r),
              n && p.push(un(), n),
              p.push(un(), a, un(), c, l, h, un(), d),
              p.forEach((m) => e.append(m));
          }
          async ab(e) {
            if (this.w.getWindowCount() === 0) return !0;
            const i = this.u.getValue('window.confirmBeforeClose');
            if (i === 'always' || (i === 'keyboardOnly' && this.hb(e))) {
              const { response: s } = await this.H.showMessageBox(this.w.getFocusedWindow()?.id, {
                type: 'question',
                buttons: [u(2154, null), u(2155, null)],
                message: u(2156, null),
              });
              return s === 0;
            }
            return !0;
          }
          bb(e) {
            if (!Q && !Ro(this.u)) return !1;
            switch (e) {
              case 'File':
              case 'Help':
                if (Q)
                  return (
                    (this.w.getWindowCount() === 0 && this.f) ||
                    (this.w.getWindowCount() > 0 && this.g) ||
                    (!!this.n && !!this.n[e])
                  );
              case 'Window':
                if (Q)
                  return (
                    (this.w.getWindowCount() === 0 && this.f) ||
                    (this.w.getWindowCount() > 0 && this.g) ||
                    !!this.n
                  );
              default:
                return this.w.getWindowCount() > 0 && !!this.n && !!this.n[e];
            }
          }
          cb(e, i) {
            i.forEach((s) => {
              if (v3(s)) e.append(un());
              else if (b3(s)) {
                const r = new Jt(),
                  n = new qe({ label: this.sb(s.label), submenu: r });
                this.cb(r, s.submenu.items), e.append(n);
              } else
                y3(s)
                  ? e.append(this.fb(s))
                  : vF(s) &&
                    (s.id === 'workbench.action.showAboutDialog' && this.eb(e),
                    Q
                      ? (this.w.getWindowCount() === 0 && this.f) ||
                        (this.w.getWindowCount() > 0 && this.g)
                        ? this.s[s.id]
                          ? e.append(
                              new qe(
                                this.pb(s.id, { label: this.sb(s.label), click: this.s[s.id] })
                              )
                            )
                          : e.append(this.lb(s.label, s.id, !1, s.checked))
                        : e.append(this.lb(s.label, s.id, s.enabled !== !1, !!s.checked))
                      : e.append(this.lb(s.label, s.id, s.enabled !== !1, !!s.checked)));
            });
          }
          db(e, i) {
            this.n && this.n[i] && this.cb(e, this.n[i].items);
          }
          eb(e) {
            const i = this.kb();
            i.length && (i.forEach((s) => e.append(s)), e.append(un()));
          }
          fb(e) {
            const i = _.revive(e.uri),
              s = e.id,
              r =
                s === 'openRecentFile'
                  ? { fileUri: i }
                  : s === 'openRecentWorkspace'
                  ? { workspaceUri: i }
                  : { folderUri: i };
            return new qe(
              this.pb(
                s,
                {
                  label: e.label,
                  click: async (n, o, a) => {
                    const c = this.gb(a);
                    (
                      await this.w.open({
                        context: 2,
                        cli: this.y.args,
                        urisToOpen: [r],
                        forceNewWindow: c,
                        gotoLineMode: !1,
                        remoteAuthority: e.remoteAuthority,
                      })
                    ).length > 0 || (await this.C.removeRecentlyOpened([i]));
                  },
                },
                !1
              )
            );
          }
          gb(e) {
            return !!(e && ((!Q && (e.ctrlKey || e.shiftKey)) || (Q && (e.metaKey || e.altKey))));
          }
          hb(e) {
            return !!(e.triggeredByAccelerator || e.altKey || e.ctrlKey || e.metaKey || e.shiftKey);
          }
          ib(e, i, s) {
            const r = { label: this.sb(e), role: s, enabled: !0 };
            return new qe(this.ob(i, r));
          }
          jb(e) {
            const i = new qe({
                label: u(2157, null),
                role: 'minimize',
                accelerator: 'Command+M',
                enabled: this.w.getWindowCount() > 0,
              }),
              s = new qe({
                label: u(2158, null),
                role: 'zoom',
                enabled: this.w.getWindowCount() > 0,
              }),
              r = new qe({
                label: u(2159, null),
                role: 'front',
                enabled: this.w.getWindowCount() > 0,
              }),
              n = this.lb(u(2160, null), 'workbench.action.switchWindow'),
              o = [];
            this.Q &&
              (o.push(un()),
              o.push(this.lb(u(2161, null), 'workbench.action.newWindowTab')),
              o.push(
                this.ib(
                  u(2162, null),
                  'workbench.action.showPreviousWindowTab',
                  'selectPreviousTab'
                )
              ),
              o.push(this.ib(u(2163, null), 'workbench.action.showNextWindowTab', 'selectNextTab')),
              o.push(
                this.ib(
                  u(2164, null),
                  'workbench.action.moveWindowTabToNewWindow',
                  'moveTabToNewWindow'
                )
              ),
              o.push(
                this.ib(u(2165, null), 'workbench.action.mergeAllWindowTabs', 'mergeAllWindows')
              )),
              [i, s, un(), n, ...o, un(), r].forEach((a) => e.append(a));
          }
          kb() {
            switch (this.t.state.type) {
              case 'idle':
                return [
                  new qe({
                    label: this.sb(u(2166, null)),
                    click: () =>
                      setTimeout(() => {
                        this.rb('CheckForUpdate'), this.t.checkForUpdates(!0);
                      }, 0),
                  }),
                ];
              case 'checking for updates':
                return [new qe({ label: u(2167, null), enabled: !1 })];
              case 'available for download':
                return [
                  new qe({
                    label: this.sb(u(2168, null)),
                    click: () => {
                      this.t.downloadUpdate();
                    },
                  }),
                ];
              case 'downloading':
                return [new qe({ label: u(2169, null), enabled: !1 })];
              case 'downloaded':
                return Q
                  ? []
                  : [
                      new qe({
                        label: this.sb(u(2170, null)),
                        click: () => {
                          this.rb('InstallUpdate'), this.t.applyUpdate();
                        },
                      }),
                    ];
              case 'updating':
                return [new qe({ label: u(2171, null), enabled: !1 })];
              case 'ready':
                return [
                  new qe({
                    label: this.sb(u(2172, null)),
                    click: () => {
                      this.rb('RestartToUpdate'), this.t.quitAndInstall();
                    },
                  }),
                ];
              default:
                return [];
            }
          }
          lb(e, i, s, r) {
            const n = this.sb(e),
              o =
                typeof i == 'function'
                  ? i
                  : (d, p, m) => {
                      const w = d ? d.userSettingsLabel : null;
                      let v = i;
                      Array.isArray(i) && (v = this.gb(m) ? i[1] : i[0]),
                        w && m.triggeredByAccelerator
                          ? this.nb({ type: 'keybinding', userSettingsLabel: w })
                          : this.nb({ type: 'commandId', commandId: v }),
                        this.X(v);
                    },
              a = typeof s == 'boolean' ? s : this.w.getWindowCount() > 0,
              c = typeof r == 'boolean' ? r : !1,
              l = { label: n, click: o, enabled: a };
            c && ((l.type = 'checkbox'), (l.checked = c));
            let h;
            return (
              typeof i == 'string' ? (h = i) : Array.isArray(i) && (h = i[0]),
              Q &&
                (h === 'editor.action.clipboardCutAction'
                  ? (l.role = 'cut')
                  : h === 'editor.action.clipboardCopyAction'
                  ? (l.role = 'copy')
                  : h === 'editor.action.clipboardPasteAction' && (l.role = 'paste'),
                h === 'undo'
                  ? (l.click = this.mb(o, {
                      inDevTools: (d) => d.undo(),
                      inNoWindow: () => Jt.sendActionToFirstResponder('undo:'),
                    }))
                  : h === 'redo'
                  ? (l.click = this.mb(o, {
                      inDevTools: (d) => d.redo(),
                      inNoWindow: () => Jt.sendActionToFirstResponder('redo:'),
                    }))
                  : h === 'editor.action.selectAll' &&
                    (l.click = this.mb(o, {
                      inDevTools: (d) => d.selectAll(),
                      inNoWindow: () => Jt.sendActionToFirstResponder('selectAll:'),
                    }))),
              new qe(this.ob(h, l))
            );
          }
          mb(e, i) {
            return (s, r, n) => {
              const o = Qf.getFocusedWindow();
              if (!o) return i.inNoWindow();
              if (o.webContents.isDevToolsFocused() && o.webContents.devToolsWebContents)
                return i.inDevTools(o.webContents.devToolsWebContents);
              e(s, r || o, n);
            };
          }
          nb(e) {
            let i = Qf.getFocusedWindow();
            if (i) {
              const r = this.J.getWindowByWebContents(i.webContents);
              r && (i = this.w.getWindowById(r.parentId)?.win ?? null);
            }
            if (!i) {
              const r = this.w.getLastActiveWindow();
              r?.win?.isMinimized() && (i = r.win);
            }
            const s = i ? this.w.getWindowById(i.id) : void 0;
            if (s) {
              if (
                (this.G.trace('menubar#runActionInRenderer', e),
                Q &&
                  !this.y.isBuilt &&
                  !s.isReady &&
                  ((e.type === 'commandId' && e.commandId === 'workbench.action.toggleDevTools') ||
                    (e.type !== 'commandId' && e.userSettingsLabel === 'alt+cmd+i')))
              )
                return !1;
              if (e.type === 'commandId') {
                const r = { id: e.commandId, from: 'menu' };
                s.sendWhenReady('vscode:runAction', gt.None, r);
              } else {
                const r = { userSettingsLabel: e.userSettingsLabel };
                s.sendWhenReady('vscode:runKeybinding', gt.None, r);
              }
              return !0;
            } else
              return this.G.trace('menubar#runActionInRenderer: no active window found', e), !1;
          }
          ob(e, i) {
            const s = typeof e == 'string' ? this.r[e] : void 0;
            if (s?.label) {
              if (s.isNative !== !1)
                (i.accelerator = s.label), (i.userSettingsLabel = s.userSettingsLabel);
              else if (typeof i.label == 'string') {
                const r = i.label.indexOf('[');
                r >= 0
                  ? (i.label = `${i.label.substr(0, r)} [${s.label}]`)
                  : (i.label = `${i.label} [${s.label}]`);
              }
            } else i.accelerator = void 0;
            return i;
          }
          pb(e, i, s = !i.accelerator) {
            s && (i = this.ob(e, i));
            const r = i.click;
            return (
              (i.click = (n, o, a) => {
                this.rb(e), r?.(n, o, a);
              }),
              i
            );
          }
          qb(e, i) {
            this.H.openExternal(void 0, e), this.rb(i);
          }
          rb(e) {
            this.z.publicLog2('workbenchActionExecuted', { id: e, from: bu }), this.X(e);
          }
          sb(e) {
            return jP(e, !this.P);
          }
        }),
        (ep = Zf =
          __decorate(
            [
              __param(0, Go),
              __param(1, Ve),
              __param(2, Tt),
              __param(3, dt),
              __param(4, Vt),
              __param(5, wu),
              __param(6, kt),
              __param(7, st),
              __param(8, ee),
              __param(9, $r),
              __param(10, Be),
              __param(11, Ya),
              __param(12, Bi),
            ],
            ep
          ));
    },
  }),
  Gw,
  tp,
  EF = b({
    'out-build/vs/platform/menubar/electron-main/menubarMainService.js'() {
      'use strict';
      K(),
        St(),
        se(),
        SF(),
        U(),
        (Gw = W('menubarMainService')),
        (tp = class extends H {
          constructor(e, i, s) {
            super(), (this.b = e), (this.c = i), (this.f = s), (this.a = this.g());
          }
          async g() {
            return await this.c.when(3), this.B(this.b.createInstance(ep));
          }
          async updateMenubar(e, i) {
            this.f.trace('menubarService#updateMenubar', e), (await this.a).updateMenu(i, e);
          }
        }),
        (tp = __decorate([__param(0, Ks), __param(1, st), __param(2, ee)], tp));
    },
  }),
  Ko,
  qw,
  Kw,
  Pr = b({
    'out-build/vs/platform/policy/common/policy.js'() {
      'use strict';
      X(),
        el(),
        U(),
        K(),
        (Ko = W('policy')),
        (qw = class extends H {
          constructor() {
            super(...arguments),
              (this.f = {}),
              (this.g = new Map()),
              (this.h = this.B(new $())),
              (this.onDidChange = this.h.event);
          }
          async updatePolicyDefinitions(t) {
            const e = Object.keys(this.f).length;
            return (
              (this.f = { ...t, ...this.f }),
              e !== Object.keys(this.f).length && (await this.j(t)),
              An.reduce(this.g.entries(), (i, [s, r]) => ({ ...i, [s]: r }), {})
            );
          }
          getPolicyValue(t) {
            return this.g.get(t);
          }
          serialize() {
            return An.reduce(
              Object.entries(this.f),
              (t, [e, i]) => ({ ...t, [e]: { definition: i, value: this.g.get(e) } }),
              {}
            );
          }
        }),
        (Kw = class {
          constructor() {
            this.onDidChange = P.None;
          }
          async updatePolicyDefinitions() {
            return {};
          }
          getPolicyValue() {}
          serialize() {}
        });
    },
  });
async function CF(t, e, i, s, r) {
  try {
    const n = await import('@vscode/spdlog');
    n.setFlushOn(hn.Trace);
    const o = await n.createAsyncRotatingLogger(t, e, i, s);
    return r ? o.clearFormatters() : o.setPattern('%Y-%m-%dT%H:%M:%S.%e%z [%l] %v'), o;
  } catch (n) {
    console.error(n);
  }
  return null;
}
function C3(t, e, i) {
  switch (e) {
    case ce.Trace:
      t.trace(i);
      break;
    case ce.Debug:
      t.debug(i);
      break;
    case ce.Info:
      t.info(i);
      break;
    case ce.Warning:
      t.warn(i);
      break;
    case ce.Error:
      t.error(i);
      break;
    case ce.Off:
      break;
    default:
      throw new Error(`Invalid log level ${e}`);
  }
}
function D3(t, e) {
  switch (e) {
    case ce.Trace:
      t.setLevel(hn.Trace);
      break;
    case ce.Debug:
      t.setLevel(hn.Debug);
      break;
    case ce.Info:
      t.setLevel(hn.Info);
      break;
    case ce.Warning:
      t.setLevel(hn.Warning);
      break;
    case ce.Error:
      t.setLevel(hn.Error);
      break;
    case ce.Off:
      t.setLevel(hn.Off);
      break;
    default:
      throw new Error(`Invalid log level ${e}`);
  }
}
var hn,
  x3,
  DF = b({
    'out-build/vs/platform/log/node/spdlogLog.js'() {
      'use strict';
      ft(),
        se(),
        (function (t) {
          (t[(t.Trace = 0)] = 'Trace'),
            (t[(t.Debug = 1)] = 'Debug'),
            (t[(t.Info = 2)] = 'Info'),
            (t[(t.Warning = 3)] = 'Warning'),
            (t[(t.Error = 4)] = 'Error'),
            (t[(t.Critical = 5)] = 'Critical'),
            (t[(t.Off = 6)] = 'Off');
        })(hn || (hn = {})),
        (x3 = class extends vm {
          constructor(t, e, i, s, r) {
            super(),
              (this.n = []),
              this.setLevel(r),
              (this.r = this.t(t, e, i, s)),
              this.B(
                this.onDidChangeLogLevel((n) => {
                  this.s && D3(this.s, n);
                })
              );
          }
          async t(t, e, i, s) {
            const r = i ? 6 : 1,
              n = (30 / r) * To.MB,
              o = await CF(t, e, n, r, s);
            if (o) {
              (this.s = o), D3(this.s, this.getLevel());
              for (const { level: a, message: c } of this.n) C3(this.s, a, c);
              this.n = [];
            }
          }
          m(t, e) {
            this.s
              ? C3(this.s, t, e)
              : this.getLevel() <= t && this.n.push({ level: t, message: e });
          }
          flush() {
            this.q.isDisposed || (this.s ? this.w() : this.r.then(() => this.w()));
          }
          dispose() {
            this.s ? this.y() : this.r.then(() => this.y()), super.dispose();
          }
          w() {
            this.s && this.s.flush();
          }
          y() {
            this.s && (this.s.drop(), (this.s = void 0));
          }
        });
    },
  }),
  A3,
  xF = b({
    'out-build/vs/platform/log/node/loggerService.js'() {
      'use strict';
      hi(),
        se(),
        DF(),
        (A3 = class extends d7 {
          t(t, e, i) {
            return new x3(ei(), t.fsPath, !i?.donotRotate, !!i?.donotUseFormatters, e);
          }
        });
    },
  }),
  dc,
  I3,
  vu = b({
    'out-build/vs/platform/log/electron-main/loggerService.js'() {
      'use strict';
      Pi(),
        X(),
        K(),
        se(),
        xF(),
        (dc = Po),
        (I3 = class extends A3 {
          constructor() {
            super(...arguments), (this.u = new bi());
          }
          createLogger(t, e, i) {
            i !== void 0 && this.u.set(this.s(t), i);
            try {
              return super.createLogger(t, e);
            } catch (s) {
              throw (this.u.delete(this.s(t)), s);
            }
          }
          registerLogger(t, e) {
            e !== void 0 && this.u.set(t.resource, e), super.registerLogger(t);
          }
          deregisterLogger(t) {
            this.u.delete(t), super.deregisterLogger(t);
          }
          getGlobalLoggers() {
            const t = [];
            for (const e of super.getRegisteredLoggers()) this.u.has(e.resource) || t.push(e);
            return t;
          }
          getOnDidChangeLogLevelEvent(t) {
            return P.filter(this.onDidChangeLogLevel, (e) => l7(e) || this.w(e[0], t));
          }
          getOnDidChangeVisibilityEvent(t) {
            return P.filter(this.onDidChangeVisibility, ([e]) => this.w(e, t));
          }
          getOnDidChangeLoggersEvent(t) {
            return P.filter(
              P.map(this.onDidChangeLoggers, (e) => ({
                added: [...e.added].filter((s) => this.w(s.resource, t)),
                removed: [...e.removed].filter((s) => this.w(s.resource, t)),
              })),
              (e) => e.added.length > 0 || e.removed.length > 0
            );
          }
          deregisterLoggers(t) {
            for (const [e, i] of this.u) i === t && this.deregisterLogger(e);
          }
          w(t, e) {
            const i = this.u.get(t);
            return i === void 0 || i === e;
          }
          dispose() {
            super.dispose(), this.u.clear();
          }
        });
    },
  });
function AF(t) {
  if (ya === 2 && /^penguin(\.|$)/i.test(t)) return 'chromebook';
}
function IF(t, e, i, s, r, n, o, a, c, l, h, d, p, m, w, v, k, y) {
  const C = Object.create(null);
  (C['common.machineId'] = o),
    (C['common.sqmId'] = a),
    (C['common.devDeviceId'] = c),
    (C['common.deviceId'] = y || '0'),
    (C.sessionID = ei() + Date.now()),
    (C.commitHash = s),
    (C.version = r),
    (C['common.platformVersion'] = (t || '').replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/, '$1$2$3')),
    (C['common.platform'] = Qg(ya)),
    (C['common.nodePlatform'] = Vr),
    (C['common.nodeArch'] = i),
    (C['common.product'] = h || 'desktop'),
    (C.memory = p),
    (C.cpu = m),
    (C.memoryUsagePercentage = w),
    (C.cpuPercentage = v),
    (C['native.buildVersion'] = d),
    (C.buildVersion = d),
    (C.quality = k),
    (C.platform = Qg(ya)),
    (C.nodePlatform = Vr),
    (C.appVersion = n),
    l && (C['common.msftInternal'] = l);
  let I = 0;
  const E = Date.now();
  Object.defineProperties(C, {
    timestamp: { get: () => new Date(), enumerable: !0 },
    'common.timesincesessionstart': { get: () => Date.now() - E, enumerable: !0 },
    'common.sequence': { get: () => I++, enumerable: !0 },
  }),
    n0 && (C['common.snap'] = 'true');
  const x = AF(e);
  return x && (C['common.platformDetail'] = x), C;
}
function $F(t) {
  const e = Ye.USERDNSDOMAIN;
  if (!e) return !1;
  const i = e.toLowerCase();
  return t.some((s) => i === s);
}
var $3 = b({
  'out-build/vs/platform/telemetry/common/commonProperties.js'() {
    'use strict';
    ie(), Vs(), hi();
  },
});
function P3(t, e) {
  return !e.isBuilt && !e.disableTelemetry ? !0 : !(e.disableTelemetry || !t.enableTelemetry);
}
function Jw(t) {
  const e = t.getValue(jl),
    i = t.getValue(Fm);
  if (t.getValue(tf) === !1 || i === !1) return 0;
  switch (e ?? 'all') {
    case 'all':
      return 3;
    case 'error':
      return 2;
    case 'crash':
      return 1;
    case 'off':
      return 0;
  }
}
function PF(t, e) {
  const i = t.msftInternalDomains || [],
    s = e.getValue('telemetry.internalTesting');
  return $F(i) || s;
}
function _F(t) {
  return [t.appRoot, t.extensionsPath, t.userHome.fsPath, t.tmpDir.fsPath, t.userDataPath];
}
function LF(t, e) {
  if (!t || (!t.includes('/') && !t.includes('\\'))) return t;
  let i = t;
  const s = [];
  for (const a of e)
    for (;;) {
      const c = a.exec(t);
      if (!c) break;
      s.push([c.index, a.lastIndex]);
    }
  const r = /^[\\\/]?(node_modules|node_modules\.asar)[\\\/]/,
    n = /(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-\._]+(\\\\|\\|\/))+[\w-\._]*/g;
  let o = 0;
  for (i = ''; ; ) {
    const a = n.exec(t);
    if (!a) break;
    const c = s.some(([l, h]) => a.index < h && l < n.lastIndex);
    !r.test(a[0]) &&
      !c &&
      ((i += t.substring(o, a.index) + '<REDACTED: user-file-path>'), (o = n.lastIndex));
  }
  return o < t.length && (i += t.substr(o)), i;
}
function TF(t) {
  if (!t) return t;
  const e = [
    { label: 'Google API Key', regex: /AIza[A-Za-z0-9_\\\-]{35}/ },
    { label: 'Slack Token', regex: /xox[pbar]\-[A-Za-z0-9]/ },
    {
      label: 'GitHub Token',
      regex: /(gh[psuro]_[a-zA-Z0-9]{36}|github_pat_[a-zA-Z0-9]{22}_[a-zA-Z0-9]{59})/,
    },
    {
      label: 'Generic Secret',
      regex: /(key|token|sig|secret|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/i,
    },
    {
      label: 'CLI Credentials',
      regex:
        /((login|psexec|(certutil|psexec)\.exe).{1,50}(\s-u(ser(name)?)?\s+.{3,100})?\s-(admin|user|vm|root)?p(ass(word)?)?\s+["']?[^$\-\/\s]|(^|[\s\r\n\\])net(\.exe)?.{1,5}(user\s+|share\s+\/user:| user -? secrets ? set) \s + [^ $\s \/])/,
    },
    {
      label: 'Microsoft Entra ID',
      regex: /eyJ(?:0eXAiOiJKV1Qi|hbGci|[a-zA-Z0-9\-_]+\.[a-zA-Z0-9\-_]+\.)/,
    },
    { label: 'Email', regex: /@[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+/ },
  ];
  for (const i of e) if (i.regex.test(t)) return `<REDACTED: ${i.label}>`;
  return t;
}
function MF(t, e) {
  return o$(t, (i) => {
    if (i instanceof _3 || Object.hasOwnProperty.call(i, 'isTrustedTelemetryValue')) return i.value;
    if (typeof i == 'string') {
      let s = i.replaceAll('%20', ' ');
      s = LF(s, e);
      for (const r of e) s = s.replace(r, '');
      return (s = TF(s)), s;
    }
  });
}
var _3,
  L3,
  yu,
  T3,
  FF,
  Jo = b({
    'out-build/vs/platform/telemetry/common/telemetryUtils.js'() {
      'use strict';
      mi(),
        $e(),
        he(),
        Xl(),
        $3(),
        Gt(),
        (_3 = class {
          constructor(t) {
            (this.value = t), (this.isTrustedTelemetryValue = !0);
          }
        }),
        (L3 = class {
          constructor() {
            (this.telemetryLevel = 0),
              (this.sessionId = 'someValue.sessionId'),
              (this.machineId = 'someValue.machineId'),
              (this.sqmId = 'someValue.sqmId'),
              (this.devDeviceId = 'someValue.devDeviceId'),
              (this.firstSessionDate = 'someValue.firstSessionDate'),
              (this.sendErrorTelemetry = !1);
          }
          publicLog() {}
          publicLog2() {}
          publicLogError() {}
          publicLogError2() {}
          setExperimentProperty() {}
        }),
        (yu = new L3()),
        (T3 = 'telemetry'),
        (FF = { id: T3, name: u(2296, null) });
    },
  }),
  ip,
  Xw,
  Yw,
  OF = b({
    'out-build/vs/platform/sharedProcess/common/sharedProcess.js'() {
      'use strict';
      (ip = {
        exit: 'vscode:electron-main->shared-process=exit',
        ipcReady: 'vscode:shared-process->electron-main=ipc-ready',
        initDone: 'vscode:shared-process->electron-main=init-done',
      }),
        (Xw = {
          request: 'vscode:createSharedProcessChannelConnection',
          response: 'vscode:createSharedProcessChannelConnectionResult',
        }),
        (Yw = {
          request: 'vscode:createSharedProcessRawConnection',
          response: 'vscode:createSharedProcessRawConnectionResult',
        });
    },
  }),
  sp,
  RF = b({
    'out-build/vs/platform/sharedProcess/electron-main/sharedProcess.js'() {
      'use strict';
      Ei(),
        le(),
        U(),
        vt(),
        St(),
        se(),
        Dr(),
        Pr(),
        vu(),
        Ho(),
        Jo(),
        hm(),
        $e(),
        OF(),
        X(),
        ls(),
        (sp = class extends H {
          constructor(e, i, s, r, n, o, a, c, l) {
            super(),
              (this.g = e),
              (this.h = i),
              (this.j = s),
              (this.m = r),
              (this.n = n),
              (this.r = o),
              (this.s = a),
              (this.t = c),
              (this.u = l),
              (this.a = new Mn()),
              (this.b = void 0),
              (this.c = void 0),
              (this.f = this.B(new $())),
              (this.onDidCrash = this.f.event),
              (this.C = void 0),
              (this.D = void 0),
              this.w();
          }
          w() {
            de.on(Xw.request, (e, i) => this.y(e, i, Xw.response)),
              de.on(Yw.request, (e, i) => this.y(e, i, Yw.response)),
              this.B(this.r.onWillShutdown(() => this.z()));
          }
          async y(e, i, s) {
            this.s.trace(`[SharedProcess] onWindowConnection for: ${s}`),
              this.a.isOpen() || this.a.open(),
              await this.whenReady();
            const r = await this.connect(s);
            if (e.sender.isDestroyed()) return r.close();
            e.sender.postMessage(s, i, [r]);
          }
          z() {
            this.s.trace('[SharedProcess] onWillShutdown'),
              this.b?.postMessage(ip.exit),
              (this.b = void 0);
          }
          whenReady() {
            return (
              this.C ||
                (this.C = (async () => {
                  await this.F;
                  const e = new zt();
                  this.b?.once(ip.initDone, () => e.complete()),
                    await e.p,
                    this.c?.dispose(),
                    this.s.trace('[SharedProcess] Overall ready');
                })()),
              this.C
            );
          }
          get F() {
            return (
              this.D ||
                (this.D = (async () => {
                  await this.a.wait(), this.G();
                  const e = new zt();
                  this.b?.once(ip.ipcReady, () => e.complete()),
                    await e.p,
                    this.s.trace('[SharedProcess] IPC ready');
                })()),
              this.D
            );
          }
          G() {
            (this.b = this.B(new nn(this.s, yu, this.r, Y9))),
              (this.c = this.b.onMessage((s) => {
                typeof s.warning == 'string'
                  ? this.s.warn(s.warning)
                  : typeof s.error == 'string' && this.s.error(s.error);
              }));
            const e = tL(this.m.args, this.m.isBuilt);
            let i;
            e.port &&
              ((i = ['--nolazy']),
              e.break ? i.push(`--inspect-brk=${e.port}`) : i.push(`--inspect=${e.port}`)),
              this.b.start({
                type: 'shared-process',
                entryPoint: 'vs/code/electron-utility/sharedProcess/sharedProcessMain',
                payload: this.H(),
                respondToAuthRequestsFromMainProcess: !0,
                execArgv: i,
              }),
              this.B(this.b.onCrash(() => this.f.fire()));
          }
          H() {
            return {
              machineId: this.g,
              sqmId: this.h,
              devDeviceId: this.j,
              codeCachePath: this.m.codeCachePath,
              profiles: { home: this.n.profilesHome, all: this.n.profiles },
              args: this.m.args,
              logLevel: this.t.getLogLevel(),
              loggers: this.t.getGlobalLoggers(),
              policiesData: this.u.serialize(),
            };
          }
          async connect(e) {
            return await this.F, zc(this.b).connect(e);
          }
        }),
        (sp = __decorate(
          [
            __param(3, dt),
            __param(4, Cr),
            __param(5, st),
            __param(6, ee),
            __param(7, dc),
            __param(8, Ko),
          ],
          sp
        ));
    },
  }),
  M3,
  fc,
  Qw = b({
    'out-build/vs/platform/sign/common/sign.js'() {
      'use strict';
      K(), (M3 = 'signService'), (fc = W(M3));
    },
  }),
  F3,
  NF = b({
    'out-build/vs/platform/storage/electron-main/storageIpc.js'() {
      'use strict';
      X(),
        U(),
        Cd(),
        Oi(),
        (F3 = class $I extends H {
          static {
            this.a = 100;
          }
          constructor(e, i) {
            super(),
              (this.f = e),
              (this.g = i),
              (this.b = this.B(new $())),
              (this.c = new Map()),
              this.h(i.applicationStorage, this.b);
          }
          h(e, i) {
            this.B(
              P.debounce(
                e.onDidChangeStorage,
                (s, r) => (s ? s.push(r) : (s = [r]), s),
                $I.a
              )((s) => {
                s.length && i.fire(this.j(s, e));
              })
            );
          }
          j(e, i) {
            const s = new Map(),
              r = new Set();
            return (
              e.forEach((n) => {
                const o = i.get(n.key);
                typeof o == 'string' ? s.set(n.key, o) : r.add(n.key);
              }),
              { changed: Array.from(s.entries()), deleted: Array.from(r.values()) }
            );
          }
          listen(e, i, s) {
            switch (i) {
              case 'onDidChangeStorage': {
                const r = s.profile ? On(s.profile) : void 0;
                if (!r) return this.b.event;
                let n = this.c.get(r.id);
                return (
                  n ||
                    ((n = this.B(new $())),
                    this.h(this.g.profileStorage(r), n),
                    this.c.set(r.id, n)),
                  n.event
                );
              }
            }
            throw new Error(`Event not found: ${i}`);
          }
          async call(e, i, s) {
            const r = s.profile ? On(s.profile) : void 0,
              n = dL(s.workspace),
              o = await this.m(r, n);
            switch (i) {
              case 'getItems':
                return Array.from(o.items.entries());
              case 'updateItems': {
                const a = s;
                if (a.insert) for (const [c, l] of a.insert) o.set(c, l);
                a.delete?.forEach((c) => o.delete(c));
                break;
              }
              case 'optimize':
                return o.optimize();
              case 'isUsed': {
                const a = s.payload;
                if (typeof a == 'string') return this.g.isUsed(a);
              }
              default:
                throw new Error(`Call not found: ${i}`);
            }
          }
          async m(e, i) {
            let s;
            i
              ? (s = this.g.workspaceStorage(i))
              : e
              ? (s = this.g.profileStorage(e))
              : (s = this.g.applicationStorage);
            try {
              await s.init();
            } catch (r) {
              this.f.error(
                `StorageIPC#init: Unable to init ${
                  i ? 'workspace' : e ? 'profile' : 'application'
                } storage due to ${r}`
              );
            }
            return s;
          }
        });
    },
  }),
  O3,
  BF = b({
    'out-build/vs/platform/telemetry/common/telemetryIpc.js'() {
      'use strict';
      O3 = class {
        constructor(t) {
          this.b = t;
        }
        log(t, e) {
          return (
            this.b
              .call('log', { eventName: t, data: e })
              .then(void 0, (i) => `Failed to log telemetry: ${console.warn(i)}`),
            Promise.resolve(null)
          );
        }
        flush() {
          return Promise.resolve();
        }
      };
    },
  });
function UF() {
  const t = u(2278, null, _s.nameLong),
    e = _s.privacyStatementUrl
      ? u(2280, null, 'https://aka.ms/vscode-telemetry', _s.privacyStatementUrl)
      : u(2279, null, 'https://aka.ms/vscode-telemetry'),
    i = xn ? '' : u(2281, null),
    s = u(2282, null),
    r = u(2283, null),
    n = u(2284, null),
    o = u(2285, null),
    a = `
|       | ${s} | ${r} | ${n} |
|:------|:---------------------:|:---------------:|:--------------:|
| all   |            \u2713          |        \u2713        |        \u2713       |
| error |            \u2713          |        \u2713        |        -       |
| crash |            \u2713          |        -        |        -       |
| off   |            -          |        -        |        -       |
`,
    c = u(2286, null);
  return `
${t} ${e} ${i}

&nbsp;

${o}
${a}

&nbsp;

${c}
`;
}
var rp,
  jF = b({
    'out-build/vs/platform/telemetry/common/telemetryService.js'() {
      'use strict';
      U(),
        mi(),
        ie(),
        Wt(),
        he(),
        Ge(),
        _n(),
        fu(),
        Ze(),
        li(),
        Gt(),
        Jo(),
        (rp = class {
          static {
            this.IDLE_START_EVENT_NAME = 'UserIdleStart';
          }
          static {
            this.IDLE_STOP_EVENT_NAME = 'UserIdleStop';
          }
          constructor(e, i, s) {
            (this.k = i),
              (this.l = s),
              (this.d = {}),
              (this.i = new je()),
              (this.j = []),
              (this.b = e.appenders),
              (this.c = e.commonProperties ?? Object.create(null)),
              (this.sessionId = this.c.sessionID),
              (this.machineId = this.c['common.machineId']),
              (this.sqmId = this.c['common.sqmId']),
              (this.devDeviceId = this.c['common.devDeviceId']),
              (this.firstSessionDate = this.c['common.firstSessionDate']),
              (this.msftInternal = this.c['common.msftInternal']),
              (this.f = e.piiPaths || []),
              (this.g = 3),
              (this.h = !!e.sendErrorTelemetry),
              (this.j = [/(vscode-)?file:\/\/\/.*?\/resources\/app\//gi]);
            for (const r of this.f)
              this.j.push(new RegExp(Aa(r), 'gi')),
                r.indexOf('\\') >= 0 && this.j.push(new RegExp(Aa(r.replace(/\\/g, '/')), 'gi'));
            this.m(),
              this.i.add(
                this.k.onDidChangeConfiguration((r) => {
                  (r.affectsConfiguration(jl) ||
                    r.affectsConfiguration(tf) ||
                    r.affectsConfiguration(Fm)) &&
                    this.m();
                })
              );
          }
          setExperimentProperty(e, i) {
            this.d[e] = i;
          }
          m() {
            let e = Jw(this.k);
            const i = this.l.enabledTelemetryLevels;
            if (i) {
              this.h = this.sendErrorTelemetry ? i.error : !1;
              const s = i.usage ? 3 : i.error ? 2 : 0;
              e = Math.min(e, s);
            }
            this.g = e;
          }
          get sendErrorTelemetry() {
            return this.h;
          }
          get telemetryLevel() {
            return this.g;
          }
          dispose() {
            this.i.dispose();
          }
          n(e, i, s) {
            this.g < i ||
              ((s = dr(s, this.d)),
              (s = MF(s, this.j)),
              (s = dr(s, this.c)),
              (s = dr(s, { build_version: this.l.tronBuildVersion })),
              this.b.forEach((r) => r.log(e, s)));
          }
          publicLog(e, i) {
            this.n(e, 3, i);
          }
          publicLog2(e, i) {
            this.publicLog(e, i);
          }
          publicLogError(e, i) {
            this.h && this.n(e, 2, i);
          }
          publicLogError2(e, i) {
            this.publicLogError(e, i);
          }
        }),
        (rp = __decorate([__param(1, Ve), __param(2, Be)], rp)),
        tt
          .as(Li.Configuration)
          .registerConfiguration({
            id: Mm,
            order: 1,
            type: 'object',
            title: u(2287, null),
            properties: {
              [jl]: {
                type: 'string',
                enum: ['all', 'error', 'crash', 'off'],
                enumDescriptions: [u(2288, null), u(2289, null), u(2290, null), u(2291, null)],
                markdownDescription: UF(),
                default: 'all',
                restricted: !0,
                scope: 1,
                tags: ['usesOnlineServices', 'telemetry'],
              },
            },
          }),
        tt
          .as(Li.Configuration)
          .registerConfiguration({
            id: Mm,
            order: 110,
            type: 'object',
            title: u(2292, null),
            properties: {
              [tf]: {
                type: 'boolean',
                markdownDescription: _s.privacyStatementUrl
                  ? u(2294, null, _s.nameLong, _s.privacyStatementUrl)
                  : u(2293, null, _s.nameLong),
                default: !0,
                restricted: !0,
                markdownDeprecationMessage: u(2295, null, `\`#${jl}#\``),
                scope: 1,
                tags: ['usesOnlineServices', 'telemetry'],
              },
            },
          });
    },
  }),
  R3,
  WF = b({
    'out-build/vs/platform/update/common/updateIpc.js'() {
      'use strict';
      X(),
        U(),
        ln(),
        (R3 = class {
          constructor(t) {
            this.a = t;
          }
          listen(t, e) {
            switch (e) {
              case 'onStateChange':
                return this.a.onStateChange;
              case 'onForceUpdate':
                return this.a.onForceUpdate;
            }
            throw new Error(`Event not found: ${e}`);
          }
          call(t, e, i) {
            switch (e) {
              case 'checkForUpdates':
                return this.a.checkForUpdates(i);
              case 'downloadUpdate':
                return this.a.downloadUpdate();
              case 'applyUpdate':
                return this.a.applyUpdate();
              case 'quitAndInstall':
                return this.a.quitAndInstall();
              case '_getInitialState':
                return Promise.resolve(this.a.state);
              case 'isLatestVersion':
                return this.a.isLatestVersion();
              case '_applySpecificUpdate':
                return this.a._applySpecificUpdate(i);
              case 'setState':
                return Promise.resolve(this.a.setState(i));
            }
            throw new Error(`Call not found: ${e}`);
          }
        });
    },
  });
function HF(t) {
  switch (t) {
    case ap.I18N:
      return ii.SG;
    default:
      return ii.CN;
  }
}
var N3,
  Zw,
  ku,
  np,
  op,
  B3,
  U3,
  di,
  j3,
  ap,
  ii,
  Su,
  zF,
  W3,
  Eu,
  eb,
  Zs = b({
    'out-build/vs/base/common/iCube/userInfo.js'() {
      'use strict';
      wi(),
        (N3 = 'iCubeAuthInfo'),
        (Zw = 'iCubeNativeAppLocationRegion'),
        (ku = 'iCubeNativeAppStartSetup'),
        (np = 'iCubeNativeAppInitialEvent'),
        (op = 'iCubeSetupPageLoginFailed'),
        (function (t) {
          (t.ChatRequest = 'ChatRequest'), (t.CodeCompletion = 'CodeCompletion');
        })(B3 || (B3 = {})),
        (function (t) {
          (t.USEast = 'US-East'),
            (t.SG = 'Singapore-Central'),
            (t.BOEI18N = 'US-BOE'),
            (t.BOE = 'China-BOE'),
            (t.CN = 'China-North');
        })(U3 || (U3 = {})),
        (function (t) {
          (t.BYTEDANCE = 'bytedance'), (t.MARSCODE = 'marscode');
        })(di || (di = {})),
        (function (t) {
          (t.BYTEDANCE = 'bytedance'),
            (t.DCAR = 'dcar'),
            (t.MARSCODE_CN = 'marscode_cn'),
            (t.MARSCODE_COM = 'marscode_com'),
            (t.UNKNOWN = 'unknown');
        })(j3 || (j3 = {})),
        (function (t) {
          (t.CN = 'cn'), (t.I18N = 'i18n');
        })(ap || (ap = {})),
        (function (t) {
          (t.CN = 'CN'), (t.SG = 'SG'), (t.US = 'US'), (t.BOE = 'BOE'), (t.BOEI18N = 'BOEI18N');
        })(ii || (ii = {})),
        (function (t) {
          (t.cn = 'cn'), (t.sg = 'sg'), (t.us = 'us');
        })(Su || (Su = {})),
        (zF = { [Su.cn]: ii.CN, [Su.sg]: ii.SG, [Su.us]: ii.US }),
        (W3 = new Map([
          ['www.trae.com.cn', 'ono9krqynydwx5'],
          ['www.trae.ai', 'ono9krqynydwx5'],
        ])),
        (Eu = new Map([
          [ii.SG, { url: 'api.trae.ai', region: 'sg', clientId: 'ono9krqynydwx5', path: 'trae' }],
          [ii.US, { url: 'api.trae.ai', region: 'us', clientId: 'ono9krqynydwx5', path: 'trae' }],
          [
            ii.CN,
            { url: 'api.trae.com.cn', region: 'cn', clientId: 'ono9krqynydwx5', path: 'trae' },
          ],
        ])),
        (eb = new Map([
          [zi.SPRING, { domain: 'www.trae.ai', authFrom: 'trae' }],
          [zi.YINLI, { domain: 'www.trae.com.cn', authFrom: 'trae' }],
        ]));
    },
  }),
  nt,
  Xo = b({
    'out-build/vs/base/common/iCube/iCubeIPCChannel.js'() {
      'use strict';
      (function (t) {
        (t.MAIN_TO_SANDBOX_BROADCAST_AUTH_FAILED = 'vscode:main::sandbox-broadcast-authFailed'),
          (t.SANDBOX_TO_MAIN_INVOKE_GET_USER_INFO = 'vscode:sandbox::main-invoke-getUserInfo'),
          (t.SANDBOX_TO_MAIN_SEND_NEED_REFRESH_USER_INFO =
            'vscode:sandbox::main-send-needRefreshUserInfo'),
          (t.MAIN_TO_SANDBOX_SEND_USER_INFO = 'vscode:main::sandbox-send-userInfo'),
          (t.MAIN_TO_SANDBOX_SEND_EXNTENSION_TOO_HIGH =
            'vscode:main::sandbox-send-restartIDEBecauseExtension'),
          (t.MAIN_TO_SANDBOX_SEND_APP_METADATA = 'vscode:main::sandbox-send-appMetadata'),
          (t.SANDBOX_TO_MAIN_INVOKE_GET_APP_METADATA =
            'vscode:sandbox::main-invoke-getAppMetadata'),
          (t.SANDBOX_TO_MAIN_INVOKE_GET_REGION = 'vscode:sandbox::main-invoke-getRegion'),
          (t.SANDBOX_TO_MAIN_INVOKE_GET_AI_REGION = 'vscode:sandbox::main-invoke-getAiRegion'),
          (t.SANDBOX_TO_MAIN_INVOKE_PULL_DYNAMIC_CONFIG =
            'vscode:sandbox::main-invoke-pullDynamicConfig'),
          (t.SANDBOX_TO_MAIN_SEND_OPEN_LOGIN_WINDOW = 'vscode:sandbox::main-send-openLoginWindow'),
          (t.MAIN_TO_SANDBOX_SEND_RELOAD_CURRENT_WINDOW =
            'vscode:main::sandbox-send-reloadCurrentWindow'),
          (t.MAIN_TO_SANDBOX_SEND_RELOAD_CURRENT_EXTHOST =
            'vscode:main::sandbox-send-reloadCurrentExthost'),
          (t.EVENT_MAIN_TO_SANDBOX_LOGIN = 'vscode:main::sandbox-login-event'),
          (t.EVENT_MAIN_TO_SANDBOX_LOGOUT = 'vscode:main::sandbox-logout-event'),
          (t.SANDBOX_TO_MAIN_SEND_LOGOUT = 'vscode:sandbox::main-send-logout'),
          (t.SANDBOX_TO_MAIN_INVOKE_LOGIN = 'vscode:sandbox::main-invoke-login'),
          (t.SANDBOX_TO_MAIN_INVOKE_CHECK_BYTEDANCE = 'vscode:sandbox:main-check-bytedance'),
          (t.MAIN_TO_SANDBOX_SEND_REGION = 'vscode:main::sandbox-send-region'),
          (t.MAIN_TO_SANDBOX_SEND_AI_REGION = 'vscode:main::sandbox-send-ai-region'),
          (t.SANDBOX_TO_MAIN_REFRESH_USERINFO = 'vscode:sandbox::main-refresh-userinfo'),
          (t.MAIN_TO_SANDBOX_SEND_UPDATE_DYNAMIC_CONFIG =
            'vscode:main::sandbox-send-updateDynamicConfig'),
          (t.SANDBOX_TO_MAIN_GET_SETUP_PAGE_LOGIN_FAILED_STATUS =
            'vscode:sandbox::main-invoke-getSetupPageLoginFailedStatus'),
          (t.SANDBOX_TO_MAIN_SEND_UPDATE_DYNAMIC_CONFIG =
            'vscode:main::sandbox-send-updateDynamicConfig'),
          (t.MAIN_TO_SANDBOX_ICUBE_AGENT_CHANGE = 'vscode:main::sandbox-icubeAgentChange'),
          (t.SANDBOX_TO_MAIN_BROADCAST_ICUBE_AGENT_CHANGE =
            'vscode:sandbox::main-broadcast-icubeAgentChange'),
          (t.MAIN_TO_SANDBOX_ICUBE_MODEL_MANAGEMENT_CHANGE =
            'vscode:main::sandbox-icubeModelManagementChange'),
          (t.SANDBOX_TO_MAIN_BROADCAST_ICUBE_MODEL_MANAGEMENT_CHANGE =
            'vscode:sandbox::main-broadcast-icubeModelManagementChange'),
          (t.SANDBOX_TO_MAIN_SEND_ICUBE_MESSAGE_CENTER =
            'vscode:main::sandbox-send-message-cetner'),
          (t.SANDBOX_TO_MAIN_SEND_ICUBE_MESSAGE_CENTER_BACK_LOG =
            'vscode:main::sandbox-send-message-center-back-log'),
          (t.MAIN_TO_SANDBOX_SEND_NEW_VERSION_CHANGE =
            'vscode:main::sandbox-send-iCubeNewVersionSetup'),
          (t.MAIN_TO_SANDBOX_SEND_AUDIT_RESULT = 'vscode:main::sandbox-auditResult');
      })(nt || (nt = {}));
    },
  });
import VF from 'axios';
var dn,
  cp,
  pc = b({
    'out-build/vs/code/electron-main/iCubeRegionManagement.js'() {
      'use strict';
      K(),
        U(),
        Zs(),
        se(),
        X(),
        Xo(),
        Ei(),
        le(),
        Ze(),
        wi(),
        (dn = W('IMainICubeRegionManagementService')),
        (cp = class extends H {
          constructor(e, i) {
            super(),
              (this.r = e),
              (this.s = i),
              (this.b = !1),
              (this.g = null),
              (this.h = new zt()),
              (this.m = this.B(new $())),
              (this.onDidChangeRegion = this.m.event),
              (this.n = this.B(new $())),
              (this.onDidChangeAiRegion = this.n.event),
              (this.handleGetRegion = async () => this.getRegion()),
              (this.handleGetAiRegion = async () => this.getAiRegion()),
              (this.getRegion = async () => (this.b ? this.c : await this.refreshRegion())),
              (this.getAiRegion = async () =>
                this.b ? this.f : (await this.refreshRegion(), this.f)),
              (this.getRegionByLocation = async () =>
                (
                  await Promise.any(
                    ['trae.ai', 'trae.com.cn'].map((n) =>
                      VF.request({
                        url: `https://api.${n}/cloudide/api/v3/public/GetLoginGuidanceForBytedance`,
                        method: 'POST',
                      })
                    )
                  ).catch((n) => {
                    throw (this.r.error('[getRegionByLocation]', n), n);
                  })
                )?.data?.Result?.Region),
              (this.c = this.u()),
              (this.f = this.u()),
              this.t();
          }
          t() {
            de.handle(nt.SANDBOX_TO_MAIN_INVOKE_GET_REGION, this.handleGetRegion.bind(this)),
              de.handle(nt.SANDBOX_TO_MAIN_INVOKE_GET_AI_REGION, this.handleGetAiRegion.bind(this));
          }
          u() {
            return this.s.provider === zi.SPRING ? ii.US : ii.CN;
          }
          initialize({ mainICubeAuthManagementService: e, broadcastToCodeWindows: i }) {
            (this.a = i),
              (this.j = e),
              this.h.complete(),
              this.j.onDidChangeUserInfo((s) => {
                this.refreshRegion({ region: s?.region, aiRegion: s?.aiRegion });
              });
          }
          async refreshRegion(e) {
            this.g || (this.g = this._refreshRegion(e));
            const i = await this.g;
            return (this.g = null), i;
          }
          async _refreshRegion(e) {
            await this.h.p;
            const i = e || (await this.j?.getAuthUserInfo({ forceLogin: !1 }));
            return i?.region || i?.aiRegion
              ? ((this.c = i.region || this.u()),
                (this.f = i.aiRegion || this.u()),
                (this.b = !0),
                this.w(),
                this.c)
              : ((this.c = this.u()), (this.f = this.u()), this.w(), this.c);
          }
          w() {
            this.r.info(
              '[MainICubeRegionManagementService] refresh region',
              'userRegion: ',
              this.c,
              'aiRegion: ',
              this.f
            ),
              this.a?.(nt.MAIN_TO_SANDBOX_SEND_REGION, this.c, this.f),
              (this.b = !0),
              this.m.fire(this.c),
              this.n.fire(this.f);
          }
        }),
        (cp = __decorate([__param(0, ee), __param(1, Be)], cp));
    },
  }),
  lp,
  H3 = b({
    'out-build/vs/code/electron-main/oauth/common/oauthService.js'() {
      'use strict';
      (function (t) {
        t.RefreshTokenInvalid = 'RefreshTokenInvalid';
      })(lp || (lp = {}));
    },
  }),
  z3,
  GF = b({
    'out-build/vs/code/electron-main/oauth/media/loginError.js'() {
      'use strict';
      z3 = `<svg width="524" height="169" viewBox="0 0 524 169" fill="none" xmlns="http://www.w3.org/2000/svg">
<g filter="url(#filter0_d_585_96654)">
<rect x="16" y="25" width="96" height="96" rx="16" fill="url(#paint0_radial_585_96654)" shape-rendering="crispEdges"/>
<rect x="16.75" y="25.75" width="94.5" height="94.5" rx="15.25" stroke="#C2CAF2" stroke-opacity="0.24" stroke-width="1.5" shape-rendering="crispEdges"/>
<path d="M81.2727 55H46.7273C46.3256 55 46 55.3256 46 55.7273V90.2727C46 90.6744 46.3256 91 46.7273 91H81.2727C81.6744 91 82 90.6744 82 90.2727V55.7273C82 55.3256 81.6744 55 81.2727 55Z" fill="#FF5D4B"/>
<path d="M75.454 80.4695H63.8176V84.4549H75.454V80.4695Z" fill="white"/>
</g>
<path d="M132 73H212" stroke="#C2CAF2" stroke-opacity="0.24" stroke-width="1.5"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M257.249 67.2676L258.379 68.398C258.736 68.7547 258.736 69.3331 258.379 69.6899L254.745 73.3238L258.379 76.9581C258.736 77.3148 258.736 77.8932 258.379 78.25L257.249 79.3804C256.892 79.7372 256.314 79.7372 255.957 79.3804L252.321 75.7446L248.69 79.3791C248.333 79.7358 247.755 79.7358 247.398 79.3791L246.268 78.2487C245.911 77.8919 245.911 77.3135 246.268 76.9568L249.898 73.3238L246.268 69.6912C245.911 69.3344 245.911 68.756 246.268 68.3993L247.398 67.2689C247.755 66.9121 248.333 66.9121 248.69 67.2689L252.321 70.9007L255.957 67.2676C256.314 66.9108 256.892 66.9108 257.249 67.2676Z" fill="#CC4B53"/>
<path d="M292 73H372" stroke="#C2CAF2" stroke-opacity="0.24" stroke-width="1.5"/>
<g filter="url(#filter1_d_585_96654)">
<g filter="url(#filter2_b_585_96654)">
<rect x="392" y="25" width="96" height="96" rx="16" fill="url(#paint1_radial_585_96654)"/>
<rect x="392.75" y="25.75" width="94.5" height="94.5" rx="15.25" stroke="#C2CAF2" stroke-opacity="0.24" stroke-width="1.5"/>
</g>
<g opacity="0.5">
<path fill-rule="evenodd" clip-rule="evenodd" d="M421.2 60.9992C421.2 57.796 423.797 55.1992 427 55.1992H453C456.203 55.1992 458.8 57.796 458.8 60.9992V76.9992C458.8 80.2024 456.203 82.7992 453 82.7992H441.789C441.796 82.8648 441.8 82.9316 441.8 82.9992V87.1992H447C447.994 87.1992 448.8 88.0052 448.8 88.9992C448.8 89.9934 447.994 90.7992 447 90.7992H440H433C432.006 90.7992 431.2 89.9934 431.2 88.9992C431.2 88.0052 432.006 87.1992 433 87.1992H438.2V82.9992C438.2 82.9316 438.204 82.8648 438.211 82.7992H427C423.797 82.7992 421.2 80.2024 421.2 76.9992V60.9992ZM427 58.7992C425.785 58.7992 424.8 59.7842 424.8 60.9992V76.9992C424.8 78.2142 425.785 79.1992 427 79.1992H453C454.215 79.1992 455.2 78.2142 455.2 76.9992V60.9992C455.2 59.7842 454.215 58.7992 453 58.7992H427Z" fill="#9599A6"/>
</g>
</g>
<defs>
<filter id="filter0_d_585_96654" x="0" y="17" width="128" height="128" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="8"/>
<feGaussianBlur stdDeviation="8"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_585_96654"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_585_96654" result="shape"/>
</filter>
<filter id="filter1_d_585_96654" x="356" y="0.519997" width="168" height="168" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="11.52"/>
<feGaussianBlur stdDeviation="18"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_585_96654"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_585_96654" result="shape"/>
</filter>
<filter id="filter2_b_585_96654" x="389.12" y="22.12" width="101.76" height="101.76" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feGaussianBlur in="BackgroundImageFix" stdDeviation="1.44"/>
<feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_585_96654"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_backgroundBlur_585_96654" result="shape"/>
</filter>
<radialGradient id="paint0_radial_585_96654" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(64 73) rotate(90) scale(48)">
<stop stop-color="white" stop-opacity="0"/>
<stop offset="1" stop-color="white" stop-opacity="0.06"/>
</radialGradient>
<radialGradient id="paint1_radial_585_96654" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(440 73) rotate(90) scale(48)">
<stop stop-color="white" stop-opacity="0"/>
<stop offset="1" stop-color="white" stop-opacity="0.06"/>
</radialGradient>
</defs>
</svg>`;
    },
  }),
  V3,
  qF = b({
    'out-build/vs/code/electron-main/oauth/media/loginLogo.js'() {
      'use strict';
      V3 = `<svg width="536" height="160" viewBox="0 0 536 160" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g filter="url(#filter0_d_69_62486)">
            <rect x="32" y="16" width="96" height="96" rx="16" fill="url(#paint0_radial_69_62486)" shape-rendering="crispEdges"/>
            <rect x="32.75" y="16.75" width="94.5" height="94.5" rx="15.25" stroke="#C2CAF2" stroke-opacity="0.24" stroke-width="1.5" shape-rendering="crispEdges"/>
            <path d="M97.2727 46H62.7273C62.3256 46 62 46.3256 62 46.7273V81.2727C62 81.6744 62.3256 82 62.7273 82H97.2727C97.6744 82 98 81.6744 98 81.2727V46.7273C98 46.3256 97.6744 46 97.2727 46Z" fill="#FF5D4B"/>
            </g>
            <path d="M148 64H228" stroke="#C2CAF2" stroke-opacity="0.24" stroke-width="1.5"/>
            <path d="M271 61.5H266C263.791 61.5 262 63.2908 262 65.5C262 67.7092 263.791 69.5 266 69.5H274C276.209 69.5 278 67.7092 278 65.5C278 64.4856 277.622 63.5593 277 62.8542" stroke="#9599A6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M259 64.1458C258.378 63.4407 258 62.5144 258 61.5C258 59.2908 259.791 57.5 262 57.5H270C272.209 57.5 274 59.2908 274 61.5C274 63.7092 272.209 65.5 270 65.5H265" stroke="#9599A6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M308 64H388" stroke="#C2CAF2" stroke-opacity="0.24" stroke-width="1.5"/>
            <g filter="url(#filter1_d_69_62486)">
            <g filter="url(#filter2_b_69_62486)">
            <rect x="408" y="16" width="96" height="96" rx="16" fill="url(#paint1_radial_69_62486)"/>
            <rect x="408.75" y="16.75" width="94.5" height="94.5" rx="15.25" stroke="#C2CAF2" stroke-opacity="0.24" stroke-width="1.5"/>
            </g>
            <path opacity="0.5" fill-rule="evenodd" clip-rule="evenodd" d="M442.362 58.1666V49.6666H450.862V58.1666H442.362ZM453.396 45.6666H439.829C439.019 45.6666 438.362 46.3233 438.362 47.1333V60.7C438.362 61.51 439.019 62.1666 439.829 62.1666H453.396C454.206 62.1666 454.862 61.51 454.862 60.7V47.1333C454.862 46.3233 454.206 45.6666 453.396 45.6666ZM462.529 78.3333V69.8333H471.029V78.3333H462.529ZM473.562 65.8333H459.996C459.186 65.8333 458.529 66.4899 458.529 67.3V80.8666C458.529 81.6766 459.186 82.3333 459.996 82.3333H473.562C474.372 82.3333 475.029 81.6766 475.029 80.8666V67.3C475.029 66.4899 474.372 65.8333 473.562 65.8333ZM443.063 73.6817L446.693 77.312L450.324 73.6817L446.693 70.0514L443.063 73.6817ZM438.443 72.6446L445.656 65.4317C446.229 64.8589 447.158 64.8589 447.73 65.4317L454.943 72.6446C455.516 73.2174 455.516 74.146 454.943 74.7188L447.73 81.9318C447.158 82.5045 446.229 82.5045 445.656 81.9318L438.443 74.7188C437.87 74.146 437.87 73.2174 438.443 72.6446ZM471.029 53.9166C471.029 56.2638 469.126 58.1666 466.779 58.1666C464.432 58.1666 462.529 56.2638 462.529 53.9166C462.529 51.5694 464.432 49.6666 466.779 49.6666C469.126 49.6666 471.029 51.5694 471.029 53.9166ZM466.779 62.1666C471.335 62.1666 475.029 58.473 475.029 53.9166C475.029 49.3603 471.335 45.6666 466.779 45.6666C462.223 45.6666 458.529 49.3603 458.529 53.9166C458.529 58.473 462.223 62.1666 466.779 62.1666Z" fill="#9599A6"/>
            </g>
            <defs>
            <filter id="filter0_d_69_62486" x="0" y="0" width="160" height="160" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
            <feOffset dy="16"/>
            <feGaussianBlur stdDeviation="16"/>
            <feComposite in2="hardAlpha" operator="out"/>
            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"/>
            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_69_62486"/>
            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_69_62486" result="shape"/>
            </filter>
            <filter id="filter1_d_69_62486" x="376" y="0" width="160" height="160" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
            <feOffset dy="16"/>
            <feGaussianBlur stdDeviation="16"/>
            <feComposite in2="hardAlpha" operator="out"/>
            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"/>
            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_69_62486"/>
            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_69_62486" result="shape"/>
            </filter>
            <filter id="filter2_b_69_62486" x="405.12" y="13.12" width="101.76" height="101.76" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feGaussianBlur in="BackgroundImageFix" stdDeviation="1.44"/>
            <feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_69_62486"/>
            <feBlend mode="normal" in="SourceGraphic" in2="effect1_backgroundBlur_69_62486" result="shape"/>
            </filter>
            <radialGradient id="paint0_radial_69_62486" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(80 64) rotate(90) scale(48)">
            <stop stop-color="white" stop-opacity="0"/>
            <stop offset="1" stop-color="white" stop-opacity="0.06"/>
            </radialGradient>
            <radialGradient id="paint1_radial_69_62486" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(456 64) rotate(90) scale(48)">
            <stop stop-color="white" stop-opacity="0"/>
            <stop offset="1" stop-color="white" stop-opacity="0.06"/>
            </radialGradient>
            </defs>
            <path d="M91.4537 71.4695H79.8174V75.4549H91.4537V71.4695Z" fill="white"/>
        </svg>`;
    },
  }),
  G3,
  KF = b({
    'out-build/vs/code/electron-main/oauth/media/loginSuccess.js'() {
      'use strict';
      G3 = `<svg width="524" height="169" viewBox="0 0 524 169" fill="none" xmlns="http://www.w3.org/2000/svg">
<g filter="url(#filter0_d_585_96636)">
<rect x="16" y="25" width="96" height="96" rx="16" fill="url(#paint0_radial_585_96636)" shape-rendering="crispEdges"/>
<rect x="16.75" y="25.75" width="94.5" height="94.5" rx="15.25" stroke="#C2CAF2" stroke-opacity="0.24" stroke-width="1.5" shape-rendering="crispEdges"/>
<path d="M81.2727 55H46.7273C46.3256 55 46 55.3256 46 55.7273V90.2727C46 90.6744 46.3256 91 46.7273 91H81.2727C81.6744 91 82 90.6744 82 90.2727V55.7273C82 55.3256 81.6744 55 81.2727 55Z" fill="#FF5D4B"/>
<path d="M75.4537 80.4695H63.8174V84.4549H75.4537V80.4695Z" fill="white"/>
</g>
<path d="M132 73H212" stroke="#C2CAF2" stroke-opacity="0.24" stroke-width="1.5"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M259.275 67.6743L258.364 66.9099C257.86 66.488 257.11 66.5536 256.688 67.0563L250.276 74.6939L247.382 72.2032C246.892 71.7816 246.155 71.8285 245.722 72.3088L244.925 73.195L244.909 73.2121C244.479 73.7085 244.533 74.4595 245.03 74.8895L247.972 77.4381L247.97 77.4397L248.078 77.5297L249.76 78.9873L249.779 79.003C250.284 79.4227 251.034 79.3536 251.453 78.8485L252.212 77.9356L259.421 69.3493C259.843 68.8462 259.778 68.0961 259.275 67.6743Z" fill="#26A57B"/>
<path d="M292 73H372" stroke="#C2CAF2" stroke-opacity="0.24" stroke-width="1.5"/>
<g filter="url(#filter1_d_585_96636)">
<g filter="url(#filter2_b_585_96636)">
<rect x="392" y="25" width="96" height="96" rx="16" fill="url(#paint1_radial_585_96636)"/>
<rect x="392.75" y="25.75" width="94.5" height="94.5" rx="15.25" stroke="#C2CAF2" stroke-opacity="0.24" stroke-width="1.5"/>
</g>
<g opacity="0.5">
<path fill-rule="evenodd" clip-rule="evenodd" d="M421.2 60.9992C421.2 57.796 423.797 55.1992 427 55.1992H453C456.203 55.1992 458.8 57.796 458.8 60.9992V76.9992C458.8 80.2024 456.203 82.7992 453 82.7992H441.789C441.796 82.8648 441.8 82.9316 441.8 82.9992V87.1992H447C447.994 87.1992 448.8 88.0052 448.8 88.9992C448.8 89.9934 447.994 90.7992 447 90.7992H440H433C432.006 90.7992 431.2 89.9934 431.2 88.9992C431.2 88.0052 432.006 87.1992 433 87.1992H438.2V82.9992C438.2 82.9316 438.204 82.8648 438.211 82.7992H427C423.797 82.7992 421.2 80.2024 421.2 76.9992V60.9992ZM427 58.7992C425.785 58.7992 424.8 59.7842 424.8 60.9992V76.9992C424.8 78.2142 425.785 79.1992 427 79.1992H453C454.215 79.1992 455.2 78.2142 455.2 76.9992V60.9992C455.2 59.7842 454.215 58.7992 453 58.7992H427Z" fill="#9599A6"/>
</g>
</g>
<defs>
<filter id="filter0_d_585_96636" x="0" y="17" width="128" height="128" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="8"/>
<feGaussianBlur stdDeviation="8"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_585_96636"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_585_96636" result="shape"/>
</filter>
<filter id="filter1_d_585_96636" x="356" y="0.519997" width="168" height="168" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="11.52"/>
<feGaussianBlur stdDeviation="18"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_585_96636"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_585_96636" result="shape"/>
</filter>
<filter id="filter2_b_585_96636" x="389.12" y="22.12" width="101.76" height="101.76" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feGaussianBlur in="BackgroundImageFix" stdDeviation="1.44"/>
<feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_585_96636"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_backgroundBlur_585_96636" result="shape"/>
</filter>
<radialGradient id="paint0_radial_585_96636" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(64 73) rotate(90) scale(48)">
<stop stop-color="white" stop-opacity="0"/>
<stop offset="1" stop-color="white" stop-opacity="0.06"/>
</radialGradient>
<radialGradient id="paint1_radial_585_96636" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(440 73) rotate(90) scale(48)">
<stop stop-color="white" stop-opacity="0"/>
<stop offset="1" stop-color="white" stop-opacity="0.06"/>
</radialGradient>
</defs>
</svg>`;
    },
  }),
  q3,
  K3,
  JF = b({
    'out-build/vs/code/electron-main/oauth/loginConfirmHtml.js'() {
      'use strict';
      wi(),
        GF(),
        qF(),
        KF(),
        (q3 = (t, e, i, s, r) => {
          const o = i.startsWith('ja') ? 'ja' : i.startsWith('zh') ? 'zh' : 'en',
            a = {
              zh: {
                'Authorize to log in to MarsCode?': '\u6388\u6743\u767B\u5F55 Trae ?',
                'Please click the button to log in and authorize.':
                  '\u8BF7\u70B9\u51FB\u6309\u94AE\u8FDB\u884C\u767B\u5F55\u6388\u6743\uFF0C',
                'This page will expire in 5 minutes':
                  '\u8BE5\u9875\u9762\u5C06\u57285\u5206\u949F\u540E\u5931\u6548',
                'Authorize and open MarsCode': '\u6388\u6743\u5E76\u6253\u5F00 Trae',
                'MarsCode login successfully!': 'Trae \u767B\u5F55\u6210\u529F!',
                'MarsCode authorization login link has expired':
                  'Trae \u6388\u6743\u767B\u5F55\u94FE\u63A5\u5DF2\u5931\u6548',
                'MarsCode authorization login timeout. If you need to re-authorize the login, please open the MarsCode client':
                  '\u62B1\u6B49\uFF0C\u767B\u5F55\u6388\u6743\u8D85\u65F6\uFF0C\u8BF7\u91CD\u65B0\u6253\u5F00 Trae IDE \u8FDB\u884C\u767B\u5F55',
                'MarsCode authorization login failed': 'Trae \u6388\u6743\u767B\u5F55\u5931\u8D25',
              },
              en: {
                'Authorize to log in to MarsCode?': 'Authorize to log in to Trae?',
                'Authorize and open MarsCode': 'Authorize and open Trae',
                'MarsCode login successfully!': 'Trae login successfully!',
                'MarsCode authorization login link has expired':
                  'Trae authorization login link has expired',
                'MarsCode authorization login timeout. If you need to re-authorize the login, please open the MarsCode client':
                  'Sorry, the login authorization has timed out. Please reopen Trae IDE to login.',
                'MarsCode authorization login failed': 'Trae authorization login failed',
              },
              ja: {
                'Authorize to log in to MarsCode?':
                  'Trae \u306E\u8A8D\u8A3C\u30ED\u30B0\u30A4\u30F3',
                'Please click the button to log in and authorize.':
                  '\u30DC\u30BF\u30F3\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30ED\u30B0\u30A4\u30F3\u8A8D\u8A3C\u3092\u884C\u3063\u3066\u304F\u3060\u3055\u3044\u3002',
                'This page will expire in 5 minutes':
                  '\u3053\u306E\u30DA\u30FC\u30B8\u306F 5 \u5206\u5F8C\u306B\u7121\u52B9\u306B\u306A\u308A\u307E\u3059',
                'Authorize and open MarsCode': 'Trae \u3092\u8A8D\u8A3C\u3057\u3066\u958B\u304F',
                'MarsCode login successfully!':
                  'Trae \u306B\u30ED\u30B0\u30A4\u30F3\u3057\u307E\u3057\u305F!',
                'MarsCode authorization login link has expired':
                  'Trae \u306E\u8A8D\u8A3C\u30ED\u30B0\u30A4\u30F3 \u30EA\u30F3\u30AF\u304C\u7121\u52B9\u306B\u306A\u308A\u307E\u3057\u305F',
                'MarsCode authorization login timeout. If you need to re-authorize the login, please open the MarsCode client':
                  '\u7533\u3057\u8A33\u3042\u308A\u307E\u305B\u3093\u304C\u3001\u30ED\u30B0\u30A4\u30F3\u8A8D\u8A3C\u304C\u30BF\u30A4\u30E0\u30A2\u30A6\u30C8\u3057\u307E\u3057\u305F\u3002\u3082\u3046\u4E00\u5EA6Trae IDE \u3092\u958B\u3044\u3066\u30ED\u30B0\u30A4\u30F3\u3057\u3066\u304F\u3060\u3055\u3044',
                'MarsCode authorization login failed':
                  'Trae \u306E\u8A8D\u8A3C\u30ED\u30B0\u30A4\u30F3\u306B\u5931\u6557\u3057\u307E\u3057\u305F',
              },
            },
            c = {
              [zi.YINLI]: {
                en: 'According to compliance requirements, Non-Chinese employees cannot use the CN version. <a class="link" href="https://www.trae.ai/" target="__blank">Please switch to using the Trae overseas version.</a>',
                zh: '\u6839\u636E\u5408\u89C4\u8981\u6C42\uFF0C\u975E\u4E2D\u56FD\u5458\u5DE5\u65E0\u6CD5\u4F7F\u7528 CN \u7248\u672C\uFF0C<a class="link" href="https://www.trae.ai/" target="__blank">\u8BF7\u8F6C\u4E3A\u4F7F\u7528 Trae \u6D77\u5916\u7248</a>',
                ja: '\u898F\u5236\u306B\u3088\u308A\u3001\u4E2D\u56FD\u56FD\u5916\u306E\u5F93\u696D\u54E1\u306F\u4E2D\u56FD\u7248\u3092\u3054\u5229\u7528\u3044\u305F\u3060\u3051\u307E\u305B\u3093\u3002<a class="link" href="https://www.trae.ai/" target="__blank">\u6D77\u5916\u7248 Trae \u3078\u30A2\u30AF\u30BB\u30B9\u3059\u308B</a>',
              },
              [zi.SPRING]: {
                en: 'According to compliance requirements, employees in China cannot use the overseas version. Please use the domestic version. If you need to use the overseas version, please contact the platform.',
                zh: '\u6839\u636E\u5408\u89C4\u8981\u6C42\uFF0CCN \u5458\u5DE5\u8BF7\u4F7F\u7528\u56FD\u5185\u7248\u672C\uFF0C\u65E0\u6CD5\u4F7F\u7528\u6D77\u5916\u7248\u3002\u5982\u6709\u6D77\u5916\u7248\u4F7F\u7528\u9700\u6C42\uFF0C\u8BF7\u8054\u7CFB\u5E73\u53F0\u3002',
                ja: '\u898F\u5236\u306B\u3088\u308A\u3001\u4E2D\u56FD\u56FD\u5185\u306E\u5F93\u696D\u54E1\u306F\u6D77\u5916\u7248\u3092\u3054\u5229\u7528\u3044\u305F\u3060\u3051\u307E\u305B\u3093\u3002\u4E2D\u56FD\u7248\u3092\u3054\u5229\u7528\u304F\u3060\u3055\u3044\u3002\u6D77\u5916\u7248\u306E\u5229\u7528\u3092\u3054\u5E0C\u671B\u306E\u5834\u5408\u306F\u3001\u30D7\u30E9\u30C3\u30C8\u30D5\u30A9\u30FC\u30E0\u307E\u3067\u304A\u554F\u3044\u5408\u308F\u305B\u304F\u3060\u3055\u3044\u3002',
              },
            };
          function l(h) {
            return a[o][h] || h;
          }
          return `
		<!DOCTYPE html>
		<html lang="${i}" provider="${r}">
		<head>
			<meta charset="UTF-8">
			<title>Login Confirm</title>
			<style>
				${s}
			</style>
			<style>
					body {
						display: flex;
						flex-direction: column;
						justify-content: center;
						align-items: center;
						height: 100vh;
						margin: 0;
						font-family: Arial, sans-serif;
						background-color: var(--vscode-icube-colorBg1);
						background-size: 100% 100%;
						color: #fff;
					}

					.link {
						color: var(--vscode-icube-colorBrand);
						cursor: pointer;
					}

					.header {
						position: absolute;
						top: 0;
						left: 0;
						padding: 10px;
						display: flex;
						align-items: center;
					}

					.header img {
						height: 40px;
						margin-right: 10px;
					}

					.header span {
						font-size: 24px;
						font-weight: bold;
					}

					.titleArea {
						display: flex;
						align-items: center;
						flex-direction: column;
					}

					.icon {
						margin-bottom: 30px;
					}

					.title {
						color: #fff;
						font-size: 32px;
						font-weight: 600;
						margin-bottom: 16px;
						text-align: center;
					}

					.explain {
						color: #9599A6;
						font-size: 14px;
					}

					.login-button {
						margin-top: 64px;

					}

					.button {
						color: var(--vscode-icube-primaryButtonForeground);
						cursor: pointer;
						display: flex;
						align-items: center;
						justify-content: center;
						border: none;
						border-radius: 6px;
						width: 320px;
						height: 40px;
						font-size: 14px;
						background-color: var(--vscode-icube-primaryButtonBackground);
					}

					.button .loading-icon {
						display: none;
					}

					.button.loading {
						color: var(--vscode-icube-primaryButtonDisableForeground) !important;
						background-color: var(--vscode-icube-primaryButtonDisableBackground) !important;
						cursor: default;
					}

					.button.loading .loading-icon {
						display: flex;
						align-items: center;
						animation: circle infinite 0.75s linear;
						margin-left: 4px;
					}

					@keyframes circle {
						0% {
							transform: rotate(0);
						}
						100% {
							transform: rotate(360deg);
						}
					}

					.button:hover {
						color: var(--vscode-icube-primaryButtonHoverForeground);
						background-color: var(--vscode-icube-primaryButtonHoverBackground);
					}

					.button:active {
						color: var(--vscode-icube-primaryButtonActivateForeground);
						background-color: var(--vscode-icube-primaryButtonActivateBackground);
					}

					#content {
						display: none;
						flex-direction: column;
						align-items: center;
					}

					#fail-content {
						display: none;
						flex-direction: column;
						align-items: center;
					}

					#success-content {
						display: none;
						flex-direction: column;
						align-items: center;
					}

					#content.show, #fail-content.show, #success-content.show {
						display: flex;
					}

			</style>
		</head>
		<body>

			<div id="content" class="show">
				<div class="titleArea">
					${V3}
					<h1 class="title">${l('Authorize to log in to MarsCode?')}</h1>
					<div class="explain">${l('Please click the button to log in and authorize.')}${l(
            'This page will expire in 5 minutes'
          )}</div>
				</div>
				<div class="login-button">
					<button id="login-confirm" class="button">
						${l('Authorize and open MarsCode')}
						<div class="loading-icon">
							<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path opacity="0.32" d="M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8ZM4.4 8C4.4 9.98823 6.01177 11.6 8 11.6C9.98823 11.6 11.6 9.98823 11.6 8C11.6 6.01177 9.98823 4.4 8 4.4C6.01177 4.4 4.4 6.01177 4.4 8Z" fill="var(--vscode-icube-primaryButtonForeground)"/>
								<path fill-rule="evenodd" clip-rule="evenodd" d="M11.4238 9.24462C11.5993 8.69424 11.6446 8.10939 11.5557 7.53784C11.4668 6.96629 11.2463 6.42428 10.9124 5.95613C10.5786 5.48797 10.1406 5.10697 9.63433 4.84425C9.12818 4.58155 8.56813 4.44459 8 4.44459V2C8.68324 2 9.35944 2.11884 9.99998 2.34952C10.2472 2.43853 10.4891 2.5442 10.7239 2.66611C11.5676 3.10397 12.2975 3.73897 12.8541 4.51923C13.4106 5.29949 13.778 6.20285 13.9261 7.15543C13.9673 7.42065 13.9913 7.6876 13.998 7.95456C14.0154 8.64552 13.9177 9.33647 13.7071 9.99756L13.7063 10L11.4238 9.24462Z" fill="var(--vscode-icube-primaryButtonForeground)"/>
							</svg>
						</div>
					</button>
				</div>
			</div>
			<div id="success-content">
			${G3}
			<h1 class="title">${l('MarsCode login successfully!')}
			</div>
			<div id="fail-content">
			${z3}
			<h1 class="title">${l('MarsCode authorization login failed')}</div>
			<p id="reason" class="explain"></div>
			</div>
		</body>
		<script>
			let isTimeout = false;
			let confirmTimeout = setTimeout(function() {
				isTimeout = true;
			}, ${e});
			const confirmButton = document.getElementById('login-confirm');
			confirmButton.addEventListener('click', function() {
				confirmButton.classList.toggle('loading', true);
				if (!isTimeout) {
					fetch('/login-success').then(function(res) {
						if (res.status === 200) {
							document.getElementById('content').className = "";
							document.getElementById('fail-content').className = "";
							document.getElementById('success-content').className = "show";
						} else {
							document.getElementById('content').className = "";
							document.getElementById('fail-content').className = "show";
							document.getElementById('success-content').className = "";
							if (res.status === 401) {
								document.getElementById('reason').innerHTML = '${c[r][o]}';
							} else if (res.status === 402) {
								document.getElementById('reason').innerHTML = '${l(
                  'MarsCode authorization login timeout. If you need to re-authorize the login, please open the MarsCode client'
                )}';
							}
						}

					}).catch(() => {
						document.getElementById('content').className = "";
						document.getElementById('fail-content').className = "show";
						document.getElementById('success-content').className = "";
						document.getElementById('reason').innerHTML = '${l(
              'MarsCode authorization login timeout. If you need to re-authorize the login, please open the MarsCode client'
            )}';
					}).finally(() => {
						confirmButton.classList.toggle('loading', false);
					});
				} else {
					document.getElementById('content').className = "";
						document.getElementById('fail-content').className = "show";
						document.getElementById('success-content').className = "";
						document.getElementById('reason').innerHTML = '${l(
              'MarsCode authorization login timeout. If you need to re-authorize the login, please open the MarsCode client'
            )}';
				}
			});
		</script>
		</html>
	`;
        }),
        (K3 = q3);
    },
  });
function g(t, e) {
  if (ot(e)) {
    const i = tb[e];
    if (i === void 0) throw new Error(`${t} references an unknown codicon: ${e}`);
    e = i;
  }
  return (tb[t] = e), { id: t };
}
var tb,
  J3 = b({
    'out-build/vs/base/common/codiconsUtil.js'() {
      'use strict';
      $e(), (tb = Object.create(null));
    },
  }),
  X3,
  XF = b({
    'out-build/vs/base/common/codiconsLibrary.js'() {
      'use strict';
      J3(),
        (X3 = {
          add: g('add', 6e4),
          plus: g('plus', 6e4),
          gistNew: g('gist-new', 6e4),
          repoCreate: g('repo-create', 6e4),
          lightbulb: g('lightbulb', 60001),
          lightBulb: g('light-bulb', 60001),
          repo: g('repo', 60002),
          repoDelete: g('repo-delete', 60002),
          gistFork: g('gist-fork', 60003),
          repoForked: g('repo-forked', 60003),
          gitPullRequest: g('git-pull-request', 60004),
          gitPullRequestAbandoned: g('git-pull-request-abandoned', 60004),
          recordKeys: g('record-keys', 60005),
          keyboard: g('keyboard', 60005),
          tag: g('tag', 60006),
          gitPullRequestLabel: g('git-pull-request-label', 60006),
          tagAdd: g('tag-add', 60006),
          tagRemove: g('tag-remove', 60006),
          person: g('person', 60007),
          personFollow: g('person-follow', 60007),
          personOutline: g('person-outline', 60007),
          personFilled: g('person-filled', 60007),
          gitBranch: g('git-branch', 60008),
          gitBranchCreate: g('git-branch-create', 60008),
          gitBranchDelete: g('git-branch-delete', 60008),
          sourceControl: g('source-control', 60008),
          mirror: g('mirror', 60009),
          mirrorPublic: g('mirror-public', 60009),
          star: g('star', 60010),
          starAdd: g('star-add', 60010),
          starDelete: g('star-delete', 60010),
          starEmpty: g('star-empty', 60010),
          comment: g('comment', 60011),
          commentAdd: g('comment-add', 60011),
          alert: g('alert', 60012),
          warning: g('warning', 60012),
          search: g('search', 60013),
          searchSave: g('search-save', 60013),
          logOut: g('log-out', 60014),
          signOut: g('sign-out', 60014),
          logIn: g('log-in', 60015),
          signIn: g('sign-in', 60015),
          eye: g('eye', 60016),
          eyeUnwatch: g('eye-unwatch', 60016),
          eyeWatch: g('eye-watch', 60016),
          circleFilled: g('circle-filled', 60017),
          primitiveDot: g('primitive-dot', 60017),
          closeDirty: g('close-dirty', 60017),
          debugBreakpoint: g('debug-breakpoint', 60017),
          debugBreakpointDisabled: g('debug-breakpoint-disabled', 60017),
          debugHint: g('debug-hint', 60017),
          terminalDecorationSuccess: g('terminal-decoration-success', 60017),
          primitiveSquare: g('primitive-square', 60018),
          edit: g('edit', 60019),
          pencil: g('pencil', 60019),
          info: g('info', 60020),
          issueOpened: g('issue-opened', 60020),
          gistPrivate: g('gist-private', 60021),
          gitForkPrivate: g('git-fork-private', 60021),
          lock: g('lock', 60021),
          mirrorPrivate: g('mirror-private', 60021),
          close: g('close', 60022),
          removeClose: g('remove-close', 60022),
          x: g('x', 60022),
          repoSync: g('repo-sync', 60023),
          sync: g('sync', 60023),
          clone: g('clone', 60024),
          desktopDownload: g('desktop-download', 60024),
          beaker: g('beaker', 60025),
          microscope: g('microscope', 60025),
          vm: g('vm', 60026),
          deviceDesktop: g('device-desktop', 60026),
          file: g('file', 60027),
          fileText: g('file-text', 60027),
          more: g('more', 60028),
          ellipsis: g('ellipsis', 60028),
          kebabHorizontal: g('kebab-horizontal', 60028),
          mailReply: g('mail-reply', 60029),
          reply: g('reply', 60029),
          organization: g('organization', 60030),
          organizationFilled: g('organization-filled', 60030),
          organizationOutline: g('organization-outline', 60030),
          newFile: g('new-file', 60031),
          fileAdd: g('file-add', 60031),
          newFolder: g('new-folder', 60032),
          fileDirectoryCreate: g('file-directory-create', 60032),
          trash: g('trash', 60033),
          trashcan: g('trashcan', 60033),
          history: g('history', 60034),
          clock: g('clock', 60034),
          folder: g('folder', 60035),
          fileDirectory: g('file-directory', 60035),
          symbolFolder: g('symbol-folder', 60035),
          logoGithub: g('logo-github', 60036),
          markGithub: g('mark-github', 60036),
          github: g('github', 60036),
          terminal: g('terminal', 60037),
          console: g('console', 60037),
          repl: g('repl', 60037),
          zap: g('zap', 60038),
          symbolEvent: g('symbol-event', 60038),
          error: g('error', 60039),
          stop: g('stop', 60039),
          variable: g('variable', 60040),
          symbolVariable: g('symbol-variable', 60040),
          array: g('array', 60042),
          symbolArray: g('symbol-array', 60042),
          symbolModule: g('symbol-module', 60043),
          symbolPackage: g('symbol-package', 60043),
          symbolNamespace: g('symbol-namespace', 60043),
          symbolObject: g('symbol-object', 60043),
          symbolMethod: g('symbol-method', 60044),
          symbolFunction: g('symbol-function', 60044),
          symbolConstructor: g('symbol-constructor', 60044),
          symbolBoolean: g('symbol-boolean', 60047),
          symbolNull: g('symbol-null', 60047),
          symbolNumeric: g('symbol-numeric', 60048),
          symbolNumber: g('symbol-number', 60048),
          symbolStructure: g('symbol-structure', 60049),
          symbolStruct: g('symbol-struct', 60049),
          symbolParameter: g('symbol-parameter', 60050),
          symbolTypeParameter: g('symbol-type-parameter', 60050),
          symbolKey: g('symbol-key', 60051),
          symbolText: g('symbol-text', 60051),
          symbolReference: g('symbol-reference', 60052),
          goToFile: g('go-to-file', 60052),
          symbolEnum: g('symbol-enum', 60053),
          symbolValue: g('symbol-value', 60053),
          symbolRuler: g('symbol-ruler', 60054),
          symbolUnit: g('symbol-unit', 60054),
          activateBreakpoints: g('activate-breakpoints', 60055),
          archive: g('archive', 60056),
          arrowBoth: g('arrow-both', 60057),
          arrowDown: g('arrow-down', 60058),
          arrowLeft: g('arrow-left', 60059),
          arrowRight: g('arrow-right', 60060),
          arrowSmallDown: g('arrow-small-down', 60061),
          arrowSmallLeft: g('arrow-small-left', 60062),
          arrowSmallRight: g('arrow-small-right', 60063),
          arrowSmallUp: g('arrow-small-up', 60064),
          arrowUp: g('arrow-up', 60065),
          bell: g('bell', 60066),
          bold: g('bold', 60067),
          book: g('book', 60068),
          bookmark: g('bookmark', 60069),
          debugBreakpointConditionalUnverified: g('debug-breakpoint-conditional-unverified', 60070),
          debugBreakpointConditional: g('debug-breakpoint-conditional', 60071),
          debugBreakpointConditionalDisabled: g('debug-breakpoint-conditional-disabled', 60071),
          debugBreakpointDataUnverified: g('debug-breakpoint-data-unverified', 60072),
          debugBreakpointData: g('debug-breakpoint-data', 60073),
          debugBreakpointDataDisabled: g('debug-breakpoint-data-disabled', 60073),
          debugBreakpointLogUnverified: g('debug-breakpoint-log-unverified', 60074),
          debugBreakpointLog: g('debug-breakpoint-log', 60075),
          debugBreakpointLogDisabled: g('debug-breakpoint-log-disabled', 60075),
          briefcase: g('briefcase', 60076),
          broadcast: g('broadcast', 60077),
          browser: g('browser', 60078),
          bug: g('bug', 60079),
          calendar: g('calendar', 60080),
          caseSensitive: g('case-sensitive', 60081),
          check: g('check', 60082),
          checklist: g('checklist', 60083),
          chevronDown: g('chevron-down', 60084),
          chevronLeft: g('chevron-left', 60085),
          chevronRight: g('chevron-right', 60086),
          chevronUp: g('chevron-up', 60087),
          chromeClose: g('chrome-close', 60088),
          chromeMaximize: g('chrome-maximize', 60089),
          chromeMinimize: g('chrome-minimize', 60090),
          chromeRestore: g('chrome-restore', 60091),
          circleOutline: g('circle-outline', 60092),
          circle: g('circle', 60092),
          debugBreakpointUnverified: g('debug-breakpoint-unverified', 60092),
          terminalDecorationIncomplete: g('terminal-decoration-incomplete', 60092),
          circleSlash: g('circle-slash', 60093),
          circuitBoard: g('circuit-board', 60094),
          clearAll: g('clear-all', 60095),
          clippy: g('clippy', 60096),
          closeAll: g('close-all', 60097),
          cloudDownload: g('cloud-download', 60098),
          cloudUpload: g('cloud-upload', 60099),
          code: g('code', 60100),
          collapseAll: g('collapse-all', 60101),
          colorMode: g('color-mode', 60102),
          commentDiscussion: g('comment-discussion', 60103),
          creditCard: g('credit-card', 60105),
          dash: g('dash', 60108),
          dashboard: g('dashboard', 60109),
          database: g('database', 60110),
          debugContinue: g('debug-continue', 60111),
          debugDisconnect: g('debug-disconnect', 60112),
          debugPause: g('debug-pause', 60113),
          debugRestart: g('debug-restart', 60114),
          debugStart: g('debug-start', 60115),
          debugStepInto: g('debug-step-into', 60116),
          debugStepOut: g('debug-step-out', 60117),
          debugStepOver: g('debug-step-over', 60118),
          debugStop: g('debug-stop', 60119),
          debug: g('debug', 60120),
          deviceCameraVideo: g('device-camera-video', 60121),
          deviceCamera: g('device-camera', 60122),
          deviceMobile: g('device-mobile', 60123),
          diffAdded: g('diff-added', 60124),
          diffIgnored: g('diff-ignored', 60125),
          diffModified: g('diff-modified', 60126),
          diffRemoved: g('diff-removed', 60127),
          diffRenamed: g('diff-renamed', 60128),
          diff: g('diff', 60129),
          diffSidebyside: g('diff-sidebyside', 60129),
          discard: g('discard', 60130),
          editorLayout: g('editor-layout', 60131),
          emptyWindow: g('empty-window', 60132),
          exclude: g('exclude', 60133),
          extensions: g('extensions', 60134),
          eyeClosed: g('eye-closed', 60135),
          fileBinary: g('file-binary', 60136),
          fileCode: g('file-code', 60137),
          fileMedia: g('file-media', 60138),
          filePdf: g('file-pdf', 60139),
          fileSubmodule: g('file-submodule', 60140),
          fileSymlinkDirectory: g('file-symlink-directory', 60141),
          fileSymlinkFile: g('file-symlink-file', 60142),
          fileZip: g('file-zip', 60143),
          files: g('files', 60144),
          filter: g('filter', 60145),
          flame: g('flame', 60146),
          foldDown: g('fold-down', 60147),
          foldUp: g('fold-up', 60148),
          fold: g('fold', 60149),
          folderActive: g('folder-active', 60150),
          folderOpened: g('folder-opened', 60151),
          gear: g('gear', 60152),
          gift: g('gift', 60153),
          gistSecret: g('gist-secret', 60154),
          gist: g('gist', 60155),
          gitCommit: g('git-commit', 60156),
          gitCompare: g('git-compare', 60157),
          compareChanges: g('compare-changes', 60157),
          gitMerge: g('git-merge', 60158),
          githubAction: g('github-action', 60159),
          githubAlt: g('github-alt', 60160),
          globe: g('globe', 60161),
          grabber: g('grabber', 60162),
          graph: g('graph', 60163),
          gripper: g('gripper', 60164),
          heart: g('heart', 60165),
          home: g('home', 60166),
          horizontalRule: g('horizontal-rule', 60167),
          hubot: g('hubot', 60168),
          inbox: g('inbox', 60169),
          issueReopened: g('issue-reopened', 60171),
          issues: g('issues', 60172),
          italic: g('italic', 60173),
          jersey: g('jersey', 60174),
          json: g('json', 60175),
          kebabVertical: g('kebab-vertical', 60176),
          key: g('key', 60177),
          law: g('law', 60178),
          lightbulbAutofix: g('lightbulb-autofix', 60179),
          linkExternal: g('link-external', 60180),
          link: g('link', 60181),
          listOrdered: g('list-ordered', 60182),
          listUnordered: g('list-unordered', 60183),
          liveShare: g('live-share', 60184),
          loading: g('loading', 60185),
          location: g('location', 60186),
          mailRead: g('mail-read', 60187),
          mail: g('mail', 60188),
          markdown: g('markdown', 60189),
          megaphone: g('megaphone', 60190),
          mention: g('mention', 60191),
          milestone: g('milestone', 60192),
          gitPullRequestMilestone: g('git-pull-request-milestone', 60192),
          mortarBoard: g('mortar-board', 60193),
          move: g('move', 60194),
          multipleWindows: g('multiple-windows', 60195),
          mute: g('mute', 60196),
          noNewline: g('no-newline', 60197),
          note: g('note', 60198),
          octoface: g('octoface', 60199),
          openPreview: g('open-preview', 60200),
          package: g('package', 60201),
          paintcan: g('paintcan', 60202),
          pin: g('pin', 60203),
          play: g('play', 60204),
          run: g('run', 60204),
          plug: g('plug', 60205),
          preserveCase: g('preserve-case', 60206),
          preview: g('preview', 60207),
          project: g('project', 60208),
          pulse: g('pulse', 60209),
          question: g('question', 60210),
          quote: g('quote', 60211),
          radioTower: g('radio-tower', 60212),
          reactions: g('reactions', 60213),
          references: g('references', 60214),
          refresh: g('refresh', 60215),
          regex: g('regex', 60216),
          remoteExplorer: g('remote-explorer', 60217),
          remote: g('remote', 60218),
          remove: g('remove', 60219),
          replaceAll: g('replace-all', 60220),
          replace: g('replace', 60221),
          repoClone: g('repo-clone', 60222),
          repoForcePush: g('repo-force-push', 60223),
          repoPull: g('repo-pull', 60224),
          repoPush: g('repo-push', 60225),
          report: g('report', 60226),
          requestChanges: g('request-changes', 60227),
          rocket: g('rocket', 60228),
          rootFolderOpened: g('root-folder-opened', 60229),
          rootFolder: g('root-folder', 60230),
          rss: g('rss', 60231),
          ruby: g('ruby', 60232),
          saveAll: g('save-all', 60233),
          saveAs: g('save-as', 60234),
          save: g('save', 60235),
          screenFull: g('screen-full', 60236),
          screenNormal: g('screen-normal', 60237),
          searchStop: g('search-stop', 60238),
          server: g('server', 60240),
          settingsGear: g('settings-gear', 60241),
          settings: g('settings', 60242),
          shield: g('shield', 60243),
          smiley: g('smiley', 60244),
          sortPrecedence: g('sort-precedence', 60245),
          splitHorizontal: g('split-horizontal', 60246),
          splitVertical: g('split-vertical', 60247),
          squirrel: g('squirrel', 60248),
          starFull: g('star-full', 60249),
          starHalf: g('star-half', 60250),
          symbolClass: g('symbol-class', 60251),
          symbolColor: g('symbol-color', 60252),
          symbolConstant: g('symbol-constant', 60253),
          symbolEnumMember: g('symbol-enum-member', 60254),
          symbolField: g('symbol-field', 60255),
          symbolFile: g('symbol-file', 60256),
          symbolInterface: g('symbol-interface', 60257),
          symbolKeyword: g('symbol-keyword', 60258),
          symbolMisc: g('symbol-misc', 60259),
          symbolOperator: g('symbol-operator', 60260),
          symbolProperty: g('symbol-property', 60261),
          wrench: g('wrench', 60261),
          wrenchSubaction: g('wrench-subaction', 60261),
          symbolSnippet: g('symbol-snippet', 60262),
          tasklist: g('tasklist', 60263),
          telescope: g('telescope', 60264),
          textSize: g('text-size', 60265),
          threeBars: g('three-bars', 60266),
          thumbsdown: g('thumbsdown', 60267),
          thumbsup: g('thumbsup', 60268),
          tools: g('tools', 60269),
          triangleDown: g('triangle-down', 60270),
          triangleLeft: g('triangle-left', 60271),
          triangleRight: g('triangle-right', 60272),
          triangleUp: g('triangle-up', 60273),
          twitter: g('twitter', 60274),
          unfold: g('unfold', 60275),
          unlock: g('unlock', 60276),
          unmute: g('unmute', 60277),
          unverified: g('unverified', 60278),
          verified: g('verified', 60279),
          versions: g('versions', 60280),
          vmActive: g('vm-active', 60281),
          vmOutline: g('vm-outline', 60282),
          vmRunning: g('vm-running', 60283),
          watch: g('watch', 60284),
          whitespace: g('whitespace', 60285),
          wholeWord: g('whole-word', 60286),
          window: g('window', 60287),
          wordWrap: g('word-wrap', 60288),
          zoomIn: g('zoom-in', 60289),
          zoomOut: g('zoom-out', 60290),
          listFilter: g('list-filter', 60291),
          listFlat: g('list-flat', 60292),
          listSelection: g('list-selection', 60293),
          selection: g('selection', 60293),
          listTree: g('list-tree', 60294),
          debugBreakpointFunctionUnverified: g('debug-breakpoint-function-unverified', 60295),
          debugBreakpointFunction: g('debug-breakpoint-function', 60296),
          debugBreakpointFunctionDisabled: g('debug-breakpoint-function-disabled', 60296),
          debugStackframeActive: g('debug-stackframe-active', 60297),
          circleSmallFilled: g('circle-small-filled', 60298),
          debugStackframeDot: g('debug-stackframe-dot', 60298),
          terminalDecorationMark: g('terminal-decoration-mark', 60298),
          debugStackframe: g('debug-stackframe', 60299),
          debugStackframeFocused: g('debug-stackframe-focused', 60299),
          debugBreakpointUnsupported: g('debug-breakpoint-unsupported', 60300),
          symbolString: g('symbol-string', 60301),
          debugReverseContinue: g('debug-reverse-continue', 60302),
          debugStepBack: g('debug-step-back', 60303),
          debugRestartFrame: g('debug-restart-frame', 60304),
          debugAlt: g('debug-alt', 60305),
          callIncoming: g('call-incoming', 60306),
          callOutgoing: g('call-outgoing', 60307),
          menu: g('menu', 60308),
          expandAll: g('expand-all', 60309),
          feedback: g('feedback', 60310),
          gitPullRequestReviewer: g('git-pull-request-reviewer', 60310),
          groupByRefType: g('group-by-ref-type', 60311),
          ungroupByRefType: g('ungroup-by-ref-type', 60312),
          account: g('account', 60313),
          gitPullRequestAssignee: g('git-pull-request-assignee', 60313),
          bellDot: g('bell-dot', 60314),
          debugConsole: g('debug-console', 60315),
          library: g('library', 60316),
          output: g('output', 60317),
          runAll: g('run-all', 60318),
          syncIgnored: g('sync-ignored', 60319),
          pinned: g('pinned', 60320),
          githubInverted: g('github-inverted', 60321),
          serverProcess: g('server-process', 60322),
          serverEnvironment: g('server-environment', 60323),
          pass: g('pass', 60324),
          issueClosed: g('issue-closed', 60324),
          stopCircle: g('stop-circle', 60325),
          playCircle: g('play-circle', 60326),
          record: g('record', 60327),
          debugAltSmall: g('debug-alt-small', 60328),
          vmConnect: g('vm-connect', 60329),
          cloud: g('cloud', 60330),
          merge: g('merge', 60331),
          export: g('export', 60332),
          graphLeft: g('graph-left', 60333),
          magnet: g('magnet', 60334),
          notebook: g('notebook', 60335),
          redo: g('redo', 60336),
          checkAll: g('check-all', 60337),
          pinnedDirty: g('pinned-dirty', 60338),
          passFilled: g('pass-filled', 60339),
          circleLargeFilled: g('circle-large-filled', 60340),
          circleLarge: g('circle-large', 60341),
          circleLargeOutline: g('circle-large-outline', 60341),
          combine: g('combine', 60342),
          gather: g('gather', 60342),
          table: g('table', 60343),
          variableGroup: g('variable-group', 60344),
          typeHierarchy: g('type-hierarchy', 60345),
          typeHierarchySub: g('type-hierarchy-sub', 60346),
          typeHierarchySuper: g('type-hierarchy-super', 60347),
          gitPullRequestCreate: g('git-pull-request-create', 60348),
          runAbove: g('run-above', 60349),
          runBelow: g('run-below', 60350),
          notebookTemplate: g('notebook-template', 60351),
          debugRerun: g('debug-rerun', 60352),
          workspaceTrusted: g('workspace-trusted', 60353),
          workspaceUntrusted: g('workspace-untrusted', 60354),
          workspaceUnknown: g('workspace-unknown', 60355),
          terminalCmd: g('terminal-cmd', 60356),
          terminalDebian: g('terminal-debian', 60357),
          terminalLinux: g('terminal-linux', 60358),
          terminalPowershell: g('terminal-powershell', 60359),
          terminalTmux: g('terminal-tmux', 60360),
          terminalUbuntu: g('terminal-ubuntu', 60361),
          terminalBash: g('terminal-bash', 60362),
          arrowSwap: g('arrow-swap', 60363),
          copy: g('copy', 60364),
          personAdd: g('person-add', 60365),
          filterFilled: g('filter-filled', 60366),
          wand: g('wand', 60367),
          debugLineByLine: g('debug-line-by-line', 60368),
          inspect: g('inspect', 60369),
          layers: g('layers', 60370),
          layersDot: g('layers-dot', 60371),
          layersActive: g('layers-active', 60372),
          compass: g('compass', 60373),
          compassDot: g('compass-dot', 60374),
          compassActive: g('compass-active', 60375),
          azure: g('azure', 60376),
          issueDraft: g('issue-draft', 60377),
          gitPullRequestClosed: g('git-pull-request-closed', 60378),
          gitPullRequestDraft: g('git-pull-request-draft', 60379),
          debugAll: g('debug-all', 60380),
          debugCoverage: g('debug-coverage', 60381),
          runErrors: g('run-errors', 60382),
          folderLibrary: g('folder-library', 60383),
          debugContinueSmall: g('debug-continue-small', 60384),
          beakerStop: g('beaker-stop', 60385),
          graphLine: g('graph-line', 60386),
          graphScatter: g('graph-scatter', 60387),
          pieChart: g('pie-chart', 60388),
          bracket: g('bracket', 60175),
          bracketDot: g('bracket-dot', 60389),
          bracketError: g('bracket-error', 60390),
          lockSmall: g('lock-small', 60391),
          azureDevops: g('azure-devops', 60392),
          verifiedFilled: g('verified-filled', 60393),
          newline: g('newline', 60394),
          layout: g('layout', 60395),
          layoutActivitybarLeft: g('layout-activitybar-left', 60396),
          layoutActivitybarRight: g('layout-activitybar-right', 60397),
          layoutPanelLeft: g('layout-panel-left', 60398),
          layoutPanelCenter: g('layout-panel-center', 60399),
          layoutPanelJustify: g('layout-panel-justify', 60400),
          layoutPanelRight: g('layout-panel-right', 60401),
          layoutPanel: g('layout-panel', 60402),
          layoutSidebarLeft: g('layout-sidebar-left', 60403),
          layoutSidebarRight: g('layout-sidebar-right', 60404),
          layoutStatusbar: g('layout-statusbar', 60405),
          layoutMenubar: g('layout-menubar', 60406),
          layoutCentered: g('layout-centered', 60407),
          target: g('target', 60408),
          indent: g('indent', 60409),
          recordSmall: g('record-small', 60410),
          errorSmall: g('error-small', 60411),
          terminalDecorationError: g('terminal-decoration-error', 60411),
          arrowCircleDown: g('arrow-circle-down', 60412),
          arrowCircleLeft: g('arrow-circle-left', 60413),
          arrowCircleRight: g('arrow-circle-right', 60414),
          arrowCircleUp: g('arrow-circle-up', 60415),
          layoutSidebarRightOff: g('layout-sidebar-right-off', 60416),
          layoutPanelOff: g('layout-panel-off', 60417),
          layoutSidebarLeftOff: g('layout-sidebar-left-off', 60418),
          blank: g('blank', 60419),
          heartFilled: g('heart-filled', 60420),
          map: g('map', 60421),
          mapHorizontal: g('map-horizontal', 60421),
          foldHorizontal: g('fold-horizontal', 60421),
          mapFilled: g('map-filled', 60422),
          mapHorizontalFilled: g('map-horizontal-filled', 60422),
          foldHorizontalFilled: g('fold-horizontal-filled', 60422),
          circleSmall: g('circle-small', 60423),
          bellSlash: g('bell-slash', 60424),
          bellSlashDot: g('bell-slash-dot', 60425),
          commentUnresolved: g('comment-unresolved', 60426),
          gitPullRequestGoToChanges: g('git-pull-request-go-to-changes', 60427),
          gitPullRequestNewChanges: g('git-pull-request-new-changes', 60428),
          searchFuzzy: g('search-fuzzy', 60429),
          commentDraft: g('comment-draft', 60430),
          send: g('send', 60431),
          sparkle: g('sparkle', 60432),
          insert: g('insert', 60433),
          mic: g('mic', 60434),
          thumbsdownFilled: g('thumbsdown-filled', 60435),
          thumbsupFilled: g('thumbsup-filled', 60436),
          coffee: g('coffee', 60437),
          snake: g('snake', 60438),
          game: g('game', 60439),
          vr: g('vr', 60440),
          chip: g('chip', 60441),
          piano: g('piano', 60442),
          music: g('music', 60443),
          micFilled: g('mic-filled', 60444),
          repoFetch: g('repo-fetch', 60445),
          copilot: g('copilot', 60446),
          lightbulbSparkle: g('lightbulb-sparkle', 60447),
          robot: g('robot', 60448),
          sparkleFilled: g('sparkle-filled', 60449),
          diffSingle: g('diff-single', 60450),
          diffMultiple: g('diff-multiple', 60451),
          surroundWith: g('surround-with', 60452),
          share: g('share', 60453),
          gitStash: g('git-stash', 60454),
          gitStashApply: g('git-stash-apply', 60455),
          gitStashPop: g('git-stash-pop', 60456),
          vscode: g('vscode', 60457),
          vscodeInsiders: g('vscode-insiders', 60458),
          codeOss: g('code-oss', 60459),
          runCoverage: g('run-coverage', 60460),
          runAllCoverage: g('run-all-coverage', 60461),
          coverage: g('coverage', 60462),
          githubProject: g('github-project', 60463),
          mapVertical: g('map-vertical', 60464),
          foldVertical: g('fold-vertical', 60464),
          mapVerticalFilled: g('map-vertical-filled', 60465),
          foldVerticalFilled: g('fold-vertical-filled', 60465),
          goToSearch: g('go-to-search', 60466),
          percentage: g('percentage', 60467),
          sortPercentage: g('sort-percentage', 60467),
          attach: g('attach', 60468),
          goToEditingSession: g('go-to-editing-session', 60469),
          editSession: g('edit-session', 60470),
          codeReview: g('code-review', 60471),
          copilotWarning: g('copilot-warning', 60472),
          python: g('python', 60473),
          copilotLarge: g('copilot-large', 60474),
          copilotWarningLarge: g('copilot-warning-large', 60475),
          keyboardTab: g('keyboard-tab', 60476),
          copilotBlocked: g('copilot-blocked', 60477),
          copilotNotConnected: g('copilot-not-connected', 60478),
          flag: g('flag', 60479),
          lightbulbEmpty: g('lightbulb-empty', 60480),
          symbolMethodArrow: g('symbol-method-arrow', 60481),
        });
    },
  }),
  Y3,
  YF = b({
    'out-build/vs/base/common/iCube/iCubeCodicons.js'() {
      'use strict';
      Y3 = (t) => ({
        iCubeAIBulb: t('icube-AIBulb', 2e4),
        iCubeAIExplain: t('icube-AIExplain', 20001),
        iCubeAIStar: t('icube-AIStar', 20002),
        iCubeAISum: t('icube-AISum', 20003),
        iCubeAIWrite: t('icube-AIWrite', 20004),
        iCubeAddFile: t('icube-AddFile', 20005),
        iCubeAddFolder: t('icube-AddFolder', 20006),
        iCubeAddMember: t('icube-AddMember', 20007),
        iCubeAddToTerminal: t('icube-AddToTerminal', 20008),
        iCubeAgentEarth: t('icube-AgentEarth', 20009),
        iCubeAgentFolder: t('icube-AgentFolder', 20010),
        iCubeAgentPreview: t('icube-AgentPreview', 20011),
        iCubeAi: t('icube-Ai', 20012),
        iCubeAiAssistantText: t('icube-AiAssistantText', 20013),
        iCubeAiAttachment: t('icube-AiAttachment', 20014),
        iCubeAiColor: t('icube-AiColor', 20015),
        iCubeAiColorful: t('icube-AiColorful', 20016),
        iCubeAiLightbulbSparking: t('icube-AiLightbulbSparking', 20017),
        iCubeAiSimple: t('icube-AiSimple', 20018),
        iCubeAiSimple2: t('icube-AiSimple2', 20019),
        iCubeAiSlashDoc: t('icube-AiSlashDoc', 20020),
        iCubeAiSlashExplain: t('icube-AiSlashExplain', 20021),
        iCubeAiSlashTest: t('icube-AiSlashTest', 20022),
        iCubeAiStars: t('icube-AiStars', 20023),
        iCubeAltN: t('icube-AltN', 20024),
        iCubeAltY: t('icube-AltY', 20025),
        iCubeArrowLeft: t('icube-ArrowLeft', 20026),
        iCubeArrowRight: t('icube-ArrowRight', 20027),
        iCubeArrowUpDown: t('icube-ArrowUpDown', 20028),
        iCubeBackSpace: t('icube-BackSpace', 20029),
        iCubeBranch: t('icube-Branch', 20030),
        iCubeBranchSimple: t('icube-BranchSimple', 20031),
        iCubeBrowser: t('icube-Browser', 20032),
        iCubeBubleTooltipFill: t('icube-BubleTooltipFill', 20033),
        iCubeChatSessionIcon: t('icube-ChatSessionIcon', 20034),
        iCubeCheck: t('icube-Check', 20035),
        iCubeClean: t('icube-Clean', 20036),
        iCubeClose: t('icube-Close', 20037),
        iCubeCloseAll: t('icube-CloseAll', 20038),
        iCubeCloseCircleFill: t('icube-CloseCircleFill', 20039),
        iCubeCloseCircleSeriousFill: t('icube-CloseCircleSeriousFill', 20040),
        iCubeCloseSimple: t('icube-CloseSimple', 20041),
        iCubeCollapseAll: t('icube-CollapseAll', 20042),
        iCubeColorFrame: t('icube-ColorFrame', 20043),
        iCubeCommand: t('icube-Command', 20044),
        iCubeCommandArrowUpDown: t('icube-CommandArrowUpDown', 20045),
        iCubeCommandBackSpace: t('icube-CommandBackSpace', 20046),
        iCubeCommandEnter: t('icube-CommandEnter', 20047),
        iCubeCommandK: t('icube-CommandK', 20048),
        iCubeCommandL: t('icube-CommandL', 20049),
        iCubeCommandN: t('icube-CommandN', 20050),
        iCubeCommandSmall: t('icube-CommandSmall', 20051),
        iCubeCommandY: t('icube-CommandY', 20052),
        iCubeCompass: t('icube-Compass', 20053),
        iCubeContextLines: t('icube-ContextLines', 20054),
        iCubeContract: t('icube-Contract', 20055),
        iCubeCopy: t('icube-Copy', 20056),
        iCubeCreateFile: t('icube-CreateFile', 20057),
        iCubeCreateFunction: t('icube-CreateFunction', 20058),
        iCubeCtrlN: t('icube-CtrlN', 20059),
        iCubeCtrlY: t('icube-CtrlY', 20060),
        iCubeCustomAgent: t('icube-CustomAgent', 20061),
        iCubeCustomAgentCreate: t('icube-CustomAgentCreate', 20062),
        iCubeDebug: t('icube-Debug', 20063),
        iCubeDebugFill: t('icube-DebugFill', 20064),
        iCubeDelete: t('icube-Delete', 20065),
        iCubeDelete2: t('icube-Delete2', 20066),
        iCubeDeploy: t('icube-Deploy', 20067),
        iCubeDescendingSorting: t('icube-DescendingSorting', 20068),
        iCubeDiff: t('icube-Diff', 20069),
        iCubeDock: t('icube-Dock', 20070),
        iCubeDocumentFeedback: t('icube-DocumentFeedback', 20071),
        iCubeDown: t('icube-Down', 20072),
        iCubeDragDot: t('icube-DragDot', 20073),
        iCubeESC: t('icube-ESC', 20074),
        iCubeEdit: t('icube-Edit', 20075),
        iCubeEnter: t('icube-Enter', 20076),
        iCubeError: t('icube-Error', 20077),
        iCubeErrorSimple: t('icube-ErrorSimple', 20078),
        iCubeExpandAll: t('icube-ExpandAll', 20079),
        iCubeFilter: t('icube-Filter', 20080),
        iCubeFilterLine: t('icube-FilterLine', 20081),
        iCubeFolder: t('icube-Folder', 20082),
        iCubeFollowupArrawRight: t('icube-FollowupArrawRight', 20083),
        iCubeFont: t('icube-Font', 20084),
        iCubeFrame: t('icube-Frame', 20085),
        iCubeGit: t('icube-Git', 20086),
        iCubeGroupChat: t('icube-GroupChat', 20087),
        iCubeHelp: t('icube-Help', 20088),
        iCubeHistory: t('icube-History', 20089),
        iCubeHome: t('icube-Home', 20090),
        iCubeICubeIconNew: t('icube-ICubeIconNew', 20091),
        iCubeInfo: t('icube-Info', 20092),
        iCubeInfo2: t('icube-Info2', 20093),
        iCubeInfoCircleFill: t('icube-InfoCircleFill', 20094),
        iCubeInformationSimple: t('icube-InformationSimple', 20095),
        iCubeInsert: t('icube-Insert', 20096),
        iCubeKeyboardShortcut: t('icube-KeyboardShortcut', 20097),
        iCubeLeft: t('icube-Left', 20098),
        iCubeLike: t('icube-Like', 20099),
        iCubeLikeFill: t('icube-LikeFill', 20100),
        iCubeLink: t('icube-Link', 20101),
        iCubeLock: t('icube-Lock', 20102),
        iCubeLogo: t('icube-Logo', 20103),
        iCubeLogoFull: t('icube-LogoFull', 20104),
        iCubeLogoNew: t('icube-LogoNew', 20105),
        iCubeLogoText: t('icube-LogoText', 20106),
        iCubeLogoTrae: t('icube-LogoTrae', 20107),
        iCubeMcp: t('icube-Mcp', 20108),
        iCubeMcpFold: t('icube-McpFold', 20109),
        iCubeMcpToolIcon: t('icube-McpToolIcon', 20110),
        iCubeMcpUnFold: t('icube-McpUnFold', 20111),
        iCubeMore: t('icube-More', 20112),
        iCubeMoreSimple: t('icube-MoreSimple', 20113),
        iCubeNewChat: t('icube-NewChat', 20114),
        iCubeNotification: t('icube-Notification', 20115),
        iCubeNotificationOff: t('icube-NotificationOff', 20116),
        iCubeNotificationSettings: t('icube-NotificationSettings', 20117),
        iCubeOpenFile: t('icube-OpenFile', 20118),
        iCubeOpenFile2: t('icube-OpenFile2', 20119),
        iCubeOption: t('icube-Option', 20120),
        iCubeOptionN: t('icube-OptionN', 20121),
        iCubeOptionY: t('icube-OptionY', 20122),
        iCubePanelLayoutIcon: t('icube-PanelLayoutIcon', 20123),
        iCubePanelLayoutIconOff: t('icube-PanelLayoutIconOff', 20124),
        iCubePanelLeft: t('icube-PanelLeft', 20125),
        iCubePanelLeftOff: t('icube-PanelLeftOff', 20126),
        iCubePanelRight: t('icube-PanelRight', 20127),
        iCubePanelRightOff: t('icube-PanelRightOff', 20128),
        iCubePlay: t('icube-Play', 20129),
        iCubePlayFill: t('icube-PlayFill', 20130),
        iCubePlus: t('icube-Plus', 20131),
        iCubePlus2: t('icube-Plus2', 20132),
        iCubePlusCircle: t('icube-PlusCircle', 20133),
        iCubePlusFilled: t('icube-PlusFilled', 20134),
        iCubePlusSimple: t('icube-PlusSimple', 20135),
        iCubePoint: t('icube-Point', 20136),
        iCubePreserveCase: t('icube-PreserveCase', 20137),
        iCubePreview: t('icube-Preview', 20138),
        iCubePreviewDevtool: t('icube-PreviewDevtool', 20139),
        iCubeProAppstore: t('icube-ProAppstore', 20140),
        iCubeProCodesearch: t('icube-ProCodesearch', 20141),
        iCubeProDebug: t('icube-ProDebug', 20142),
        iCubeProFile: t('icube-ProFile', 20143),
        iCubeProFolder: t('icube-ProFolder', 20144),
        iCubeProSetting: t('icube-ProSetting', 20145),
        iCubeProSourcecontrol: t('icube-ProSourcecontrol', 20146),
        iCubeQuestionMarkCircle: t('icube-QuestionMarkCircle', 20147),
        iCubeQuotaCpu: t('icube-QuotaCpu', 20148),
        iCubeQuotaDisk: t('icube-QuotaDisk', 20149),
        iCubeQuotaMemory: t('icube-QuotaMemory', 20150),
        iCubeRecordStop: t('icube-RecordStop', 20151),
        iCubeRefresh: t('icube-Refresh', 20152),
        iCubeRegularExpression: t('icube-RegularExpression', 20153),
        iCubeReload: t('icube-Reload', 20154),
        iCubeRemoteExplore: t('icube-RemoteExplore', 20155),
        iCubeRemoteHost: t('icube-RemoteHost', 20156),
        iCubeRemoteLink: t('icube-RemoteLink', 20157),
        iCubeReplace: t('icube-Replace', 20158),
        iCubeReplaceAll: t('icube-ReplaceAll', 20159),
        iCubeRetry: t('icube-Retry', 20160),
        iCubeRevert: t('icube-Revert', 20161),
        iCubeRight: t('icube-Right', 20162),
        iCubeRotateDevice: t('icube-RotateDevice', 20163),
        iCubeSaveFile: t('icube-SaveFile', 20164),
        iCubeSearch: t('icube-Search', 20165),
        iCubeSearchCommand: t('icube-SearchCommand', 20166),
        iCubeSearchFile: t('icube-SearchFile', 20167),
        iCubeSearchText: t('icube-SearchText', 20168),
        iCubeSelected: t('icube-Selected', 20169),
        iCubeSend: t('icube-Send', 20170),
        iCubeSendFill: t('icube-SendFill', 20171),
        iCubeSettingIgnoreFiles: t('icube-SettingIgnoreFiles', 20172),
        iCubeSettings: t('icube-Settings', 20173),
        iCubeSlash: t('icube-Slash', 20174),
        iCubeSparkle: t('icube-Sparkle', 20175),
        iCubeSplit: t('icube-Split', 20176),
        iCubeStop: t('icube-Stop', 20177),
        iCubeStopFill: t('icube-StopFill', 20178),
        iCubeSuccessSimple: t('icube-SuccessSimple', 20179),
        iCubeSwitch: t('icube-Switch', 20180),
        iCubeSymbol: t('icube-Symbol', 20181),
        iCubeTab: t('icube-Tab', 20182),
        iCubeTable: t('icube-Table', 20183),
        iCubeTag: t('icube-Tag', 20184),
        iCubeTerminal: t('icube-Terminal', 20185),
        iCubeTerminalAddToTerminal: t('icube-TerminalAddToTerminal', 20186),
        iCubeTerminalRun: t('icube-TerminalRun', 20187),
        iCubeTextareaZoomIn: t('icube-TextareaZoomIn', 20188),
        iCubeTextareaZoomUp: t('icube-TextareaZoomUp', 20189),
        iCubeThumbDown: t('icube-ThumbDown', 20190),
        iCubeThumbDownFull: t('icube-ThumbDownFull', 20191),
        iCubeThumbUp: t('icube-ThumbUp', 20192),
        iCubeThumbUpFull: t('icube-ThumbUpFull', 20193),
        iCubeThumbUpSimple: t('icube-ThumbUpSimple', 20194),
        iCubeTips: t('icube-Tips', 20195),
        iCubeTree: t('icube-Tree', 20196),
        iCubeUndo: t('icube-Undo', 20197),
        iCubeUnlike: t('icube-Unlike', 20198),
        iCubeUnlikeFill: t('icube-UnlikeFill', 20199),
        iCubeUnlock: t('icube-Unlock', 20200),
        iCubeUp: t('icube-Up', 20201),
        iCubeUrgent: t('icube-Urgent', 20202),
        iCubeView: t('icube-View', 20203),
        iCubeViewBottom: t('icube-ViewBottom', 20204),
        iCubeViewBottomLine: t('icube-ViewBottomLine', 20205),
        iCubeViewCopy: t('icube-ViewCopy', 20206),
        iCubeViewCopy2: t('icube-ViewCopy2', 20207),
        iCubeViewFilled: t('icube-ViewFilled', 20208),
        iCubeViewLeftLine: t('icube-ViewLeftLine', 20209),
        iCubeViewOutline: t('icube-ViewOutline', 20210),
        iCubeViewleft: t('icube-Viewleft', 20211),
        iCubeVm: t('icube-Vm', 20212),
        iCubeWarningFill: t('icube-WarningFill', 20213),
        iCubeWarningSimple: t('icube-WarningSimple', 20214),
        iCubemenuToggle: t('icube-menuToggle', 20215),
      });
    },
  });
function Q3() {
  return Object.values(es);
}
var Z3,
  es,
  Cu = b({
    'out-build/vs/base/common/codicons.js'() {
      'use strict';
      J3(),
        XF(),
        YF(),
        (Z3 = {
          dialogError: g('dialog-error', 'error'),
          dialogWarning: g('dialog-warning', 'warning'),
          dialogInfo: g('dialog-info', 'info'),
          dialogClose: g('dialog-close', 'close'),
          treeFilterOnTypeOn: g('tree-filter-on-type-on', 'list-filter'),
          treeFilterOnTypeOff: g('tree-filter-on-type-off', 'list-selection'),
          treeFilterClear: g('tree-filter-clear', 'close'),
          treeItemLoading: g('tree-item-loading', 'loading'),
          menuSelection: g('menu-selection', 'check'),
          menuBarMore: g('menubar-more', 'more'),
          scrollbarButtonLeft: g('scrollbar-button-left', 'triangle-left'),
          scrollbarButtonRight: g('scrollbar-button-right', 'triangle-right'),
          scrollbarButtonUp: g('scrollbar-button-up', 'triangle-up'),
          scrollbarButtonDown: g('scrollbar-button-down', 'triangle-down'),
          toolBarMore: g('toolbar-more', 'more'),
          quickInputBack: g('quick-input-back', 'arrow-left'),
          dropDownButton: g('drop-down-button', 60084),
          symbolCustomColor: g('symbol-customcolor', 60252),
          exportIcon: g('export', 60332),
          workspaceUnspecified: g('workspace-unspecified', 60355),
          newLine: g('newline', 60394),
          thumbsDownFilled: g('thumbsdown-filled', 60435),
          thumbsUpFilled: g('thumbsup-filled', 60436),
          gitFetch: g('git-fetch', 60445),
          lightbulbSparkleAutofix: g('lightbulb-sparkle-autofix', 60447),
          debugBreakpointPending: g('debug-breakpoint-pending', 60377),
          ...Y3(g),
          treeItemExpanded: g('tree-item-expanded', 'icube-Down'),
          menuSubmenu: g('menu-submenu', 'icube-Right'),
          openPreview: g('open-preview', 'icube-Preview'),
        }),
        (es = { ...X3, ...Z3 });
    },
  });
function QF(t) {
  switch (t) {
    case te.DARK:
      return rt.VS_DARK;
    case te.HIGH_CONTRAST_DARK:
      return rt.HC_BLACK;
    case te.HIGH_CONTRAST_LIGHT:
      return rt.HC_LIGHT;
    default:
      return rt.VS;
  }
}
function ZF(t) {
  return sb.onColorThemeChange(t);
}
var ek,
  eO,
  tO,
  ib,
  tk,
  sb,
  up = b({
    'out-build/vs/platform/theme/common/themeService.js'() {
      'use strict';
      Cu(),
        X(),
        U(),
        K(),
        li(),
        Ka(),
        (ek = W('themeService')),
        (eO = es.file),
        (tO = es.folder),
        (ib = { ThemingContribution: 'base.contributions.theming' }),
        (tk = class {
          constructor() {
            (this.a = []), (this.a = []), (this.b = new $());
          }
          onColorThemeChange(t) {
            return (
              this.a.push(t),
              this.b.fire(t),
              _e(() => {
                const e = this.a.indexOf(t);
                this.a.splice(e, 1);
              })
            );
          }
          get onThemingParticipantAdded() {
            return this.b.event;
          }
          getThemingParticipants() {
            return this.a;
          }
        }),
        (sb = new tk()),
        tt.add(ib.ThemingContribution, sb);
    },
  }),
  iO,
  ik,
  sk,
  Du,
  rk,
  nk,
  ok,
  gc,
  rb = b({
    'out-build/vs/workbench/services/themes/common/workbenchThemeService.js'() {
      'use strict';
      K(),
        up(),
        $e(),
        (iO = ek),
        (ik = '['),
        (sk = ']'),
        (Du = '*'),
        (rk = /\[(.+?)\]/g),
        (function (t) {
          (t.COLOR_THEME = 'workbench.colorTheme'),
            (t.FILE_ICON_THEME = 'workbench.iconTheme'),
            (t.PRODUCT_ICON_THEME = 'workbench.productIconTheme'),
            (t.COLOR_CUSTOMIZATIONS = 'workbench.colorCustomizations'),
            (t.TOKEN_COLOR_CUSTOMIZATIONS = 'editor.tokenColorCustomizations'),
            (t.SEMANTIC_TOKEN_COLOR_CUSTOMIZATIONS = 'editor.semanticTokenColorCustomizations'),
            (t.PREFERRED_DARK_THEME = 'workbench.preferredDarkColorTheme'),
            (t.PREFERRED_LIGHT_THEME = 'workbench.preferredLightColorTheme'),
            (t.PREFERRED_HC_DARK_THEME = 'workbench.preferredHighContrastColorTheme'),
            (t.PREFERRED_HC_LIGHT_THEME = 'workbench.preferredHighContrastLightColorTheme'),
            (t.DETECT_COLOR_SCHEME = 'window.autoDetectColorScheme'),
            (t.DETECT_HC = 'window.autoDetectHighContrast'),
            (t.SYSTEM_COLOR_THEME = 'window.systemColorTheme');
        })(nk || (nk = {})),
        (function (t) {
          (t.ICUBE_COLOR_THEME_DARK = 'Dark'),
            (t.ICUBE_COLOR_THEME_DEEP_BLUE = 'Deep Blue'),
            (t.ICUBE_COLOR_THEME_Light = 'Light'),
            (t.COLOR_THEME_DARK = 'Default Dark Modern'),
            (t.COLOR_THEME_LIGHT = 'Default Light Modern'),
            (t.COLOR_THEME_HC_DARK = 'Default High Contrast'),
            (t.COLOR_THEME_HC_LIGHT = 'Default High Contrast Light'),
            (t.COLOR_THEME_DARK_OLD = 'Default Dark+'),
            (t.COLOR_THEME_LIGHT_OLD = 'Default Light+'),
            (t.FILE_ICON_THEME = 'vs-seti'),
            (t.PRODUCT_ICON_THEME = 'Default');
        })(ok || (ok = {})),
        (function (t) {
          function e(r) {
            return (
              r && {
                _extensionId: r.extensionId,
                _extensionIsBuiltin: r.extensionIsBuiltin,
                _extensionName: r.extensionName,
                _extensionPublisher: r.extensionPublisher,
              }
            );
          }
          t.toJSONObject = e;
          function i(r) {
            if (
              r &&
              ot(r._extensionId) &&
              mo(r._extensionIsBuiltin) &&
              ot(r._extensionName) &&
              ot(r._extensionPublisher)
            )
              return {
                extensionId: r._extensionId,
                extensionIsBuiltin: r._extensionIsBuiltin,
                extensionName: r._extensionName,
                extensionPublisher: r._extensionPublisher,
              };
          }
          t.fromJSONObject = i;
          function s(r, n, o = !1) {
            return {
              extensionPublisher: r,
              extensionId: `${r}.${n}`,
              extensionName: n,
              extensionIsBuiltin: o,
            };
          }
          t.fromName = s;
        })(gc || (gc = {}));
    },
  });
function sO(t) {
  return `--vscode-${t.replace(/\./g, '-')}`;
}
function rO(t) {
  return t !== null && typeof t == 'object' && 'light' in t && 'dark' in t;
}
function f(t, e, i, s, r) {
  return mc.registerColor(t, e, i, s, r);
}
function nO() {
  return mc;
}
function oO(t, e) {
  switch (t.op) {
    case 0:
      return us(t.value, e)?.darken(t.factor);
    case 1:
      return us(t.value, e)?.lighten(t.factor);
    case 2:
      return us(t.value, e)?.transparent(t.factor);
    case 3:
      return us(t.value, e)?.transparentOverride(t.factor);
    case 4: {
      const i = us(t.background, e);
      return i ? us(t.value, e)?.makeOpaque(i) : us(t.value, e);
    }
    case 5:
      for (const i of t.values) {
        const s = us(i, e);
        if (s) return s;
      }
      return;
    case 7:
      return us(e.defines(t.if) ? t.then : t.else, e);
    case 6: {
      const i = us(t.value, e);
      if (!i) return;
      const s = us(t.background, e);
      return s
        ? i.isDarkerThan(s)
          ? S.getLighterColor(i, s, t.factor).transparent(t.transparency)
          : S.getDarkerColor(i, s, t.factor).transparent(t.transparency)
        : i.transparent(t.factor * t.transparency);
    }
    case 8: {
      const i = us(t.value, e);
      if (!i) return;
      const s = us(t.background, e);
      return s ? i.blend(s) : void 0;
    }
    default:
      throw QI(t);
  }
}
function ys(t, e) {
  return { op: 0, value: t, factor: e };
}
function Ls(t, e) {
  return { op: 1, value: t, factor: e };
}
function j(t, e) {
  return { op: 2, value: t, factor: e };
}
function Z(t, e) {
  return { op: 3, value: t, factor: e };
}
function ak(...t) {
  return { op: 5, values: t };
}
function aO(t, e, i) {
  return { op: 7, if: t, then: e, else: i };
}
function ck(t, e, i, s) {
  return { op: 6, value: t, background: e, factor: i, transparency: s };
}
function lk(t, e) {
  return { op: 8, value: t, background: e };
}
function us(t, e) {
  if (t !== null) {
    if (typeof t == 'string') return t[0] === '#' ? S.fromHex(t) : e.getColor(t);
    if (t instanceof S) return t;
    if (typeof t == 'object') return oO(t, e);
  }
}
var uk,
  nb,
  xu,
  hk,
  mc,
  ob,
  ab,
  cb,
  hs = b({
    'out-build/vs/platform/theme/common/colorUtils.js'() {
      'use strict';
      Jh(),
        le(),
        Ri(),
        X(),
        pd(),
        li(),
        he(),
        (function (t) {
          (t[(t.Darken = 0)] = 'Darken'),
            (t[(t.Lighten = 1)] = 'Lighten'),
            (t[(t.Transparent = 2)] = 'Transparent'),
            (t[(t.TransparentOverride = 3)] = 'TransparentOverride'),
            (t[(t.Opaque = 4)] = 'Opaque'),
            (t[(t.OneOf = 5)] = 'OneOf'),
            (t[(t.LessProminent = 6)] = 'LessProminent'),
            (t[(t.IfDefinedThenElse = 7)] = 'IfDefinedThenElse'),
            (t[(t.Blend = 8)] = 'Blend');
        })(uk || (uk = {})),
        (nb = { ColorContribution: 'base.contributions.colors' }),
        (xu = 'default'),
        (hk = class {
          constructor() {
            (this.d = new $()),
              (this.onDidChangeSchema = this.d.event),
              (this.f = { type: 'object', properties: {} }),
              (this.g = { type: 'string', enum: [], enumDescriptions: [] }),
              (this.e = {});
          }
          notifyThemeUpdate(t) {
            for (const e of Object.keys(this.e)) {
              const i = t.getColor(e);
              i &&
                (this.f.properties[e].oneOf[0].defaultSnippets[0].body = `\${1:${i.toString()}}`);
            }
            this.d.fire();
          }
          registerColor(t, e, i, s = !1, r) {
            const n = {
              id: t,
              description: i,
              defaults: e,
              needsTransparency: s,
              deprecationMessage: r,
            };
            this.e[t] = n;
            const o = {
              type: 'string',
              format: 'color-hex',
              defaultSnippets: [{ body: '${1:#ff0000}' }],
            };
            return (
              r && (o.deprecationMessage = r),
              s &&
                ((o.pattern =
                  '^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$'),
                (o.patternErrorMessage = u(2739, null))),
              (this.f.properties[t] = {
                description: i,
                oneOf: [o, { type: 'string', const: xu, description: u(2740, null) }],
              }),
              this.g.enum.push(t),
              this.g.enumDescriptions.push(i),
              this.d.fire(),
              t
            );
          }
          deregisterColor(t) {
            delete this.e[t], delete this.f.properties[t];
            const e = this.g.enum.indexOf(t);
            e !== -1 && (this.g.enum.splice(e, 1), this.g.enumDescriptions.splice(e, 1)),
              this.d.fire();
          }
          getColors() {
            return Object.keys(this.e).map((t) => this.e[t]);
          }
          resolveDefaultColor(t, e) {
            const i = this.e[t];
            if (i?.defaults) {
              const s = rO(i.defaults) ? i.defaults[e.type] : i.defaults;
              return us(s, e);
            }
          }
          getColorSchema() {
            return this.f;
          }
          getColorReferenceSchema() {
            return this.g;
          }
          toString() {
            const t = (e, i) => {
              const s = e.indexOf('.') === -1 ? 0 : 1,
                r = i.indexOf('.') === -1 ? 0 : 1;
              return s !== r ? s - r : e.localeCompare(i);
            };
            return Object.keys(this.e)
              .sort(t)
              .map((e) => `- \`${e}\`: ${this.e[e].description}`).join(`
`);
          }
        }),
        (mc = new hk()),
        tt.add(nb.ColorContribution, mc),
        (ob = 'vscode://schemas/workbench-colors'),
        (ab = tt.as(Ca.JSONContribution)),
        ab.registerSchema(ob, mc.getColorSchema()),
        (cb = new As(() => ab.notifySchemaChanged(ob), 200)),
        mc.onDidChangeSchema(() => {
          cb.isScheduled() || cb.schedule();
        });
    },
  }),
  Ae,
  Au,
  lb,
  cO,
  hp,
  Ts,
  G,
  mt,
  lO,
  dk,
  uO,
  hO,
  dO,
  fO,
  pO,
  gO,
  mO,
  fn = b({
    'out-build/vs/platform/theme/common/colors/baseColors.js'() {
      'use strict';
      he(),
        Ri(),
        hs(),
        (Ae = f(
          'foreground',
          { dark: '#CCCCCC', light: '#616161', hcDark: '#FFFFFF', hcLight: '#292929' },
          u(2336, null)
        )),
        (Au = f(
          'disabledForeground',
          { dark: '#CCCCCC80', light: '#61616180', hcDark: '#A5A5A5', hcLight: '#7F7F7F' },
          u(2337, null)
        )),
        (lb = f(
          'errorForeground',
          { dark: '#F48771', light: '#A1260D', hcDark: '#F48771', hcLight: '#B5200D' },
          u(2338, null)
        )),
        (cO = f(
          'descriptionForeground',
          { light: '#717171', dark: j(Ae, 0.7), hcDark: j(Ae, 0.7), hcLight: j(Ae, 0.7) },
          u(2339, null)
        )),
        (hp = f(
          'icon.foreground',
          { dark: '#C5C5C5', light: '#424242', hcDark: '#FFFFFF', hcLight: '#292929' },
          u(2340, null)
        )),
        (Ts = f(
          'focusBorder',
          { dark: '#007FD4', light: '#0090F1', hcDark: '#F38518', hcLight: '#006BBD' },
          u(2341, null)
        )),
        (G = f(
          'contrastBorder',
          { light: null, dark: null, hcDark: '#6FC3DF', hcLight: '#0F4A85' },
          u(2342, null)
        )),
        (mt = f(
          'contrastActiveBorder',
          { light: null, dark: null, hcDark: Ts, hcLight: Ts },
          u(2343, null)
        )),
        (lO = f('selection.background', null, u(2344, null))),
        (dk = f(
          'textLink.foreground',
          { light: '#006AB1', dark: '#3794FF', hcDark: '#21A6FF', hcLight: '#0F4A85' },
          u(2345, null)
        )),
        (uO = f(
          'textLink.activeForeground',
          { light: '#006AB1', dark: '#3794FF', hcDark: '#21A6FF', hcLight: '#0F4A85' },
          u(2346, null)
        )),
        (hO = f(
          'textSeparator.foreground',
          { light: '#0000002e', dark: '#ffffff2e', hcDark: S.black, hcLight: '#292929' },
          u(2347, null)
        )),
        (dO = f(
          'textPreformat.foreground',
          { light: '#A31515', dark: '#D7BA7D', hcDark: '#000000', hcLight: '#FFFFFF' },
          u(2348, null)
        )),
        (fO = f(
          'textPreformat.background',
          { light: '#0000001A', dark: '#FFFFFF1A', hcDark: '#FFFFFF', hcLight: '#09345f' },
          u(2349, null)
        )),
        (pO = f(
          'textBlockQuote.background',
          { light: '#f2f2f2', dark: '#222222', hcDark: null, hcLight: '#F2F2F2' },
          u(2350, null)
        )),
        (gO = f(
          'textBlockQuote.border',
          { light: '#007acc80', dark: '#007acc80', hcDark: S.white, hcLight: '#292929' },
          u(2351, null)
        )),
        (mO = f(
          'textCodeBlock.background',
          { light: '#dcdcdc66', dark: '#0a0a0a66', hcDark: S.black, hcLight: '#F2F2F2' },
          u(2352, null)
        ));
    },
  }),
  wO,
  dp,
  bO,
  vO,
  yO,
  kO,
  SO,
  fp,
  fk,
  pk,
  gk,
  EO,
  CO,
  DO,
  xO,
  ub = b({
    'out-build/vs/platform/theme/common/colors/miscColors.js'() {
      'use strict';
      he(),
        Ri(),
        hs(),
        fn(),
        (wO = f('sash.hoverBorder', Ts, u(2712, null))),
        (dp = f(
          'badge.background',
          { dark: '#4D4D4D', light: '#C4C4C4', hcDark: S.black, hcLight: '#0F4A85' },
          u(2713, null)
        )),
        (bO = f(
          'badge.foreground',
          { dark: S.white, light: '#333', hcDark: S.white, hcLight: S.white },
          u(2714, null)
        )),
        (vO = f(
          'activityWarningBadge.foreground',
          {
            dark: S.black.lighten(0.2),
            light: S.white,
            hcDark: null,
            hcLight: S.black.lighten(0.2),
          },
          u(2715, null)
        )),
        (yO = f(
          'activityWarningBadge.background',
          { dark: '#CCA700', light: '#BF8803', hcDark: null, hcLight: '#CCA700' },
          u(2716, null)
        )),
        (kO = f(
          'activityErrorBadge.foreground',
          {
            dark: S.black.lighten(0.2),
            light: S.white,
            hcDark: null,
            hcLight: S.black.lighten(0.2),
          },
          u(2717, null)
        )),
        (SO = f(
          'activityErrorBadge.background',
          { dark: '#F14C4C', light: '#E51400', hcDark: null, hcLight: '#F14C4C' },
          u(2718, null)
        )),
        (fp = f(
          'scrollbar.shadow',
          { dark: '#000000', light: '#DDDDDD', hcDark: null, hcLight: null },
          u(2719, null)
        )),
        (fk = f(
          'scrollbarSlider.background',
          {
            dark: S.fromHex('#797979').transparent(0.4),
            light: S.fromHex('#646464').transparent(0.4),
            hcDark: j(G, 0.6),
            hcLight: j(G, 0.4),
          },
          u(2720, null)
        )),
        (pk = f(
          'scrollbarSlider.hoverBackground',
          {
            dark: S.fromHex('#646464').transparent(0.7),
            light: S.fromHex('#646464').transparent(0.7),
            hcDark: j(G, 0.8),
            hcLight: j(G, 0.8),
          },
          u(2721, null)
        )),
        (gk = f(
          'scrollbarSlider.activeBackground',
          {
            dark: S.fromHex('#BFBFBF').transparent(0.4),
            light: S.fromHex('#000000').transparent(0.6),
            hcDark: G,
            hcLight: G,
          },
          u(2722, null)
        )),
        (EO = f(
          'progressBar.background',
          { dark: S.fromHex('#0E70C0'), light: S.fromHex('#0E70C0'), hcDark: G, hcLight: G },
          u(2723, null)
        )),
        (CO = f(
          'chart.line',
          { dark: '#236B8E', light: '#236B8E', hcDark: '#236B8E', hcLight: '#236B8E' },
          u(2724, null)
        )),
        (DO = f(
          'chart.axis',
          {
            dark: S.fromHex('#BFBFBF').transparent(0.4),
            light: S.fromHex('#000000').transparent(0.6),
            hcDark: G,
            hcLight: G,
          },
          u(2725, null)
        )),
        (xO = f(
          'chart.guide',
          {
            dark: S.fromHex('#BFBFBF').transparent(0.2),
            light: S.fromHex('#000000').transparent(0.2),
            hcDark: G,
            hcLight: G,
          },
          u(2726, null)
        ));
    },
  }),
  fi,
  er,
  AO,
  IO,
  $O,
  PO,
  ds,
  wc,
  mk,
  _O,
  LO,
  pp,
  TO,
  wk,
  tr,
  Iu,
  MO,
  pn,
  $u,
  FO,
  OO,
  RO,
  Zn,
  NO,
  bk,
  vk,
  BO,
  UO,
  yk,
  jO,
  _r,
  WO,
  kk,
  HO,
  Yo,
  zO,
  Sk,
  hb,
  VO,
  GO,
  qO,
  db,
  fb,
  KO,
  JO,
  XO,
  YO,
  Ek,
  QO,
  ZO,
  eR,
  tR,
  iR,
  sR,
  pb,
  gb,
  rR,
  nR,
  oR,
  aR,
  cR,
  lR,
  uR,
  hR,
  dR,
  fR,
  pR,
  gR,
  mR,
  wR,
  bR,
  Ck,
  Pu,
  _u,
  vR,
  yR,
  kR,
  SR,
  ER,
  CR,
  DR,
  mb,
  wb,
  bb,
  vb,
  gp,
  Qo,
  mp,
  xR,
  wp,
  AR,
  bp,
  IR,
  Zo,
  $R,
  PR,
  _R,
  LR,
  TR,
  MR,
  FR,
  OR,
  eo = b({
    'out-build/vs/platform/theme/common/colors/editorColors.js'() {
      'use strict';
      he(),
        Ri(),
        hs(),
        fn(),
        ub(),
        (fi = f(
          'editor.background',
          { light: '#ffffff', dark: '#1E1E1E', hcDark: S.black, hcLight: S.white },
          u(2361, null)
        )),
        (er = f(
          'editor.foreground',
          { light: '#333333', dark: '#BBBBBB', hcDark: S.white, hcLight: Ae },
          u(2362, null)
        )),
        (AO = f('editorStickyScroll.background', fi, u(2363, null))),
        (IO = f(
          'editorStickyScrollHover.background',
          {
            dark: '#2A2D2E',
            light: '#F0F0F0',
            hcDark: null,
            hcLight: S.fromHex('#0F4A85').transparent(0.1),
          },
          u(2364, null)
        )),
        ($O = f(
          'editorStickyScroll.border',
          { dark: null, light: null, hcDark: G, hcLight: G },
          u(2365, null)
        )),
        (PO = f('editorStickyScroll.shadow', fp, u(2366, null))),
        (ds = f(
          'editorWidget.background',
          { dark: '#252526', light: '#F3F3F3', hcDark: '#0C141F', hcLight: S.white },
          u(2367, null)
        )),
        (wc = f('editorWidget.foreground', Ae, u(2368, null))),
        (mk = f(
          'editorWidget.border',
          { dark: '#454545', light: '#C8C8C8', hcDark: G, hcLight: G },
          u(2369, null)
        )),
        (_O = f('editorWidget.resizeBorder', null, u(2370, null))),
        (LO = f('editorError.background', null, u(2371, null), !0)),
        (pp = f(
          'editorError.foreground',
          { dark: '#F14C4C', light: '#E51400', hcDark: '#F48771', hcLight: '#B5200D' },
          u(2372, null)
        )),
        (TO = f(
          'editorError.border',
          {
            dark: null,
            light: null,
            hcDark: S.fromHex('#E47777').transparent(0.8),
            hcLight: '#B5200D',
          },
          u(2373, null)
        )),
        (wk = f('editorWarning.background', null, u(2374, null), !0)),
        (tr = f(
          'editorWarning.foreground',
          { dark: '#CCA700', light: '#BF8803', hcDark: '#FFD370', hcLight: '#895503' },
          u(2375, null)
        )),
        (Iu = f(
          'editorWarning.border',
          {
            dark: null,
            light: null,
            hcDark: S.fromHex('#FFCC00').transparent(0.8),
            hcLight: S.fromHex('#FFCC00').transparent(0.8),
          },
          u(2376, null)
        )),
        (MO = f('editorInfo.background', null, u(2377, null), !0)),
        (pn = f(
          'editorInfo.foreground',
          { dark: '#3794FF', light: '#1a85ff', hcDark: '#3794FF', hcLight: '#1a85ff' },
          u(2378, null)
        )),
        ($u = f(
          'editorInfo.border',
          {
            dark: null,
            light: null,
            hcDark: S.fromHex('#3794FF').transparent(0.8),
            hcLight: '#292929',
          },
          u(2379, null)
        )),
        (FO = f(
          'editorHint.foreground',
          {
            dark: S.fromHex('#eeeeee').transparent(0.7),
            light: '#6c6c6c',
            hcDark: null,
            hcLight: null,
          },
          u(2380, null)
        )),
        (OO = f(
          'editorHint.border',
          {
            dark: null,
            light: null,
            hcDark: S.fromHex('#eeeeee').transparent(0.8),
            hcLight: '#292929',
          },
          u(2381, null)
        )),
        (RO = f(
          'editorLink.activeForeground',
          { dark: '#4E94CE', light: S.blue, hcDark: S.cyan, hcLight: '#292929' },
          u(2382, null)
        )),
        (Zn = f(
          'editor.selectionBackground',
          { light: '#ADD6FF', dark: '#264F78', hcDark: '#f3f518', hcLight: '#0F4A85' },
          u(2383, null)
        )),
        (NO = f(
          'editor.selectionForeground',
          { light: null, dark: null, hcDark: '#000000', hcLight: S.white },
          u(2384, null)
        )),
        (bk = f(
          'editor.inactiveSelectionBackground',
          { light: j(Zn, 0.5), dark: j(Zn, 0.5), hcDark: j(Zn, 0.7), hcLight: j(Zn, 0.5) },
          u(2385, null),
          !0
        )),
        (vk = f(
          'editor.selectionHighlightBackground',
          { light: ck(Zn, fi, 0.3, 0.6), dark: ck(Zn, fi, 0.3, 0.6), hcDark: null, hcLight: null },
          u(2386, null),
          !0
        )),
        (BO = f(
          'editor.selectionHighlightBorder',
          { light: null, dark: null, hcDark: mt, hcLight: mt },
          u(2387, null)
        )),
        (UO = f(
          'editor.compositionBorder',
          { light: '#000000', dark: '#ffffff', hcLight: '#000000', hcDark: '#ffffff' },
          u(2388, null)
        )),
        (yk = f(
          'editor.findMatchBackground',
          { light: '#A8AC94', dark: '#515C6A', hcDark: null, hcLight: null },
          u(2389, null)
        )),
        (jO = f('editor.findMatchForeground', null, u(2390, null))),
        (_r = f(
          'editor.findMatchHighlightBackground',
          { light: '#EA5C0055', dark: '#EA5C0055', hcDark: null, hcLight: null },
          u(2391, null),
          !0
        )),
        (WO = f('editor.findMatchHighlightForeground', null, u(2392, null), !0)),
        (kk = f(
          'editor.findRangeHighlightBackground',
          { dark: '#3a3d4166', light: '#b4b4b44d', hcDark: null, hcLight: null },
          u(2393, null),
          !0
        )),
        (HO = f(
          'editor.findMatchBorder',
          { light: null, dark: null, hcDark: mt, hcLight: mt },
          u(2394, null)
        )),
        (Yo = f(
          'editor.findMatchHighlightBorder',
          { light: null, dark: null, hcDark: mt, hcLight: mt },
          u(2395, null)
        )),
        (zO = f(
          'editor.findRangeHighlightBorder',
          { dark: null, light: null, hcDark: j(mt, 0.4), hcLight: j(mt, 0.4) },
          u(2396, null),
          !0
        )),
        (Sk = f(
          'editor.hoverHighlightBackground',
          { light: '#ADD6FF26', dark: '#264f7840', hcDark: '#ADD6FF26', hcLight: null },
          u(2397, null),
          !0
        )),
        (hb = f('editorHoverWidget.background', ds, u(2398, null))),
        (VO = f('editorHoverWidget.foreground', wc, u(2399, null))),
        (GO = f('editorHoverWidget.border', mk, u(2400, null))),
        (qO = f(
          'editorHoverWidget.statusBarBackground',
          { dark: Ls(hb, 0.2), light: ys(hb, 0.05), hcDark: ds, hcLight: ds },
          u(2401, null)
        )),
        (db = f(
          'editorInlayHint.foreground',
          { dark: '#969696', light: '#969696', hcDark: S.white, hcLight: S.black },
          u(2402, null)
        )),
        (fb = f(
          'editorInlayHint.background',
          { dark: j(dp, 0.1), light: j(dp, 0.1), hcDark: j(S.white, 0.1), hcLight: j(dp, 0.1) },
          u(2403, null)
        )),
        (KO = f('editorInlayHint.typeForeground', db, u(2404, null))),
        (JO = f('editorInlayHint.typeBackground', fb, u(2405, null))),
        (XO = f('editorInlayHint.parameterForeground', db, u(2406, null))),
        (YO = f('editorInlayHint.parameterBackground', fb, u(2407, null))),
        (Ek = f(
          'editorLightBulb.foreground',
          { dark: '#FFCC00', light: '#DDB100', hcDark: '#FFCC00', hcLight: '#007ACC' },
          u(2408, null)
        )),
        (QO = f(
          'editorLightBulbAutoFix.foreground',
          { dark: '#75BEFF', light: '#007ACC', hcDark: '#75BEFF', hcLight: '#007ACC' },
          u(2409, null)
        )),
        (ZO = f('editorLightBulbAi.foreground', Ek, u(2410, null))),
        (eR = f(
          'editor.snippetTabstopHighlightBackground',
          {
            dark: new S(new A(124, 124, 124, 0.3)),
            light: new S(new A(10, 50, 100, 0.2)),
            hcDark: new S(new A(124, 124, 124, 0.3)),
            hcLight: new S(new A(10, 50, 100, 0.2)),
          },
          u(2411, null)
        )),
        (tR = f('editor.snippetTabstopHighlightBorder', null, u(2412, null))),
        (iR = f('editor.snippetFinalTabstopHighlightBackground', null, u(2413, null))),
        (sR = f(
          'editor.snippetFinalTabstopHighlightBorder',
          {
            dark: '#525252',
            light: new S(new A(10, 50, 100, 0.5)),
            hcDark: '#525252',
            hcLight: '#292929',
          },
          u(2414, null)
        )),
        (pb = new S(new A(155, 185, 85, 0.2))),
        (gb = new S(new A(255, 0, 0, 0.2))),
        (rR = f(
          'diffEditor.insertedTextBackground',
          { dark: '#9ccc2c33', light: '#9ccc2c40', hcDark: null, hcLight: null },
          u(2415, null),
          !0
        )),
        (nR = f(
          'diffEditor.removedTextBackground',
          { dark: '#ff000033', light: '#ff000033', hcDark: null, hcLight: null },
          u(2416, null),
          !0
        )),
        (oR = f(
          'diffEditor.insertedLineBackground',
          { dark: pb, light: pb, hcDark: null, hcLight: null },
          u(2417, null),
          !0
        )),
        (aR = f(
          'diffEditor.removedLineBackground',
          { dark: gb, light: gb, hcDark: null, hcLight: null },
          u(2418, null),
          !0
        )),
        (cR = f('diffEditorGutter.insertedLineBackground', null, u(2419, null))),
        (lR = f('diffEditorGutter.removedLineBackground', null, u(2420, null))),
        (uR = f('diffEditorOverview.insertedForeground', null, u(2421, null))),
        (hR = f('diffEditorOverview.removedForeground', null, u(2422, null))),
        (dR = f(
          'diffEditor.insertedTextBorder',
          { dark: null, light: null, hcDark: '#33ff2eff', hcLight: '#374E06' },
          u(2423, null)
        )),
        (fR = f(
          'diffEditor.removedTextBorder',
          { dark: null, light: null, hcDark: '#FF008F', hcLight: '#AD0707' },
          u(2424, null)
        )),
        (pR = f(
          'diffEditor.border',
          { dark: null, light: null, hcDark: G, hcLight: G },
          u(2425, null)
        )),
        (gR = f(
          'diffEditor.diagonalFill',
          { dark: '#cccccc33', light: '#22222233', hcDark: null, hcLight: null },
          u(2426, null)
        )),
        (mR = f('diffEditor.unchangedRegionBackground', 'sideBar.background', u(2427, null))),
        (wR = f('diffEditor.unchangedRegionForeground', 'foreground', u(2428, null))),
        (bR = f(
          'diffEditor.unchangedCodeBackground',
          { dark: '#74747429', light: '#b8b8b829', hcDark: null, hcLight: null },
          u(2429, null)
        )),
        (Ck = f(
          'widget.shadow',
          { dark: j(S.black, 0.36), light: j(S.black, 0.16), hcDark: null, hcLight: null },
          u(2430, null)
        )),
        (Pu = f(
          'widget.border',
          { dark: null, light: null, hcDark: G, hcLight: G },
          u(2431, null)
        )),
        (_u = f(
          'toolbar.hoverBackground',
          { dark: '#5a5d5e50', light: '#b8b8b850', hcDark: null, hcLight: null },
          u(2432, null)
        )),
        (vR = f(
          'toolbar.hoverOutline',
          { dark: null, light: null, hcDark: mt, hcLight: mt },
          u(2433, null)
        )),
        (yR = f(
          'toolbar.activeBackground',
          { dark: Ls(_u, 0.1), light: ys(_u, 0.1), hcDark: null, hcLight: null },
          u(2434, null)
        )),
        (kR = f('breadcrumb.foreground', j(Ae, 0.8), u(2435, null))),
        (SR = f('breadcrumb.background', fi, u(2436, null))),
        (ER = f(
          'breadcrumb.focusForeground',
          { light: ys(Ae, 0.2), dark: Ls(Ae, 0.1), hcDark: Ls(Ae, 0.1), hcLight: Ls(Ae, 0.1) },
          u(2437, null)
        )),
        (CR = f(
          'breadcrumb.activeSelectionForeground',
          { light: ys(Ae, 0.2), dark: Ls(Ae, 0.1), hcDark: Ls(Ae, 0.1), hcLight: Ls(Ae, 0.1) },
          u(2438, null)
        )),
        (DR = f('breadcrumbPicker.background', ds, u(2439, null))),
        (mb = 0.5),
        (wb = S.fromHex('#40C8AE').transparent(mb)),
        (bb = S.fromHex('#40A6FF').transparent(mb)),
        (vb = S.fromHex('#606060').transparent(0.4)),
        (gp = 0.4),
        (Qo = 1),
        (mp = f(
          'merge.currentHeaderBackground',
          { dark: wb, light: wb, hcDark: null, hcLight: null },
          u(2440, null),
          !0
        )),
        (xR = f('merge.currentContentBackground', j(mp, gp), u(2441, null), !0)),
        (wp = f(
          'merge.incomingHeaderBackground',
          { dark: bb, light: bb, hcDark: null, hcLight: null },
          u(2442, null),
          !0
        )),
        (AR = f('merge.incomingContentBackground', j(wp, gp), u(2443, null), !0)),
        (bp = f(
          'merge.commonHeaderBackground',
          { dark: vb, light: vb, hcDark: null, hcLight: null },
          u(2444, null),
          !0
        )),
        (IR = f('merge.commonContentBackground', j(bp, gp), u(2445, null), !0)),
        (Zo = f(
          'merge.border',
          { dark: null, light: null, hcDark: '#C3DF6F', hcLight: '#007ACC' },
          u(2446, null)
        )),
        ($R = f(
          'editorOverviewRuler.currentContentForeground',
          { dark: j(mp, Qo), light: j(mp, Qo), hcDark: Zo, hcLight: Zo },
          u(2447, null)
        )),
        (PR = f(
          'editorOverviewRuler.incomingContentForeground',
          { dark: j(wp, Qo), light: j(wp, Qo), hcDark: Zo, hcLight: Zo },
          u(2448, null)
        )),
        (_R = f(
          'editorOverviewRuler.commonContentForeground',
          { dark: j(bp, Qo), light: j(bp, Qo), hcDark: Zo, hcLight: Zo },
          u(2449, null)
        )),
        (LR = f(
          'editorOverviewRuler.findMatchForeground',
          { dark: '#d186167e', light: '#d186167e', hcDark: '#AB5A00', hcLight: '#AB5A00' },
          u(2450, null),
          !0
        )),
        (TR = f(
          'editorOverviewRuler.selectionHighlightForeground',
          '#A0A0A0CC',
          u(2451, null),
          !0
        )),
        (MR = f('problemsErrorIcon.foreground', pp, u(2452, null))),
        (FR = f('problemsWarningIcon.foreground', tr, u(2453, null))),
        (OR = f('problemsInfoIcon.foreground', pn, u(2454, null)));
    },
  }),
  Dk,
  RR,
  NR,
  BR,
  UR,
  jR,
  WR,
  HR,
  zR,
  VR,
  GR,
  xk = b({
    'out-build/vs/platform/theme/common/colors/minimapColors.js'() {
      'use strict';
      he(),
        Ri(),
        hs(),
        eo(),
        ub(),
        (Dk = f(
          'minimap.findMatchHighlight',
          { light: '#d18616', dark: '#d18616', hcDark: '#AB5A00', hcLight: '#0F4A85' },
          u(2701, null),
          !0
        )),
        (RR = f(
          'minimap.selectionOccurrenceHighlight',
          { light: '#c9c9c9', dark: '#676767', hcDark: '#ffffff', hcLight: '#0F4A85' },
          u(2702, null),
          !0
        )),
        (NR = f(
          'minimap.selectionHighlight',
          { light: '#ADD6FF', dark: '#264F78', hcDark: '#ffffff', hcLight: '#0F4A85' },
          u(2703, null),
          !0
        )),
        (BR = f(
          'minimap.infoHighlight',
          { dark: pn, light: pn, hcDark: $u, hcLight: $u },
          u(2704, null)
        )),
        (UR = f(
          'minimap.warningHighlight',
          { dark: tr, light: tr, hcDark: Iu, hcLight: Iu },
          u(2705, null)
        )),
        (jR = f(
          'minimap.errorHighlight',
          {
            dark: new S(new A(255, 18, 18, 0.7)),
            light: new S(new A(255, 18, 18, 0.7)),
            hcDark: new S(new A(255, 50, 50, 1)),
            hcLight: '#B5200D',
          },
          u(2706, null)
        )),
        (WR = f('minimap.background', null, u(2707, null))),
        (HR = f('minimap.foregroundOpacity', S.fromHex('#000f'), u(2708, null))),
        (zR = f('minimapSlider.background', j(fk, 0.5), u(2709, null))),
        (VR = f('minimapSlider.hoverBackground', j(pk, 0.5), u(2710, null))),
        (GR = f('minimapSlider.activeBackground', j(gk, 0.5), u(2711, null)));
    },
  }),
  qR,
  KR,
  JR,
  XR,
  YR,
  QR,
  ZR,
  eN,
  tN = b({
    'out-build/vs/platform/theme/common/colors/chartsColors.js'() {
      'use strict';
      he(),
        hs(),
        fn(),
        eo(),
        xk(),
        (qR = f('charts.foreground', Ae, u(2353, null))),
        (KR = f('charts.lines', j(Ae, 0.5), u(2354, null))),
        (JR = f('charts.red', pp, u(2355, null))),
        (XR = f('charts.blue', pn, u(2356, null))),
        (YR = f('charts.yellow', tr, u(2357, null))),
        (QR = f('charts.orange', Dk, u(2358, null))),
        (ZR = f(
          'charts.green',
          { dark: '#89D185', light: '#388A34', hcDark: '#89D185', hcLight: '#374e06' },
          u(2359, null)
        )),
        (eN = f(
          'charts.purple',
          { dark: '#B180D7', light: '#652D90', hcDark: '#B180D7', hcLight: '#652D90' },
          u(2360, null)
        ));
    },
  }),
  iN,
  sN,
  vp,
  Ak,
  Ik,
  $k,
  Pk,
  rN,
  nN,
  oN,
  aN,
  cN,
  lN,
  uN,
  hN,
  dN,
  fN,
  yp,
  pN,
  yb,
  _k,
  kb,
  gN,
  Rt,
  Lk,
  mN,
  wN,
  Sb,
  bN,
  Lu,
  vN,
  yN,
  kN,
  SN,
  EN,
  CN,
  DN,
  xN,
  AN,
  IN,
  $N,
  PN,
  _N,
  LN,
  TN,
  Eb = b({
    'out-build/vs/platform/theme/common/colors/inputColors.js'() {
      'use strict';
      he(),
        Ri(),
        hs(),
        fn(),
        eo(),
        (iN = f(
          'input.background',
          { dark: '#3C3C3C', light: S.white, hcDark: S.black, hcLight: S.white },
          u(2613, null)
        )),
        (sN = f('input.foreground', Ae, u(2614, null))),
        (vp = f('input.border', { dark: null, light: null, hcDark: G, hcLight: G }, u(2615, null))),
        (Ak = f(
          'inputOption.activeBorder',
          { dark: '#007ACC', light: '#007ACC', hcDark: G, hcLight: G },
          u(2616, null)
        )),
        (Ik = f(
          'inputOption.hoverBackground',
          { dark: '#5a5d5e80', light: '#b8b8b850', hcDark: null, hcLight: null },
          u(2617, null)
        )),
        ($k = f(
          'inputOption.activeBackground',
          { dark: j(Ts, 0.4), light: j(Ts, 0.2), hcDark: S.transparent, hcLight: S.transparent },
          u(2618, null)
        )),
        (Pk = f(
          'inputOption.activeForeground',
          { dark: S.white, light: S.black, hcDark: Ae, hcLight: Ae },
          u(2619, null)
        )),
        (rN = f(
          'input.placeholderForeground',
          { light: j(Ae, 0.5), dark: j(Ae, 0.5), hcDark: j(Ae, 0.7), hcLight: j(Ae, 0.7) },
          u(2620, null)
        )),
        (nN = f(
          'inputValidation.infoBackground',
          { dark: '#063B49', light: '#D6ECF2', hcDark: S.black, hcLight: S.white },
          u(2621, null)
        )),
        (oN = f(
          'inputValidation.infoForeground',
          { dark: null, light: null, hcDark: null, hcLight: Ae },
          u(2622, null)
        )),
        (aN = f(
          'inputValidation.infoBorder',
          { dark: '#007acc', light: '#007acc', hcDark: G, hcLight: G },
          u(2623, null)
        )),
        (cN = f(
          'inputValidation.warningBackground',
          { dark: '#352A05', light: '#F6F5D2', hcDark: S.black, hcLight: S.white },
          u(2624, null)
        )),
        (lN = f(
          'inputValidation.warningForeground',
          { dark: null, light: null, hcDark: null, hcLight: Ae },
          u(2625, null)
        )),
        (uN = f(
          'inputValidation.warningBorder',
          { dark: '#B89500', light: '#B89500', hcDark: G, hcLight: G },
          u(2626, null)
        )),
        (hN = f(
          'inputValidation.errorBackground',
          { dark: '#5A1D1D', light: '#F2DEDE', hcDark: S.black, hcLight: S.white },
          u(2627, null)
        )),
        (dN = f(
          'inputValidation.errorForeground',
          { dark: null, light: null, hcDark: null, hcLight: Ae },
          u(2628, null)
        )),
        (fN = f(
          'inputValidation.errorBorder',
          { dark: '#BE1100', light: '#BE1100', hcDark: G, hcLight: G },
          u(2629, null)
        )),
        (yp = f(
          'dropdown.background',
          { dark: '#3C3C3C', light: S.white, hcDark: S.black, hcLight: S.white },
          u(2630, null)
        )),
        (pN = f(
          'dropdown.listBackground',
          { dark: null, light: null, hcDark: S.black, hcLight: S.white },
          u(2631, null)
        )),
        (yb = f(
          'dropdown.foreground',
          { dark: '#F0F0F0', light: Ae, hcDark: S.white, hcLight: Ae },
          u(2632, null)
        )),
        (_k = f(
          'dropdown.border',
          { dark: yp, light: '#CECECE', hcDark: G, hcLight: G },
          u(2633, null)
        )),
        (kb = f('button.foreground', S.white, u(2634, null))),
        (gN = f('button.separator', j(kb, 0.4), u(2635, null))),
        (Rt = f(
          'button.background',
          { dark: '#0E639C', light: '#007ACC', hcDark: null, hcLight: '#0F4A85' },
          u(2636, null)
        )),
        (Lk = f(
          'button.hoverBackground',
          { dark: Ls(Rt, 0.2), light: ys(Rt, 0.2), hcDark: Rt, hcLight: Rt },
          u(2637, null)
        )),
        (mN = f('button.border', G, u(2638, null))),
        (wN = f(
          'button.secondaryForeground',
          { dark: S.white, light: S.white, hcDark: S.white, hcLight: Ae },
          u(2639, null)
        )),
        (Sb = f(
          'button.secondaryBackground',
          { dark: '#3A3D41', light: '#5F6A79', hcDark: null, hcLight: S.white },
          u(2640, null)
        )),
        (bN = f(
          'button.secondaryHoverBackground',
          { dark: Ls(Sb, 0.2), light: ys(Sb, 0.2), hcDark: null, hcLight: null },
          u(2641, null)
        )),
        (Lu = f('radio.activeForeground', Pk, u(2642, null))),
        (vN = f('radio.activeBackground', $k, u(2643, null))),
        (yN = f('radio.activeBorder', Ak, u(2644, null))),
        (kN = f('radio.inactiveForeground', null, u(2645, null))),
        (SN = f('radio.inactiveBackground', null, u(2646, null))),
        (EN = f(
          'radio.inactiveBorder',
          { light: j(Lu, 0.2), dark: j(Lu, 0.2), hcDark: j(Lu, 0.4), hcLight: j(Lu, 0.2) },
          u(2647, null)
        )),
        (CN = f('radio.inactiveHoverBackground', Ik, u(2648, null))),
        (DN = f('checkbox.background', yp, u(2649, null))),
        (xN = f('checkbox.selectBackground', ds, u(2650, null))),
        (AN = f('checkbox.foreground', yb, u(2651, null))),
        (IN = f('checkbox.border', _k, u(2652, null))),
        ($N = f('checkbox.selectBorder', hp, u(2653, null))),
        (PN = f(
          'keybindingLabel.background',
          {
            dark: new S(new A(128, 128, 128, 0.17)),
            light: new S(new A(221, 221, 221, 0.4)),
            hcDark: S.transparent,
            hcLight: S.transparent,
          },
          u(2654, null)
        )),
        (_N = f(
          'keybindingLabel.foreground',
          { dark: S.fromHex('#CCCCCC'), light: S.fromHex('#555555'), hcDark: S.white, hcLight: Ae },
          u(2655, null)
        )),
        (LN = f(
          'keybindingLabel.border',
          {
            dark: new S(new A(51, 51, 51, 0.6)),
            light: new S(new A(204, 204, 204, 0.4)),
            hcDark: new S(new A(111, 195, 223)),
            hcLight: G,
          },
          u(2656, null)
        )),
        (TN = f(
          'keybindingLabel.bottomBorder',
          {
            dark: new S(new A(68, 68, 68, 0.6)),
            light: new S(new A(187, 187, 187, 0.4)),
            hcDark: new S(new A(111, 195, 223)),
            hcLight: Ae,
          },
          u(2657, null)
        ));
    },
  }),
  MN,
  FN,
  ON,
  RN,
  Lr,
  Tu,
  Tk,
  NN,
  BN,
  UN,
  jN,
  WN,
  HN,
  zN,
  VN,
  GN,
  Mu,
  qN,
  KN,
  JN,
  XN,
  YN,
  QN,
  ZN,
  eB,
  tB,
  iB,
  sB,
  kp,
  rB,
  nB,
  oB,
  aB,
  cB,
  lB,
  uB,
  Cb = b({
    'out-build/vs/platform/theme/common/colors/listColors.js'() {
      'use strict';
      he(),
        Ri(),
        hs(),
        fn(),
        eo(),
        (MN = f('list.focusBackground', null, u(2658, null))),
        (FN = f('list.focusForeground', null, u(2659, null))),
        (ON = f(
          'list.focusOutline',
          { dark: Ts, light: Ts, hcDark: mt, hcLight: mt },
          u(2660, null)
        )),
        (RN = f('list.focusAndSelectionOutline', null, u(2661, null))),
        (Lr = f(
          'list.activeSelectionBackground',
          {
            dark: '#04395E',
            light: '#0060C0',
            hcDark: null,
            hcLight: S.fromHex('#0F4A85').transparent(0.1),
          },
          u(2662, null)
        )),
        (Tu = f(
          'list.activeSelectionForeground',
          { dark: S.white, light: S.white, hcDark: null, hcLight: null },
          u(2663, null)
        )),
        (Tk = f('list.activeSelectionIconForeground', null, u(2664, null))),
        (NN = f(
          'list.inactiveSelectionBackground',
          {
            dark: '#37373D',
            light: '#E4E6F1',
            hcDark: null,
            hcLight: S.fromHex('#0F4A85').transparent(0.1),
          },
          u(2665, null)
        )),
        (BN = f('list.inactiveSelectionForeground', null, u(2666, null))),
        (UN = f('list.inactiveSelectionIconForeground', null, u(2667, null))),
        (jN = f('list.inactiveFocusBackground', null, u(2668, null))),
        (WN = f('list.inactiveFocusOutline', null, u(2669, null))),
        (HN = f(
          'list.hoverBackground',
          {
            dark: '#2A2D2E',
            light: '#F0F0F0',
            hcDark: S.white.transparent(0.1),
            hcLight: S.fromHex('#0F4A85').transparent(0.1),
          },
          u(2670, null)
        )),
        (zN = f('list.hoverForeground', null, u(2671, null))),
        (VN = f(
          'list.dropBackground',
          { dark: '#062F4A', light: '#D6EBFF', hcDark: null, hcLight: null },
          u(2672, null)
        )),
        (GN = f(
          'list.dropBetweenBackground',
          { dark: hp, light: hp, hcDark: null, hcLight: null },
          u(2673, null)
        )),
        (Mu = f(
          'list.highlightForeground',
          { dark: '#2AAAFF', light: '#0066BF', hcDark: Ts, hcLight: Ts },
          u(2674, null)
        )),
        (qN = f(
          'list.focusHighlightForeground',
          { dark: Mu, light: aO(Lr, Mu, '#BBE7FF'), hcDark: Mu, hcLight: Mu },
          u(2675, null)
        )),
        (KN = f(
          'list.invalidItemForeground',
          { dark: '#B89500', light: '#B89500', hcDark: '#B89500', hcLight: '#B5200D' },
          u(2676, null)
        )),
        (JN = f(
          'list.errorForeground',
          { dark: '#F88070', light: '#B01011', hcDark: null, hcLight: null },
          u(2677, null)
        )),
        (XN = f(
          'list.warningForeground',
          { dark: '#CCA700', light: '#855F00', hcDark: null, hcLight: null },
          u(2678, null)
        )),
        (YN = f(
          'listFilterWidget.background',
          { light: ys(ds, 0), dark: Ls(ds, 0), hcDark: ds, hcLight: ds },
          u(2679, null)
        )),
        (QN = f(
          'listFilterWidget.outline',
          { dark: S.transparent, light: S.transparent, hcDark: '#f38518', hcLight: '#007ACC' },
          u(2680, null)
        )),
        (ZN = f(
          'listFilterWidget.noMatchesOutline',
          { dark: '#BE1100', light: '#BE1100', hcDark: G, hcLight: G },
          u(2681, null)
        )),
        (eB = f('listFilterWidget.shadow', Ck, u(2682, null))),
        (tB = f(
          'list.filterMatchBackground',
          { dark: _r, light: _r, hcDark: null, hcLight: null },
          u(2683, null)
        )),
        (iB = f(
          'list.filterMatchBorder',
          { dark: Yo, light: Yo, hcDark: G, hcLight: mt },
          u(2684, null)
        )),
        (sB = f(
          'list.deemphasizedForeground',
          { dark: '#8C8C8C', light: '#8E8E90', hcDark: '#A7A8A9', hcLight: '#666666' },
          u(2685, null)
        )),
        (kp = f(
          'tree.indentGuidesStroke',
          { dark: '#585858', light: '#a9a9a9', hcDark: '#a9a9a9', hcLight: '#a5a5a5' },
          u(2686, null)
        )),
        (rB = f('tree.inactiveIndentGuidesStroke', j(kp, 0.4), u(2687, null))),
        (nB = f(
          'tree.tableColumnsBorder',
          { dark: '#CCCCCC20', light: '#61616120', hcDark: null, hcLight: null },
          u(2688, null)
        )),
        (oB = f(
          'tree.tableOddRowsBackground',
          { dark: j(Ae, 0.04), light: j(Ae, 0.04), hcDark: null, hcLight: null },
          u(2689, null)
        )),
        (aB = f('editorActionList.background', ds, u(2690, null))),
        (cB = f('editorActionList.foreground', wc, u(2691, null))),
        (lB = f('editorActionList.focusForeground', Tu, u(2692, null))),
        (uB = f('editorActionList.focusBackground', Lr, u(2693, null)));
    },
  }),
  hB,
  dB,
  fB,
  pB,
  gB,
  mB,
  wB,
  bB = b({
    'out-build/vs/platform/theme/common/colors/menuColors.js'() {
      'use strict';
      he(),
        hs(),
        fn(),
        Eb(),
        Cb(),
        (hB = f('menu.border', { dark: null, light: null, hcDark: G, hcLight: G }, u(2694, null))),
        (dB = f('menu.foreground', yb, u(2695, null))),
        (fB = f('menu.background', yp, u(2696, null))),
        (pB = f('menu.selectionForeground', Tu, u(2697, null))),
        (gB = f('menu.selectionBackground', Lr, u(2698, null))),
        (mB = f(
          'menu.selectionBorder',
          { dark: null, light: null, hcDark: mt, hcLight: mt },
          u(2699, null)
        )),
        (wB = f(
          'menu.separatorBackground',
          { dark: '#606060', light: '#D4D4D4', hcDark: G, hcLight: G },
          u(2700, null)
        ));
    },
  }),
  Fu,
  vB,
  yB,
  kB,
  SB,
  Db,
  EB,
  CB,
  DB,
  Mk = b({
    'out-build/vs/platform/theme/common/colors/quickpickColors.js'() {
      'use strict';
      he(),
        Ri(),
        hs(),
        eo(),
        Cb(),
        (Fu = f('quickInput.background', ds, u(2727, null))),
        (vB = f('quickInput.foreground', wc, u(2728, null))),
        (yB = f(
          'quickInputTitle.background',
          {
            dark: new S(new A(255, 255, 255, 0.105)),
            light: new S(new A(0, 0, 0, 0.06)),
            hcDark: '#000000',
            hcLight: S.white,
          },
          u(2729, null)
        )),
        (kB = f(
          'pickerGroup.foreground',
          { dark: '#3794FF', light: '#0066BF', hcDark: S.white, hcLight: '#0F4A85' },
          u(2730, null)
        )),
        (SB = f(
          'pickerGroup.border',
          { dark: '#3F3F46', light: '#CCCEDB', hcDark: S.white, hcLight: '#0F4A85' },
          u(2731, null)
        )),
        (Db = f('quickInput.list.focusBackground', null, '', void 0, u(2732, null))),
        (EB = f('quickInputList.focusForeground', Tu, u(2733, null))),
        (CB = f('quickInputList.focusIconForeground', Tk, u(2734, null))),
        (DB = f(
          'quickInputList.focusBackground',
          { dark: ak(Db, Lr), light: ak(Db, Lr), hcDark: null, hcLight: null },
          u(2735, null)
        ));
    },
  }),
  xB,
  AB,
  IB,
  $B = b({
    'out-build/vs/platform/theme/common/colors/searchColors.js'() {
      'use strict';
      he(),
        hs(),
        fn(),
        eo(),
        (xB = f(
          'search.resultsInfoForeground',
          { light: Ae, dark: j(Ae, 0.65), hcDark: Ae, hcLight: Ae },
          u(2736, null)
        )),
        (AB = f(
          'searchEditor.findMatchBackground',
          { light: j(_r, 0.66), dark: j(_r, 0.66), hcDark: _r, hcLight: _r },
          u(2737, null)
        )),
        (IB = f(
          'searchEditor.findMatchBorder',
          { light: j(Yo, 0.66), dark: j(Yo, 0.66), hcDark: Yo, hcLight: Yo },
          u(2738, null)
        ));
    },
  }),
  xb,
  PB,
  Fk,
  _B,
  Ui,
  ir,
  LB,
  TB,
  Ab,
  MB,
  Ib,
  FB,
  OB,
  RB,
  $b,
  NB,
  Sp,
  BB,
  UB,
  jB,
  WB,
  Pb,
  HB,
  zB,
  Ou,
  _b,
  VB,
  GB,
  qB,
  KB,
  JB,
  XB,
  YB,
  QB,
  ZB,
  Lb,
  Tb,
  eU,
  tU,
  iU,
  sU,
  rU,
  Ok,
  Ep,
  nU,
  bc,
  oU,
  aU,
  cU,
  lU,
  uU,
  hU,
  dU,
  fU,
  pU,
  gU,
  mU,
  wU,
  Rk,
  bU,
  vU,
  yU,
  gn,
  kU,
  SU,
  EU,
  Nk,
  CU,
  DU,
  xU,
  AU,
  Tr,
  vc,
  IU,
  $U,
  PU,
  _U,
  LU,
  TU,
  MU,
  FU,
  OU,
  RU,
  NU,
  BU,
  UU,
  jU,
  ea,
  WU,
  HU,
  zU,
  VU,
  GU,
  qU,
  Mb,
  Fb,
  yc,
  KU,
  JU,
  XU,
  YU,
  QU,
  ZU,
  ej,
  tj,
  Bk,
  ij,
  sj,
  rj,
  nj,
  oj,
  aj,
  cj,
  lj,
  ta,
  Ob,
  Rb,
  uj,
  hj,
  dj,
  fj,
  pj,
  gj,
  Uk,
  mj,
  wj,
  bj,
  vj,
  yj,
  sr,
  Nb,
  Bb,
  kj,
  Sj,
  jk,
  Ub,
  Ej,
  Cj,
  Dj,
  xj,
  Aj,
  Ij,
  $j,
  Et,
  Pj,
  _j,
  Lj,
  Tj,
  Ru,
  Mj,
  Fj,
  Wk,
  Oj,
  Ct,
  Dt,
  xt,
  Rj,
  Nj,
  Bj,
  Uj = b({
    'out-build/vs/workbench/common/theme.js'() {
      'use strict';
      he(),
        Uu(),
        Ri(),
        Ka(),
        R4(),
        (xb = f('tab.activeBackground', fi, u(4484, null))),
        (PB = f('tab.unfocusedActiveBackground', xb, u(4485, null))),
        (Fk = f(
          'tab.inactiveBackground',
          { dark: '#2D2D2D', light: '#ECECEC', hcDark: null, hcLight: null },
          u(4486, null)
        )),
        (_B = f('tab.unfocusedInactiveBackground', Fk, u(4487, null))),
        (Ui = f(
          'tab.activeForeground',
          { dark: S.white, light: '#333333', hcDark: S.white, hcLight: '#292929' },
          u(4488, null)
        )),
        (ir = f(
          'tab.inactiveForeground',
          { dark: j(Ui, 0.5), light: j(Ui, 0.7), hcDark: S.white, hcLight: '#292929' },
          u(4489, null)
        )),
        (LB = f(
          'tab.unfocusedActiveForeground',
          { dark: j(Ui, 0.5), light: j(Ui, 0.7), hcDark: S.white, hcLight: '#292929' },
          u(4490, null)
        )),
        (TB = f(
          'tab.unfocusedInactiveForeground',
          { dark: j(ir, 0.5), light: j(ir, 0.5), hcDark: S.white, hcLight: '#292929' },
          u(4491, null)
        )),
        (Ab = f('tab.hoverBackground', null, u(4492, null))),
        (MB = f(
          'tab.unfocusedHoverBackground',
          { dark: j(Ab, 0.5), light: j(Ab, 0.7), hcDark: null, hcLight: null },
          u(4493, null)
        )),
        (Ib = f('tab.hoverForeground', null, u(4494, null))),
        (FB = f(
          'tab.unfocusedHoverForeground',
          { dark: j(Ib, 0.5), light: j(Ib, 0.5), hcDark: null, hcLight: null },
          u(4495, null)
        )),
        (OB = f(
          'tab.border',
          { dark: '#252526', light: '#F3F3F3', hcDark: G, hcLight: G },
          u(4496, null)
        )),
        (RB = f(
          'tab.lastPinnedBorder',
          { dark: kp, light: kp, hcDark: G, hcLight: G },
          u(4497, null)
        )),
        ($b = f('tab.activeBorder', null, u(4498, null))),
        (NB = f(
          'tab.unfocusedActiveBorder',
          { dark: j($b, 0.5), light: j($b, 0.7), hcDark: null, hcLight: null },
          u(4499, null)
        )),
        (Sp = f(
          'tab.activeBorderTop',
          { dark: null, light: null, hcDark: null, hcLight: '#B5200D' },
          u(4500, null)
        )),
        (BB = f(
          'tab.unfocusedActiveBorderTop',
          { dark: j(Sp, 0.5), light: j(Sp, 0.7), hcDark: null, hcLight: '#B5200D' },
          u(4501, null)
        )),
        (UB = f('tab.selectedBorderTop', Sp, u(4502, null))),
        (jB = f('tab.selectedBackground', xb, u(4503, null))),
        (WB = f('tab.selectedForeground', Ui, u(4504, null))),
        (Pb = f('tab.hoverBorder', null, u(4505, null))),
        (HB = f(
          'tab.unfocusedHoverBorder',
          { dark: j(Pb, 0.5), light: j(Pb, 0.7), hcDark: null, hcLight: G },
          u(4506, null)
        )),
        (zB = f(
          'tab.dragAndDropBorder',
          { dark: Ui, light: Ui, hcDark: mt, hcLight: mt },
          u(4507, null)
        )),
        (Ou = f(
          'tab.activeModifiedBorder',
          { dark: '#3399CC', light: '#33AAEE', hcDark: null, hcLight: G },
          u(4508, null)
        )),
        (_b = f(
          'tab.inactiveModifiedBorder',
          { dark: j(Ou, 0.5), light: j(Ou, 0.5), hcDark: S.white, hcLight: G },
          u(4509, null)
        )),
        (VB = f(
          'tab.unfocusedActiveModifiedBorder',
          { dark: j(Ou, 0.5), light: j(Ou, 0.7), hcDark: S.white, hcLight: G },
          u(4510, null)
        )),
        (GB = f(
          'tab.unfocusedInactiveModifiedBorder',
          { dark: j(_b, 0.5), light: j(_b, 0.5), hcDark: S.white, hcLight: G },
          u(4511, null)
        )),
        (qB = f('editorPane.background', fi, u(4512, null))),
        (KB = f('editorGroup.emptyBackground', null, u(4513, null))),
        (JB = f(
          'editorGroup.focusedEmptyBorder',
          { dark: null, light: null, hcDark: Ts, hcLight: Ts },
          u(4514, null)
        )),
        (XB = f(
          'editorGroupHeader.tabsBackground',
          { dark: '#252526', light: '#F3F3F3', hcDark: null, hcLight: null },
          u(4515, null)
        )),
        (YB = f('editorGroupHeader.tabsBorder', null, u(4516, null))),
        (QB = f('editorGroupHeader.noTabsBackground', fi, u(4517, null))),
        (ZB = f(
          'editorGroupHeader.border',
          { dark: null, light: null, hcDark: G, hcLight: G },
          u(4518, null)
        )),
        (Lb = f(
          'editorGroup.border',
          { dark: '#444444', light: '#E7E7E7', hcDark: G, hcLight: G },
          u(4519, null)
        )),
        (Tb = f(
          'editorGroup.dropBackground',
          {
            dark: S.fromHex('#3579FF').transparent(0.2),
            light: S.fromHex('#2161E0').transparent(0.16),
            hcDark: S.fromHex('#3579FF').transparent(0.2),
            hcLight: S.fromHex('#2161E0').transparent(0.16),
          },
          u(4520, null)
        )),
        (eU = f('editorGroup.dropIntoPromptForeground', wc, u(4521, null))),
        (tU = f('editorGroup.dropIntoPromptBackground', ds, u(4522, null))),
        (iU = f(
          'editorGroup.dropIntoPromptBorder',
          { dark: null, light: null, hcDark: G, hcLight: G },
          u(4523, null)
        )),
        (sU = f('sideBySideEditor.horizontalBorder', Lb, u(4524, null))),
        (rU = f('sideBySideEditor.verticalBorder', Lb, u(4525, null))),
        (Ok = f('panel.background', fi, u(4526, null))),
        (Ep = f(
          'panel.border',
          {
            dark: S.fromHex('#808080').transparent(0.35),
            light: S.fromHex('#808080').transparent(0.35),
            hcDark: G,
            hcLight: G,
          },
          u(4527, null)
        )),
        (nU = f(
          'panelTitle.border',
          { dark: null, light: null, hcDark: Ep, hcLight: Ep },
          u(4528, null)
        )),
        (bc = f(
          'panelTitle.activeForeground',
          { dark: '#E7E7E7', light: '#424242', hcDark: S.white, hcLight: er },
          u(4529, null)
        )),
        (oU = f(
          'panelTitle.inactiveForeground',
          { dark: j(bc, 0.6), light: j(bc, 0.75), hcDark: S.white, hcLight: er },
          u(4530, null)
        )),
        (aU = f(
          'panelTitle.activeBorder',
          { dark: bc, light: bc, hcDark: G, hcLight: '#B5200D' },
          u(4531, null)
        )),
        (cU = f(
          'panelInput.border',
          { dark: vp, light: S.fromHex('#ddd'), hcDark: vp, hcLight: vp },
          u(4532, null)
        )),
        (lU = f('panel.dropBorder', bc, u(4533, null))),
        (uU = f('panelSection.dropBackground', Tb, u(4534, null))),
        (hU = f(
          'panelSectionHeader.background',
          {
            dark: S.fromHex('#808080').transparent(0.2),
            light: S.fromHex('#808080').transparent(0.2),
            hcDark: S.black,
            hcLight: S.white,
          },
          u(4535, null)
        )),
        (dU = f('panelSectionHeader.foreground', null, u(4536, null))),
        (fU = f('panelSectionHeader.border', G, u(4537, null))),
        (pU = f('panelSection.border', Ep, u(4538, null))),
        (gU = f('panelStickyScroll.background', Ok, u(4539, null))),
        (mU = f('panelStickyScroll.border', null, u(4540, null))),
        (wU = f('panelStickyScroll.shadow', fp, u(4541, null))),
        (Rk = f('outputView.background', null, u(4542, null))),
        f('outputViewStickyScroll.background', Rk, u(4543, null)),
        (bU = f(
          'banner.background',
          { dark: Lr, light: ys(Lr, 0.3), hcDark: Lr, hcLight: Lr },
          u(4544, null)
        )),
        (vU = f('banner.foreground', Tu, u(4545, null))),
        (yU = f('banner.iconForeground', pn, u(4546, null))),
        (gn = f(
          'statusBar.foreground',
          { dark: '#FFFFFF', light: '#FFFFFF', hcDark: '#FFFFFF', hcLight: er },
          u(4547, null)
        )),
        (kU = f('statusBar.noFolderForeground', gn, u(4548, null))),
        (SU = f(
          'statusBar.background',
          { dark: '#007ACC', light: '#007ACC', hcDark: null, hcLight: null },
          u(4549, null)
        )),
        (EU = f(
          'statusBar.noFolderBackground',
          { dark: '#1f1f1f', light: '#f8f8f8', hcDark: null, hcLight: null },
          u(4550, null)
        )),
        (Nk = f(
          'statusBar.border',
          { dark: null, light: null, hcDark: G, hcLight: G },
          u(4551, null)
        )),
        (CU = f(
          'statusBar.focusBorder',
          { dark: gn, light: gn, hcDark: null, hcLight: gn },
          u(4552, null)
        )),
        (DU = f('statusBar.noFolderBorder', Nk, u(4553, null))),
        (xU = f(
          'statusBarItem.activeBackground',
          {
            dark: S.white.transparent(0.18),
            light: S.white.transparent(0.18),
            hcDark: S.white.transparent(0.18),
            hcLight: S.black.transparent(0.18),
          },
          u(4554, null)
        )),
        (AU = f(
          'statusBarItem.focusBorder',
          { dark: gn, light: gn, hcDark: null, hcLight: mt },
          u(4555, null)
        )),
        (Tr = f(
          'statusBarItem.hoverBackground',
          {
            dark: S.white.transparent(0.12),
            light: S.white.transparent(0.12),
            hcDark: S.white.transparent(0.12),
            hcLight: S.black.transparent(0.12),
          },
          u(4556, null)
        )),
        (vc = f('statusBarItem.hoverForeground', gn, u(4557, null))),
        (IU = f(
          'statusBarItem.compactHoverBackground',
          {
            dark: S.white.transparent(0.2),
            light: S.white.transparent(0.2),
            hcDark: S.white.transparent(0.2),
            hcLight: S.black.transparent(0.2),
          },
          u(4558, null)
        )),
        ($U = f('statusBarItem.prominentForeground', gn, u(4559, null))),
        (PU = f('statusBarItem.prominentBackground', S.black.transparent(0.5), u(4560, null))),
        (_U = f('statusBarItem.prominentHoverForeground', vc, u(4561, null))),
        (LU = f('statusBarItem.prominentHoverBackground', Tr, u(4562, null))),
        (TU = f(
          'statusBarItem.errorBackground',
          { dark: ys(lb, 0.4), light: ys(lb, 0.4), hcDark: null, hcLight: '#B5200D' },
          u(4563, null)
        )),
        (MU = f('statusBarItem.errorForeground', S.white, u(4564, null))),
        (FU = f('statusBarItem.errorHoverForeground', vc, u(4565, null))),
        (OU = f('statusBarItem.errorHoverBackground', Tr, u(4566, null))),
        (RU = f(
          'statusBarItem.warningBackground',
          { dark: ys(tr, 0.4), light: ys(tr, 0.4), hcDark: null, hcLight: '#895503' },
          u(4567, null)
        )),
        (NU = f('statusBarItem.warningForeground', S.white, u(4568, null))),
        (BU = f('statusBarItem.warningHoverForeground', vc, u(4569, null))),
        (UU = f('statusBarItem.warningHoverBackground', Tr, u(4570, null))),
        (jU = f(
          'activityBar.background',
          { dark: '#333333', light: '#2C2C2C', hcDark: '#000000', hcLight: '#FFFFFF' },
          u(4571, null)
        )),
        (ea = f(
          'activityBar.foreground',
          { dark: S.white, light: S.white, hcDark: S.white, hcLight: er },
          u(4572, null)
        )),
        (WU = f(
          'activityBar.inactiveForeground',
          { dark: j(ea, 0.4), light: j(ea, 0.4), hcDark: S.white, hcLight: er },
          u(4573, null)
        )),
        (HU = f(
          'activityBar.border',
          { dark: null, light: null, hcDark: G, hcLight: G },
          u(4574, null)
        )),
        (zU = f(
          'activityBar.activeBorder',
          { dark: ea, light: ea, hcDark: G, hcLight: G },
          u(4575, null)
        )),
        (VU = f(
          'activityBar.activeFocusBorder',
          { dark: null, light: null, hcDark: null, hcLight: '#B5200D' },
          u(4576, null)
        )),
        (GU = f('activityBar.activeBackground', null, u(4577, null))),
        (qU = f(
          'activityBar.dropBorder',
          { dark: ea, light: ea, hcDark: null, hcLight: null },
          u(4578, null)
        )),
        (Mb = f(
          'activityBarBadge.background',
          { dark: '#007ACC', light: '#007ACC', hcDark: '#000000', hcLight: '#0F4A85' },
          u(4579, null)
        )),
        (Fb = f('activityBarBadge.foreground', S.white, u(4580, null))),
        (yc = f(
          'activityBarTop.foreground',
          { dark: '#E7E7E7', light: '#424242', hcDark: S.white, hcLight: er },
          u(4581, null)
        )),
        (KU = f(
          'activityBarTop.activeBorder',
          { dark: yc, light: yc, hcDark: G, hcLight: '#B5200D' },
          u(4582, null)
        )),
        (JU = f('activityBarTop.activeBackground', null, u(4583, null))),
        (XU = f(
          'activityBarTop.inactiveForeground',
          { dark: j(yc, 0.6), light: j(yc, 0.75), hcDark: S.white, hcLight: er },
          u(4584, null)
        )),
        (YU = f('activityBarTop.dropBorder', yc, u(4585, null))),
        (QU = f('activityBarTop.background', null, u(4586, null))),
        (ZU = f(
          'profileBadge.background',
          { dark: '#4D4D4D', light: '#C4C4C4', hcDark: S.white, hcLight: S.black },
          u(4587, null)
        )),
        (ej = f(
          'profileBadge.foreground',
          { dark: S.white, light: '#333333', hcDark: S.black, hcLight: S.white },
          u(4588, null)
        )),
        (tj = f('statusBarItem.remoteBackground', Mb, u(4589, null))),
        (Bk = f('statusBarItem.remoteForeground', Fb, u(4590, null))),
        (ij = f('statusBarItem.remoteHoverForeground', vc, u(4591, null))),
        (sj = f(
          'statusBarItem.remoteHoverBackground',
          { dark: Tr, light: Tr, hcDark: Tr, hcLight: null },
          u(4592, null)
        )),
        (rj = f('statusBarItem.offlineBackground', '#6c1717', u(4593, null))),
        (nj = f('statusBarItem.offlineForeground', Bk, u(4594, null))),
        (oj = f('statusBarItem.offlineHoverForeground', vc, u(4595, null))),
        (aj = f(
          'statusBarItem.offlineHoverBackground',
          { dark: Tr, light: Tr, hcDark: Tr, hcLight: null },
          u(4596, null)
        )),
        (cj = f('extensionBadge.remoteBackground', Mb, u(4597, null))),
        (lj = f('extensionBadge.remoteForeground', Fb, u(4598, null))),
        (ta = f(
          'sideBar.background',
          { dark: '#252526', light: '#F3F3F3', hcDark: '#000000', hcLight: '#FFFFFF' },
          u(4599, null)
        )),
        (Ob = f('sideBar.foreground', null, u(4600, null))),
        (Rb = f(
          'sideBar.border',
          { dark: null, light: null, hcDark: G, hcLight: G },
          u(4601, null)
        )),
        (uj = f('sideBarTitle.background', ta, u(4602, null))),
        (hj = f('sideBarTitle.foreground', Ob, u(4603, null))),
        (dj = f(
          'sideBarTitle.border',
          { dark: null, light: null, hcDark: Rb, hcLight: Rb },
          u(4604, null)
        )),
        (fj = f('sideBar.dropBackground', Tb, u(4605, null))),
        (pj = f(
          'sideBarSectionHeader.background',
          {
            dark: S.fromHex('#808080').transparent(0.2),
            light: S.fromHex('#808080').transparent(0.2),
            hcDark: null,
            hcLight: null,
          },
          u(4606, null)
        )),
        (gj = f('sideBarSectionHeader.foreground', Ob, u(4607, null))),
        (Uk = f('sideBarSectionHeader.border', G, u(4608, null))),
        (mj = f('sideBarActivityBarTop.border', Uk, u(4609, null))),
        (wj = f('sideBarStickyScroll.background', ta, u(4610, null))),
        (bj = f('sideBarStickyScroll.border', null, u(4611, null))),
        (vj = f('sideBarStickyScroll.shadow', fp, u(4612, null))),
        (yj = f(
          'sideBarSectionHeader.background',
          {
            dark: S.fromHex('#808080').transparent(0.2),
            light: S.fromHex('#808080').transparent(0.2),
            hcDark: null,
            hcLight: null,
          },
          u(4613, null)
        )),
        (sr = f(
          'titleBar.activeForeground',
          { dark: '#CCCCCC', light: '#333333', hcDark: '#FFFFFF', hcLight: '#292929' },
          u(4614, null)
        )),
        (Nb = f(
          'titleBar.inactiveForeground',
          { dark: j(sr, 0.6), light: j(sr, 0.6), hcDark: null, hcLight: '#292929' },
          u(4615, null)
        )),
        (Bb = f(
          'titleBar.activeBackground',
          { dark: '#3C3C3C', light: '#DDDDDD', hcDark: '#000000', hcLight: '#FFFFFF' },
          u(4616, null)
        )),
        (kj = f(
          'titleBar.inactiveBackground',
          { dark: j(Bb, 0.6), light: j(Bb, 0.6), hcDark: null, hcLight: null },
          u(4617, null)
        )),
        (Sj = f(
          'titleBar.border',
          { dark: null, light: null, hcDark: G, hcLight: G },
          u(4618, null)
        )),
        (jk = f('menubar.selectionForeground', sr, u(4619, null))),
        (Ub = f(
          'menubar.selectionBackground',
          { dark: _u, light: _u, hcDark: null, hcLight: null },
          u(4620, null)
        )),
        (Ej = f(
          'menubar.selectionBorder',
          { dark: null, light: null, hcDark: mt, hcLight: mt },
          u(4621, null)
        )),
        (Cj = f('commandCenter.foreground', sr, u(4622, null), !1)),
        (Dj = f('commandCenter.activeForeground', jk, u(4623, null), !1)),
        (xj = f('commandCenter.inactiveForeground', Nb, u(4624, null), !1)),
        (Aj = f(
          'commandCenter.background',
          {
            dark: S.white.transparent(0.05),
            hcDark: null,
            light: S.black.transparent(0.05),
            hcLight: null,
          },
          u(4625, null),
          !1
        )),
        (Ij = f(
          'commandCenter.activeBackground',
          {
            dark: S.white.transparent(0.08),
            hcDark: Ub,
            light: S.black.transparent(0.08),
            hcLight: Ub,
          },
          u(4626, null),
          !1
        )),
        ($j = f(
          'commandCenter.border',
          { dark: j(sr, 0.2), hcDark: G, light: j(sr, 0.2), hcLight: G },
          u(4627, null),
          !1
        )),
        (Et = f(
          'commandCenter.activeBorder',
          { dark: j(sr, 0.3), hcDark: sr, light: j(sr, 0.3), hcLight: sr },
          u(4628, null),
          !1
        )),
        (Pj = f('commandCenter.inactiveBorder', j(Nb, 0.25), u(4629, null), !1)),
        (_j = f(
          'notificationCenter.border',
          { dark: Pu, light: Pu, hcDark: G, hcLight: G },
          u(4630, null)
        )),
        (Lj = f(
          'notificationToast.border',
          { dark: Pu, light: Pu, hcDark: G, hcLight: G },
          u(4631, null)
        )),
        (Tj = f('notifications.foreground', wc, u(4632, null))),
        (Ru = f('notifications.background', ds, u(4633, null))),
        (Mj = f('notificationLink.foreground', dk, u(4634, null))),
        (Fj = f('notificationCenterHeader.foreground', null, u(4635, null))),
        (Wk = f(
          'notificationCenterHeader.background',
          { dark: Ls(Ru, 0.3), light: ys(Ru, 0.05), hcDark: Ru, hcLight: Ru },
          u(4636, null)
        )),
        (Oj = f('notifications.border', Wk, u(4637, null))),
        (Ct = f('notificationsErrorIcon.foreground', pp, u(4638, null))),
        (Dt = f('notificationsWarningIcon.foreground', tr, u(4639, null))),
        (xt = f('notificationsInfoIcon.foreground', pn, u(4640, null))),
        (Rj = f(
          'window.activeBorder',
          { dark: null, light: null, hcDark: G, hcLight: G },
          u(4641, null)
        )),
        (Nj = f(
          'window.inactiveBorder',
          { dark: null, light: null, hcDark: G, hcLight: G },
          u(4642, null)
        )),
        (Bj = f(
          'iCubeNotificationCenter.border',
          { dark: 'transparent', light: 'transparent', hcDark: 'transparent', hcLight: G },
          u(4643, null)
        ));
    },
  }),
  Cp,
  ia,
  jj,
  kc,
  jb,
  Wj,
  Hj,
  zj,
  Vj,
  Gj,
  Nu,
  qj,
  Dp,
  xp,
  Kj,
  Jj,
  Xj,
  Yj,
  sa,
  Wb,
  Hk,
  Qj,
  Bu,
  Zj,
  eW,
  tW,
  iW,
  sW,
  rW,
  nW,
  oW,
  Hb,
  zb,
  aW,
  cW,
  zk,
  Vk,
  Gk,
  qk,
  Kk,
  lW,
  uW,
  hW,
  dW,
  fW,
  pW,
  gW,
  mW,
  Jk,
  Xk,
  Yk,
  wW,
  bW,
  vW,
  Qk,
  Zk,
  eS,
  yW,
  kW,
  SW,
  tS,
  iS,
  sS,
  EW,
  CW,
  DW,
  rS,
  nS,
  oS,
  xW,
  AW,
  IW,
  $W,
  PW,
  _W,
  LW,
  TW,
  MW,
  FW,
  OW,
  RW,
  NW,
  BW,
  UW,
  jW,
  WW,
  HW,
  zW,
  VW,
  GW,
  qW,
  KW,
  JW,
  XW,
  YW,
  QW,
  ZW,
  eH,
  tH,
  iH,
  sH,
  rH,
  nH,
  oH,
  aH,
  cH,
  lH,
  uH,
  hH,
  dH,
  Ap,
  fH,
  pH,
  gH,
  mH,
  wH,
  bH,
  vH,
  yH,
  kH,
  SH,
  EH,
  CH,
  DH,
  xH,
  AH,
  IH,
  $H,
  PH,
  _H,
  LH,
  TH,
  MH,
  FH,
  OH,
  RH,
  NH,
  BH,
  UH,
  jH,
  WH,
  HH,
  zH,
  VH,
  GH,
  qH,
  KH,
  JH,
  XH,
  YH,
  QH,
  ZH,
  ez,
  tz,
  iz,
  sz,
  aS = b({
    'out-build/vs/platform/theme/common/colors/icubeColors.js'() {
      'use strict';
      he(),
        Ri(),
        hs(),
        fn(),
        eo(),
        Eb(),
        Uj(),
        Mk(),
        (Cp = f('icube.colorSnow', '#FFFFFF', u(2457, null))),
        (ia = f('icube.colorBlack', '#000000', u(2458, null))),
        (jj = f(
          'icube.modalOverlay',
          { dark: Z(ia, 0.4), light: Z(ia, 0.4), hcDark: Z(ia, 0.4), hcLight: Z(ia, 0.4) },
          u(2459, null)
        )),
        (kc = f('icube.colorBg1', { dark: ta, light: ta, hcDark: ta, hcLight: ta }, u(2460, null))),
        (jb = f('icube.colorBg2', { dark: fi, light: fi, hcDark: fi, hcLight: fi }, u(2461, null))),
        (Wj = f('icube.colorBg3', { dark: Fu, light: Fu, hcDark: Fu, hcLight: Fu }, u(2462, null))),
        (Hj = f(
          'icube.colorBg4',
          { dark: '#262626', light: '#E1E1E1', hcDark: '#262626', hcLight: '#E1E1E1' },
          u(2463, null)
        )),
        (zj = f(
          'icube.diffColorBg3',
          {
            dark: S.fromHex('#282A2E').transparent(0.35),
            light: S.fromHex('#E1E1E1').transparent(0.35),
            hcDark: S.fromHex('#282A2E').transparent(0.35),
            hcLight: S.fromHex('#E1E1E1').transparent(0.35),
          },
          u(2464, null)
        )),
        (Vj = f(
          'icube.colorBgCode',
          { dark: kc, light: kc, hcDark: kc, hcLight: kc },
          u(2465, null)
        )),
        (Gj = f(
          'icube.colorBgTr0',
          { dark: Z(Rt, 0.05), light: Z(Rt, 0.04), hcDark: Z(Rt, 0.05), hcLight: Z(Rt, 0.04) },
          u(2466, null)
        )),
        (Nu = f(
          'icube.colorBtnHover',
          { dark: Z(Rt, 0.1), light: Z(Rt, 0.08), hcDark: Z(Rt, 0.1), hcLight: Z(Rt, 0.08) },
          u(2467, null)
        )),
        (qj = f('icube.colorBg5', Nu, u(2468, null))),
        (Dp = f(
          'icube.colorBtnHover2',
          { dark: Z(Rt, 0.15), light: Z(Rt, 0.12), hcDark: Z(Rt, 0.15), hcLight: Z(Rt, 0.12) },
          u(2469, null)
        )),
        (xp = f(
          'icube.colorBtnTransparent3',
          { dark: Z(Rt, 0.2), light: Z(Rt, 0.16), hcDark: Z(Rt, 0.2), hcLight: Z(Rt, 0.16) },
          u(2470, null)
        )),
        (Kj = f(
          'icube.colorBlend',
          {
            dark: S.fromHex('#C2CAF2').transparent(0.15).blend(S.fromHex('#24262B')),
            light: S.fromHex('#4D6180').transparent(0.12).blend(S.fromHex('#EDEFF2')),
            hcDark: S.fromHex('#EDF1F8').transparent(0.1).blend(S.fromHex('#262626')),
            hcLight: S.fromHex('#4D6180').transparent(0.12).blend(S.fromHex('#E1E1E1')),
          },
          u(2471, null)
        )),
        (Jj = f(
          'icube.colorTransparent',
          {
            dark: S.fromHex('#fff').transparent(0),
            light: S.fromHex('#fff').transparent(0),
            hcDark: S.fromHex('#fff').transparent(0),
            hcLight: S.fromHex('#fff').transparent(0),
          },
          u(2472, null)
        )),
        (Xj = f(
          'icube.colorWidgetShadow',
          {
            dark: S.fromHex('#000').transparent(0.16),
            light: S.fromHex('#000').transparent(0.04),
            hcDark: S.fromHex('#000').transparent(0.16),
            hcLight: S.fromHex('#000').transparent(0.16),
          },
          u(2473, null)
        )),
        (Yj = f(
          'icube.colorWidgetShadow2',
          {
            dark: S.fromHex('#000').transparent(0.16),
            light: S.fromHex('#000').transparent(0.08),
            hcDark: S.fromHex('#000').transparent(0.16),
            hcLight: S.fromHex('#000').transparent(0.16),
          },
          u(2474, null)
        )),
        (sa = f(
          'icube.colorDefaultText',
          { dark: Ae, light: Ae, hcDark: Ae, hcLight: Ae },
          u(2475, null)
        )),
        (Wb = f(
          'icube.colorHighlightText',
          { dark: Ui, light: Ui, hcDark: Ui, hcLight: Ui },
          u(2476, null)
        )),
        (Hk = f(
          'icube.colorGrayText',
          { dark: ir, light: ir, hcDark: ir, hcLight: ir },
          u(2477, null)
        )),
        (Qj = f(
          'icube.colorGrayText2',
          { dark: '#737780', light: '#617080', hcDark: '#737780', hcLight: '#617080' },
          u(2478, null)
        )),
        (Bu = f(
          'icube.colorDisableText',
          { dark: Au, light: Au, hcDark: Au, hcLight: Au },
          u(2479, null)
        )),
        (Zj = f(
          'icube.colorBlackText',
          { dark: '#111314', light: '#111314', hcDark: '#111314', hcLight: '#111314' },
          u(2480, null)
        )),
        (eW = f(
          'icube.colorBlackText1',
          { dark: '#000', light: '#fff', hcDark: '#000', hcLight: '#fff' },
          u(2481, null)
        )),
        (tW = f(
          'icube.colorBlackText2',
          { dark: '#fff', light: '#000', hcDark: '#fff', hcLight: '#000' },
          u(2482, null)
        )),
        (iW = f(
          'icube.colorDefaultAvatar',
          { dark: '#DADDE6', light: '#5B92FF', hcDark: '#DADDE6', hcLight: '#5B92FF' },
          u(2483, null)
        )),
        (sW = f(
          'icube.colorDefaultAvatarBackground',
          { dark: '#24262B', light: '#1759DD', hcDark: '#24262B', hcLight: '#1759DD' },
          u(2484, null)
        )),
        (rW = f(
          'icube.modalLayoutBg',
          {
            dark: S.fromHex('#000').transparent(0.4),
            light: S.fromHex('#001931').transparent(0.2),
            hcDark: S.fromHex('#000').transparent(0.4),
            hcLight: S.fromHex('#001931').transparent(0.2),
          },
          u(2485, null)
        )),
        (nW = f(
          'icube.colorIcon',
          { dark: '#8D93A6', light: '#939FB8', hcDark: '#8D93A6', hcLight: '#939FB8' },
          u(2486, null)
        )),
        (oW = f(
          'icube.colorLine1',
          { dark: Z(Et, 0.08), light: Z(Et, 0.13), hcDark: Z(Et, 0.13), hcLight: Z(Et, 0.13) },
          u(2487, null)
        )),
        (Hb = f(
          'icube.colorLine2',
          { dark: Z(Et, 0.16), light: Z(Et, 0.2), hcDark: Z(Et, 0.16), hcLight: Z(Et, 0.2) },
          u(2488, null)
        )),
        (zb = f(
          'icube.colorLine3',
          { dark: Z(Et, 0.24), light: Z(Et, 0.4), hcDark: Z(Et, 0.24), hcLight: Z(Et, 0.4) },
          u(2489, null)
        )),
        (aW = f(
          'icube.colorBrand',
          { dark: Ae, light: Ae, hcDark: Ae, hcLight: Ae },
          u(2490, null)
        )),
        (cW = f(
          'icube.colorBrandHover',
          { dark: Ui, light: Ui, hcDark: Ui, hcLight: Ui },
          u(2491, null)
        )),
        (zk = f(
          'icube.colorBrandActive',
          { dark: ir, light: ir, hcDark: ir, hcLight: ir },
          u(2492, null)
        )),
        (Vk = f(
          'icube.colorBrandTransparent',
          { dark: Z(Et, 0.1), light: Z(Et, 0.12), hcDark: Z(Et, 0.1), hcLight: Z(Et, 0.12) },
          u(2493, null)
        )),
        (Gk = f(
          'icube.colorBrandTransparent2',
          { dark: Z(Et, 0.15), light: Z(Et, 0.2), hcDark: Z(Et, 0.15), hcLight: Z(Et, 0.2) },
          u(2494, null)
        )),
        (qk = f(
          'icube.colorBrandTransparent3',
          { dark: Z(Et, 0.2), light: Z(Et, 0.36), hcDark: Z(Et, 0.2), hcLight: Z(Et, 0.36) },
          u(2495, null)
        )),
        (Kk = f(
          'icube.colorStatusRegular',
          { dark: xt, light: xt, hcDark: xt, hcLight: xt },
          u(2496, null)
        )),
        (lW = f(
          'icube.colorStatusRegularHover',
          { dark: xt, light: xt, hcDark: xt, hcLight: xt },
          u(2497, null)
        )),
        (uW = f(
          'icube.colorStatusRegularActive',
          { dark: xt, light: xt, hcDark: xt, hcLight: xt },
          u(2498, null)
        )),
        (hW = f(
          'icube.colorStatusRegularTransparent',
          { dark: Z(xt, 0.2), light: Z(xt, 0.12), hcDark: Z(xt, 0.2), hcLight: Z(xt, 0.12) },
          u(2499, null)
        )),
        (dW = f(
          'icube.colorStatusRegularTransparent2',
          { dark: Z(xt, 0.28), light: Z(xt, 0.2), hcDark: Z(xt, 0.28), hcLight: Z(xt, 0.2) },
          u(2500, null)
        )),
        (fW = f(
          'icube.colorStatusRegularTransparent3',
          { dark: Z(xt, 0.36), light: Z(xt, 0.36), hcDark: Z(xt, 0.36), hcLight: Z(xt, 0.36) },
          u(2501, null)
        )),
        (pW = f(
          'icube.colorSuccess',
          { dark: '#26A57B', light: '#00AA62', hcDark: '#26A57B', hcLight: '#00AA62' },
          u(2502, null)
        )),
        (gW = f(
          'icube.colorSuccessHover',
          { dark: '#66CCAA', light: '#00CD76', hcDark: '#66CCAA', hcLight: '#00CD76' },
          u(2503, null)
        )),
        (mW = f(
          'icube.colorSuccessActive',
          { dark: '#168A63', light: '#0D8E63', hcDark: '#168A63', hcLight: '#0D8E63' },
          u(2504, null)
        )),
        (Jk = f(
          'icube.colorSuccessTransparent',
          {
            dark: S.fromHex('#00A56E').transparent(0.2),
            light: S.fromHex('#00AA62').transparent(0.12),
            hcDark: S.fromHex('#00A56E').transparent(0.2),
            hcLight: S.fromHex('#00AA62').transparent(0.12),
          },
          u(2505, null)
        )),
        (Xk = f(
          'icube.colorSuccessTransparent2',
          {
            dark: S.fromHex('#00A56E').transparent(0.28),
            light: S.fromHex('#00AA62').transparent(0.16),
            hcDark: S.fromHex('#00A56E').transparent(0.28),
            hcLight: S.fromHex('#00AA62').transparent(0.16),
          },
          u(2506, null)
        )),
        (Yk = f(
          'icube.colorSuccessTransparent3',
          {
            dark: S.fromHex('#00A56E').transparent(0.36),
            light: S.fromHex('#00AA62').transparent(0.36),
            hcDark: S.fromHex('#00A56E').transparent(0.36),
            hcLight: S.fromHex('#00AA62').transparent(0.36),
          },
          u(2507, null)
        )),
        (wW = f(
          'icube.colorError',
          { dark: Ct, light: Ct, hcDark: Ct, hcLight: Ct },
          u(2508, null)
        )),
        (bW = f(
          'icube.colorErrorHover',
          { dark: Ct, light: Ct, hcDark: Ct, hcLight: Ct },
          u(2509, null)
        )),
        (vW = f(
          'icube.colorErrorActive',
          { dark: Ct, light: Ct, hcDark: Ct, hcLight: Ct },
          u(2510, null)
        )),
        (Qk = f(
          'icube.colorErrorTransparent',
          { dark: Z(Ct, 0.2), light: Z(Ct, 0.12), hcDark: Z(Ct, 0.2), hcLight: Z(Ct, 0.12) },
          u(2511, null)
        )),
        (Zk = f(
          'icube.colorErrorTransparent2',
          { dark: Z(Ct, 0.28), light: Z(Ct, 0.16), hcDark: Z(Ct, 0.28), hcLight: Z(Ct, 0.16) },
          u(2512, null)
        )),
        (eS = f(
          'icube.colorErrorTransparent3',
          { dark: Z(Ct, 0.36), light: Z(Ct, 0.36), hcDark: Z(Ct, 0.36), hcLight: Z(Ct, 0.36) },
          u(2513, null)
        )),
        (yW = f(
          'icube.colorWarning',
          { dark: Dt, light: Dt, hcDark: Dt, hcLight: Dt },
          u(2514, null)
        )),
        (kW = f(
          'icube.colorWarningHover',
          { dark: Dt, light: Dt, hcDark: Dt, hcLight: Dt },
          u(2515, null)
        )),
        (SW = f(
          'icube.colorWarningActive',
          { dark: Dt, light: Dt, hcDark: Dt, hcLight: Dt },
          u(2516, null)
        )),
        (tS = f(
          'icube.colorWarningTransparent',
          { dark: Z(Dt, 0.2), light: Z(Dt, 0.12), hcDark: Z(Dt, 0.2), hcLight: Z(Dt, 0.12) },
          u(2517, null)
        )),
        (iS = f(
          'icube.colorWarningTransparent2',
          { dark: Z(Dt, 0.28), light: Z(Dt, 0.16), hcDark: Z(Dt, 0.28), hcLight: Z(Dt, 0.16) },
          u(2518, null)
        )),
        (sS = f(
          'icube.colorWarningTransparent3',
          { dark: Z(Dt, 0.36), light: Z(Dt, 0.36), hcDark: Z(Dt, 0.36), hcLight: Z(Dt, 0.36) },
          u(2519, null)
        )),
        (EW = f(
          'icube.colorAlert',
          { dark: '#C4BA60', light: '#F0A50F', hcDark: '#C4BA60', hcLight: '#F0A50F' },
          u(2520, null)
        )),
        (CW = f(
          'icube.colorAlertHover',
          { dark: '#E5DC8A', light: '#FFC95D', hcDark: '#E5DC8A', hcLight: '#FFC95D' },
          u(2521, null)
        )),
        (DW = f(
          'icube.colorAlertActive',
          { dark: '#A69C42', light: '#D38D00', hcDark: '#A69C42', hcLight: '#D38D00' },
          u(2522, null)
        )),
        (rS = f(
          'icube.colorAlertTransparent',
          {
            dark: S.fromHex('#C4BA60').transparent(0.2),
            light: S.fromHex('#F0A50F').transparent(0.12),
            hcDark: S.fromHex('#C4BA60').transparent(0.2),
            hcLight: S.fromHex('#F0A50F').transparent(0.12),
          },
          u(2523, null)
        )),
        (nS = f(
          'icube.colorAlertTransparent2',
          {
            dark: S.fromHex('#C4BA60').transparent(0.28),
            light: S.fromHex('#F0A50F').transparent(0.16),
            hcDark: S.fromHex('#C4BA60').transparent(0.28),
            hcLight: S.fromHex('#F0A50F').transparent(0.16),
          },
          u(2524, null)
        )),
        (oS = f(
          'icube.colorAlertTransparent3',
          {
            dark: S.fromHex('#C4BA60').transparent(0.36),
            light: S.fromHex('#F0A50F').transparent(0.36),
            hcDark: S.fromHex('#C4BA60').transparent(0.36),
            hcLight: S.fromHex('#F0A50F').transparent(0.36),
          },
          u(2525, null)
        )),
        (xW = f(
          'icube.colorErrorTm1',
          {
            dark: S.fromHex('#CC4B53').transparent(0.2),
            light: S.fromHex('#CC4B53').transparent(0.2),
            hcDark: S.fromHex('#CC4B53').transparent(0.2),
            hcLight: S.fromHex('#CC4B53').transparent(0.2),
          },
          u(2526, null)
        )),
        (AW = f(
          'icube.colorErrorTr1',
          {
            dark: S.fromHex('#CC4B53').transparent(0.28),
            light: S.fromHex('#CC4B53').transparent(0.28),
            hcDark: S.fromHex('#CC4B53').transparent(0.28),
            hcLight: S.fromHex('#CC4B53').transparent(0.28),
          },
          u(2527, null)
        )),
        (IW = f(
          'icube.colorSpinLoading',
          { dark: '#2F74FF', light: '#2F74FF', hcDark: '#2F74FF', hcLight: '#2F74FF' },
          u(2528, null)
        )),
        ($W = f(
          'icube.colorC1',
          { dark: '#41D29F', light: '#00998F', hcDark: '#41D29F', hcLight: '#00998F' },
          u(2529, null)
        )),
        (PW = f(
          'icube.colorC2',
          { dark: '#F39A6D', light: '#FF5E3B', hcDark: '#F39A6D', hcLight: '#FF5E3B' },
          u(2530, null)
        )),
        (_W = f(
          'icube.colorC3',
          { dark: '#DCCF56', light: '#F0A50F', hcDark: '#DCCF56', hcLight: '#F0A50F' },
          u(2531, null)
        )),
        (LW = f(
          'icube.colorC4',
          { dark: '#A8DE63', light: '#6BAC00', hcDark: '#A8DE63', hcLight: '#6BAC00' },
          u(2532, null)
        )),
        (TW = f(
          'icube.colorC5',
          { dark: '#44C6CE', light: '#00ABF2', hcDark: '#44C6CE', hcLight: '#00ABF2' },
          u(2533, null)
        )),
        (MW = f(
          'icube.colorC6',
          { dark: '#619DF5', light: '#166EF3', hcDark: '#619DF5', hcLight: '#166EF3' },
          u(2534, null)
        )),
        (FW = f(
          'icube.colorC7',
          { dark: '#D192F9', light: '#F03CF5', hcDark: '#D192F9', hcLight: '#F03CF5' },
          u(2535, null)
        )),
        (OW = f(
          'icube.colorC8',
          { dark: '#967EF5', light: '#795DFF', hcDark: '#967EF5', hcLight: '#795DFF' },
          u(2536, null)
        )),
        (RW = f(
          'icube.colorC9',
          { dark: '#8D93A6', light: '#939FB8', hcDark: '#8D93A6', hcLight: '#939FB8' },
          u(2537, null)
        )),
        (NW = f(
          'icube.colorDiffToggleBtnBg',
          { dark: '#8D7AFF', light: '#8D7AFF', hcDark: '#8D7AFF', hcLight: '#8D7AFF' },
          u(2538, null)
        )),
        (BW = f(
          'icube.textPreformatBackground',
          { light: '#9D89EB', dark: '#9D89EB', hcDark: '#9D89EB', hcLight: '#9D89EB' },
          u(2539, null)
        )),
        (UW = f(
          'icube.colorRed1',
          {
            dark: new S(new A(221, 55, 48, 0.5)),
            light: '#DD3730',
            hcDark: new S(new A(221, 55, 48, 0.5)),
            hcLight: '#DD3730',
          },
          u(2540, null)
        )),
        (jW = f(
          'icube.colorRed2',
          {
            dark: new S(new A(221, 55, 48, 0.1)),
            light: new S(new A(221, 55, 48, 0.1)),
            hcDark: new S(new A(221, 55, 48, 0.1)),
            hcLight: new S(new A(221, 55, 48, 0.1)),
          },
          u(2541, null)
        )),
        (WW = f(
          'icube.colorRed3',
          { dark: '#DD3730', light: '#DD3730', hcDark: '#DD3730', hcLight: '#016A51' },
          u(2542, null)
        )),
        (HW = f(
          'icube.colorGreen1',
          { dark: '#016A51', light: '#00906E', hcDark: '#016A51', hcLight: '#00906E' },
          u(2543, null)
        )),
        (zW = f(
          'icube.colorDiffBtn1',
          { dark: '#fff', light: '#fff', hcDark: '#fff', hcLight: '#fff' },
          u(2544, null)
        )),
        (VW = f(
          'icube.diffInsertedTextBackground',
          { dark: '#26a57b51', light: '#26a57b51', hcDark: null, hcLight: null },
          u(2545, null),
          !0
        )),
        (GW = f(
          'icube.colorChatError',
          {
            dark: new S(new A(221, 55, 48, 0.5)),
            light: S.fromHex('#616161').transparent(0),
            hcDark: new S(new A(221, 55, 48, 0.5)),
            hcLight: S.fromHex('#616161').transparent(0),
          },
          u(2546, null)
        )),
        (qW = f(
          'icube.chatIconBg1',
          { dark: '#fff', light: '#FF4A36', hcDark: '#fff', hcLight: '#FF4A36' },
          u(2547, null)
        )),
        (KW = f(
          'icube.chatIconColor1',
          { dark: '#FF4A36', light: '#FFF', hcDark: '#FF4A36', hcLight: '#FFF' },
          u(2548, null)
        )),
        (JW = f(
          'icube.emptyExplorerButtonBgColor',
          { dark: '#C2CAF21A', light: '#4D618014', hcDark: '#C2CAF21A', hcLight: '#4D618014' },
          u(2549, null)
        )),
        (XW = f(
          'icube.emptyExplorerButtonTextColor',
          { dark: '#DADDE5', light: '#333940', hcDark: '#DADDE5', hcLight: '#333940' },
          u(2550, null)
        )),
        (YW = f(
          'icube.emptyExplorerSplitTextColor',
          { dark: '#737780', light: '#333940', hcDark: '#737780', hcLight: '#333940' },
          u(2551, null)
        )),
        (QW = f(
          'icube.emptyExplorerSplitColor',
          { dark: '#DDE2E929', light: '#4D6B9933', hcDark: '#DDE2E929', hcLight: '#4D6B9933' },
          u(2552, null)
        )),
        (ZW = f(
          'icube.lite.colorBg1',
          { dark: '#25252D', light: '#25252D', hcDark: '#25252D', hcLight: '#25252D' },
          u(2553, null)
        )),
        (eH = f(
          'icube.lite.colorBg2',
          { dark: '#1D1C23', light: '#1D1C23', hcDark: '#1D1C23', hcLight: '#1D1C23' },
          u(2554, null)
        )),
        (tH = f(
          'icube.lite.colorLine1',
          { dark: '#2E2E38', light: '#2E2E38', hcDark: '#2E2E38', hcLight: '#2E2E38' },
          u(2555, null)
        )),
        (iH = f(
          'widget.shadow1',
          { dark: j(S.black, 0.16), light: j(S.black, 0.08), hcDark: null, hcLight: null },
          u(2556, null)
        )),
        (sH = f(
          'widget.shadow2',
          { dark: j(S.black, 0.1), light: j(S.black, 0.1), hcDark: null, hcLight: null },
          u(2557, null)
        )),
        (rH = f(
          'widget.light.shadow1',
          { dark: j(S.black, 0.04), light: j(S.black, 0.04), hcDark: null, hcLight: null },
          u(2558, null)
        )),
        (nH = f(
          'widget.light.shadow2',
          { dark: j(S.black, 0.08), light: j(S.black, 0.08), hcDark: null, hcLight: null },
          u(2559, null)
        )),
        (oH = f(
          'icube.tooltipsTextColor',
          { dark: '#181A1F', light: '#FFFFFF', hcDark: '#181A1F', hcLight: '#FFFFFF' },
          u(2560, null)
        )),
        (aH = f(
          'icube.ai.disableInputBorderColor',
          {
            dark: 'rgba(194, 202, 242, 0.24)',
            light: 'rgba(77, 107, 153, 0.40)',
            hcDark: '#rgba(194, 202, 242, 0.24)',
            hcLight: 'rgba(77, 107, 153, 0.40)',
          },
          u(2561, null)
        )),
        (cH = f(
          'icube.scrollbarBgColor',
          {
            dark: S.fromHex('#DDE2E9').transparent(0.25),
            light: S.fromHex('#646464').transparent(0.4),
            hcDark: j(G, 0.6),
            hcLight: j(G, 0.4),
          },
          u(2562, null)
        )),
        (lH = f(
          'icube.scrollbarHoverBgColor',
          {
            dark: S.fromHex('#DDE2E9').transparent(0.35),
            light: S.fromHex('#646464').transparent(0.4),
            hcDark: j(G, 0.6),
            hcLight: j(G, 0.4),
          },
          u(2563, null)
        )),
        (uH = f(
          'icube.desktopEmptyWorkspaceIconBg',
          { dark: '#C2CAF21A', light: '#4D618014', hcDark: '#C2CAF21A', hcLight: '#4D618014' },
          u(2564, null)
        )),
        (hH = f(
          'icube.desktopEmptyWorkspaceHoverBg',
          { dark: '#C2CAF226', light: '#4d6b991f', hcDark: '#C2CAF226', hcLight: '#4d6b991f' },
          u(2565, null)
        )),
        (dH = f('icube.primaryButtonBackground', Rt, u(2566, null))),
        (Ap = f('icube.primaryButtonForeground', kb, u(2567, null))),
        (fH = f('icube.primaryButtonHoverBackground', Lk, u(2568, null))),
        (pH = f('icube.primaryButtonHoverForeground', Ap, u(2569, null))),
        (gH = f('icube.primaryButtonActivateBackground', zk, u(2570, null))),
        (mH = f('icube.primaryButtonActivateForeground', Ap, u(2571, null))),
        (wH = f('icube.primaryButtonDisableBackground', Bu, u(2572, null))),
        (bH = f('icube.primaryButtonDisableForeground', Ap, u(2573, null))),
        (vH = f('icube.defaultButtonBackground', Nu, u(2574, null))),
        (yH = f('icube.defaultButtonForeground', sa, u(2575, null))),
        (kH = f('icube.defaultButtonHoverBackground', Dp, u(2576, null))),
        (SH = f('icube.defaultButtonHoverForeground', sa, u(2577, null))),
        (EH = f('icube.defaultButtonActivateBackground', xp, u(2578, null))),
        (CH = f('icube.defaultButtonActivateForeground', sa, u(2579, null))),
        (DH = f('icube.defaultButtonDisableBackground', Dp, u(2580, null))),
        (xH = f('icube.defaultButtonDisableForeground', Bu, u(2581, null))),
        (AH = f('icube.checkboxBorder', sa, u(2582, null))),
        (IH = f('icube.checkboxBackground', sa, u(2583, null))),
        ($H = f('icube.checkboxDisabledBackground', Bu, u(2584, null))),
        (PH = f(
          'icube.checkboxForeground',
          { light: Cp, dark: ia, hcDark: Cp, hcLight: ia },
          u(2585, null)
        )),
        (_H = f(
          'icube.checkboxUncheckedBorder',
          { light: Hb, dark: zb, hcDark: Hb, hcLight: zb },
          u(2586, null)
        )),
        (LH = f('icube.checkboxUncheckedBackground', kc, u(2587, null))),
        (TH = f('icube.badgeBackground', Kk, u(2588, null))),
        (MH = f('icube.badgeForeground', Cp, u(2589, null))),
        (FH = f('icube.colorBgTr1', Nu, u(2590, null))),
        (OH = f('icube.colorBgTr2', Dp, u(2591, null))),
        (RH = f('icube.colorBgTr3', xp, u(2592, null))),
        (NH = f('icube.colorTextDefault', sa, u(2593, null))),
        (BH = f('icube.colorTextHighlight', Wb, u(2594, null))),
        (UH = f('icube.colorTextGray', Hk, u(2595, null))),
        (jH = f('icube.colorTextDisable', Bu, u(2596, null))),
        (WH = f('icube.colorBrandTr1', Vk, u(2597, null))),
        (HH = f('icube.colorBrandTr2', Gk, u(2598, null))),
        (zH = f('icube.colorBrandTr3', qk, u(2599, null))),
        (VH = f('icube.colorSuccessTr1', Jk, u(2600, null))),
        (GH = f('icube.colorSuccessTr2', Xk, u(2601, null))),
        (qH = f('icube.colorSuccessTr3', Yk, u(2602, null))),
        (KH = f('icube.colorErrorTr1', Qk, u(2603, null))),
        (JH = f('icube.colorErrorTr2', Zk, u(2604, null))),
        (XH = f('icube.colorErrorTr3', eS, u(2605, null))),
        (YH = f('icube.colorWarningTr1', tS, u(2606, null))),
        (QH = f('icube.colorWarningTr2', iS, u(2607, null))),
        (ZH = f('icube.colorWarningTr3', sS, u(2608, null))),
        (ez = f('icube.colorAlertTr1', rS, u(2609, null))),
        (tz = f('icube.colorAlertTr2', nS, u(2610, null))),
        (iz = f('icube.colorAlertTr3', oS, u(2611, null))),
        (sz = f('icube.colorTextButtonHighlight', Wb, u(2612, null)));
    },
  }),
  rz,
  nz,
  oz = b({
    'out-build/vs/platform/theme/common/colors/icubeBlendColors.js'() {
      'use strict';
      he(),
        hs(),
        aS(),
        (rz = f('icube.blendColor.btnHover.bg2', lk(Nu, jb), u(2455, null))),
        (nz = f('icube.blendColor.btnTransparent3.bg2', lk(xp, jb), u(2456, null)));
    },
  }),
  Uu = b({
    'out-build/vs/platform/theme/common/colorRegistry.js'() {
      'use strict';
      hs(), fn(), tN(), eo(), Eb(), Cb(), bB(), xk(), ub(), Mk(), $B(), aS(), oz();
    },
  }),
  Vb,
  az,
  cS,
  cz,
  lz,
  uz,
  Ip,
  Gb,
  hz,
  dz,
  fz,
  pz,
  $p,
  gz,
  lS,
  uS,
  hS,
  mz,
  wz,
  bz,
  vz,
  yz,
  dS,
  kz,
  Sz,
  Ez,
  Cz,
  Dz,
  fS,
  xz,
  Az,
  Iz,
  $z,
  Pz,
  _z,
  Lz,
  Tz,
  Mz,
  Fz,
  Oz,
  Rz,
  Nz,
  Bz,
  pS,
  Uz,
  jz,
  Wz,
  Hz,
  zz,
  Vz,
  Gz,
  qz,
  Kz,
  Jz,
  Xz,
  Yz,
  Qz,
  Zz,
  eV,
  tV,
  iV,
  sV,
  rV,
  nV,
  oV,
  aV,
  cV,
  lV,
  uV,
  hV = b({
    'out-build/vs/editor/common/core/editorColorRegistry.js'() {
      'use strict';
      he(),
        Ri(),
        Uu(),
        up(),
        (Vb = f('editor.lineHighlightBackground', null, u(706, null))),
        (az = f(
          'editor.lineHighlightBorder',
          { dark: '#282828', light: '#eeeeee', hcDark: '#f38518', hcLight: G },
          u(707, null)
        )),
        (cS = f(
          'editor.rangeHighlightBackground',
          { dark: '#ffffff0b', light: '#fdff0033', hcDark: null, hcLight: null },
          u(708, null),
          !0
        )),
        (cz = f(
          'editor.rangeHighlightBorder',
          { dark: null, light: null, hcDark: mt, hcLight: mt },
          u(709, null)
        )),
        (lz = f(
          'editor.symbolHighlightBackground',
          { dark: _r, light: _r, hcDark: null, hcLight: null },
          u(710, null),
          !0
        )),
        (uz = f(
          'editor.symbolHighlightBorder',
          { dark: null, light: null, hcDark: mt, hcLight: mt },
          u(711, null)
        )),
        (Ip = f(
          'editorCursor.foreground',
          { dark: '#AEAFAD', light: S.black, hcDark: S.white, hcLight: '#0F4A85' },
          u(712, null)
        )),
        (Gb = f('editorCursor.background', null, u(713, null))),
        (hz = f('editorMultiCursor.primary.foreground', Ip, u(714, null))),
        (dz = f('editorMultiCursor.primary.background', Gb, u(715, null))),
        (fz = f('editorMultiCursor.secondary.foreground', Ip, u(716, null))),
        (pz = f('editorMultiCursor.secondary.background', Gb, u(717, null))),
        ($p = f(
          'editorWhitespace.foreground',
          { dark: '#e3e4e229', light: '#33333333', hcDark: '#e3e4e229', hcLight: '#CCCCCC' },
          u(718, null)
        )),
        (gz = f(
          'editorLineNumber.foreground',
          { dark: '#858585', light: '#237893', hcDark: S.white, hcLight: '#292929' },
          u(719, null)
        )),
        (lS = f('editorIndentGuide.background', $p, u(720, null), !1, u(721, null))),
        (uS = f('editorIndentGuide.activeBackground', $p, u(722, null), !1, u(723, null))),
        (hS = f('editorIndentGuide.background1', lS, u(724, null))),
        (mz = f('editorIndentGuide.background2', '#00000000', u(725, null))),
        (wz = f('editorIndentGuide.background3', '#00000000', u(726, null))),
        (bz = f('editorIndentGuide.background4', '#00000000', u(727, null))),
        (vz = f('editorIndentGuide.background5', '#00000000', u(728, null))),
        (yz = f('editorIndentGuide.background6', '#00000000', u(729, null))),
        (dS = f('editorIndentGuide.activeBackground1', uS, u(730, null))),
        (kz = f('editorIndentGuide.activeBackground2', '#00000000', u(731, null))),
        (Sz = f('editorIndentGuide.activeBackground3', '#00000000', u(732, null))),
        (Ez = f('editorIndentGuide.activeBackground4', '#00000000', u(733, null))),
        (Cz = f('editorIndentGuide.activeBackground5', '#00000000', u(734, null))),
        (Dz = f('editorIndentGuide.activeBackground6', '#00000000', u(735, null))),
        (fS = f(
          'editorActiveLineNumber.foreground',
          { dark: '#c6c6c6', light: '#0B216F', hcDark: mt, hcLight: mt },
          u(736, null),
          !1,
          u(737, null)
        )),
        (xz = f('editorLineNumber.activeForeground', fS, u(738, null))),
        (Az = f('editorLineNumber.dimmedForeground', null, u(739, null))),
        (Iz = f(
          'editorRuler.foreground',
          { dark: '#5A5A5A', light: S.lightgrey, hcDark: S.white, hcLight: '#292929' },
          u(740, null)
        )),
        ($z = f(
          'editorCodeLens.foreground',
          { dark: '#999999', light: '#919191', hcDark: '#999999', hcLight: '#292929' },
          u(741, null)
        )),
        (Pz = f(
          'editorBracketMatch.background',
          { dark: '#0064001a', light: '#0064001a', hcDark: '#0064001a', hcLight: '#0000' },
          u(742, null)
        )),
        (_z = f(
          'editorBracketMatch.border',
          { dark: '#888', light: '#B9B9B9', hcDark: G, hcLight: G },
          u(743, null)
        )),
        (Lz = f(
          'editorOverviewRuler.border',
          { dark: '#7f7f7f4d', light: '#7f7f7f4d', hcDark: '#7f7f7f4d', hcLight: '#666666' },
          u(744, null)
        )),
        (Tz = f('editorOverviewRuler.background', null, u(745, null))),
        (Mz = f('editorGutter.background', fi, u(746, null))),
        (Fz = f(
          'editorUnnecessaryCode.border',
          { dark: null, light: null, hcDark: S.fromHex('#fff').transparent(0.8), hcLight: G },
          u(747, null)
        )),
        (Oz = f(
          'editorUnnecessaryCode.opacity',
          { dark: S.fromHex('#000a'), light: S.fromHex('#0007'), hcDark: null, hcLight: null },
          u(748, null)
        )),
        (Rz = f(
          'editorGhostText.border',
          {
            dark: null,
            light: null,
            hcDark: S.fromHex('#fff').transparent(0.8),
            hcLight: S.fromHex('#292929').transparent(0.8),
          },
          u(749, null)
        )),
        (Nz = f(
          'editorGhostText.foreground',
          { dark: S.fromHex('#ffffff56'), light: S.fromHex('#0007'), hcDark: null, hcLight: null },
          u(750, null)
        )),
        (Bz = f('editorGhostText.background', null, u(751, null))),
        (pS = new S(new A(0, 122, 204, 0.6))),
        (Uz = f('editorOverviewRuler.rangeHighlightForeground', pS, u(752, null), !0)),
        (jz = f(
          'editorOverviewRuler.errorForeground',
          {
            dark: new S(new A(255, 18, 18, 0.7)),
            light: new S(new A(255, 18, 18, 0.7)),
            hcDark: new S(new A(255, 50, 50, 1)),
            hcLight: '#B5200D',
          },
          u(753, null)
        )),
        (Wz = f(
          'editorOverviewRuler.warningForeground',
          { dark: tr, light: tr, hcDark: Iu, hcLight: Iu },
          u(754, null)
        )),
        (Hz = f(
          'editorOverviewRuler.infoForeground',
          { dark: pn, light: pn, hcDark: $u, hcLight: $u },
          u(755, null)
        )),
        (zz = f(
          'editorBracketHighlight.foreground1',
          { dark: '#FFD700', light: '#0431FAFF', hcDark: '#FFD700', hcLight: '#0431FAFF' },
          u(756, null)
        )),
        (Vz = f(
          'editorBracketHighlight.foreground2',
          { dark: '#DA70D6', light: '#319331FF', hcDark: '#DA70D6', hcLight: '#319331FF' },
          u(757, null)
        )),
        (Gz = f(
          'editorBracketHighlight.foreground3',
          { dark: '#179FFF', light: '#7B3814FF', hcDark: '#87CEFA', hcLight: '#7B3814FF' },
          u(758, null)
        )),
        (qz = f('editorBracketHighlight.foreground4', '#00000000', u(759, null))),
        (Kz = f('editorBracketHighlight.foreground5', '#00000000', u(760, null))),
        (Jz = f('editorBracketHighlight.foreground6', '#00000000', u(761, null))),
        (Xz = f(
          'editorBracketHighlight.unexpectedBracket.foreground',
          {
            dark: new S(new A(255, 18, 18, 0.8)),
            light: new S(new A(255, 18, 18, 0.8)),
            hcDark: new S(new A(255, 50, 50, 1)),
            hcLight: '#B5200D',
          },
          u(762, null)
        )),
        (Yz = f('editorBracketPairGuide.background1', '#00000000', u(763, null))),
        (Qz = f('editorBracketPairGuide.background2', '#00000000', u(764, null))),
        (Zz = f('editorBracketPairGuide.background3', '#00000000', u(765, null))),
        (eV = f('editorBracketPairGuide.background4', '#00000000', u(766, null))),
        (tV = f('editorBracketPairGuide.background5', '#00000000', u(767, null))),
        (iV = f('editorBracketPairGuide.background6', '#00000000', u(768, null))),
        (sV = f('editorBracketPairGuide.activeBackground1', '#00000000', u(769, null))),
        (rV = f('editorBracketPairGuide.activeBackground2', '#00000000', u(770, null))),
        (nV = f('editorBracketPairGuide.activeBackground3', '#00000000', u(771, null))),
        (oV = f('editorBracketPairGuide.activeBackground4', '#00000000', u(772, null))),
        (aV = f('editorBracketPairGuide.activeBackground5', '#00000000', u(773, null))),
        (cV = f('editorBracketPairGuide.activeBackground6', '#00000000', u(774, null))),
        (lV = f('editorUnicodeHighlight.border', tr, u(775, null))),
        (uV = f('editorUnicodeHighlight.background', wk, u(776, null))),
        ZF((t, e) => {
          const i = t.getColor(fi),
            s = t.getColor(Vb),
            r = s && !s.isTransparent() ? s : i;
          r && e.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${r}; }`);
        });
    },
  });
function si(t, e) {
  let i = Pp[t];
  i || (Pp[t] = i = []), i.push(e);
}
function gS(t, e) {
  for (const i of t)
    if ((e.textMateRules.push(i), !i.scope)) {
      const s = i.settings;
      if (!s) i.settings = {};
      else
        for (const r in s) {
          const n = r,
            o = Pp[n];
          if (o) {
            const a = s[n];
            if (typeof a == 'string') {
              const c = S.fromHex(a);
              for (const l of o) e.colors[l] = c;
            }
          }
          n !== 'foreground' && n !== 'background' && n !== 'fontStyle' && delete s[n];
        }
    }
}
var Pp,
  mS,
  dV = b({
    'out-build/vs/workbench/services/themes/common/themeCompatibility.js'() {
      'use strict';
      Ri(),
        Uu(),
        hV(),
        (Pp = {}),
        si('background', fi),
        si('foreground', er),
        si('selection', Zn),
        si('inactiveSelection', bk),
        si('selectionHighlightColor', vk),
        si('findMatchHighlight', _r),
        si('currentFindMatchHighlight', yk),
        si('hoverHighlight', Sk),
        si('wordHighlight', 'editor.wordHighlightBackground'),
        si('wordHighlightStrong', 'editor.wordHighlightStrongBackground'),
        si('findRangeHighlight', kk),
        si('findMatchHighlight', 'peekViewResult.matchHighlightBackground'),
        si('referenceHighlight', 'peekViewEditor.matchHighlightBackground'),
        si('lineHighlight', Vb),
        si('rangeHighlight', cS),
        si('caret', Ip),
        si('invisibles', $p),
        si('guide', hS),
        si('activeGuide', dS),
        (mS = [
          'ansiBlack',
          'ansiRed',
          'ansiGreen',
          'ansiYellow',
          'ansiBlue',
          'ansiMagenta',
          'ansiCyan',
          'ansiWhite',
          'ansiBrightBlack',
          'ansiBrightRed',
          'ansiBrightGreen',
          'ansiBrightYellow',
          'ansiBrightBlue',
          'ansiBrightMagenta',
          'ansiBrightCyan',
          'ansiBrightWhite',
        ]);
      for (const t of mS) si(t, 'terminal.' + t);
    },
  });
function _p(t) {
  switch (t) {
    case 1:
      return u(120, null);
    case 2:
      return u(121, null);
    case 3:
      return u(122, null);
    case 4:
      return u(123, null);
    case 5:
      return u(124, null);
    case 6:
      return u(125, null);
    case 7:
      return u(126, null);
    case 8:
      return u(127, null);
    case 9:
      return u(128, null);
    default:
      return '';
  }
}
var wS = b({
  'out-build/vs/base/common/jsonErrorMessages.js'() {
    'use strict';
    he();
  },
});
function fV(t) {
  return pV(t, null, null);
}
function pV(t, e, i) {
  const s = t.length;
  let r = 0,
    n = 1,
    o = 0;
  s > 0 && t.charCodeAt(0) === 65279 && (r = 1);
  function a(O) {
    if (i === null) r = r + O;
    else for (; O > 0; ) t.charCodeAt(r) === 10 ? (r++, n++, (o = 0)) : (r++, o++), O--;
  }
  function c(O) {
    i === null ? (r = O) : a(O - r);
  }
  function l() {
    for (; r < s; ) {
      const O = t.charCodeAt(r);
      if (O !== 32 && O !== 9 && O !== 13 && O !== 10) break;
      a(1);
    }
  }
  function h(O) {
    return t.substr(r, O.length) === O ? (a(O.length), !0) : !1;
  }
  function d(O) {
    const Ee = t.indexOf(O, r);
    c(Ee !== -1 ? Ee + O.length : s);
  }
  function p(O) {
    const Ee = t.indexOf(O, r);
    if (Ee !== -1) {
      const ze = t.substring(r, Ee);
      return c(Ee + O.length), ze;
    } else {
      const ze = t.substr(r);
      return c(s), ze;
    }
  }
  let m = 0,
    w = null;
  const v = [],
    k = [];
  let y = null;
  function C(O, Ee) {
    v.push(m), k.push(w), (m = O), (w = Ee);
  }
  function I() {
    if (v.length === 0) return E('illegal state stack');
    (m = v.pop()), (w = k.pop());
  }
  function E(O) {
    throw new Error('Near offset ' + r + ': ' + O + ' ~~~' + t.substr(r, 50) + '~~~');
  }
  const x = {
      enterDict: function () {
        if (y === null) return E('missing <key>');
        const O = {};
        i !== null && (O[i] = { filename: e, line: n, char: o }), (w[y] = O), (y = null), C(1, O);
      },
      enterArray: function () {
        if (y === null) return E('missing <key>');
        const O = [];
        (w[y] = O), (y = null), C(2, O);
      },
    },
    F = {
      enterDict: function () {
        const O = {};
        i !== null && (O[i] = { filename: e, line: n, char: o }), w.push(O), C(1, O);
      },
      enterArray: function () {
        const O = [];
        w.push(O), C(2, O);
      },
    };
  function Y() {
    m === 1
      ? x.enterDict()
      : m === 2
      ? F.enterDict()
      : ((w = {}), i !== null && (w[i] = { filename: e, line: n, char: o }), C(1, w));
  }
  function oe() {
    if (m === 1) I();
    else return E('unexpected </dict>');
  }
  function B() {
    m === 1 ? x.enterArray() : m === 2 ? F.enterArray() : ((w = []), C(2, w));
  }
  function ae() {
    if (m === 1) return E('unexpected </array>');
    if (m === 2) I();
    else return E('unexpected </array>');
  }
  function Me(O) {
    if (m === 1) {
      if (y !== null) return E('too many <key>');
      y = O;
    } else return E('unexpected <key>');
  }
  function fe(O) {
    if (m === 1) {
      if (y === null) return E('missing <key>');
      (w[y] = O), (y = null);
    } else m === 2 ? w.push(O) : (w = O);
  }
  function _t(O) {
    if (isNaN(O)) return E('cannot parse float');
    if (m === 1) {
      if (y === null) return E('missing <key>');
      (w[y] = O), (y = null);
    } else m === 2 ? w.push(O) : (w = O);
  }
  function V(O) {
    if (isNaN(O)) return E('cannot parse integer');
    if (m === 1) {
      if (y === null) return E('missing <key>');
      (w[y] = O), (y = null);
    } else m === 2 ? w.push(O) : (w = O);
  }
  function R(O) {
    if (m === 1) {
      if (y === null) return E('missing <key>');
      (w[y] = O), (y = null);
    } else m === 2 ? w.push(O) : (w = O);
  }
  function z(O) {
    if (m === 1) {
      if (y === null) return E('missing <key>');
      (w[y] = O), (y = null);
    } else m === 2 ? w.push(O) : (w = O);
  }
  function q(O) {
    if (m === 1) {
      if (y === null) return E('missing <key>');
      (w[y] = O), (y = null);
    } else m === 2 ? w.push(O) : (w = O);
  }
  function ne(O) {
    return O.replace(/&#([0-9]+);/g, function (Ee, ze) {
      return String.fromCodePoint(parseInt(ze, 10));
    })
      .replace(/&#x([0-9a-f]+);/g, function (Ee, ze) {
        return String.fromCodePoint(parseInt(ze, 16));
      })
      .replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g, function (Ee) {
        switch (Ee) {
          case '&amp;':
            return '&';
          case '&lt;':
            return '<';
          case '&gt;':
            return '>';
          case '&quot;':
            return '"';
          case '&apos;':
            return "'";
        }
        return Ee;
      });
  }
  function me() {
    let O = p('>'),
      Ee = !1;
    return (
      O.charCodeAt(O.length - 1) === 47 && ((Ee = !0), (O = O.substring(0, O.length - 1))),
      { name: O.trim(), isClosed: Ee }
    );
  }
  function pe(O) {
    if (O.isClosed) return '';
    const Ee = p('</');
    return d('>'), ne(Ee);
  }
  for (; r < s && (l(), !(r >= s)); ) {
    const O = t.charCodeAt(r);
    if ((a(1), O !== 60)) return E('expected <');
    if (r >= s) return E('unexpected end of input');
    const Ee = t.charCodeAt(r);
    if (Ee === 63) {
      a(1), d('?>');
      continue;
    }
    if (Ee === 33) {
      if ((a(1), h('--'))) {
        d('-->');
        continue;
      }
      d('>');
      continue;
    }
    if (Ee === 47) {
      if ((a(1), l(), h('plist'))) {
        d('>');
        continue;
      }
      if (h('dict')) {
        d('>'), oe();
        continue;
      }
      if (h('array')) {
        d('>'), ae();
        continue;
      }
      return E('unexpected closed tag');
    }
    const ze = me();
    switch (ze.name) {
      case 'dict':
        Y(), ze.isClosed && oe();
        continue;
      case 'array':
        B(), ze.isClosed && ae();
        continue;
      case 'key':
        Me(pe(ze));
        continue;
      case 'string':
        fe(pe(ze));
        continue;
      case 'real':
        _t(parseFloat(pe(ze)));
        continue;
      case 'integer':
        V(parseInt(pe(ze), 10));
        continue;
      case 'date':
        R(new Date(pe(ze)));
        continue;
      case 'data':
        z(pe(ze));
        continue;
      case 'true':
        pe(ze), q(!0);
        continue;
      case 'false':
        pe(ze), q(!1);
        continue;
    }
    if (!/^plist/.test(ze.name)) return E('unexpected opened tag ' + ze.name);
  }
  return w;
}
var bS,
  vS,
  gV = b({
    'out-build/vs/workbench/services/themes/common/plistParser.js'() {
      'use strict';
      (function (t) {
        (t[(t.BOM = 65279)] = 'BOM'),
          (t[(t.SPACE = 32)] = 'SPACE'),
          (t[(t.TAB = 9)] = 'TAB'),
          (t[(t.CARRIAGE_RETURN = 13)] = 'CARRIAGE_RETURN'),
          (t[(t.LINE_FEED = 10)] = 'LINE_FEED'),
          (t[(t.SLASH = 47)] = 'SLASH'),
          (t[(t.LESS_THAN = 60)] = 'LESS_THAN'),
          (t[(t.QUESTION_MARK = 63)] = 'QUESTION_MARK'),
          (t[(t.EXCLAMATION_MARK = 33)] = 'EXCLAMATION_MARK');
      })(bS || (bS = {})),
        (function (t) {
          (t[(t.ROOT_STATE = 0)] = 'ROOT_STATE'),
            (t[(t.DICT_STATE = 1)] = 'DICT_STATE'),
            (t[(t.ARR_STATE = 2)] = 'ARR_STATE');
        })(vS || (vS = {}));
    },
  });
function qb(t, e) {
  let i = t.length,
    s = e;
  const r = [];
  for (let o = i - 1; o >= 0; o--) {
    const a = t.charCodeAt(o);
    if (a === Yb || a === DS) {
      const c = t.substring(o + 1, i);
      (i = o), a === Yb ? (s = c) : r.push(c);
    }
  }
  return { type: t.substring(0, i), modifiers: r, language: s };
}
function mV() {
  const t = new CS();
  function e(s, r, n = [], o, a) {
    return t.registerTokenType(s, r, o, a), n && i(s, n), s;
  }
  function i(s, r) {
    try {
      const n = t.parseTokenSelector(s);
      t.registerTokenStyleDefault(n, { scopesToProbe: r });
    } catch (n) {
      console.log(n);
    }
  }
  return (
    e('comment', u(2758, null), [['comment']]),
    e('string', u(2759, null), [['string']]),
    e('keyword', u(2760, null), [['keyword.control']]),
    e('number', u(2761, null), [['constant.numeric']]),
    e('regexp', u(2762, null), [['constant.regexp']]),
    e('operator', u(2763, null), [['keyword.operator']]),
    e('namespace', u(2764, null), [['entity.name.namespace']]),
    e('type', u(2765, null), [['entity.name.type'], ['support.type']]),
    e('struct', u(2766, null), [['entity.name.type.struct']]),
    e('class', u(2767, null), [['entity.name.type.class'], ['support.class']]),
    e('interface', u(2768, null), [['entity.name.type.interface']]),
    e('enum', u(2769, null), [['entity.name.type.enum']]),
    e('typeParameter', u(2770, null), [['entity.name.type.parameter']]),
    e('function', u(2771, null), [['entity.name.function'], ['support.function']]),
    e('member', u(2772, null), [], 'method', 'Deprecated use `method` instead'),
    e('method', u(2773, null), [['entity.name.function.member'], ['support.function']]),
    e('macro', u(2774, null), [['entity.name.function.preprocessor']]),
    e('variable', u(2775, null), [['variable.other.readwrite'], ['entity.name.variable']]),
    e('parameter', u(2776, null), [['variable.parameter']]),
    e('property', u(2777, null), [['variable.other.property']]),
    e('enumMember', u(2778, null), [['variable.other.enummember']]),
    e('event', u(2779, null), [['variable.other.event']]),
    e('decorator', u(2780, null), [['entity.name.decorator'], ['entity.name.function']]),
    e('label', u(2781, null), void 0),
    t.registerTokenModifier('declaration', u(2782, null), void 0),
    t.registerTokenModifier('documentation', u(2783, null), void 0),
    t.registerTokenModifier('static', u(2784, null), void 0),
    t.registerTokenModifier('abstract', u(2785, null), void 0),
    t.registerTokenModifier('deprecated', u(2786, null), void 0),
    t.registerTokenModifier('modification', u(2787, null), void 0),
    t.registerTokenModifier('async', u(2788, null), void 0),
    t.registerTokenModifier('readonly', u(2789, null), void 0),
    i('variable.readonly', [['variable.other.constant']]),
    i('property.readonly', [['variable.other.constant.property']]),
    i('type.defaultLibrary', [['support.type']]),
    i('class.defaultLibrary', [['support.class']]),
    i('interface.defaultLibrary', [['support.class']]),
    i('variable.defaultLibrary', [['support.variable'], ['support.other.variable']]),
    i('variable.defaultLibrary.readonly', [['support.constant']]),
    i('property.defaultLibrary', [['support.variable.property']]),
    i('property.defaultLibrary.readonly', [['support.constant.property']]),
    i('function.defaultLibrary', [['support.function']]),
    i('member.defaultLibrary', [['support.function']]),
    t
  );
}
function wV() {
  return Wu;
}
function Kb(t, e) {
  return {
    description: t,
    deprecationMessage: e,
    defaultSnippets: [{ body: '${1:#ff0000}' }],
    anyOf: [{ type: 'string', format: 'color-hex' }, { $ref: '#/definitions/style' }],
  };
}
var yS,
  Jb,
  Xb,
  ju,
  Lp,
  kS,
  SS,
  rr,
  Tp,
  ES,
  CS,
  Yb,
  DS,
  Wu,
  Qb,
  Zb,
  ev,
  bV = b({
    'out-build/vs/platform/theme/common/tokenClassificationRegistry.js'() {
      'use strict';
      le(),
        Ri(),
        X(),
        he(),
        pd(),
        li(),
        (yS = '*'),
        (Jb = ':'),
        (Xb = '.'),
        (ju = '\\w+[-_\\w+]*'),
        (Lp = `^${ju}$`),
        (kS = `^(${ju}|\\*)(\\${Xb}${ju})*(${Jb}${ju})?$`),
        (SS = '^(\\s*(italic|bold|underline|strikethrough))*\\s*$'),
        (rr = class {
          constructor(t, e, i, s, r) {
            (this.foreground = t),
              (this.bold = e),
              (this.underline = i),
              (this.strikethrough = s),
              (this.italic = r);
          }
        }),
        (function (t) {
          function e(a) {
            return {
              _foreground:
                a.foreground === void 0 ? null : S.Format.CSS.formatHexA(a.foreground, !0),
              _bold: a.bold === void 0 ? null : a.bold,
              _underline: a.underline === void 0 ? null : a.underline,
              _italic: a.italic === void 0 ? null : a.italic,
              _strikethrough: a.strikethrough === void 0 ? null : a.strikethrough,
            };
          }
          t.toJSONObject = e;
          function i(a) {
            if (a) {
              const c = (h) => (typeof h == 'boolean' ? h : void 0),
                l = (h) => (typeof h == 'string' ? S.fromHex(h) : void 0);
              return new t(
                l(a._foreground),
                c(a._bold),
                c(a._underline),
                c(a._strikethrough),
                c(a._italic)
              );
            }
          }
          t.fromJSONObject = i;
          function s(a, c) {
            return a === c
              ? !0
              : a !== void 0 &&
                  c !== void 0 &&
                  (a.foreground instanceof S
                    ? a.foreground.equals(c.foreground)
                    : c.foreground === void 0) &&
                  a.bold === c.bold &&
                  a.underline === c.underline &&
                  a.strikethrough === c.strikethrough &&
                  a.italic === c.italic;
          }
          t.equals = s;
          function r(a) {
            return a instanceof t;
          }
          t.is = r;
          function n(a) {
            return new t(a.foreground, a.bold, a.underline, a.strikethrough, a.italic);
          }
          t.fromData = n;
          function o(a, c, l, h, d, p) {
            let m;
            if ((a !== void 0 && (m = S.fromHex(a)), c !== void 0)) {
              l = p = h = d = !1;
              const w = /italic|bold|underline|strikethrough/g;
              let v;
              for (; (v = w.exec(c)); )
                switch (v[0]) {
                  case 'bold':
                    l = !0;
                    break;
                  case 'italic':
                    p = !0;
                    break;
                  case 'underline':
                    h = !0;
                    break;
                  case 'strikethrough':
                    d = !0;
                    break;
                }
            }
            return new t(m, l, h, d, p);
          }
          t.fromSettings = o;
        })(rr || (rr = {})),
        (function (t) {
          function e(n, o) {
            if (o && typeof o._selector == 'string' && o._style) {
              const a = rr.fromJSONObject(o._style);
              if (a)
                try {
                  return { selector: n.parseTokenSelector(o._selector), style: a };
                } catch {}
            }
          }
          t.fromJSONObject = e;
          function i(n) {
            return { _selector: n.selector.id, _style: rr.toJSONObject(n.style) };
          }
          t.toJSONObject = i;
          function s(n, o) {
            return n === o
              ? !0
              : n !== void 0 &&
                  o !== void 0 &&
                  n.selector &&
                  o.selector &&
                  n.selector.id === o.selector.id &&
                  rr.equals(n.style, o.style);
          }
          t.equals = s;
          function r(n) {
            return n && n.selector && typeof n.selector.id == 'string' && rr.is(n.style);
          }
          t.is = r;
        })(Tp || (Tp = {})),
        (ES = { TokenClassificationContribution: 'base.contributions.tokenClassification' }),
        (CS = class {
          constructor() {
            (this.c = new $()),
              (this.onDidChangeSchema = this.c.event),
              (this.d = 0),
              (this.f = 1),
              (this.j = []),
              (this.m = {
                type: 'object',
                properties: {},
                patternProperties: { [kS]: Kb() },
                additionalProperties: !1,
                definitions: {
                  style: {
                    type: 'object',
                    description: u(2748, null),
                    properties: {
                      foreground: {
                        type: 'string',
                        description: u(2749, null),
                        format: 'color-hex',
                        default: '#ff0000',
                      },
                      background: { type: 'string', deprecationMessage: u(2750, null) },
                      fontStyle: {
                        type: 'string',
                        description: u(2751, null),
                        pattern: SS,
                        patternErrorMessage: u(2752, null),
                        defaultSnippets: [
                          { label: u(2753, null), bodyText: '""' },
                          { body: 'italic' },
                          { body: 'bold' },
                          { body: 'underline' },
                          { body: 'strikethrough' },
                          { body: 'italic bold' },
                          { body: 'italic underline' },
                          { body: 'italic strikethrough' },
                          { body: 'bold underline' },
                          { body: 'bold strikethrough' },
                          { body: 'underline strikethrough' },
                          { body: 'italic bold underline' },
                          { body: 'italic bold strikethrough' },
                          { body: 'italic underline strikethrough' },
                          { body: 'bold underline strikethrough' },
                          { body: 'italic bold underline strikethrough' },
                        ],
                      },
                      bold: { type: 'boolean', description: u(2754, null) },
                      italic: { type: 'boolean', description: u(2755, null) },
                      underline: { type: 'boolean', description: u(2756, null) },
                      strikethrough: { type: 'boolean', description: u(2757, null) },
                    },
                    defaultSnippets: [
                      { body: { foreground: '${1:#FF0000}', fontStyle: '${2:bold}' } },
                    ],
                  },
                },
              }),
              (this.g = Object.create(null)),
              (this.h = Object.create(null)),
              (this.l = Object.create(null));
          }
          registerTokenType(t, e, i, s) {
            if (!t.match(Lp)) throw new Error('Invalid token type id.');
            if (i && !i.match(Lp)) throw new Error('Invalid token super type id.');
            const n = { num: this.d++, id: t, superType: i, description: e, deprecationMessage: s };
            this.g[t] = n;
            const o = Kb(e, s);
            (this.m.properties[t] = o), (this.l = Object.create(null));
          }
          registerTokenModifier(t, e, i) {
            if (!t.match(Lp)) throw new Error('Invalid token modifier id.');
            const s = this.f;
            this.f = this.f * 2;
            const r = { num: s, id: t, description: e, deprecationMessage: i };
            (this.h[t] = r), (this.m.properties[`*.${t}`] = Kb(e, i));
          }
          parseTokenSelector(t, e) {
            const i = qb(t, e);
            return i.type
              ? {
                  match: (s, r, n) => {
                    let o = 0;
                    if (i.language !== void 0) {
                      if (i.language !== n) return -1;
                      o += 10;
                    }
                    if (i.type !== yS) {
                      const c = this.n(s).indexOf(i.type);
                      if (c === -1) return -1;
                      o += 100 - c;
                    }
                    for (const a of i.modifiers) if (r.indexOf(a) === -1) return -1;
                    return o + i.modifiers.length * 100;
                  },
                  id: `${[i.type, ...i.modifiers.sort()].join('.')}${
                    i.language !== void 0 ? ':' + i.language : ''
                  }`,
                }
              : { match: () => -1, id: '$invalid' };
          }
          registerTokenStyleDefault(t, e) {
            this.j.push({ selector: t, defaults: e });
          }
          deregisterTokenStyleDefault(t) {
            const e = t.id;
            this.j = this.j.filter((i) => i.selector.id !== e);
          }
          deregisterTokenType(t) {
            delete this.g[t], delete this.m.properties[t], (this.l = Object.create(null));
          }
          deregisterTokenModifier(t) {
            delete this.h[t], delete this.m.properties[`*.${t}`];
          }
          getTokenTypes() {
            return Object.keys(this.g).map((t) => this.g[t]);
          }
          getTokenModifiers() {
            return Object.keys(this.h).map((t) => this.h[t]);
          }
          getTokenStylingSchema() {
            return this.m;
          }
          getTokenStylingDefaultRules() {
            return this.j;
          }
          n(t) {
            let e = this.l[t];
            if (!e) {
              this.l[t] = e = [t];
              let i = this.g[t];
              for (; i && i.superType; ) e.push(i.superType), (i = this.g[i.superType]);
            }
            return e;
          }
          toString() {
            const t = (e, i) => {
              const s = e.indexOf('.') === -1 ? 0 : 1,
                r = i.indexOf('.') === -1 ? 0 : 1;
              return s !== r ? s - r : e.localeCompare(i);
            };
            return Object.keys(this.g)
              .sort(t)
              .map((e) => `- \`${e}\`: ${this.g[e].description}`).join(`
`);
          }
        }),
        (Yb = Jb.charCodeAt(0)),
        (DS = Xb.charCodeAt(0)),
        (Wu = mV()),
        tt.add(ES.TokenClassificationContribution, Wu),
        (Qb = 'vscode://schemas/token-styling'),
        (Zb = tt.as(Ca.JSONContribution)),
        Zb.registerSchema(Qb, Wu.getTokenStylingSchema()),
        (ev = new As(() => Zb.notifySchemaChanged(Qb), 200)),
        Wu.onDidChangeSchema(() => {
          ev.isScheduled() || ev.schedule();
        });
    },
  });
function xS(t, e, i) {
  const s = vV(t);
  let r = s.next();
  for (; r !== null; ) {
    let c = 0;
    if (r.length === 2 && r.charAt(1) === ':') {
      switch (r.charAt(0)) {
        case 'R':
          c = 1;
          break;
        case 'L':
          c = -1;
          break;
        default:
          console.log(`Unknown priority ${r} in scope selector`);
      }
      r = s.next();
    }
    const l = o();
    if ((l && i.push({ matcher: l, priority: c }), r !== ',')) break;
    r = s.next();
  }
  function n() {
    if (r === '-') {
      r = s.next();
      const c = n();
      return c ? (l) => (c(l) < 0 ? 0 : -1) : null;
    }
    if (r === '(') {
      r = s.next();
      const c = a();
      return r === ')' && (r = s.next()), c;
    }
    if (AS(r)) {
      const c = [];
      do c.push(r), (r = s.next());
      while (AS(r));
      return (l) => e(c, l);
    }
    return null;
  }
  function o() {
    let c = n();
    if (!c) return null;
    const l = [];
    for (; c; ) l.push(c), (c = n());
    return (h) => {
      let d = l[0](h);
      for (let p = 1; d >= 0 && p < l.length; p++) d = Math.min(d, l[p](h));
      return d;
    };
  }
  function a() {
    let c = o();
    if (!c) return null;
    const l = [];
    for (; c && (l.push(c), r === '|' || r === ','); ) {
      do r = s.next();
      while (r === '|' || r === ',');
      c = o();
    }
    return (h) => {
      let d = l[0](h);
      for (let p = 1; p < l.length; p++) d = Math.max(d, l[p](h));
      return d;
    };
  }
}
function AS(t) {
  return !!t && !!t.match(/[\w\.:]+/);
}
function vV(t) {
  const e = /([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g;
  let i = e.exec(t);
  return {
    next: () => {
      if (!i) return null;
      const s = i[0];
      return (i = e.exec(t)), s;
    },
  };
}
var yV = b({
    'out-build/vs/workbench/services/themes/common/textMateScopeMatcher.js'() {
      'use strict';
    },
  }),
  kV = b({
    'out-build/vs/editor/common/languages/supports/tokenization.js'() {
      'use strict';
      Ri();
    },
  });
function SV(t, e) {
  e.startsWith('./') && (e = e.substr(2));
  let i = `${t}-${e}`;
  return (i = i.replace(/[^_a-zA-Z0-9-]/g, '-')), i.charAt(0).match(/[0-9-]/) && (i = '_' + i), i;
}
async function IS(t, e, i) {
  if (N0(e) === '.json') {
    const s = await t.readExtensionResource(e),
      r = [],
      n = Ar(s, r);
    if (r.length > 0)
      return Promise.reject(new Error(u(14214, null, r.map((l) => _p(l.error)).join(', '))));
    if (Bo(n) !== 'object') return Promise.reject(new Error(u(14215, null)));
    if ((n.include && (await IS(t, we(md(e), n.include), i)), Array.isArray(n.settings)))
      return gS(n.settings, i), null;
    i.semanticHighlighting = i.semanticHighlighting || n.semanticHighlighting;
    const o = n.colors;
    if (o) {
      if (typeof o != 'object') return Promise.reject(new Error(u(14216, null, e.toString())));
      for (const l in o) {
        const h = o[l];
        h === xu ? delete i.colors[l] : typeof h == 'string' && (i.colors[l] = S.fromHex(o[l]));
      }
    }
    const a = n.tokenColors;
    if (a)
      if (Array.isArray(a)) i.textMateRules.push(...a);
      else if (typeof a == 'string') await $S(t, we(md(e), a), i);
      else return Promise.reject(new Error(u(14217, null, e.toString())));
    const c = n.semanticTokenColors;
    if (c && typeof c == 'object')
      for (const l in c)
        try {
          const h = LS(l, c[l]);
          h && i.semanticTokenRules.push(h);
        } catch {
          return Promise.reject(new Error(u(14218, null, e.toString())));
        }
  } else return $S(t, e, i);
}
function $S(t, e, i) {
  return t.readExtensionResource(e).then(
    (s) => {
      try {
        const n = fV(s).settings;
        return Array.isArray(n)
          ? (gS(n, i), Promise.resolve(null))
          : Promise.reject(new Error(u(14219, null)));
      } catch (r) {
        return Promise.reject(new Error(u(14220, null, r.message)));
      }
    },
    (s) => Promise.reject(new Error(u(14221, null, e.toString(), s.message)))
  );
}
function PS(t, e) {
  if (e.length < t.length) return -1;
  let i = 0,
    s;
  return t.every((n, o) => {
    for (let a = i; a < e.length; a++)
      if (EV(e[a], n)) return (s = (o + 1) * 65536 + n.length), (i = a + 1), !0;
    return !1;
  }) && s !== void 0
    ? s
    : -1;
}
function EV(t, e) {
  if (!t) return !1;
  if (t === e) return !0;
  const i = e.length;
  return t.length > i && t.substr(0, i) === e && t[i] === '.';
}
function _S(t) {
  const e = t.scope;
  if (!e || !t.settings) return sv;
  const i = [];
  if (Array.isArray(e)) for (const s of e) xS(s, PS, i);
  else xS(e, PS, i);
  return i.length === 0
    ? sv
    : (s) => {
        let r = i[0].matcher(s);
        for (let n = 1; n < i.length; n++) r = Math.max(r, i[n].matcher(s));
        return r;
      };
}
function LS(t, e) {
  const i = Hu.parseTokenSelector(t);
  let s;
  if (
    (typeof e == 'string'
      ? (s = rr.fromSettings(e, void 0))
      : CV(e) &&
        (s = rr.fromSettings(
          e.foreground,
          e.fontStyle,
          e.bold,
          e.underline,
          e.strikethrough,
          e.italic
        )),
    s)
  )
    return { selector: i, style: s };
}
function CV(t) {
  return (
    t &&
    (ot(t.foreground) ||
      ot(t.fontStyle) ||
      mo(t.italic) ||
      mo(t.underline) ||
      mo(t.strikethrough) ||
      mo(t.bold))
  );
}
function Sc(t) {
  if (!t) return;
  typeof t != 'string' && (t = S.Format.CSS.formatHexA(t, !0));
  const e = t.length;
  if (t.charCodeAt(0) !== 35 || (e !== 4 && e !== 5 && e !== 7 && e !== 9)) return;
  const i = [35];
  for (let s = 1; s < e; s++) {
    const r = DV(t.charCodeAt(s));
    if (!r) return;
    i.push(r), (e === 4 || e === 5) && i.push(r);
  }
  return i.length === 9 && i[7] === 70 && i[8] === 70 && (i.length = 7), String.fromCharCode(...i);
}
function DV(t) {
  return (t >= 48 && t <= 57) || (t >= 65 && t <= 70) ? t : t >= 97 && t <= 102 ? t - 97 + 65 : 0;
}
var TS,
  Hu,
  tv,
  iv,
  Mp,
  MS,
  sv,
  FS,
  OS = b({
    'out-build/vs/workbench/services/themes/common/colorThemeData.js'() {
      'use strict';
      xe(),
        Ys(),
        Ri(),
        rb(),
        dV(),
        he(),
        $e(),
        lt(),
        Uu(),
        up(),
        li(),
        wS(),
        gV(),
        bV(),
        yV(),
        Ka(),
        kV(),
        (TS = tt.as(nb.ColorContribution)),
        (Hu = wV()),
        (tv = {
          comments: ['comment', 'punctuation.definition.comment'],
          strings: ['string', 'meta.embedded.assembly'],
          keywords: ['keyword - keyword.operator', 'keyword.control', 'storage', 'storage.type'],
          numbers: ['constant.numeric'],
          types: ['entity.name.type', 'entity.name.class', 'support.type', 'support.class'],
          functions: ['entity.name.function', 'support.function'],
          variables: ['variable', 'entity.name.variable'],
        }),
        (iv = {
          'button.background': {
            [te.DARK]: S.fromHex('#dadde5'),
            [te.LIGHT]: S.fromHex('#333940'),
          },
          'button.foreground': { [te.DARK]: S.fromHex('#000'), [te.LIGHT]: S.fromHex('#FFF') },
          'icube.colorBtnHover': {
            [te.DARK]: S.fromHex('#dadde5').transparent(0.1),
            [te.LIGHT]: S.fromHex('#333940').transparent(0.08),
          },
        }),
        (Mp = class ur {
          static {
            this.STORAGE_KEY = 'colorThemeData';
          }
          constructor(e, i, s) {
            (this.h = []),
              (this.j = []),
              (this.l = {}),
              (this.m = {}),
              (this.n = []),
              (this.o = []),
              (this.t = void 0),
              (this.u = void 0),
              (this.id = e),
              (this.label = i),
              (this.settingsId = s),
              (this.isLoaded = !1);
          }
          get semanticHighlighting() {
            return this.c !== void 0 ? this.c : this.g !== void 0 ? this.g : !!this.b;
          }
          get tokenColors() {
            if (!this.t) {
              let i = function (a) {
                a.scope &&
                  a.settings &&
                  (a.scope === 'token.info-token' && (o = !0),
                  s.push({
                    scope: a.scope,
                    settings: {
                      foreground: Sc(a.settings.foreground),
                      background: Sc(a.settings.background),
                      fontStyle: a.settings.fontStyle,
                    },
                  }));
              };
              var e = i;
              const s = [],
                r = this.getColor(er) || this.getDefault(er),
                n = this.getColor(fi) || this.getDefault(fi);
              s.push({ settings: { foreground: Sc(r), background: Sc(n) } });
              let o = !1;
              this.h.forEach(i), this.j.forEach(i), o || MS[this.type].forEach(i), (this.t = s);
            }
            return this.t;
          }
          getColor(e, i) {
            const s = this.m[e];
            if (s instanceof S) return s;
            if (s === void 0) {
              const r = this.l[e];
              if (r !== void 0) return r;
            }
            if (i !== !1) return this.getDefault(e);
          }
          v(e, i, s, r = !0, n = {}) {
            const o = {
                foreground: void 0,
                bold: void 0,
                underline: void 0,
                strikethrough: void 0,
                italic: void 0,
              },
              a = { foreground: -1, bold: -1, underline: -1, strikethrough: -1, italic: -1 };
            function c(d, p, m) {
              p.foreground &&
                a.foreground <= d &&
                ((a.foreground = d), (o.foreground = p.foreground), (n.foreground = m));
              for (const w of ['bold', 'underline', 'strikethrough', 'italic']) {
                const v = w,
                  k = p[v];
                k !== void 0 && a[v] <= d && ((a[v] = d), (o[v] = k), (n[v] = m));
              }
            }
            function l(d) {
              const p = d.selector.match(e, i, s);
              p >= 0 && c(p, d.style, d);
            }
            this.n.forEach(l), this.o.forEach(l);
            let h = !1;
            for (const d in a) {
              const p = d;
              a[p] === -1 ? (h = !0) : (a[p] = Number.MAX_VALUE);
            }
            if (h)
              for (const d of Hu.getTokenStylingDefaultRules()) {
                const p = d.selector.match(e, i, s);
                if (p >= 0) {
                  let m;
                  if (
                    (d.defaults.scopesToProbe &&
                      ((m = this.resolveScopes(d.defaults.scopesToProbe)),
                      m && c(p, m, d.defaults.scopesToProbe)),
                    !m && r !== !1)
                  ) {
                    const w = d.defaults[this.type];
                    (m = this.resolveTokenStyleValue(w)), m && c(p, m, w);
                  }
                }
              }
            return rr.fromData(o);
          }
          resolveTokenStyleValue(e) {
            if (e !== void 0) {
              if (typeof e == 'string') {
                const { type: i, modifiers: s, language: r } = qb(e, '');
                return this.v(i, s, r);
              } else if (typeof e == 'object') return e;
            }
          }
          getTokenColorIndex() {
            if (!this.u) {
              const e = new FS();
              this.tokenColors.forEach((i) => {
                e.add(i.settings.foreground), e.add(i.settings.background);
              }),
                this.n.forEach((i) => e.add(i.style.foreground)),
                Hu.getTokenStylingDefaultRules().forEach((i) => {
                  const s = i.defaults[this.type];
                  s && typeof s == 'object' && e.add(s.foreground);
                }),
                this.o.forEach((i) => e.add(i.style.foreground)),
                (this.u = e);
            }
            return this.u;
          }
          get tokenColorMap() {
            return this.getTokenColorIndex().asArray();
          }
          getTokenStyleMetadata(e, i, s, r = !0, n = {}) {
            const { type: o, language: a } = qb(e, s),
              c = this.v(o, i, a, r, n);
            if (c)
              return {
                foreground: this.getTokenColorIndex().get(c.foreground),
                bold: c.bold,
                underline: c.underline,
                strikethrough: c.strikethrough,
                italic: c.italic,
              };
          }
          getTokenStylingRuleScope(e) {
            if (this.o.indexOf(e) !== -1) return 'setting';
            if (this.n.indexOf(e) !== -1) return 'theme';
          }
          getDefault(e) {
            return iv[e] &&
              (this.id === 'vs-dark' || this.id === 'vs') &&
              (this.type === te.DARK || this.type === te.LIGHT)
              ? iv[e][this.type]
              : TS.resolveDefaultColor(e, this);
          }
          resolveScopes(e, i) {
            this.q || (this.q = this.h.map(_S)), this.s || (this.s = this.j.map(_S));
            for (const r of e) {
              let n = function (p, m) {
                for (let w = 0; w < p.length; w++) {
                  const v = p[w](r);
                  if (v >= 0) {
                    const k = m[w],
                      y = m[w].settings;
                    v >= c && y.foreground && ((o = y.foreground), (c = v), (d = k)),
                      v >= l && ot(y.fontStyle) && ((a = y.fontStyle), (l = v), (h = k));
                  }
                }
              };
              var s = n;
              let o,
                a,
                c = -1,
                l = -1,
                h,
                d;
              if ((n(this.q, this.h), n(this.s, this.j), o !== void 0 || a !== void 0))
                return (
                  i &&
                    ((i.foreground = d),
                    (i.bold = i.italic = i.underline = i.strikethrough = h),
                    (i.scope = r)),
                  rr.fromSettings(o, a)
                );
            }
          }
          defines(e) {
            const i = this.m[e];
            return i instanceof S ? !0 : i === void 0 && this.l.hasOwnProperty(e);
          }
          setCustomizations(e) {
            this.setCustomColors(e.colorCustomizations),
              this.setCustomTokenColors(e.tokenColorCustomizations),
              this.setCustomSemanticTokenColors(e.semanticTokenColorCustomizations);
          }
          setCustomColors(e) {
            (this.m = {}), this.w(e);
            const i = this.getThemeSpecificColors(e);
            Lt(i) && this.w(i), (this.u = void 0), (this.t = void 0), (this.s = void 0);
          }
          w(e) {
            for (const i in e) {
              const s = e[i];
              s === xu ? (this.m[i] = xu) : typeof s == 'string' && (this.m[i] = S.fromHex(s));
            }
          }
          setCustomTokenColors(e) {
            (this.j = []), (this.g = void 0), this.y(e);
            const i = this.getThemeSpecificColors(e);
            Lt(i) && this.y(i), (this.u = void 0), (this.t = void 0), (this.s = void 0);
          }
          setCustomSemanticTokenColors(e) {
            if (((this.o = []), (this.c = void 0), e)) {
              (this.c = e.enabled), e.rules && this.x(e.rules);
              const i = this.getThemeSpecificColors(e);
              Lt(i) && (i.enabled !== void 0 && (this.c = i.enabled), i.rules && this.x(i.rules));
            }
            (this.u = void 0), (this.t = void 0);
          }
          isThemeScope(e) {
            return e.charAt(0) === ik && e.charAt(e.length - 1) === sk;
          }
          isThemeScopeMatch(e) {
            const i = e.charAt(0),
              s = e.charAt(e.length - 1),
              r = e.slice(0, -1),
              n = e.slice(1, -1),
              o = e.slice(1);
            return (
              e === this.settingsId ||
              (this.settingsId.includes(n) && i === Du && s === Du) ||
              (this.settingsId.startsWith(r) && s === Du) ||
              (this.settingsId.endsWith(o) && i === Du)
            );
          }
          getThemeSpecificColors(e) {
            let i;
            for (const s in e) {
              const r = e[s];
              if (this.isThemeScope(s) && r instanceof Object && !Array.isArray(r)) {
                const n = s.match(rk) || [];
                for (const o of n) {
                  const a = o.substring(1, o.length - 1);
                  if (this.isThemeScopeMatch(a)) {
                    i || (i = {});
                    const c = r;
                    for (const l in c) {
                      const h = i[l],
                        d = c[l];
                      Array.isArray(h) && Array.isArray(d) ? (i[l] = h.concat(d)) : d && (i[l] = d);
                    }
                  }
                }
              }
            }
            return i;
          }
          x(e) {
            for (const i in e)
              if (!this.isThemeScope(i))
                try {
                  const s = LS(i, e[i]);
                  s && this.o.push(s);
                } catch {}
          }
          y(e) {
            for (const i in tv) {
              const s = i,
                r = e[s];
              if (r) {
                const n = typeof r == 'string' ? { foreground: r } : r,
                  o = tv[s];
                for (const a of o) this.j.push({ scope: a, settings: n });
              }
            }
            if (Array.isArray(e.textMateRules))
              for (const i of e.textMateRules) i.scope && i.settings && this.j.push(i);
            e.semanticHighlighting !== void 0 && (this.g = e.semanticHighlighting);
          }
          ensureLoaded(e) {
            return this.isLoaded ? Promise.resolve(void 0) : this.z(e);
          }
          reload(e) {
            return this.z(e);
          }
          z(e) {
            if (!this.location) return Promise.resolve(void 0);
            (this.h = []), this.clearCaches();
            const i = {
              colors: {},
              textMateRules: [],
              semanticTokenRules: [],
              semanticHighlighting: !1,
            };
            return IS(e, this.location, i).then((s) => {
              (this.isLoaded = !0),
                (this.n = i.semanticTokenRules),
                (this.l = i.colors),
                (this.h = i.textMateRules),
                (this.b = i.semanticHighlighting);
            });
          }
          clearCaches() {
            (this.u = void 0), (this.t = void 0), (this.q = void 0), (this.s = void 0);
          }
          static getToStorageData(e) {
            const i = {};
            for (const r in e.l) i[r] = S.Format.CSS.formatHexA(e.l[r], !0);
            return JSON.stringify({
              id: e.id,
              label: e.label,
              settingsId: e.settingsId,
              themeTokenColors: e.h.map((r) => ({ settings: r.settings, scope: r.scope })),
              semanticTokenRules: e.n.map(Tp.toJSONObject),
              extensionData: gc.toJSONObject(e.extensionData),
              themeSemanticHighlighting: e.b,
              colorMap: i,
              watch: e.watch,
            });
          }
          toStorage(e) {
            const i = ur.getToStorageData(this);
            e.store(ur.STORAGE_KEY, i, 0, 0), e.store(ur.STORAGE_KEY, i, 2, 0);
          }
          get themeTypeSelector() {
            return this.classNames[0];
          }
          get classNames() {
            return this.id.split(' ');
          }
          get type() {
            switch (this.themeTypeSelector) {
              case rt.VS:
                return te.LIGHT;
              case rt.HC_BLACK:
                return te.HIGH_CONTRAST_DARK;
              case rt.HC_LIGHT:
                return te.HIGH_CONTRAST_LIGHT;
              default:
                return te.DARK;
            }
          }
          static createUnloadedThemeForThemeType(e, i) {
            return ur.createUnloadedTheme(QF(e), i);
          }
          static createUnloadedTheme(e, i) {
            const s = new ur(e, '', '__' + e);
            if (((s.isLoaded = !1), (s.h = []), (s.watch = !1), i))
              for (const r in i) s.l[r] = S.fromHex(i[r]);
            return s;
          }
          static createLoadedEmptyTheme(e, i) {
            const s = new ur(e, '', i);
            return (s.isLoaded = !0), (s.h = []), (s.watch = !1), s;
          }
          static fromStorageData(e) {
            const i = e.get(ur.STORAGE_KEY, 2) || e.get(ur.STORAGE_KEY, 0);
            if (i)
              try {
                const s = JSON.parse(i),
                  r = new ur('', '', '');
                for (const n in s)
                  switch (n) {
                    case 'colorMap': {
                      const o = s[n];
                      for (const a in o) r.l[a] = S.fromHex(o[a]);
                      break;
                    }
                    case 'themeTokenColors':
                    case 'id':
                    case 'label':
                    case 'settingsId':
                    case 'watch':
                    case 'themeSemanticHighlighting':
                      r[n] = s[n];
                      break;
                    case 'semanticTokenRules': {
                      const o = s[n];
                      if (Array.isArray(o))
                        for (const a of o) {
                          const c = Tp.fromJSONObject(Hu, a);
                          c && r.n.push(c);
                        }
                      break;
                    }
                    case 'location':
                      break;
                    case 'extensionData':
                      r.extensionData = gc.fromJSONObject(s.extensionData);
                      break;
                  }
                return !r.id || !r.settingsId ? void 0 : r;
              } catch {
                return;
              }
          }
          static fromExtensionTheme(e, i, s) {
            const r = e.uiTheme || 'vs-dark',
              n = SV(s.extensionId, e.path),
              o = `${r} ${n}`,
              a = e.label || ct(e.path),
              c = e.id || a,
              l = new ur(o, a, c);
            return (
              (l.description = e.description),
              (l.watch = e._watch === !0),
              (l.location = i),
              (l.extensionData = s),
              (l.isLoaded = !1),
              l
            );
          }
        }),
        (MS = {
          light: [
            { scope: 'token.info-token', settings: { foreground: '#316bcd' } },
            { scope: 'token.warn-token', settings: { foreground: '#cd9731' } },
            { scope: 'token.error-token', settings: { foreground: '#cd3131' } },
            { scope: 'token.debug-token', settings: { foreground: '#800080' } },
          ],
          dark: [
            { scope: 'token.info-token', settings: { foreground: '#6796e6' } },
            { scope: 'token.warn-token', settings: { foreground: '#cd9731' } },
            { scope: 'token.error-token', settings: { foreground: '#f44747' } },
            { scope: 'token.debug-token', settings: { foreground: '#b267e6' } },
          ],
          hcLight: [
            { scope: 'token.info-token', settings: { foreground: '#316bcd' } },
            { scope: 'token.warn-token', settings: { foreground: '#cd9731' } },
            { scope: 'token.error-token', settings: { foreground: '#cd3131' } },
            { scope: 'token.debug-token', settings: { foreground: '#800080' } },
          ],
          hcDark: [
            { scope: 'token.info-token', settings: { foreground: '#6796e6' } },
            { scope: 'token.warn-token', settings: { foreground: '#008000' } },
            { scope: 'token.error-token', settings: { foreground: '#FF0000' } },
            { scope: 'token.debug-token', settings: { foreground: '#b267e6' } },
          ],
        }),
        (sv = (t) => -1),
        (FS = class {
          constructor() {
            (this.b = 0), (this.c = []), (this.g = Object.create(null));
          }
          add(t) {
            if (((t = Sc(t)), t === void 0)) return 0;
            let e = this.g[t];
            return e || ((e = ++this.b), (this.g[t] = e), (this.c[e] = t), e);
          }
          get(t) {
            if (((t = Sc(t)), t === void 0)) return 0;
            const e = this.g[t];
            return e || (console.log(`Color ${t} not in index.`), 0);
          }
          asArray() {
            return this.c.slice(0);
          }
        });
    },
  });
function xV(t, e) {
  switch (t) {
    case 3:
      return e === 'x64' ? 'win32-x64' : e === 'arm64' ? 'win32-arm64' : 'unknown';
    case 2:
      return e === 'x64'
        ? 'linux-x64'
        : e === 'arm64'
        ? 'linux-arm64'
        : e === 'arm'
        ? 'linux-armhf'
        : 'unknown';
    case 'alpine':
      return e === 'x64' ? 'alpine-x64' : e === 'arm64' ? 'alpine-arm64' : 'unknown';
    case 1:
      return e === 'x64' ? 'darwin-x64' : e === 'arm64' ? 'darwin-arm64' : 'unknown';
    case 0:
      return 'web';
  }
}
function AV(t) {
  return (
    t && typeof t == 'object' && typeof t.id == 'string' && (!t.uuid || typeof t.uuid == 'string')
  );
}
var Fp,
  IV,
  RS,
  NS,
  BS,
  US,
  jS,
  $V,
  WS,
  HS,
  zS,
  PV,
  _V,
  LV,
  TV,
  MV,
  FV,
  rv = b({
    'out-build/vs/platform/extensionManagement/common/extensionManagement.js'() {
      'use strict';
      he(),
        K(),
        (Fp = '^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$'),
        (IV = new RegExp(Fp)),
        (function (t) {
          (t.COMMAND = 'command'), (t.SETTINGS_SYNC = 'settingsSync');
        })(RS || (RS = {})),
        (function (t) {
          (t[(t.NoneOrRelevance = 0)] = 'NoneOrRelevance'),
            (t[(t.LastUpdatedDate = 1)] = 'LastUpdatedDate'),
            (t[(t.Title = 2)] = 'Title'),
            (t[(t.PublisherName = 3)] = 'PublisherName'),
            (t[(t.InstallCount = 4)] = 'InstallCount'),
            (t[(t.PublishedDate = 10)] = 'PublishedDate'),
            (t[(t.AverageRating = 6)] = 'AverageRating'),
            (t[(t.WeightedRating = 12)] = 'WeightedRating');
        })(NS || (NS = {})),
        (function (t) {
          (t[(t.Default = 0)] = 'Default'),
            (t[(t.Ascending = 1)] = 'Ascending'),
            (t[(t.Descending = 2)] = 'Descending');
        })(BS || (BS = {})),
        (function (t) {
          (t.Install = 'install'), (t.Uninstall = 'uninstall');
        })(US || (US = {})),
        (function (t) {
          (t[(t.None = 1)] = 'None'),
            (t[(t.Install = 2)] = 'Install'),
            (t[(t.Update = 3)] = 'Update'),
            (t[(t.Migrate = 4)] = 'Migrate');
        })(jS || (jS = {})),
        ($V = W('extensionGalleryService')),
        (function (t) {
          (t.Timeout = 'Timeout'),
            (t.Cancelled = 'Cancelled'),
            (t.Failed = 'Failed'),
            (t.DownloadFailedWriting = 'DownloadFailedWriting'),
            (t.Offline = 'Offline');
        })(WS || (WS = {})),
        (function (t) {
          (t.Unsupported = 'Unsupported'),
            (t.Deprecated = 'Deprecated'),
            (t.Malicious = 'Malicious'),
            (t.Incompatible = 'Incompatible'),
            (t.IncompatibleApi = 'IncompatibleApi'),
            (t.IncompatibleTargetPlatform = 'IncompatibleTargetPlatform'),
            (t.ReleaseVersionNotFound = 'ReleaseVersionNotFound'),
            (t.Invalid = 'Invalid'),
            (t.Download = 'Download'),
            (t.DownloadSignature = 'DownloadSignature'),
            (t.DownloadFailedWriting = 'DownloadFailedWriting'),
            (t.UpdateMetadata = 'UpdateMetadata'),
            (t.Extract = 'Extract'),
            (t.Scanning = 'Scanning'),
            (t.ScanningExtension = 'ScanningExtension'),
            (t.ReadRemoved = 'ReadRemoved'),
            (t.UnsetRemoved = 'UnsetRemoved'),
            (t.Delete = 'Delete'),
            (t.Rename = 'Rename'),
            (t.IntializeDefaultProfile = 'IntializeDefaultProfile'),
            (t.AddToProfile = 'AddToProfile'),
            (t.InstalledExtensionNotFound = 'InstalledExtensionNotFound'),
            (t.PostInstall = 'PostInstall'),
            (t.CorruptZip = 'CorruptZip'),
            (t.IncompleteZip = 'IncompleteZip'),
            (t.PackageNotSigned = 'PackageNotSigned'),
            (t.SignatureVerificationInternal = 'SignatureVerificationInternal'),
            (t.SignatureVerificationFailed = 'SignatureVerificationFailed'),
            (t.NotAllowed = 'NotAllowed'),
            (t.Gallery = 'Gallery'),
            (t.Cancelled = 'Cancelled'),
            (t.Unknown = 'Unknown'),
            (t.Internal = 'Internal');
        })(HS || (HS = {})),
        (function (t) {
          (t.NotSigned = 'NotSigned'),
            (t.Success = 'Success'),
            (t.RequiredArgumentMissing = 'RequiredArgumentMissing'),
            (t.InvalidArgument = 'InvalidArgument'),
            (t.PackageIsUnreadable = 'PackageIsUnreadable'),
            (t.UnhandledException = 'UnhandledException'),
            (t.SignatureManifestIsMissing = 'SignatureManifestIsMissing'),
            (t.SignatureManifestIsUnreadable = 'SignatureManifestIsUnreadable'),
            (t.SignatureIsMissing = 'SignatureIsMissing'),
            (t.SignatureIsUnreadable = 'SignatureIsUnreadable'),
            (t.CertificateIsUnreadable = 'CertificateIsUnreadable'),
            (t.SignatureArchiveIsUnreadable = 'SignatureArchiveIsUnreadable'),
            (t.FileAlreadyExists = 'FileAlreadyExists'),
            (t.SignatureArchiveIsInvalidZip = 'SignatureArchiveIsInvalidZip'),
            (t.SignatureArchiveHasSameSignatureFile = 'SignatureArchiveHasSameSignatureFile'),
            (t.PackageIntegrityCheckFailed = 'PackageIntegrityCheckFailed'),
            (t.SignatureIsInvalid = 'SignatureIsInvalid'),
            (t.SignatureManifestIsInvalid = 'SignatureManifestIsInvalid'),
            (t.SignatureIntegrityCheckFailed = 'SignatureIntegrityCheckFailed'),
            (t.EntryIsMissing = 'EntryIsMissing'),
            (t.EntryIsTampered = 'EntryIsTampered'),
            (t.Untrusted = 'Untrusted'),
            (t.CertificateRevoked = 'CertificateRevoked'),
            (t.SignatureIsNotValid = 'SignatureIsNotValid'),
            (t.UnknownError = 'UnknownError'),
            (t.PackageIsInvalidZip = 'PackageIsInvalidZip'),
            (t.SignatureArchiveHasTooManyEntries = 'SignatureArchiveHasTooManyEntries');
        })(zS || (zS = {})),
        (PV = W('extensionManagementService')),
        (_V = W('IGlobalExtensionEnablementService')),
        (LV = W('IExtensionTipsService')),
        (TV = W('IAllowedExtensionsService')),
        (MV = B4(1901, 'Extensions')),
        (FV = B4(1902, 'Preferences'));
    },
  });
function OV(t) {
  return t.map((e) => {
    const [i, s] = e.split('@');
    return { proposalName: i, version: s ? parseInt(s) : void 0 };
  });
}
function RV(t) {
  return t.map((e) => e.split('@')[0]);
}
var VS,
  GS,
  nv,
  qS,
  KS,
  JS,
  nr,
  XS,
  YS,
  NV,
  zu = b({
    'out-build/vs/platform/extensions/common/extensions.js'() {
      'use strict';
      Wt(),
        K(),
        Xl(),
        (VS = 'extensions.user.cache'),
        (GS = 'extensions.builtin.cache'),
        (nv = 'undefined_publisher'),
        (qS = [
          'AI',
          'Azure',
          'Chat',
          'Data Science',
          'Debuggers',
          'Extension Packs',
          'Education',
          'Formatters',
          'Keymaps',
          'Language Packs',
          'Linters',
          'Machine Learning',
          'Notebooks',
          'Programming Languages',
          'SCM Providers',
          'Snippets',
          'Testing',
          'Themes',
          'Visualization',
          'Other',
        ]),
        (function (t) {
          (t[(t.System = 0)] = 'System'), (t[(t.User = 1)] = 'User');
        })(KS || (KS = {})),
        (function (t) {
          (t.WIN32_X64 = 'win32-x64'),
            (t.WIN32_ARM64 = 'win32-arm64'),
            (t.LINUX_X64 = 'linux-x64'),
            (t.LINUX_ARM64 = 'linux-arm64'),
            (t.LINUX_ARMHF = 'linux-armhf'),
            (t.ALPINE_X64 = 'alpine-x64'),
            (t.ALPINE_ARM64 = 'alpine-arm64'),
            (t.DARWIN_X64 = 'darwin-x64'),
            (t.DARWIN_ARM64 = 'darwin-arm64'),
            (t.WEB = 'web'),
            (t.UNIVERSAL = 'universal'),
            (t.UNKNOWN = 'unknown'),
            (t.UNDEFINED = 'undefined');
        })(JS || (JS = {})),
        (nr = class {
          constructor(t) {
            (this.value = t), (this._lower = t.toLowerCase());
          }
          static equals(t, e) {
            if (typeof t > 'u' || t === null) return typeof e > 'u' || e === null;
            if (typeof e > 'u' || e === null) return !1;
            if (typeof t == 'string' || typeof e == 'string') {
              const i = typeof t == 'string' ? t : t.value,
                s = typeof e == 'string' ? e : e.value;
              return Ln(i, s);
            }
            return t._lower === e._lower;
          }
          static toKey(t) {
            return typeof t == 'string' ? t.toLowerCase() : t._lower;
          }
        }),
        (XS = class {
          get size() {
            return this.c.size;
          }
          constructor(t) {
            if (((this.c = new Set()), t)) for (const e of t) this.add(e);
          }
          add(t) {
            this.c.add(nr.toKey(t));
          }
          delete(t) {
            return this.c.delete(nr.toKey(t));
          }
          has(t) {
            return this.c.has(nr.toKey(t));
          }
        }),
        (YS = class {
          constructor() {
            this.c = new Map();
          }
          clear() {
            this.c.clear();
          }
          delete(t) {
            this.c.delete(nr.toKey(t));
          }
          get(t) {
            return this.c.get(nr.toKey(t));
          }
          has(t) {
            return this.c.has(nr.toKey(t));
          }
          set(t, e) {
            this.c.set(nr.toKey(t), e);
          }
          values() {
            return this.c.values();
          }
          forEach(t) {
            this.c.forEach(t);
          }
          [Symbol.iterator]() {
            return this.c[Symbol.iterator]();
          }
        }),
        (NV = W('IBuiltinExtensionsScannerService'));
    },
  }),
  QS,
  ZS,
  BV = b({
    'out-build/vs/platform/extensionManagement/common/implicitActivationEvents.js'() {
      'use strict';
      He(),
        zu(),
        (QS = class {
          constructor() {
            (this.a = new Map()), (this.b = new WeakMap());
          }
          register(t, e) {
            this.a.set(t, e);
          }
          readActivationEvents(t) {
            return this.b.has(t) || this.b.set(t, this.c(t)), this.b.get(t);
          }
          createActivationEventsMap(t) {
            const e = Object.create(null);
            for (const i of t) {
              const s = this.readActivationEvents(i);
              s.length > 0 && (e[nr.toKey(i.identifier)] = s);
            }
            return e;
          }
          c(t) {
            if (typeof t.main > 'u' && typeof t.browser > 'u') return [];
            const e = Array.isArray(t.activationEvents) ? t.activationEvents.slice(0) : [];
            for (let i = 0; i < e.length; i++)
              e[i] === 'onUri' && (e[i] = `onUri:${nr.toKey(t.identifier)}`);
            if (!t.contributes) return e;
            for (const i in t.contributes) {
              const s = this.a.get(i);
              if (!s) continue;
              const r = t.contributes[i],
                n = Array.isArray(r) ? r : [r];
              try {
                s(n, e);
              } catch (o) {
                Xt(o);
              }
            }
            return e;
          }
        }),
        (ZS = new QS());
    },
  }),
  eE,
  Ec,
  tE = b({
    'out-build/vs/platform/extensions/common/extensionsApiProposals.js'() {
      'use strict';
      (eE = {
        activeComment: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.activeComment.d.ts',
        },
        aiRelatedInformation: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.aiRelatedInformation.d.ts',
        },
        aiTextSearchProvider: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.aiTextSearchProvider.d.ts',
          version: 2,
        },
        authLearnMore: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.authLearnMore.d.ts',
        },
        authSession: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.authSession.d.ts',
        },
        canonicalUriProvider: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.canonicalUriProvider.d.ts',
        },
        chatEditing: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatEditing.d.ts',
        },
        chatParticipantAdditions: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatParticipantAdditions.d.ts',
        },
        chatParticipantPrivate: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatParticipantPrivate.d.ts',
          version: 5,
        },
        chatProvider: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatProvider.d.ts',
        },
        chatReadonlyPromptReference: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatReadonlyPromptReference.d.ts',
        },
        chatReferenceBinaryData: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatReferenceBinaryData.d.ts',
        },
        chatReferenceDiagnostic: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatReferenceDiagnostic.d.ts',
        },
        chatTab: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.chatTab.d.ts',
        },
        codeActionAI: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.codeActionAI.d.ts',
        },
        codeActionRanges: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.codeActionRanges.d.ts',
        },
        codiconDecoration: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.codiconDecoration.d.ts',
        },
        commentReactor: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentReactor.d.ts',
        },
        commentReveal: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentReveal.d.ts',
        },
        commentThreadApplicability: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentThreadApplicability.d.ts',
        },
        commentingRangeHint: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentingRangeHint.d.ts',
        },
        commentsDraftState: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentsDraftState.d.ts',
        },
        contribAccessibilityHelpContent: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribAccessibilityHelpContent.d.ts',
        },
        contribCommentEditorActionsMenu: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentEditorActionsMenu.d.ts',
        },
        contribCommentPeekContext: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentPeekContext.d.ts',
        },
        contribCommentThreadAdditionalMenu: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentThreadAdditionalMenu.d.ts',
        },
        contribCommentsViewThreadMenus: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentsViewThreadMenus.d.ts',
        },
        contribDebugCreateConfiguration: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribDebugCreateConfiguration.d.ts',
        },
        contribDiffEditorGutterToolBarMenus: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribDiffEditorGutterToolBarMenus.d.ts',
        },
        contribEditSessions: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribEditSessions.d.ts',
        },
        contribEditorContentMenu: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribEditorContentMenu.d.ts',
        },
        contribLabelFormatterWorkspaceTooltip: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribLabelFormatterWorkspaceTooltip.d.ts',
        },
        contribMenuBarHome: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMenuBarHome.d.ts',
        },
        contribMergeEditorMenus: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMergeEditorMenus.d.ts',
        },
        contribMultiDiffEditorMenus: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMultiDiffEditorMenus.d.ts',
        },
        contribNotebookStaticPreloads: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribNotebookStaticPreloads.d.ts',
        },
        contribRemoteHelp: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribRemoteHelp.d.ts',
        },
        contribShareMenu: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribShareMenu.d.ts',
        },
        contribSourceControlHistoryItemMenu: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribSourceControlHistoryItemMenu.d.ts',
        },
        contribSourceControlHistoryTitleMenu: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribSourceControlHistoryTitleMenu.d.ts',
        },
        contribSourceControlInputBoxMenu: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribSourceControlInputBoxMenu.d.ts',
        },
        contribSourceControlTitleMenu: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribSourceControlTitleMenu.d.ts',
        },
        contribStatusBarItems: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribStatusBarItems.d.ts',
        },
        contribViewContainerTitle: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewContainerTitle.d.ts',
        },
        contribViewsRemote: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsRemote.d.ts',
        },
        contribViewsWelcome: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsWelcome.d.ts',
        },
        customEditorMove: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.customEditorMove.d.ts',
        },
        debugVisualization: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.debugVisualization.d.ts',
        },
        defaultChatParticipant: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.defaultChatParticipant.d.ts',
          version: 2,
        },
        diffCommand: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.diffCommand.d.ts',
        },
        diffContentOptions: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.diffContentOptions.d.ts',
        },
        documentFiltersExclusive: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentFiltersExclusive.d.ts',
        },
        editSessionIdentityProvider: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editSessionIdentityProvider.d.ts',
        },
        editorHoverVerbosityLevel: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editorHoverVerbosityLevel.d.ts',
        },
        editorInsets: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editorInsets.d.ts',
        },
        embeddings: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.embeddings.d.ts',
        },
        extensionRuntime: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionRuntime.d.ts',
        },
        extensionsAny: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionsAny.d.ts',
        },
        externalUriOpener: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.externalUriOpener.d.ts',
        },
        fileSearchProvider: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fileSearchProvider.d.ts',
        },
        fileSearchProvider2: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fileSearchProvider2.d.ts',
        },
        findFiles2: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findFiles2.d.ts',
          version: 2,
        },
        findTextInFiles: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findTextInFiles.d.ts',
        },
        findTextInFiles2: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findTextInFiles2.d.ts',
        },
        fsChunks: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fsChunks.d.ts',
        },
        icube: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.icube.d.ts',
        },
        icubeActivationReason: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.icubeActivationReason.d.ts',
        },
        icubeAuthenticationProvider: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.icubeAuthenticationProvider.d.ts',
        },
        icubeContextState: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.icubeContextState.d.ts',
        },
        icubeFolderSearchProvider: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.icubeFolderSearchProvider.d.ts',
        },
        icubeGit: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.icubeGit.d.ts',
        },
        icubeUser: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.icubeUser.d.ts',
        },
        idToken: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.idToken.d.ts',
        },
        inlineCompletionsAdditions: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.inlineCompletionsAdditions.d.ts',
        },
        inlineEdit: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.inlineEdit.d.ts',
        },
        interactive: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.interactive.d.ts',
        },
        interactiveUserActions: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.interactiveUserActions.d.ts',
        },
        interactiveWindow: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.interactiveWindow.d.ts',
        },
        ipc: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.ipc.d.ts',
        },
        languageModelCapabilities: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.languageModelCapabilities.d.ts',
        },
        languageModelSystem: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.languageModelSystem.d.ts',
        },
        languageStatusText: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.languageStatusText.d.ts',
        },
        lmTools: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.lmTools.d.ts',
          version: 15,
        },
        mappedEditsProvider: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.mappedEditsProvider.d.ts',
        },
        multiDocumentHighlightProvider: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.multiDocumentHighlightProvider.d.ts',
        },
        nativeWindowHandle: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.nativeWindowHandle.d.ts',
        },
        newSymbolNamesProvider: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.newSymbolNamesProvider.d.ts',
        },
        notebookCellExecution: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookCellExecution.d.ts',
        },
        notebookCellExecutionState: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookCellExecutionState.d.ts',
        },
        notebookControllerAffinityHidden: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookControllerAffinityHidden.d.ts',
        },
        notebookDeprecated: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookDeprecated.d.ts',
        },
        notebookExecution: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookExecution.d.ts',
        },
        notebookKernelSource: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookKernelSource.d.ts',
        },
        notebookLiveShare: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookLiveShare.d.ts',
        },
        notebookMessaging: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMessaging.d.ts',
        },
        notebookMime: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMime.d.ts',
        },
        notebookReplDocument: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookReplDocument.d.ts',
        },
        notebookVariableProvider: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookVariableProvider.d.ts',
        },
        portsAttributes: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.portsAttributes.d.ts',
        },
        profileContentHandlers: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.profileContentHandlers.d.ts',
        },
        quickDiffProvider: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickDiffProvider.d.ts',
        },
        quickInputButtonLocation: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickInputButtonLocation.d.ts',
        },
        quickPickItemTooltip: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickPickItemTooltip.d.ts',
        },
        quickPickSortByLabel: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickPickSortByLabel.d.ts',
        },
        resolvers: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.resolvers.d.ts',
        },
        scmActionButton: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmActionButton.d.ts',
        },
        scmHistoryProvider: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmHistoryProvider.d.ts',
        },
        scmMultiDiffEditor: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmMultiDiffEditor.d.ts',
        },
        scmSelectedProvider: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmSelectedProvider.d.ts',
        },
        scmTextDocument: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmTextDocument.d.ts',
        },
        scmValidation: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmValidation.d.ts',
        },
        shareProvider: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.shareProvider.d.ts',
        },
        speech: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.speech.d.ts',
        },
        statusBarItemTooltip: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.statusBarItemTooltip.d.ts',
        },
        tabInputMultiDiff: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tabInputMultiDiff.d.ts',
        },
        tabInputTextMerge: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tabInputTextMerge.d.ts',
        },
        taskPresentationGroup: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.taskPresentationGroup.d.ts',
        },
        telemetry: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.telemetry.d.ts',
        },
        terminalCompletionProvider: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalCompletionProvider.d.ts',
        },
        terminalDataWriteEvent: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDataWriteEvent.d.ts',
        },
        terminalDimensions: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDimensions.d.ts',
        },
        terminalExecuteCommandEvent: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalExecuteCommandEvent.d.ts',
        },
        terminalQuickFixProvider: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalQuickFixProvider.d.ts',
        },
        terminalSelection: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalSelection.d.ts',
        },
        terminalShellEnv: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalShellEnv.d.ts',
        },
        terminalShellType: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalShellType.d.ts',
        },
        testObserver: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testObserver.d.ts',
        },
        testRelatedCode: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testRelatedCode.d.ts',
        },
        textDocumentEncoding: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textDocumentEncoding.d.ts',
        },
        textEditorDiffInformation: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textEditorDiffInformation.d.ts',
        },
        textSearchComplete2: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textSearchComplete2.d.ts',
        },
        textSearchProvider: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textSearchProvider.d.ts',
        },
        textSearchProvider2: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textSearchProvider2.d.ts',
        },
        timeline: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.timeline.d.ts',
        },
        tokenInformation: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tokenInformation.d.ts',
        },
        treeViewActiveItem: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeViewActiveItem.d.ts',
        },
        treeViewMarkdownMessage: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeViewMarkdownMessage.d.ts',
        },
        treeViewReveal: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeViewReveal.d.ts',
        },
        tunnelFactory: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tunnelFactory.d.ts',
        },
        tunnels: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tunnels.d.ts',
        },
        valueSelectionInQuickPick: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.valueSelectionInQuickPick.d.ts',
        },
        webviewInitialState: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.webviewInitialState.d.ts',
        },
        workspaceTrust: {
          proposal:
            'https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.workspaceTrust.d.ts',
        },
      }),
        (Ec = Object.freeze(eE));
    },
  }),
  Op,
  iE,
  sE,
  rE,
  ov,
  Rp,
  nE,
  av,
  oE,
  UV = b({
    'out-build/vs/workbench/services/extensions/common/extensionsRegistry.js'() {
      'use strict';
      he(),
        He(),
        Jl(),
        rv(),
        pd(),
        li(),
        zu(),
        Ze(),
        BV(),
        tE(),
        (Op = tt.as(Ca.JSONContribution)),
        (iE = class _g {
          static a(e) {
            const i = new XS();
            for (let s = 0, r = e.length; s < r; s++) i.add(e[s].description.identifier);
            return i;
          }
          static compute(e, i) {
            if (!e || !e.length) return new _g(i, []);
            if (!i || !i.length) return new _g([], e);
            const s = this.a(e),
              r = this.a(i),
              n = i.filter((a) => !s.has(a.description.identifier)),
              o = e.filter((a) => !r.has(a.description.identifier));
            return new _g(n, o);
          }
          constructor(e, i) {
            (this.added = e), (this.removed = i);
          }
        }),
        (sE = class {
          constructor(t, e, i) {
            (this.name = t),
              (this.defaultExtensionKind = e),
              (this.canHandleResolver = i),
              (this.a = null),
              (this.b = null),
              (this.c = null);
          }
          setHandler(t) {
            if (this.a !== null) throw new Error('Handler already set!');
            return (
              (this.a = t),
              this.d(),
              {
                dispose: () => {
                  this.a = null;
                },
              }
            );
          }
          acceptUsers(t) {
            (this.c = iE.compute(this.b, t)), (this.b = t), this.d();
          }
          d() {
            if (!(this.a === null || this.b === null || this.c === null))
              try {
                this.a(this.b, this.c);
              } catch (t) {
                Xt(t);
              }
          }
        }),
        (rE = {
          type: 'string',
          enum: ['ui', 'workspace'],
          enumDescriptions: [u(13803, null), u(13804, null)],
        }),
        (ov = 'vscode://schemas/vscode-extensions'),
        (Rp = {
          properties: {
            engines: {
              type: 'object',
              description: u(13805, null),
              properties: {
                vscode: { type: 'string', description: u(13806, null), default: '^1.22.0' },
              },
            },
            publisher: { description: u(13807, null), type: 'string' },
            displayName: { description: u(13808, null), type: 'string' },
            categories: {
              description: u(13809, null),
              type: 'array',
              uniqueItems: !0,
              items: {
                oneOf: [
                  { type: 'string', enum: qS },
                  { type: 'string', const: 'Languages', deprecationMessage: u(13810, null) },
                ],
              },
            },
            galleryBanner: {
              type: 'object',
              description: u(13811, null),
              properties: {
                color: { description: u(13812, null), type: 'string' },
                theme: { description: u(13813, null), type: 'string', enum: ['dark', 'light'] },
              },
            },
            contributes: {
              description: u(13814, null),
              type: 'object',
              properties: {},
              default: {},
            },
            preview: { type: 'boolean', description: u(13815, null) },
            enableProposedApi: { type: 'boolean', deprecationMessage: u(13816, null) },
            enabledApiProposals: {
              markdownDescription: u(13817, null),
              type: 'array',
              uniqueItems: !0,
              items: {
                type: 'string',
                enum: Object.keys(Ec).map((t) => t),
                markdownEnumDescriptions: Object.values(Ec).map((t) => t.proposal),
              },
            },
            api: {
              markdownDescription: u(13818, null),
              type: 'string',
              enum: ['none'],
              enumDescriptions: [u(13819, null)],
            },
            activationEvents: {
              description: u(13820, null),
              type: 'array',
              items: {
                type: 'string',
                defaultSnippets: [
                  {
                    label: 'onWebviewPanel',
                    description: u(13821, null),
                    body: 'onWebviewPanel:viewType',
                  },
                  {
                    label: 'onLanguage',
                    description: u(13822, null),
                    body: 'onLanguage:${1:languageId}',
                  },
                  {
                    label: 'onCommand',
                    description: u(13823, null),
                    body: 'onCommand:${2:commandId}',
                  },
                  { label: 'onDebug', description: u(13824, null), body: 'onDebug' },
                  {
                    label: 'onDebugInitialConfigurations',
                    description: u(13825, null),
                    body: 'onDebugInitialConfigurations',
                  },
                  {
                    label: 'onDebugDynamicConfigurations',
                    description: u(13826, null),
                    body: 'onDebugDynamicConfigurations',
                  },
                  {
                    label: 'onDebugResolve',
                    description: u(13827, null),
                    body: 'onDebugResolve:${6:type}',
                  },
                  {
                    label: 'onDebugAdapterProtocolTracker',
                    description: u(13828, null),
                    body: 'onDebugAdapterProtocolTracker:${6:type}',
                  },
                  {
                    label: 'workspaceContains',
                    description: u(13829, null),
                    body: 'workspaceContains:${4:filePattern}',
                  },
                  {
                    label: 'onStartupFinished',
                    description: u(13830, null),
                    body: 'onStartupFinished',
                  },
                  {
                    label: 'onTaskType',
                    description: u(13831, null),
                    body: 'onTaskType:${1:taskType}',
                  },
                  {
                    label: 'onFileSystem',
                    description: u(13832, null),
                    body: 'onFileSystem:${1:scheme}',
                  },
                  {
                    label: 'onEditSession',
                    description: u(13833, null),
                    body: 'onEditSession:${1:scheme}',
                  },
                  { label: 'onSearch', description: u(13834, null), body: 'onSearch:${7:scheme}' },
                  { label: 'onView', body: 'onView:${5:viewId}', description: u(13835, null) },
                  { label: 'onUri', body: 'onUri', description: u(13836, null) },
                  {
                    label: 'onOpenExternalUri',
                    body: 'onOpenExternalUri',
                    description: u(13837, null),
                  },
                  {
                    label: 'onCustomEditor',
                    body: 'onCustomEditor:${9:viewType}',
                    description: u(13838, null),
                  },
                  {
                    label: 'onNotebook',
                    body: 'onNotebook:${1:type}',
                    description: u(13839, null),
                  },
                  {
                    label: 'onAuthenticationRequest',
                    body: 'onAuthenticationRequest:${11:authenticationProviderId}',
                    description: u(13840, null),
                  },
                  {
                    label: 'onRenderer',
                    description: u(13841, null),
                    body: 'onRenderer:${11:rendererId}',
                  },
                  {
                    label: 'onTerminalProfile',
                    body: 'onTerminalProfile:${1:terminalId}',
                    description: u(13842, null),
                  },
                  {
                    label: 'onTerminalQuickFixRequest',
                    body: 'onTerminalQuickFixRequest:${1:quickFixId}',
                    description: u(13843, null),
                  },
                  {
                    label: 'onWalkthrough',
                    body: 'onWalkthrough:${1:walkthroughID}',
                    description: u(13844, null),
                  },
                  {
                    label: 'onIssueReporterOpened',
                    body: 'onIssueReporterOpened',
                    description: u(13845, null),
                  },
                  {
                    label: 'onChatParticipant',
                    body: 'onChatParticipant:${1:participantId}',
                    description: u(13846, null),
                  },
                  {
                    label: 'onLanguageModelTool',
                    body: 'onLanguageModelTool:${1:toolId}',
                    description: u(13847, null),
                  },
                  {
                    label: 'onTerminalCompletionsRequested',
                    body: 'onTerminalCompletionsRequested',
                    description: u(13848, null),
                  },
                  { label: '*', description: u(13849, null), body: '*' },
                ],
              },
            },
            badges: {
              type: 'array',
              description: u(13850, null),
              items: {
                type: 'object',
                required: ['url', 'href', 'description'],
                properties: {
                  url: { type: 'string', description: u(13851, null) },
                  href: { type: 'string', description: u(13852, null) },
                  description: { type: 'string', description: u(13853, null) },
                },
              },
            },
            markdown: {
              type: 'string',
              description: u(13854, null),
              enum: ['github', 'standard'],
              default: 'github',
            },
            qna: {
              default: 'marketplace',
              description: u(13855, null),
              anyOf: [
                { type: ['string', 'boolean'], enum: ['marketplace', !1] },
                { type: 'string' },
              ],
            },
            extensionDependencies: {
              description: u(13856, null),
              type: 'array',
              uniqueItems: !0,
              items: { type: 'string', pattern: Fp },
            },
            extensionPack: {
              description: u(13857, null),
              type: 'array',
              uniqueItems: !0,
              items: { type: 'string', pattern: Fp },
            },
            extensionKind: {
              description: u(13858, null),
              type: 'array',
              items: rE,
              default: ['workspace'],
              defaultSnippets: [
                { body: ['ui'], description: u(13859, null) },
                { body: ['workspace'], description: u(13860, null) },
                { body: ['ui', 'workspace'], description: u(13861, null) },
                { body: ['workspace', 'ui'], description: u(13862, null) },
                { body: [], description: u(13863, null) },
              ],
            },
            capabilities: {
              description: u(13864, null),
              type: 'object',
              properties: {
                virtualWorkspaces: {
                  description: u(13865, null),
                  type: ['boolean', 'object'],
                  defaultSnippets: [
                    { label: 'limited', body: { supported: '${1:limited}', description: '${2}' } },
                    { label: 'false', body: { supported: !1, description: '${2}' } },
                  ],
                  default: (!0).valueOf,
                  properties: {
                    supported: {
                      markdownDescription: u(13866, null),
                      type: ['string', 'boolean'],
                      enum: ['limited', !0, !1],
                      enumDescriptions: [u(13867, null), u(13868, null), u(13869, null)],
                    },
                    description: { type: 'string', markdownDescription: u(13870, null) },
                  },
                },
                untrustedWorkspaces: {
                  description: u(13871, null),
                  type: 'object',
                  required: ['supported'],
                  defaultSnippets: [{ body: { supported: '${1:limited}', description: '${2}' } }],
                  properties: {
                    supported: {
                      markdownDescription: u(13872, null),
                      type: ['string', 'boolean'],
                      enum: ['limited', !0, !1],
                      enumDescriptions: [u(13873, null), u(13874, null), u(13875, null)],
                    },
                    restrictedConfigurations: {
                      description: u(13876, null),
                      type: 'array',
                      items: { type: 'string' },
                    },
                    description: { type: 'string', markdownDescription: u(13877, null) },
                  },
                },
              },
            },
            sponsor: {
              description: u(13878, null),
              type: 'object',
              defaultSnippets: [{ body: { url: '${1:https:}' } }],
              properties: { url: { description: u(13879, null), type: 'string' } },
            },
            scripts: {
              type: 'object',
              properties: {
                'vscode:prepublish': { description: u(13880, null), type: 'string' },
                'vscode:uninstall': { description: u(13881, null), type: 'string' },
              },
            },
            icon: { type: 'string', description: u(13882, null) },
            l10n: { type: 'string', description: u(13883, null) },
            pricing: {
              type: 'string',
              markdownDescription: u(13884, null),
              enum: ['Free', 'Trial'],
              default: 'Free',
            },
          },
        }),
        (nE = class {
          constructor() {
            this.a = new Map();
          }
          registerExtensionPoint(t) {
            if (this.a.has(t.extensionPoint))
              throw new Error('Duplicate extension point: ' + t.extensionPoint);
            const e = new sE(t.extensionPoint, t.defaultExtensionKind, t.canHandleResolver);
            return (
              this.a.set(t.extensionPoint, e),
              t.activationEventsGenerator &&
                ZS.register(t.extensionPoint, t.activationEventsGenerator),
              (Rp.properties.contributes.properties[t.extensionPoint] = t.jsonSchema),
              Op.registerSchema(ov, Rp),
              e
            );
          }
          getExtensionPoints() {
            return Array.from(this.a.values());
          }
        }),
        (av = { ExtensionsRegistry: 'ExtensionsRegistry' }),
        tt.add(av.ExtensionsRegistry, new nE()),
        (oE = tt.as(av.ExtensionsRegistry)),
        Op.registerSchema(ov, Rp),
        Op.registerSchema(i9, {
          properties: {
            extensionEnabledApiProposals: {
              description: u(13885, null),
              type: 'object',
              properties: {},
              additionalProperties: {
                anyOf: [
                  {
                    type: 'array',
                    uniqueItems: !0,
                    items: {
                      type: 'string',
                      enum: Object.keys(Ec),
                      markdownEnumDescriptions: Object.values(Ec).map((t) => t.proposal),
                    },
                  },
                ],
              },
            },
          },
        });
    },
  }),
  Np,
  jV,
  aE,
  WV = b({
    'out-build/vs/workbench/services/extensionManagement/common/extensionFeatures.js'() {
      'use strict';
      K(),
        li(),
        (function (t) {
          t.ExtensionFeaturesRegistry = 'workbench.registry.extensionFeatures';
        })(Np || (Np = {})),
        (jV = W('IExtensionFeaturesManagementService')),
        (aE = class {
          constructor() {
            this.a = new Map();
          }
          registerExtensionFeature(t) {
            if (this.a.has(t.id))
              throw new Error(`Extension feature with id '${t.id}' already exists`);
            return this.a.set(t.id, t), { dispose: () => this.a.delete(t.id) };
          }
          getExtensionFeature(t) {
            return this.a.get(t);
          }
          getExtensionFeatures() {
            return Array.from(this.a.values());
          }
        }),
        tt.add(Np.ExtensionFeaturesRegistry, new aE());
    },
  }),
  HV,
  cE,
  lE,
  uE,
  zV,
  VV,
  GV,
  qV,
  KV = b({
    'out-build/vs/base/common/naturalLanguage/korean.js'() {
      'use strict';
      (HV = new Uint32Array(10)),
        (function (t) {
          (t[(t.InitialConsonant = 4352)] = 'InitialConsonant'),
            (t[(t.Vowel = 4449)] = 'Vowel'),
            (t[(t.FinalConsonant = 4520)] = 'FinalConsonant'),
            (t[(t.CompatibilityJamo = 12593)] = 'CompatibilityJamo');
        })(cE || (cE = {})),
        (function (t) {
          (t[(t.NUL = 0)] = 'NUL'),
            (t[(t.A = 65)] = 'A'),
            (t[(t.B = 66)] = 'B'),
            (t[(t.C = 67)] = 'C'),
            (t[(t.D = 68)] = 'D'),
            (t[(t.E = 69)] = 'E'),
            (t[(t.F = 70)] = 'F'),
            (t[(t.G = 71)] = 'G'),
            (t[(t.H = 72)] = 'H'),
            (t[(t.I = 73)] = 'I'),
            (t[(t.J = 74)] = 'J'),
            (t[(t.K = 75)] = 'K'),
            (t[(t.L = 76)] = 'L'),
            (t[(t.M = 77)] = 'M'),
            (t[(t.N = 78)] = 'N'),
            (t[(t.O = 79)] = 'O'),
            (t[(t.P = 80)] = 'P'),
            (t[(t.Q = 81)] = 'Q'),
            (t[(t.R = 82)] = 'R'),
            (t[(t.S = 83)] = 'S'),
            (t[(t.T = 84)] = 'T'),
            (t[(t.U = 85)] = 'U'),
            (t[(t.V = 86)] = 'V'),
            (t[(t.W = 87)] = 'W'),
            (t[(t.X = 88)] = 'X'),
            (t[(t.Y = 89)] = 'Y'),
            (t[(t.Z = 90)] = 'Z'),
            (t[(t.a = 97)] = 'a'),
            (t[(t.b = 98)] = 'b'),
            (t[(t.c = 99)] = 'c'),
            (t[(t.d = 100)] = 'd'),
            (t[(t.e = 101)] = 'e'),
            (t[(t.f = 102)] = 'f'),
            (t[(t.g = 103)] = 'g'),
            (t[(t.h = 104)] = 'h'),
            (t[(t.i = 105)] = 'i'),
            (t[(t.j = 106)] = 'j'),
            (t[(t.k = 107)] = 'k'),
            (t[(t.l = 108)] = 'l'),
            (t[(t.m = 109)] = 'm'),
            (t[(t.n = 110)] = 'n'),
            (t[(t.o = 111)] = 'o'),
            (t[(t.p = 112)] = 'p'),
            (t[(t.q = 113)] = 'q'),
            (t[(t.r = 114)] = 'r'),
            (t[(t.s = 115)] = 's'),
            (t[(t.t = 116)] = 't'),
            (t[(t.u = 117)] = 'u'),
            (t[(t.v = 118)] = 'v'),
            (t[(t.w = 119)] = 'w'),
            (t[(t.x = 120)] = 'x'),
            (t[(t.y = 121)] = 'y'),
            (t[(t.z = 122)] = 'z');
        })(lE || (lE = {})),
        (function (t) {
          (t[(t.fa = 24934)] = 'fa'),
            (t[(t.fg = 26470)] = 'fg'),
            (t[(t.fq = 29030)] = 'fq'),
            (t[(t.fr = 29286)] = 'fr'),
            (t[(t.ft = 29798)] = 'ft'),
            (t[(t.fv = 30310)] = 'fv'),
            (t[(t.fx = 30822)] = 'fx'),
            (t[(t.hk = 27496)] = 'hk'),
            (t[(t.hl = 27752)] = 'hl'),
            (t[(t.ho = 28520)] = 'ho'),
            (t[(t.ml = 27757)] = 'ml'),
            (t[(t.nj = 27246)] = 'nj'),
            (t[(t.nl = 27758)] = 'nl'),
            (t[(t.np = 28782)] = 'np'),
            (t[(t.qt = 29809)] = 'qt'),
            (t[(t.rt = 29810)] = 'rt'),
            (t[(t.sg = 26483)] = 'sg'),
            (t[(t.sw = 30579)] = 'sw');
        })(uE || (uE = {})),
        (zV = new Uint8Array([
          114, 82, 115, 101, 69, 102, 97, 113, 81, 116, 84, 100, 119, 87, 99, 122, 120, 118, 103,
        ])),
        (VV = new Uint16Array([
          107, 111, 105, 79, 106, 112, 117, 80, 104, 27496, 28520, 27752, 121, 110, 27246, 28782,
          27758, 98, 109, 27757, 108,
        ])),
        (GV = new Uint16Array([
          114, 82, 29810, 115, 30579, 26483, 101, 102, 29286, 24934, 29030, 29798, 30822, 30310,
          26470, 97, 113, 29809, 116, 84, 100, 119, 99, 122, 120, 118, 103,
        ])),
        (qV = new Uint16Array([
          114, 82, 29810, 115, 30579, 26483, 101, 69, 102, 29286, 24934, 29030, 29798, 30822, 30310,
          26470, 97, 113, 81, 29809, 116, 84, 100, 119, 87, 99, 122, 120, 118, 103, 107, 111, 105,
          79, 106, 112, 117, 80, 104, 27496, 28520, 27752, 121, 110, 27246, 28782, 27758, 98, 109,
          27757, 108,
        ]));
    },
  });
function hE(...t) {
  return function (e, i) {
    for (let s = 0, r = t.length; s < r; s++) {
      const n = t[s](e, i);
      if (n) return n;
    }
    return null;
  };
}
function dE(t, e, i) {
  if (!i || i.length < e.length) return null;
  let s;
  return (
    t ? (s = ml(i, e)) : (s = i.indexOf(e) === 0),
    s ? (e.length > 0 ? [{ start: 0, end: e.length }] : []) : null
  );
}
function JV(t, e) {
  const i = e.toLowerCase().indexOf(t.toLowerCase());
  return i === -1 ? null : [{ start: i, end: i + t.length }];
}
function XV(t, e) {
  return cv(t.toLowerCase(), e.toLowerCase(), 0, 0);
}
function cv(t, e, i, s) {
  if (i === t.length) return [];
  if (s === e.length) return null;
  if (t[i] === e[s]) {
    let r = null;
    return (r = cv(t, e, i + 1, s + 1)) ? pE({ start: s, end: s + 1 }, r) : null;
  }
  return cv(t, e, i, s + 1);
}
function lv(t) {
  return 97 <= t && t <= 122;
}
function Bp(t) {
  return 65 <= t && t <= 90;
}
function uv(t) {
  return 48 <= t && t <= 57;
}
function YV(t) {
  return t === 32 || t === 9 || t === 10 || t === 13;
}
function fE(t) {
  return lv(t) || Bp(t) || uv(t);
}
function pE(t, e) {
  return (
    e.length === 0 ? (e = [t]) : t.end === e[0].start ? (e[0].start = t.start) : e.unshift(t), e
  );
}
function gE(t, e) {
  for (let i = e; i < t.length; i++) {
    const s = t.charCodeAt(i);
    if (Bp(s) || uv(s) || (i > 0 && !fE(t.charCodeAt(i - 1)))) return i;
  }
  return t.length;
}
function hv(t, e, i, s) {
  if (i === t.length) return [];
  if (s === e.length) return null;
  if (t[i] !== e[s].toLowerCase()) return null;
  {
    let r = null,
      n = s + 1;
    for (r = hv(t, e, i + 1, s + 1); !r && (n = gE(e, n)) < e.length; )
      (r = hv(t, e, i + 1, n)), n++;
    return r === null ? null : pE({ start: s, end: s + 1 }, r);
  }
}
function QV(t) {
  let e = 0,
    i = 0,
    s = 0,
    r = 0,
    n = 0;
  for (let h = 0; h < t.length; h++)
    (n = t.charCodeAt(h)), Bp(n) && e++, lv(n) && i++, fE(n) && s++, uv(n) && r++;
  const o = e / t.length,
    a = i / t.length,
    c = s / t.length,
    l = r / t.length;
  return { upperPercent: o, lowerPercent: a, alphaPercent: c, numericPercent: l };
}
function ZV(t) {
  const { upperPercent: e, lowerPercent: i } = t;
  return i === 0 && e > 0.6;
}
function eG(t) {
  const { upperPercent: e, lowerPercent: i, alphaPercent: s, numericPercent: r } = t;
  return i > 0.2 && e < 0.8 && s > 0.6 && r < 0.2;
}
function tG(t) {
  let e = 0,
    i = 0,
    s = 0,
    r = 0;
  for (let n = 0; n < t.length; n++)
    (s = t.charCodeAt(n)), Bp(s) && e++, lv(s) && i++, YV(s) && r++;
  return (e === 0 || i === 0) && r === 0 ? t.length <= 30 : e <= 5;
}
function mE(t, e) {
  if (!e || ((e = e.trim()), e.length === 0) || !tG(t)) return null;
  e.length > 60 && (e = e.substring(0, 60));
  const i = QV(e);
  if (!eG(i)) {
    if (!ZV(i)) return null;
    e = e.toLowerCase();
  }
  let s = null,
    r = 0;
  for (t = t.toLowerCase(); r < e.length && (s = hv(t, e, 0, r)) === null; ) r = gE(e, r + 1);
  return s;
}
function dv() {
  const t = [],
    e = [];
  for (let i = 0; i <= Vu; i++) e[i] = 0;
  for (let i = 0; i <= Vu; i++) t.push(e.slice(0));
  return t;
}
function wE(t) {
  const e = [];
  for (let i = 0; i <= t; i++) e[i] = 0;
  return e;
}
var iG,
  fv,
  bE,
  sG,
  rG,
  nG,
  Vu,
  oG,
  aG,
  cG,
  lG,
  uG,
  vE,
  yE,
  hG,
  dG = b({
    'out-build/vs/base/common/filters.js'() {
      'use strict';
      Pi(),
        KV(),
        Wt(),
        (iG = dE.bind(void 0, !1)),
        (fv = dE.bind(void 0, !0)),
        (bE = new Set()),
        '()[]{}<>`\'"-/;:,.?!'.split('').forEach((t) => bE.add(t.charCodeAt(0))),
        (sG = hE(fv, mE, JV)),
        (rG = hE(fv, mE, XV)),
        (nG = new ka(1e4)),
        (Vu = 128),
        (oG = wE(2 * Vu)),
        (aG = wE(2 * Vu)),
        (cG = dv()),
        (lG = dv()),
        (uG = dv()),
        (function (t) {
          (t[(t.Diag = 1)] = 'Diag'),
            (t[(t.Left = 2)] = 'Left'),
            (t[(t.LeftLeft = 3)] = 'LeftLeft');
        })(vE || (vE = {})),
        (function (t) {
          t.Default = [-100, 0];
          function e(i) {
            return !i || (i.length === 2 && i[0] === -100 && i[1] === 0);
          }
          t.isDefault = e;
        })(yE || (yE = {})),
        (hG = class {
          static {
            this.default = { boostFullMatch: !0, firstMatchCanBeWeak: !1 };
          }
          constructor(t, e) {
            (this.firstMatchCanBeWeak = t), (this.boostFullMatch = e);
          }
        });
    },
  }),
  pv,
  to,
  gv = b({
    'out-build/vs/base/common/themables.js'() {
      'use strict';
      Cu(),
        (function (t) {
          function e(i) {
            return i && typeof i == 'object' && typeof i.id == 'string';
          }
          t.isThemeColor = e;
        })(pv || (pv = {})),
        (function (t) {
          (t.iconNameSegment = '[A-Za-z0-9]+'),
            (t.iconNameExpression = '[A-Za-z0-9-]+'),
            (t.iconModifierExpression = '~[A-Za-z]+'),
            (t.iconNameCharacter = '[A-Za-z0-9~-]');
          const e = new RegExp(`^(${t.iconNameExpression})(${t.iconModifierExpression})?$`);
          function i(p) {
            const m = e.exec(p.id);
            if (!m) return i(es.error);
            const [, w, v] = m,
              k = ['codicon', 'codicon-' + w];
            return v && k.push('codicon-modifier-' + v.substring(1)), k;
          }
          t.asClassNameArray = i;
          function s(p) {
            return i(p).join(' ');
          }
          t.asClassName = s;
          function r(p) {
            return '.' + i(p).join('.');
          }
          t.asCSSSelector = r;
          function n(p) {
            return (
              p &&
              typeof p == 'object' &&
              typeof p.id == 'string' &&
              (typeof p.color > 'u' || pv.isThemeColor(p.color))
            );
          }
          t.isThemeIcon = n;
          const o = new RegExp(
            `^\\$\\((${t.iconNameExpression}(?:${t.iconModifierExpression})?)\\)$`
          );
          function a(p) {
            const m = o.exec(p);
            if (!m) return;
            const [, w] = m;
            return { id: w };
          }
          t.fromString = a;
          function c(p) {
            return { id: p };
          }
          t.fromId = c;
          function l(p, m) {
            let w = p.id;
            const v = w.lastIndexOf('~');
            return v !== -1 && (w = w.substring(0, v)), m && (w = `${w}~${m}`), { id: w };
          }
          t.modify = l;
          function h(p) {
            const m = p.id.lastIndexOf('~');
            if (m !== -1) return p.id.substring(m + 1);
          }
          t.getModifier = h;
          function d(p, m) {
            return p.id === m.id && p.color?.id === m.color?.id;
          }
          t.isEqual = d;
        })(to || (to = {}));
    },
  });
function fG(t) {
  return t.replace(kE, (e, i) => (i ? e : `\\${e}`));
}
var Up,
  kE,
  pG,
  gG,
  mG,
  wG = b({
    'out-build/vs/base/common/iconLabels.js'() {
      'use strict';
      dG(),
        Wt(),
        gv(),
        (Up = new RegExp(
          `\\$\\(${to.iconNameExpression}(?:${to.iconModifierExpression})?\\)`,
          'g'
        )),
        (kE = new RegExp(`(\\\\)?${Up.source}`, 'g')),
        (pG = new RegExp(`\\\\${Up.source}`, 'g')),
        (gG = new RegExp(`(\\s)?(\\\\)?${Up.source}(\\s)?`, 'g')),
        (mG = new RegExp(`\\$\\(${to.iconNameCharacter}+\\)`, 'g'));
    },
  });
function bG(t) {
  return t.replace(/[\\`*_{}[\]()#+\-!~]/g, '\\$&');
}
function vG(t, e) {
  const i = t.match(/^`+/gm)?.reduce((r, n) => (r.length > n.length ? r : n)).length ?? 0,
    s = i >= 3 ? i + 1 : 3;
  return [`${'`'.repeat(s)}${e}`, t, `${'`'.repeat(s)}`].join(`
`);
}
var SE,
  EE,
  yG = b({
    'out-build/vs/base/common/htmlContent.js'() {
      'use strict';
      He(),
        wG(),
        lt(),
        Wt(),
        be(),
        (function (t) {
          (t[(t.Paragraph = 0)] = 'Paragraph'), (t[(t.Break = 1)] = 'Break');
        })(SE || (SE = {})),
        (EE = class i4 {
          static lift(e) {
            if (e instanceof i4) return e;
            const i = new i4(e.value, e);
            return (i.uris = e.uris), (i.baseUri = e.baseUri ? _.revive(e.baseUri) : void 0), i;
          }
          constructor(e = '', i = !1) {
            if (((this.value = e), typeof this.value != 'string')) throw YI('value');
            typeof i == 'boolean'
              ? ((this.isTrusted = i), (this.supportThemeIcons = !1), (this.supportHtml = !1))
              : ((this.isTrusted = i.isTrusted ?? void 0),
                (this.supportThemeIcons = i.supportThemeIcons ?? !1),
                (this.supportHtml = i.supportHtml ?? !1));
          }
          appendText(e, i = 0) {
            return (
              (this.value += bG(this.supportThemeIcons ? fG(e) : e)
                .replace(/([ \t]+)/g, (s, r) => '&nbsp;'.repeat(r.length))
                .replace(/\>/gm, '\\>')
                .replace(
                  /\n/g,
                  i === 1
                    ? `\\
`
                    : `

`
                )),
              this
            );
          }
          appendMarkdown(e) {
            return (this.value += e), this;
          }
          appendCodeblock(e, i) {
            return (
              (this.value += `
${vG(i, e)}
`),
              this
            );
          }
          appendLink(e, i, s) {
            return (
              (this.value += '['),
              (this.value += this.c(i, ']')),
              (this.value += ']('),
              (this.value += this.c(String(e), ')')),
              s && (this.value += ` "${this.c(this.c(s, '"'), ')')}"`),
              (this.value += ')'),
              this
            );
          }
          c(e, i) {
            const s = new RegExp(Aa(i), 'g');
            return e.replace(s, (r, n) => (e.charAt(n - 1) !== '\\' ? `\\${r}` : r));
          }
        });
    },
  });
function kG() {
  return oE.registerExtensionPoint({
    extensionPoint: 'themes',
    jsonSchema: {
      description: u(14329, null),
      type: 'array',
      items: {
        type: 'object',
        defaultSnippets: [
          {
            body: {
              label: '${1:label}',
              id: '${2:id}',
              uiTheme: rt.VS_DARK,
              path: './themes/${3:id}.tmTheme.',
            },
          },
        ],
        properties: {
          id: { description: u(14330, null), type: 'string' },
          label: { description: u(14331, null), type: 'string' },
          uiTheme: {
            description: u(14332, null),
            enum: [rt.VS, rt.VS_DARK, rt.HC_BLACK, rt.HC_LIGHT],
          },
          path: { description: u(14333, null), type: 'string' },
        },
        required: ['path', 'uiTheme'],
      },
    },
  });
}
var CE,
  DE,
  SG = b({
    'out-build/vs/workbench/services/themes/common/themeExtensionPoints.js'() {
      'use strict';
      he(),
        $e(),
        lt(),
        UV(),
        rb(),
        X(),
        U(),
        WV(),
        yG(),
        li(),
        Eo(),
        Ka(),
        (CE = class extends H {
          constructor() {
            super(...arguments), (this.type = 'markdown');
          }
          shouldRender(t) {
            return (
              !!t.contributes?.themes ||
              !!t.contributes?.iconThemes ||
              !!t.contributes?.productIconThemes
            );
          }
          render(t) {
            const e = new EE();
            if (t.contributes?.themes) {
              e.appendMarkdown(`### ${u(14342, null)}

`);
              for (const i of t.contributes.themes)
                e.appendMarkdown(`- ${i.label}
`);
            }
            if (t.contributes?.iconThemes) {
              e.appendMarkdown(`### ${u(14343, null)}

`);
              for (const i of t.contributes.iconThemes)
                e.appendMarkdown(`- ${i.label}
`);
            }
            if (t.contributes?.productIconThemes) {
              e.appendMarkdown(`### ${u(14344, null)}

`);
              for (const i of t.contributes.productIconThemes)
                e.appendMarkdown(`- ${i.label}
`);
            }
            return { data: e, dispose: () => {} };
          }
        }),
        tt
          .as(Np.ExtensionFeaturesRegistry)
          .registerExtensionFeature({
            id: 'themes',
            label: u(14345, null),
            access: { canToggle: !1 },
            renderer: new ve(CE),
          }),
        (DE = class {
          constructor(t, e, i = !1, s = void 0) {
            (this.c = t),
              (this.d = e),
              (this.f = i),
              (this.g = s),
              (this.b = new $()),
              (this.onDidChange = this.b.event),
              (this.a = []),
              this.h();
          }
          dispose() {
            this.c.setHandler(() => {});
          }
          h() {
            this.c.setHandler((t, e) => {
              const i = {},
                s = [];
              for (const n of this.a) i[n.id] = n;
              this.a.length = 0;
              for (const n of t) {
                const o = gc.fromName(
                  n.description.publisher,
                  n.description.name,
                  n.description.isBuiltin
                );
                this.i(o, n.description.extensionLocation, n.value, this.a, n.collector);
              }
              for (const n of this.a) i[n.id] ? delete i[n.id] : s.push(n);
              const r = Object.values(i);
              this.b.fire({ themes: this.a, added: s, removed: r });
            });
          }
          i(t, e, i, s = [], r) {
            return Array.isArray(i)
              ? (i.forEach((n) => {
                  if (!n.path || !ot(n.path)) {
                    r?.error(u(14347, null, this.c.name, String(n.path)));
                    return;
                  }
                  if (this.f && (!n.id || !ot(n.id))) {
                    r?.error(u(14348, null, this.c.name, String(n.id)));
                    return;
                  }
                  const o = we(e, n.path);
                  El(o, e) || r?.warn(u(14349, null, this.c.name, o.path, e.path));
                  const a = this.d(n, o, t);
                  s.push(a);
                }),
                s)
              : (r?.error(u(14346, null, this.c.name)), s);
          }
          findThemeById(t) {
            if (this.g && this.g.id === t) return this.g;
            const e = this.getThemes();
            for (const i of e) if (i.id === t) return i;
          }
          findThemeBySettingsId(t, e) {
            if (this.g && this.g.settingsId === t) return this.g;
            const i = this.getThemes();
            let s;
            for (const r of i) {
              if (r.settingsId === t) return r;
              r.settingsId === e && (s = r);
            }
            return s;
          }
          findThemeByExtensionLocation(t) {
            return t ? this.getThemes().filter((e) => e.location && El(e.location, t)) : [];
          }
          getThemes() {
            return this.a;
          }
          getMarketplaceThemes(t, e, i) {
            const s = t?.contributes?.[this.c.name];
            return Array.isArray(s) ? this.i(i, e, s) : [];
          }
        });
    },
  });
function EG(t, e, i) {
  const s = {
      local: {
        [te.DARK]: { backgroundColor: '#A8DE63' },
        [te.HIGH_CONTRAST_DARK]: { backgroundColor: '#A8DE63' },
        [te.LIGHT]: { backgroundColor: '#6BAC00' },
        [te.HIGH_CONTRAST_LIGHT]: { backgroundColor: '#6BAC00' },
      },
      dev: {
        [te.DARK]: { backgroundColor: '#41D29F' },
        [te.HIGH_CONTRAST_DARK]: { backgroundColor: '#41D29F' },
        [te.LIGHT]: { backgroundColor: '#00998F' },
        [te.HIGH_CONTRAST_LIGHT]: { backgroundColor: '#00998F' },
      },
      insider: {
        [te.DARK]: { backgroundColor: '#967EF5' },
        [te.HIGH_CONTRAST_DARK]: { backgroundColor: '#967EF5' },
        [te.LIGHT]: { backgroundColor: '#795DFF' },
        [te.HIGH_CONTRAST_LIGHT]: { backgroundColor: '#795DFF' },
      },
      alpha: {
        [te.DARK]: { backgroundColor: '#F2858C' },
        [te.HIGH_CONTRAST_DARK]: { backgroundColor: '#F2858C' },
        [te.LIGHT]: { backgroundColor: '#B11B15' },
        [te.HIGH_CONTRAST_LIGHT]: { backgroundColor: '#B11B15' },
      },
    },
    r = {
      [te.DARK]: '#000000',
      [te.HIGH_CONTRAST_DARK]: '#000000',
      [te.LIGHT]: '#FFFFFF',
      [te.HIGH_CONTRAST_LIGHT]: '#FFFFFF',
    };
  e.push(`--vscode-icube-qualityForeground: ${r[t.type]};`),
    i?.quality &&
      s[i.quality] &&
      e.push(`--vscode-icube-qualityBackgroundColor: ${s[i.quality][t.type].backgroundColor};`);
  const n = {
    [te.DARK]: 'linear-gradient(90deg, #FF7979 15%, #EEA8FF 50%, #E5DCFF 85%)',
    [te.HIGH_CONTRAST_DARK]: 'linear-gradient(90deg, #FF7979 15%, #EEA8FF 50%, #E5DCFF 85%)',
    [te.LIGHT]: 'linear-gradient(271deg, #A35BFF 33.21%, #E465A2 65.8%, #FD563F 99.39%)',
    [te.HIGH_CONTRAST_LIGHT]:
      'linear-gradient(271deg, #A35BFF 33.21%, #E465A2 65.8%, #FD563F 99.39%)',
  };
  e.push(`--vscode-icube-colorGradient: ${n[t.type]};`);
  const o = 'linear-gradient(90deg, #FF7979 15%, #EEA8FF 50%, #E5DCFF 85%)',
    a = 'linear-gradient(90deg, #FF7979 15%, #EEA8FF 50%, #E5DCFF 85%)',
    c =
      'linear-gradient(94deg, rgba(253, 97, 63, 0.70) 18.92%, rgba(255, 93, 200, 0.70) 49.25%, rgba(165, 143, 255, 0.70) 79.58%)',
    l =
      'linear-gradient(94deg, rgba(253, 97, 63, 0.70) 18.92%, rgba(255, 93, 200, 0.70) 49.25%, rgba(165, 143, 255, 0.70) 79.58%)',
    h = { [te.DARK]: o, [te.HIGH_CONTRAST_DARK]: o, [te.LIGHT]: c, [te.HIGH_CONTRAST_LIGHT]: c },
    d = {
      [te.DARK]: {
        default:
          'linear-gradient(0deg, rgba(255, 121, 121, 0.32) 15%, rgba(238, 168, 255, 0.32) 50%, rgba(229, 220, 255, 0.32) 85%)',
        defaultHover:
          'linear-gradient(0deg, rgba(255, 121, 121, 0.70) 15%, rgba(238, 168, 255, 0.70) 50%, rgba(229, 220, 255, 0.70) 85%)',
        active:
          'linear-gradient(0deg, rgba(255, 121, 121, 0.70) 15%, rgba(238, 168, 255, 0.70) 50%, rgba(229, 220, 255, 0.70) 85%)',
        activeHover: 'linear-gradient(0deg, #FF7979 15%, #EEA8FF 50%, #E5DCFF 85%)',
      },
      [te.HIGH_CONTRAST_DARK]: {
        default:
          'linear-gradient(0deg, rgba(255, 121, 121, 0.32) 15%, rgba(238, 168, 255, 0.32) 50%, rgba(229, 220, 255, 0.32) 85%)',
        defaultHover:
          'linear-gradient(0deg, rgba(255, 121, 121, 0.70) 15%, rgba(238, 168, 255, 0.70) 50%, rgba(229, 220, 255, 0.70) 85%)',
        active:
          'linear-gradient(0deg, rgba(255, 121, 121, 0.70) 15%, rgba(238, 168, 255, 0.70) 50%, rgba(229, 220, 255, 0.70) 85%)',
        activeHover: 'linear-gradient(0deg, #FF7979 15%, #EEA8FF 50%, #E5DCFF 85%)',
      },
      [te.LIGHT]: {
        default:
          'linear-gradient(0deg, rgba(253, 97, 63, 0.32) 0.21%, rgba(255, 109, 205, 0.32) 50%, rgba(187, 170, 255, 0.32) 99.79%)',
        defaultHover:
          'linear-gradient(0deg, rgba(253, 97, 63, 0.70) 0.21%, rgba(255, 109, 205, 0.70) 50%, rgba(187, 170, 255, 0.70) 99.79%)',
        active:
          'linear-gradient(0deg, rgba(253, 97, 63, 0.70) 0.21%, rgba(255, 109, 205, 0.70) 50%, rgba(187, 170, 255, 0.70) 99.79%)',
        activeHover: 'linear-gradient(0deg, #FD613F 0.21%, #FF6DCD 50%, #BAF 99.79%)',
      },
      [te.HIGH_CONTRAST_LIGHT]: {
        default:
          'linear-gradient(0deg, rgba(253, 97, 63, 0.32) 0.21%, rgba(255, 109, 205, 0.32) 50%, rgba(187, 170, 255, 0.32) 99.79%)',
        defaultHover:
          'linear-gradient(0deg, rgba(253, 97, 63, 0.70) 0.21%, rgba(255, 109, 205, 0.70) 50%, rgba(187, 170, 255, 0.70) 99.79%)',
        active:
          'linear-gradient(0deg, rgba(253, 97, 63, 0.70) 0.21%, rgba(255, 109, 205, 0.70) 50%, rgba(187, 170, 255, 0.70) 99.79%)',
        activeHover: 'linear-gradient(0deg, #FD613F 0.21%, #FF6DCD 50%, #BAF 99.79%)',
      },
    };
  e.push(`--vscode-icube-colorBgDefaultGradientAiButton: ${d[t.type].default};`),
    e.push(`--vscode-icube-colorBgDefaultHoverGradientAiButton: ${d[t.type].defaultHover};`),
    e.push(`--vscode-icube-colorBgActiveGradientAiButton: ${d[t.type].active};`),
    e.push(`--vscode-icube-colorBgActiveHoverGradientAiButton: ${d[t.type].activeHover};`);
  const p =
      'linear-gradient(94deg, rgba(253, 97, 63, 0.32) 18.92%, rgba(255, 93, 200, 0.32) 49.25%, rgba(165, 143, 255, 0.32) 79.58%)',
    m =
      'linear-gradient(90deg, rgba(255, 121, 121, 0.32) 15%, rgba(238, 168, 255, 0.32) 50%, rgba(229, 220, 255, 0.32) 85%)',
    w = { [te.DARK]: m, [te.HIGH_CONTRAST_DARK]: m, [te.LIGHT]: p, [te.HIGH_CONTRAST_LIGHT]: p };
  e.push(`--vscode-icube-colorBgDefaultNewGradient: ${w[t.type]};`);
  const v =
      'linear-gradient(94deg, rgba(253, 97, 63, 0.70) 18.92%, rgba(255, 93, 200, 0.70) 49.25%, rgba(165, 143, 255, 0.70) 79.58%)',
    k =
      'linear-gradient(90deg, rgba(255, 121, 121, 0.70) 15%, rgba(238, 168, 255, 0.70) 50%, rgba(229, 220, 255, 0.70) 85%)',
    y = { [te.DARK]: k, [te.HIGH_CONTRAST_DARK]: k, [te.LIGHT]: v, [te.HIGH_CONTRAST_LIGHT]: v },
    C =
      'linear-gradient(90deg, rgba(255, 121, 121, 1) 15%, rgba(238, 168, 255, 1) 50%, rgba(229, 220, 255, 1) 85%)',
    I =
      'linear-gradient(94deg, rgba(163, 91, 255, 1) 18.92%, rgba(228, 101, 162, 1) 49.25%, rgba(253, 86, 63, 1) 79.58%)',
    E = { [te.DARK]: C, [te.HIGH_CONTRAST_DARK]: C, [te.LIGHT]: I, [te.HIGH_CONTRAST_LIGHT]: I };
  e.push(`--vscode-icube-colorBgDefaultNewGradient2: ${y[t.type]};`),
    e.push(`--vscode-icube-colorBgDefaultGradient: ${h[t.type]};`),
    e.push(`--vscode-icube-colorTextDefaultNewGradient100: ${E[t.type]};`);
  const x = {
    [te.DARK]: a,
    [te.HIGH_CONTRAST_DARK]: a,
    [te.LIGHT]: l,
    [te.HIGH_CONTRAST_LIGHT]: l,
  };
  e.push(`--vscode-icube-colorBgFocusGradient: ${x[t.type]};`);
  const F = {
    [te.DARK]:
      'radial-gradient(121.09% 172.92% at 0% 4.17%, rgba(0, 88, 220, 0.70) 0%, rgba(106, 166, 255, 0.70) 45.75%, rgba(255, 255, 255, 0.70) 71.03%, rgba(255, 138, 79, 0.70) 81.96%, rgba(180, 58, 255, 0.70) 91.67%)',
    [te.LIGHT]:
      'radial-gradient(857.62% 429.56% at 7.81% -14.58%, #236DFF 0.52%, #06F 41.93%, #7B02C5 62.15%, #FF7D3C 83.03%, #FFA53C 98.96%)',
    [te.HIGH_CONTRAST_DARK]:
      'radial-gradient(121.09% 172.92% at 0% 4.17%, rgba(0, 88, 220, 0.70) 0%, rgba(106, 166, 255, 0.70) 45.75%, rgba(255, 255, 255, 0.70) 71.03%, rgba(255, 138, 79, 0.70) 81.96%, rgba(180, 58, 255, 0.70) 91.67%)',
    [te.HIGH_CONTRAST_LIGHT]:
      'radial-gradient(121.09% 172.92%  at 7.81% 7.42%, rgba(83, 140, 255, 0.64) 0.52%, rgba(0, 102, 255, 0.64) 41.93%, rgba(123, 2, 197, 0.64) 62.15%, rgba(255, 125, 60, 0.64) 83.03%, rgba(255, 165, 60, 0.64) 98.96%)',
  };
  e.push(`--vscode-icube-colorLitleDefaultGradient: ${F[t.type]};`);
  const Y = {
    [te.DARK]: 'linear-gradient(90deg, #FF7979 15%, #EEA8FF 50%, #E5DCFF 85%)',
    [te.LIGHT]: 'linear-gradient(271deg, #A35BFF 33.21%, #E465A2 65.8%, #FD563F 99.39%)',
    [te.HIGH_CONTRAST_DARK]: 'linear-gradient(90deg, #FF7979 15%, #EEA8FF 50%, #E5DCFF 85%)',
    [te.HIGH_CONTRAST_LIGHT]:
      'linear-gradient(271deg, #A35BFF 33.21%, #E465A2 65.8%, #FD563F 99.39%)',
  };
  e.push(`--vscode-icube-colorLitleFocusGradient: ${Y[t.type]};`);
  const oe = {
    [te.DARK]:
      "url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxMiAxMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48bWFzayBpZD0ic3ZnX2E3ZTc1ZTg0OWFfX2EiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjEiIHk9IjEiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMSI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDYuNUw5Ljk2MjM0IDMuODU4NDRDMTAuMjAxOSAzLjY5ODczIDEwLjE3OTYgMy4zMzk3OCA5LjkyMjAzIDMuMjExMDFMNi43Nzg1OCAxLjYzOTI5QzYuMjk3MTMgMS4zOTg1NiA1LjcyMzU5IDEuNDM0MjcgNS4yNzU3MSAxLjczMjg2TDIuMTY3OTUgMy44MDQ3QzEuNzUwNjUgNC4wODI5IDEuNSA0LjU1MTI1IDEuNSA1LjA1Mjc4VjguNTcyOTVDMS41IDkuMTQxMTEgMS44MjEgOS42NjA1IDIuMzI5MTggOS45MTQ1OUw1LjMyOTE4IDExLjQxNDZDNS43NTE0NyAxMS42MjU3IDYuMjQ4NTMgMTEuNjI1NyA2LjY3MDgyIDExLjQxNDZMOS45MjIwMyA5Ljc4ODk5QzEwLjE3OTYgOS42NjAyMiAxMC4yMDE5IDkuMzAxMjcgOS45NjIzNCA5LjE0MTU2TDYgNi41WiIgZmlsbD0iIzEzNDVGRiIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI3N2Z19hN2U3NWU4NDlhX19hKSI+PHBhdGggZD0iTTkuOTYyMzQgMy44NTg0NEwxLjUgOS41VjUuMDUyNzhDMS41IDQuNTUxMjUgMS43NTA2NSA0LjA4MjkgMi4xNjc5NSAzLjgwNDdMNS4yNzU3MSAxLjczMjg2QzUuNzIzNTkgMS40MzQyNyA2LjI5NzEzIDEuMzk4NTYgNi43Nzg1OCAxLjYzOTI5TDkuOTIyMDMgMy4yMTEwMUMxMC4xNzk2IDMuMzM5NzggMTAuMjAxOSAzLjY5ODczIDkuOTYyMzQgMy44NTg0NFoiIGZpbGw9IiNDQ0MiLz48cGF0aCBkPSJNOS45NjIzNCA5LjE0MTU2TDYgNi41TDEuNSA5LjVMNS4zMjkxOCAxMS40MTQ2QzUuNzUxNDcgMTEuNjI1NyA2LjI0ODUzIDExLjYyNTcgNi42NzA4MiAxMS40MTQ2TDkuOTIyMDMgOS43ODg5OUMxMC4xNzk2IDkuNjYwMjIgMTAuMjAxOSA5LjMwMTI3IDkuOTYyMzQgOS4xNDE1NloiIGZpbGw9IiM5RDlEOUQiLz48L2c+PC9zdmc+Cg==')",
    [te.LIGHT]:
      "url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxMiAxMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48bWFzayBpZD0ic3ZnX2E2MzJjZTk5NGRfX2EiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjEiIHk9IjEiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMSI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDYuNUw5Ljk2MjM0IDMuODU4NDRDMTAuMjAxOSAzLjY5ODczIDEwLjE3OTYgMy4zMzk3OCA5LjkyMjAzIDMuMjExMDFMNi43Nzg1OCAxLjYzOTI5QzYuMjk3MTMgMS4zOTg1NiA1LjcyMzU5IDEuNDM0MjcgNS4yNzU3MSAxLjczMjg2TDIuMTY3OTUgMy44MDQ3QzEuNzUwNjUgNC4wODI5IDEuNSA0LjU1MTI1IDEuNSA1LjA1Mjc4VjguNTcyOTVDMS41IDkuMTQxMTEgMS44MjEgOS42NjA1IDIuMzI5MTggOS45MTQ1OUw1LjMyOTE4IDExLjQxNDZDNS43NTE0NyAxMS42MjU3IDYuMjQ4NTMgMTEuNjI1NyA2LjY3MDgyIDExLjQxNDZMOS45MjIwMyA5Ljc4ODk5QzEwLjE3OTYgOS42NjAyMiAxMC4yMDE5IDkuMzAxMjcgOS45NjIzNCA5LjE0MTU2TDYgNi41WiIgZmlsbD0iIzEzNDVGRiIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI3N2Z19hNjMyY2U5OTRkX19hKSI+PHBhdGggZD0iTTkuOTYyMzQgMy44NTg0NEwxLjUgOS41VjUuMDUyNzhDMS41IDQuNTUxMjUgMS43NTA2NSA0LjA4MjkgMi4xNjc5NSAzLjgwNDdMNS4yNzU3MSAxLjczMjg2QzUuNzIzNTkgMS40MzQyNyA2LjI5NzEzIDEuMzk4NTYgNi43Nzg1OCAxLjYzOTI5TDkuOTIyMDMgMy4yMTEwMUMxMC4xNzk2IDMuMzM5NzggMTAuMjAxOSAzLjY5ODczIDkuOTYyMzQgMy44NTg0NFoiIGZpbGw9IiMzQjNCM0IiLz48cGF0aCBkPSJNOS45NjIzNCA5LjE0MTU2TDYgNi41TDEuNSA5LjVMNS4zMjkxOCAxMS40MTQ2QzUuNzUxNDcgMTEuNjI1NyA2LjI0ODUzIDExLjYyNTcgNi42NzA4MiAxMS40MTQ2TDkuOTIyMDMgOS43ODg5OUMxMC4xNzk2IDkuNjYwMjIgMTAuMjAxOSA5LjMwMTI3IDkuOTYyMzQgOS4xNDE1NloiIGZpbGw9IiM4ODgiLz48L2c+PC9zdmc+Cg==')",
    [te.HIGH_CONTRAST_DARK]:
      "url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxMiAxMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48bWFzayBpZD0ic3ZnX2E3ZTc1ZTg0OWFfX2EiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjEiIHk9IjEiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMSI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDYuNUw5Ljk2MjM0IDMuODU4NDRDMTAuMjAxOSAzLjY5ODczIDEwLjE3OTYgMy4zMzk3OCA5LjkyMjAzIDMuMjExMDFMNi43Nzg1OCAxLjYzOTI5QzYuMjk3MTMgMS4zOTg1NiA1LjcyMzU5IDEuNDM0MjcgNS4yNzU3MSAxLjczMjg2TDIuMTY3OTUgMy44MDQ3QzEuNzUwNjUgNC4wODI5IDEuNSA0LjU1MTI1IDEuNSA1LjA1Mjc4VjguNTcyOTVDMS41IDkuMTQxMTEgMS44MjEgOS42NjA1IDIuMzI5MTggOS45MTQ1OUw1LjMyOTE4IDExLjQxNDZDNS43NTE0NyAxMS42MjU3IDYuMjQ4NTMgMTEuNjI1NyA2LjY3MDgyIDExLjQxNDZMOS45MjIwMyA5Ljc4ODk5QzEwLjE3OTYgOS42NjAyMiAxMC4yMDE5IDkuMzAxMjcgOS45NjIzNCA5LjE0MTU2TDYgNi41WiIgZmlsbD0iIzEzNDVGRiIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI3N2Z19hN2U3NWU4NDlhX19hKSI+PHBhdGggZD0iTTkuOTYyMzQgMy44NTg0NEwxLjUgOS41VjUuMDUyNzhDMS41IDQuNTUxMjUgMS43NTA2NSA0LjA4MjkgMi4xNjc5NSAzLjgwNDdMNS4yNzU3MSAxLjczMjg2QzUuNzIzNTkgMS40MzQyNyA2LjI5NzEzIDEuMzk4NTYgNi43Nzg1OCAxLjYzOTI5TDkuOTIyMDMgMy4yMTEwMUMxMC4xNzk2IDMuMzM5NzggMTAuMjAxOSAzLjY5ODczIDkuOTYyMzQgMy44NTg0NFoiIGZpbGw9IiNDQ0MiLz48cGF0aCBkPSJNOS45NjIzNCA5LjE0MTU2TDYgNi41TDEuNSA5LjVMNS4zMjkxOCAxMS40MTQ2QzUuNzUxNDcgMTEuNjI1NyA2LjI0ODUzIDExLjYyNTcgNi42NzA4MiAxMS40MTQ2TDkuOTIyMDMgOS43ODg5OUMxMC4xNzk2IDkuNjYwMjIgMTAuMjAxOSA5LjMwMTI3IDkuOTYyMzQgOS4xNDE1NloiIGZpbGw9IiM5RDlEOUQiLz48L2c+PC9zdmc+Cg==')",
    [te.HIGH_CONTRAST_LIGHT]:
      "url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxMiAxMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48bWFzayBpZD0ic3ZnX2E2MzJjZTk5NGRfX2EiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjEiIHk9IjEiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMSI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDYuNUw5Ljk2MjM0IDMuODU4NDRDMTAuMjAxOSAzLjY5ODczIDEwLjE3OTYgMy4zMzk3OCA5LjkyMjAzIDMuMjExMDFMNi43Nzg1OCAxLjYzOTI5QzYuMjk3MTMgMS4zOTg1NiA1LjcyMzU5IDEuNDM0MjcgNS4yNzU3MSAxLjczMjg2TDIuMTY3OTUgMy44MDQ3QzEuNzUwNjUgNC4wODI5IDEuNSA0LjU1MTI1IDEuNSA1LjA1Mjc4VjguNTcyOTVDMS41IDkuMTQxMTEgMS44MjEgOS42NjA1IDIuMzI5MTggOS45MTQ1OUw1LjMyOTE4IDExLjQxNDZDNS43NTE0NyAxMS42MjU3IDYuMjQ4NTMgMTEuNjI1NyA2LjY3MDgyIDExLjQxNDZMOS45MjIwMyA5Ljc4ODk5QzEwLjE3OTYgOS42NjAyMiAxMC4yMDE5IDkuMzAxMjcgOS45NjIzNCA5LjE0MTU2TDYgNi41WiIgZmlsbD0iIzEzNDVGRiIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI3N2Z19hNjMyY2U5OTRkX19hKSI+PHBhdGggZD0iTTkuOTYyMzQgMy44NTg0NEwxLjUgOS41VjUuMDUyNzhDMS41IDQuNTUxMjUgMS43NTA2NSA0LjA4MjkgMi4xNjc5NSAzLjgwNDdMNS4yNzU3MSAxLjczMjg2QzUuNzIzNTkgMS40MzQyNyA2LjI5NzEzIDEuMzk4NTYgNi43Nzg1OCAxLjYzOTI5TDkuOTIyMDMgMy4yMTEwMUMxMC4xNzk2IDMuMzM5NzggMTAuMjAxOSAzLjY5ODczIDkuOTYyMzQgMy44NTg0NFoiIGZpbGw9IiMzQjNCM0IiLz48cGF0aCBkPSJNOS45NjIzNCA5LjE0MTU2TDYgNi41TDEuNSA5LjVMNS4zMjkxOCAxMS40MTQ2QzUuNzUxNDcgMTEuNjI1NyA2LjI0ODUzIDExLjYyNTcgNi42NzA4MiAxMS40MTQ2TDkuOTIyMDMgOS43ODg5OUMxMC4xNzk2IDkuNjYwMjIgMTAuMjAxOSA5LjMwMTI3IDkuOTYyMzQgOS4xNDE1NloiIGZpbGw9IiM4ODgiLz48L2c+PC9zdmc+Cg==')",
  };
  e.push(`--vscode-icube-titleLogo: ${oe[t.type]};`);
}
function xE(t, e, i) {
  const s = new Set(),
    r = {
      addRule: (o) => {
        s.has(o) || s.add(o);
      },
    };
  r.addRule('.monaco-workbench { forced-color-adjust: none; }'),
    e && AE.getThemingParticipants().forEach((o) => o(t, r, e));
  const n = [];
  for (const o of nO().getColors()) {
    const a = t.getColor(o.id, !0);
    a && n.push(`${sO(o.id)}: ${a.toString()};`);
  }
  return (
    EG(t, n, i),
    r.addRule(
      `:root { ${n.join(`
`)} }`
    ),
    [...s].join(`
`)
  );
}
var AE,
  CG = b({
    'out-build/vs/workbench/services/themes/browser/iCubeCSSRule.js'() {
      'use strict';
      li(), hs(), Ka(), up(), (AE = tt.as(ib.ThemingContribution));
    },
  }),
  IE,
  Gu,
  DG,
  $E,
  PE,
  mv,
  _E = b({
    'out-build/vs/code/electron-main/setupThemeService.js'() {
      'use strict';
      Oe(),
        U(),
        be(),
        OS(),
        SG(),
        rb(),
        Uu(),
        CG(),
        (IE = kG()),
        (Gu = [
          { id: 'Dark', label: 'Dark', uiTheme: 'vs-dark', path: './themes/dark_plus.json' },
          {
            id: 'Deep Blue',
            label: 'Deep Blue',
            uiTheme: 'vs-dark',
            path: './themes/dark_blue.json',
          },
          { id: 'Light', label: 'Light', uiTheme: 'vs', path: './themes/light.json' },
        ]),
        (DG = Gu.map((t) => t.id)),
        ($E = class {
          constructor(t) {
            (this.supportsExtensionGalleryResources = !1), (this.fileService = t);
          }
          async readExtensionResource(t) {
            try {
              return (await this.fileService.readFile(t)).value.toString();
            } catch {
              return '';
            }
          }
          isExtensionGalleryResource(t) {
            return !1;
          }
          getExtensionGalleryResourceURL(
            { publisher: t, name: e, version: i, targetPlatform: s },
            r
          ) {}
        }),
        (PE = class extends DE {
          getICubeThemeExtension() {
            const t = _.joinPath(Ht.asFileUri(k5), 'theme-icube');
            return {
              description: {
                id: 'icube.icube-themes',
                identifier: { value: 'icube.icube-themes', _lower: 'icube.icube-themes' },
                isBuiltin: !0,
                isUserBuiltin: !1,
                isUnderDevelopment: !1,
                extensionLocation: t,
                targetPlatform: 'undefined',
                name: 'icube-themes',
                displayName: 'icube themes',
                description: 'The default icube light and dark themes',
                categories: ['Themes'],
                version: '1.0.0',
                publisher: 'icube',
                license: 'MIT',
                engines: { vscode: '*' },
                contributes: {
                  themes: Gu,
                  iconThemes: [
                    {
                      id: 'vs-minimal',
                      label: 'Minimal (Visual Studio Code)',
                      path: './fileicons/vs_minimal-icon-theme.json',
                    },
                  ],
                },
                repository: { type: 'git', url: 'https://github.com/microsoft/vscode.git' },
              },
              value: Gu,
              collector: {
                _extension: {
                  id: 'icube.icube-themes',
                  identifier: { value: 'icube.icube-themes', _lower: 'icube.icube-themes' },
                  isBuiltin: !0,
                  isUserBuiltin: !1,
                  isUnderDevelopment: !1,
                  extensionLocation: t,
                  targetPlatform: 'undefined',
                  name: 'icube-themes',
                  displayName: 'icube themes',
                  description: 'The default icube light and dark themes',
                  categories: ['Themes'],
                  version: '1.0.0',
                  publisher: 'icube',
                  license: 'MIT',
                  engines: { vscode: '*' },
                  contributes: {
                    themes: Gu,
                    iconThemes: [
                      {
                        id: 'vs-minimal',
                        label: 'Minimal (Visual Studio Code)',
                        path: './fileicons/vs_minimal-icon-theme.json',
                      },
                    ],
                  },
                  repository: { type: 'git', url: 'https://github.com/microsoft/vscode.git' },
                },
                _extensionPointId: 'themes',
              },
            };
          }
          h() {
            const t = this.getICubeThemeExtension(),
              e = gc.fromName(t.description.publisher, t.description.name, t.description.isBuiltin);
            this.i(e, t.description.extensionLocation, t.value, this.a, t.collector);
          }
        }),
        (mv = class extends H {
          constructor(t) {
            super(),
              (this.extensionService = new $E(t)),
              (this.fileService = t),
              (this.a = this.B(new PE(IE, Mp.fromExtensionTheme)));
          }
          async getCssCode(t) {
            const e = this.a.findThemeBySettingsId(t);
            return await e?.ensureLoaded(this.extensionService), e ? xE(e) : '';
          }
          async getColorTheme(t) {
            const e = this.a.findThemeBySettingsId(t);
            if ((await e?.ensureLoaded(this.extensionService), e))
              return { currentTheme: e, css: xE(e) };
          }
        });
    },
  });
import { createServer as xG } from 'http';
var Cc,
  qu,
  LE = b({
    'out-build/vs/code/electron-main/oauth/oauthLocalServer.js'() {
      'use strict';
      be(),
        U(),
        JF(),
        le(),
        Gc(),
        _E(),
        hi(),
        ie(),
        (function (t) {
          (t.LOGIN_CONFIRM = '/login-confirm'),
            (t.LOGIN_SUCCESS = '/login-success'),
            (t.AUTHORIZE = '/authorize');
        })(Cc || (Cc = {})),
        (qu = class jh extends H {
          static {
            this.TIMEOUT_MS = 30 * 60 * 1e3;
          }
          static {
            this.AUTHORIZATION_TIMEOUT_MS = 5 * 60 * 1e3;
          }
          constructor(e, i, s, r) {
            super(),
              (this.r = e),
              (this.s = i),
              (this.t = s),
              (this.u = r),
              (this.n = ''),
              (this.m = new mv(r));
          }
          async getServer() {
            return this.j || (this.j = new zt()), this.a || (this.a = await this.z()), this.a;
          }
          async getPort() {
            return await this.j?.p;
          }
          setAuthCodeHandler(e, i) {
            (this.c = e), (this.n = ei()), i && this.w();
          }
          setAuthorizationTimeoutHandler(e) {
            this.f = e;
          }
          w() {
            this.y(),
              (this.g = setTimeout(this.dispose.bind(this), jh.TIMEOUT_MS)),
              this.r.info(
                `OAuthLocalServer#Oauth2 server timeout after ${jh.TIMEOUT_MS} milliseconds.`
              );
          }
          y() {
            this.g && (clearTimeout(this.g), (this.g = void 0)), this.h && clearTimeout(this.h);
          }
          async z() {
            return new Promise((e, i) => {
              const s = xG(async (r, n) => {
                try {
                  await this.C(r, n);
                } catch (o) {
                  this.r.error(`OAuthLocalServer#Error handling request: ${o}`),
                    (n.statusCode = 500),
                    n.end('Internal Server Error');
                }
              });
              s.listen(0, '127.0.0.1', () => {
                try {
                  const r = s.address();
                  this.j?.complete(r?.port),
                    this.r.info(`OAuthLocalServer#[Server] Listening on port ${r?.port}.`),
                    e(s);
                } catch (r) {
                  i(r);
                }
              });
            });
          }
          async C(e, i) {
            const { url: s } = e;
            if (
              (this.r.info(
                `OAuthLocalServer#[Server] Received url request: ${s?.split('?')[0]}. ${
                  this.t.argvResource
                }`
              ),
              i.setHeader('Access-Control-Allow-Origin', '*'),
              i.setHeader('Access-Control-Allow-Methods', 'GET,POST,PUT,DELETE,OPTIONS'),
              i.setHeader('Access-Control-Allow-Headers', 'x-jwt-token'),
              i.setHeader('Content-Type', 'text/html'),
              i.setHeader('Content-Type', 'charset=UTF-8'),
              e.method === 'OPTIONS')
            )
              (i.statusCode = 200), i.end();
            else if (e.url?.includes(Cc.LOGIN_CONFIRM)) {
              this.h ||
                (this.h = setTimeout(() => {
                  this.y(), this.dispose(), this.f?.();
                }, jh.AUTHORIZATION_TIMEOUT_MS));
              const { query: r } = _.parse(e.url || ''),
                n = await import('qs'),
                { IDEUserToken: o } = n.parse(r);
              o && (this.b = o);
              let a = {};
              try {
                const l = (await this.u.readFile(this.t.argvResource)).value.toString();
                a = JSON.parse(Vc(l));
              } catch {}
              (i.statusCode = 200),
                i.end(
                  K3(
                    this.s.urlProtocol,
                    jh.AUTHORIZATION_TIMEOUT_MS,
                    a.locale || $i,
                    await this.m.getCssCode('Dark'),
                    this.s.provider
                  )
                );
            } else if (e.url?.includes(Cc.LOGIN_SUCCESS))
              try {
                await this.D(this.b), (i.statusCode = 200), i.end();
              } catch (r) {
                r.message.includes('GetAiRegionError:NotAllowed')
                  ? (i.statusCode = 401)
                  : r.message.includes('CloudIDETokenError:LinkExpired')
                  ? (i.statusCode = 402)
                  : (i.statusCode = 500),
                  i.end();
              }
            else if (e.url?.includes(Cc.AUTHORIZE)) {
              const r = e.url.split('?')[1];
              this.D(r, i);
            }
          }
          async D(e, i) {
            const s = this.n;
            if (this.c) {
              let r = !1;
              try {
                (r = await this.c(e, i)),
                  this.r.info('OAuthLocalServer#Received oauth2 jwt success');
              } catch (n) {
                throw (
                  (this.r.error(`OAuthLocalServer#Err occurred during auth code handler: ${n}.`), n)
                );
              }
              s === this.n &&
                r &&
                (this.r.info('OAuthLocalServer#last auth code handler, dispose local server'),
                this.dispose());
            } else this.r.error("OAuthLocalServer#[Server] can't find authCodeHandler.");
          }
          dispose() {
            this.a?.close(),
              this.y(),
              (this.a = void 0),
              (this.b = void 0),
              (this.j = void 0),
              this.r.info('OAuthLocalServer#Authenticator server closed');
          }
        });
    },
  });
function Mr(t, e = []) {
  const i = {};
  if (e.length > ME) return {};
  try {
    for (const s in t)
      typeof t[s] == 'object'
        ? (i[s] = Mr(t[s], [...e, s]))
        : TE.includes(s.toLowerCase())
        ? (i[s] = '******')
        : (i[s] = t[s]);
  } catch (s) {
    console.log(s);
  }
  return i;
}
var TE,
  ME,
  jp = b({
    'out-build/vs/code/electron-main/oauth/common/util.js'() {
      'use strict';
      (TE = [
        'token',
        'refreshtoken',
        'x-cloudide-token',
        'ideusertoken',
        'scope',
        'username',
        'avatar_url',
      ]),
        (ME = 10);
    },
  });
import * as wv from 'https';
import * as FE from 'http';
import * as AG from 'dns';
import * as IG from 'os';
import Wp from 'axios';
var OE,
  RE,
  NE,
  bv,
  BE = b({
    'out-build/vs/code/electron-main/oauth/common/request.js'() {
      'use strict';
      jp(),
        (OE = AG.promises),
        (RE = [
          'ENOTFOUND',
          'ENETUNREACH',
          'ECONNREFUSED',
          'ETIMEDOUT',
          'ECONNABORTED',
          'ERR_NETWORK',
        ]),
        (NE = [
          'CERT_HAS_EXPIRED',
          'UNABLE_TO_GET_ISSUER_CERT_LOCALLY',
          'SELF_SIGNED_CERT_IN_CHAIN',
        ]),
        (bv = class {
          constructor(t, e) {
            (this.e = t),
              (this.f = e),
              (this.a = new wv.Agent({ family: 6 })),
              (this.b = new wv.Agent({ family: 4 })),
              (this.c = new FE.Agent({ family: 6 })),
              (this.d = new FE.Agent({ family: 4 }));
          }
          async request(t) {
            const e = Wp.create({});
            let i;
            const s = this.f.getValue('login.env.ppe'),
              r = {};
            s && ((r['x-tt-env'] = s), (r['x-use-ppe'] = '1')),
              (t.headers = { ...(t.headers || {}), ...r }),
              this.e.info('[Request start]', Mr(t));
            try {
              i = await e.request(t);
            } catch (n) {
              if (
                (this.e.error(
                  '[Request Error]',
                  n,
                  n.code,
                  n.response?.data,
                  n.response?.headers,
                  n.stack,
                  Mr(t)
                ),
                this.e.error(
                  '[Request Error Network]',
                  'network: ',
                  IG.networkInterfaces(),
                  'address: ',
                  n?.request?.socket?.localAddress,
                  n?.request?.socket?.localPort
                ),
                t.url)
              ) {
                const o = new URL(t.url),
                  a = await OE.lookup(o.hostname).catch((c) => {
                    this.e.error('[Request Error]', 'get address from dns error', c);
                  });
                this.e.info('[Request]', 'get address from dns', a);
              }
              if (t.tryAgent && n.code && RE.includes(n.code)) {
                this.e.info('[Request]', 'try http agent for v4 and v6', t);
                const o = Wp.create({ httpsAgent: this.a, httpAgent: this.c }),
                  a = Wp.create({ httpsAgent: this.b, httpAgent: this.d }),
                  c = { v4: new AbortController(), v6: new AbortController() };
                i = await Promise.any([
                  o
                    .request({ ...t, signal: c.v6.signal })
                    .then((l) => (c.v4.abort(), l))
                    .catch((l) => {
                      throw (
                        (this.e.error(
                          '[Request Error]',
                          l,
                          l.code,
                          l.response?.data,
                          l.response?.headers,
                          l.stack
                        ),
                        l)
                      );
                    }),
                  a
                    .request({ ...t, signal: c.v4.signal })
                    .then((l) => (c.v6.abort(), l))
                    .catch((l) => {
                      throw (
                        (this.e.error(
                          '[Request Error]',
                          l,
                          l.code,
                          l.response?.data,
                          l.response?.headers,
                          l.stack
                        ),
                        l)
                      );
                    }),
                ]);
              } else if (NE.includes(n.code))
                i = await Wp.create({ httpsAgent: new wv.Agent({ rejectUnauthorized: !1 }) })
                  .request({ ...t })
                  .then((a) => a)
                  .catch((a) => {
                    throw (
                      (this.e.error(
                        '[Request Error]',
                        a,
                        a.code,
                        a.response?.data,
                        a.response?.headers,
                        a.stack
                      ),
                      a)
                    );
                  });
              else throw n;
            }
            return (
              this.e.info('[Request Success]', 'Header: ', i?.headers),
              this.e.info(
                '[Request Success Network]',
                'local address: ',
                i?.request?.socket?.localAddress,
                i?.request?.socket?.localPort
              ),
              i?.data
            );
          }
        });
    },
  });
import { randomUUID as $G } from 'crypto';
import * as PG from 'qs';
import { stringify as _G } from 'querystring';
var vv,
  Ku,
  UE,
  LG = b({
    'out-build/vs/code/electron-main/oauth/marscode/oauthService.js'() {
      'use strict';
      U(),
        LE(),
        Zs(),
        le(),
        H3(),
        wi(),
        BE(),
        jp(),
        Zs(),
        (vv = ['20324', '20101']),
        (function (t) {
          (t[(t.NO_UserInfo = 1)] = 'NO_UserInfo'),
            (t[(t.Handle_Login_Error = 2)] = 'Handle_Login_Error'),
            (t[(t.No_RefreshToken_Or_LoginHost = 3)] = 'No_RefreshToken_Or_LoginHost'),
            (t[(t.NO_isRedirect = 4)] = 'NO_isRedirect'),
            (t[(t.Handle_Login_NetworkError = 10002)] = 'Handle_Login_NetworkError'),
            (t[(t.Handle_Login_TimeoutError = 10001)] = 'Handle_Login_TimeoutError');
        })(Ku || (Ku = {})),
        (UE = class extends H {
          constructor(t, e, i, s, r, n, o, a, c) {
            super(),
              (this.j = t),
              (this.m = e),
              (this.n = i),
              (this.r = s),
              (this.s = r),
              (this.t = n),
              (this.u = o),
              (this.w = a),
              (this.y = c),
              (this.c = new qu(this.j, this.m, this.n, this.r)),
              (this.f = eb.get(this.m.provider)?.domain || 'www.trae.com.cn'),
              (this.g = eb.get(this.m.provider)?.authFrom || 'trae'),
              (this.h = new bv(this.j, this.u));
          }
          async login(t) {
            this.a || (this.a = new zt()),
              this.j.info('OAuthenticator#start a server to listen for oauth result'),
              await this.c.getServer(),
              this.c.setAuthCodeHandler(this.C.bind(this)),
              this.j.info('OAuthenticator#open oauth url', this.m.provider),
              this.I(await this.c.getPort(), t);
            const e = await this.a.p;
            return (this.a = void 0), e;
          }
          async refreshToken(t, e, i) {
            if (!t) throw new Error('RefreshTokenError:TokenNullError');
            return this.j.info('[refreshToken]', e), await this.D(t, e, i);
          }
          z(t) {
            if (this.m.provider === zi.YINLI) return ii.CN;
            for (const [e, i] of Eu) if (i.region === t) return e;
            return ii.CN;
          }
          async C(t, e) {
            const i = PG.parse(t || '');
            this.j.info('[updateLocalCredential]', Mr(i));
            const s = async (o, a) => {
              if (e) {
                const c = this.H(await this.c.getPort(), 1, o, a);
                e.writeHead(307, { Location: c }), e.end();
              }
            };
            if (!this.a)
              return (
                s(
                  Ku.Handle_Login_TimeoutError,
                  'Sorry, the login authorization has timed out. Please reopen Trae IDE to login.'
                ),
                !0
              );
            if (i?.error_code)
              return this.y.getItem(ku)
                ? (e?.end(), !1)
                : (this.y.setItem(op, '1'),
                  this.j.info('[updateLocalCredential]', 'Login Error', i),
                  this.a?.error(new Error('SetupLoginError:banned')),
                  (this.a = void 0),
                  e?.end(),
                  !0);
            if (!i?.isRedirect || !i?.refreshToken)
              return (
                s(Ku.Handle_Login_Error, ''),
                this.j.info('[updateLocalCredential]', 'Login Error', i),
                this.a?.error(
                  new Error('Login Error' + i?.isRedirect + i?.refreshToken + i?.userRegion)
                ),
                (this.a = void 0),
                !0
              );
            let r, n;
            try {
              i.userJwt && (r = JSON.parse(i.userJwt)), i.userInfo && (n = JSON.parse(i.userInfo));
            } catch (o) {
              this.j.info(
                '[updateLocalCredential]',
                'parse userJwtToken & userInfo Error',
                o.message,
                o.stack
              );
            }
            try {
              const o = this.z(i.userRegion),
                a = await this.D(i.refreshToken, o, i.host, r, n);
              this.j.info('OAuthenticator#write ide_credential file to local path'),
                this.a?.complete(a),
                s();
            } catch (o) {
              this.j.info('[updateLocalCredential]', 'Login Error', o.message, o.stack),
                this.a?.error(o),
                (this.a = void 0),
                s(
                  Ku.Handle_Login_NetworkError,
                  'Network connection failed. Please check your network settings and retry after ensuring a normal connection.'
                );
            }
            return !0;
          }
          async refreshUserInfo(t, e, i) {
            const s = await this.G(t, e, i);
            return {
              username: s.ScreenName,
              iss: '',
              iat: 0,
              organization: '',
              work_country: '',
              email: '',
              avatar_url: s.AvatarUrl,
              description: s.Description,
              scope: di.MARSCODE,
              nonPlainTextMobile: s.NonPlainTextMobile,
            };
          }
          async D(t, e = ii.CN, i, s, r) {
            s || (s = await this.F(t, e, i));
            const { Token: n, RefreshToken: o, TokenExpireAt: a, RefreshExpireAt: c } = s;
            r || (r = await this.G(n, e, i));
            const l = {
              username: r.ScreenName,
              iss: '',
              iat: 0,
              organization: '',
              work_country: '',
              email: '',
              avatar_url: r.AvatarUrl,
              description: r.Description,
              scope: di.MARSCODE,
              nonPlainTextMobile: r.NonPlainTextMobile,
            };
            return {
              token: n,
              refreshToken: o,
              expiredAt: new Date(a).toISOString(),
              refreshExpiredAt: new Date(c).toISOString(),
              userId: r.UserID,
              aiRegion: r.AIRegion,
              region: e,
              host: i,
              account: l,
            };
          }
          async F(t, e, i) {
            const s = Eu.get(e);
            if (!s) throw new Error(`failed:!regionInfo, regionInfo:${s}`);
            const r = `${i || `https://${s.url}`}/cloudide/api/v3/${s.path}/oauth/ExchangeToken`,
              n = { ClientID: s.clientId, RefreshToken: t, ClientSecret: '-', UserID: '' },
              o = { headers: { 'Content-Type': 'application/json' } };
            this.j.info('[getJwtToken]', 'request', r, Mr(n));
            const a = await this.h
              .request({ method: 'POST', url: r, data: n, timeout: 6e4, ...o })
              .catch((c) => {
                this.j.info(
                  '[getJwtToken]',
                  'request error',
                  c.message,
                  c.stack,
                  Mr(c.response?.data)
                );
                const l = c.response?.data?.ResponseMetadata?.Error?.Code;
                throw vv.includes(l) ? new Error(lp.RefreshTokenInvalid) : c;
              });
            if (!a)
              throw (
                (this.j.info('[getJwtToken]', 'response error', 'no response'),
                new Error('[getJwtToken]no response'))
              );
            return this.j.info('[getJwtToken]', 'response success', Mr(a)), a.Result;
          }
          async G(t, e, i) {
            const s = Eu.get(e);
            if (!s) throw new Error(`failed:!providerInfo, region:${e}`);
            const r = `${i || `https://${s.url}`}/cloudide/api/v3/${s.path}/GetUserInfo`,
              n = {},
              o = { headers: { 'Content-Type': 'application/json', 'x-cloudide-token': t } };
            this.j.info('[getUserInfo]', 'request', Mr(o), r, n);
            const a = await this.h
              .request({ method: 'POST', url: r, data: n, timeout: 6e4, ...o })
              .catch((c) => {
                throw (
                  (this.j.info(
                    '[getUserInfo]',
                    'request error',
                    c.message,
                    c.stack,
                    c.response?.data
                  ),
                  c)
                );
              });
            if (!a)
              throw (
                (this.j.info('[getUserInfo]', 'response error', 'no response'),
                new Error('[getUserInfo]no response'))
              );
            return this.j.info('[getUserInfo]', 'response success', a), a.Result;
          }
          H(t, e, i, s) {
            const n = 'http://' + '127.0.0.1' + ':' + t + '/authorize',
              o = W3.get(this.f),
              a = this.m.tronBuildVersion || 'local',
              c = $G(),
              l = this.w?.getCommonParams(),
              h = l?.machine_id || '',
              d = l?.device_id || '',
              p = {
                x_device_id: d,
                x_machine_id: h,
                x_device_brand: l?.device_model,
                x_device_type: l?.os_name,
                x_os_version: l?.os_version,
              },
              m = _G(p);
            let w = `https://${this.f}/authorization?login_version=1&auth_from=${
              this.g
            }&login_channel=native_ide&plugin_version=${a}&auth_type=local&client_id=${o}&redirect=${
              e || 0
            }&login_trace_id=${c}&auth_callback_url=${n}&machine_id=${h}&device_id=${d}&${m}`;
            return i && (w += `&error_code=${i}`), s && (w += `&error_msg=${s}`), w;
          }
          async I(t, e) {
            const i = this.H(t);
            if (!this.s) {
              this.j.error('OAuthenticator# this.nativeHostMainService is undefined');
              return;
            }
            await this.s.openBrowser(e, i),
              this.b && clearTimeout(this.b),
              (this.b = setTimeout(() => {
                this.a?.error(new Error('CloudIDETokenError:LoginTimeoutError')), (this.a = void 0);
              }, qu.TIMEOUT_MS));
          }
          async checkToken(t, e, i) {
            const s = Eu.get(e);
            if (!s) throw new Error(`failed:!providerInfo, region:${e}`);
            const r = `${i || `https://${s.url}`}/cloudide/api/v3/${s.path}/CheckLogin`,
              n = {},
              o = { headers: { 'Content-Type': 'application/json', 'x-cloudide-token': t } };
            try {
              await this.h.request({ method: 'POST', url: r, data: n, timeout: 3e4, ...o });
            } catch (a) {
              this.j.info('[checkToken]', 'request error', a.message, a.stack, a.response?.data);
              const c = a.response?.data?.ResponseMetadata?.Error?.Code;
              if (vv.includes(c)) return !1;
            }
            return !0;
          }
        });
    },
  }),
  jE,
  TG = b({
    'out-build/vs/code/electron-main/oauth/bytedance/oauthService.js'() {
      'use strict';
      U(),
        LE(),
        Zs(),
        le(),
        BE(),
        wi(),
        jp(),
        (jE = class extends H {
          constructor(t, e, i, s, r, n, o, a) {
            super(),
              (this.h = t),
              (this.j = e),
              (this.m = i),
              (this.n = s),
              (this.r = r),
              (this.s = n),
              (this.t = o),
              (this.u = a),
              (this.c = new qu(this.h, this.j, this.m, this.n)),
              (this.f = new bv(this.h, this.t)),
              (this.g =
                this.j.provider === zi.YINLI ? 'ide.bytedance.net' : 'ide-us.tiktok-row.net');
          }
          async login(t) {
            this.a || (this.a = new zt()),
              this.h.info('OAuthenticator#start a server to listen for oauth result'),
              await this.c.getServer(),
              this.c.setAuthCodeHandler(this.D.bind(this), !0),
              this.c.setAuthorizationTimeoutHandler(this.C.bind(this)),
              this.h.info('OAuthenticator#open oauth url'),
              this.F(await this.c.getPort(), t);
            const e = await this.a.p;
            return (this.a = void 0), e;
          }
          async refreshToken(t) {
            if (!t) throw new Error('RefreshTokenError:TokenNullError');
            return await this.z(t);
          }
          async w(t) {
            try {
              const e = await this.f.request({
                method: 'POST',
                url: `https://${this.g}/api/v2?Action=GetUserToken`,
                data: {},
                timeout: 3e4,
                tryAgent: !0,
                headers: { 'X-Cloudide-Token': t },
              });
              if (!e) throw new Error('GetJwtTokenError:ResultNullError');
              return (
                this.h.info('[getJwtToken]', 'Result: ', Mr(e)),
                {
                  Token: e.Result.Token,
                  ExpiredAt: e.Result.ExpiredAt,
                  UserID: e.Result.UserID,
                  TenantID: e.Result.TenantID,
                }
              );
            } catch (e) {
              throw new Error(`GetJwtTokenError:${e}`);
            }
          }
          async y(t) {
            try {
              const e = await this.f.request({
                method: 'POST',
                url: `https://${this.g}/api/v2/GetUserNativeRegion`,
                data: {},
                timeout: 3e4,
                tryAgent: !0,
                headers: { 'X-Cloudide-Token': t },
              });
              if (!e) throw new Error('GetAiRegionError:ResultNullError');
              if (
                (this.h.info('[getAiRegion]', 'Result: ', e),
                !e.Result.Allow || this.t.getValue('login.bytedance.forbidden') === !0)
              )
                throw new Error('GetAiRegionError:NotAllowed');
              return (
                e.Result.AIRegion === '-' && (e.Result.AIRegion = void 0),
                { Allow: e.Result.Allow, AIRegion: e.Result.AIRegion }
              );
            } catch (e) {
              throw new Error(`GetAiRegionError:${e}`);
            }
          }
          async z(t) {
            const e = t?.split('.')[1],
              i = e && e.replace(/-/g, '+').replace(/_/g, '/'),
              s = JSON.parse(decodeURIComponent(escape(atob(i)))),
              {
                avatar_url: r,
                email: n,
                iat: o,
                iss: a,
                organization: c,
                username: l,
                work_country: h,
              } = s;
            if (l) {
              const [{ Token: d, ExpiredAt: p }, m] = await Promise.all([this.w(t), this.y(t)]),
                w = m.AIRegion,
                v = {
                  username: l,
                  iss: a,
                  iat: o,
                  organization: c,
                  work_country: h,
                  email: n,
                  avatar_url: r,
                  scope: di.BYTEDANCE,
                };
              return {
                token: d,
                refreshToken: t,
                expiredAt: p,
                userId: l,
                aiRegion: w,
                account: v,
              };
            } else throw new Error('RefreshTokenError:TokenParseError');
          }
          C() {
            this.a?.error(new Error('CloudIDETokenError:LoginTimeoutError')), (this.a = void 0);
          }
          async D(t) {
            if (t) {
              if ((this.h.info('OAuthenticator#write ide_credential file to local path'), !this.a))
                throw new Error('CloudIDETokenError:LinkExpired');
              const e = await this.z(t).catch((i) => {
                throw (this.a?.error(i), (this.a = void 0), i);
              });
              this.a?.complete(e);
            } else this.a?.error(new Error('CloudIDETokenError:TokenNullError')), (this.a = void 0);
            return !0;
          }
          async F(t, e) {
            const i = `http://127.0.0.1:${t}${Cc.LOGIN_CONFIRM}`,
              s = `https://${this.g}/ide/api/v1/users/login/local?next=${i}`;
            if (!this.r) {
              this.h.error('OAuthenticator# this.nativeHostMainService is undefined');
              return;
            }
            await this.r.openBrowser(e, s),
              this.b && clearTimeout(this.b),
              (this.b = setTimeout(() => {
                this.a?.error(new Error('CloudIDETokenError:LoginTimeoutError')), (this.a = void 0);
              }, qu.TIMEOUT_MS));
          }
          async checkToken() {
            return !0;
          }
        });
    },
  }),
  io,
  Ju,
  Hp,
  Xu = b({
    'out-build/vs/code/electron-main/iCubeSetupManagement.js'() {
      'use strict';
      U(),
        K(),
        Pt(),
        Zs(),
        (function (t) {
          (t.INIT = 'INIT'), (t.PROGRESS = 'PROGRESS'), (t.DONE = 'DONE');
        })(io || (io = {})),
        (Ju = W('IMainICubeSetupManagement')),
        (Hp = class extends H {
          constructor(e) {
            super(), (this.b = e), (this.a = 'ICubeSetupState');
          }
          async get() {
            return this.b.getItem(ku) ? io.DONE : this.b.getItem(this.a) || io.INIT;
          }
          async set(e) {
            this.b.setItem(this.a, e);
          }
        }),
        (Hp = __decorate([__param(0, kt)], Hp));
    },
  });
import * as MG from 'dns';
import { BrowserWindow as FG } from 'electron';
var yv,
  WE,
  fs,
  mn,
  Yu,
  or = b({
    'out-build/vs/code/electron-main/iCubeAuthManagement.js'() {
      'use strict';
      X(),
        se(),
        Ze(),
        Pt(),
        K(),
        U(),
        Ei(),
        $e(),
        le(),
        Xo(),
        Zs(),
        Qr(),
        H3(),
        vt(),
        ft(),
        LG(),
        TG(),
        hi(),
        jp(),
        wi(),
        Ge(),
        ie(),
        Xu(),
        Zs(),
        F4(),
        (WE = ['ide.byted.org', 'ide-us.byted.org']),
        (fs = W('IMainICubeAuthManagementService')),
        (function (t) {
          (t.CREATE_TOKEN = 'CREATE_TOKEN'), (t.REFRESH_TOKEN = 'REFRESH_TOKEN');
        })(mn || (mn = {})),
        (Yu = class extends H {
          static {
            yv = this;
          }
          static {
            this.REFRESH_TOKEN_DURATION = 24 * 60 * 60 * 1e3;
          }
          constructor(e, i, s, r, n, o) {
            super(),
              (this.r = e),
              (this.s = i),
              (this.t = s),
              (this.u = r),
              (this.w = n),
              (this.y = o),
              (this.a = void 0),
              (this.f = new Map()),
              (this.g = void 0),
              (this.h = void 0),
              (this.j = void 0),
              (this.n = new zt()),
              (this.C = this.B(new $())),
              (this.onDidChangeUserInfo = this.C.event),
              (this.D = this.B(new $())),
              (this.onDidChangeAppMetadata = this.D.event),
              (this.F = void 0),
              (this.L = 60 * 60 * 1e3),
              (this.lb = !1),
              (this.F = this.kb()),
              this.W(),
              this.N();
          }
          z(e, i) {
            this.m?.getTeaClient().then((s) => {
              s?.collect(e, i);
            });
          }
          async login(e) {
            return await this.qb(void 0, { forceLogin: !0, provider: e || di.BYTEDANCE });
          }
          get userInfo() {
            return this.Q(this.F);
          }
          get nativeAppMetadata() {
            return { appProvider: this.H + '-' + this.I, appRegion: this.I, appTenant: this.J };
          }
          getNativeAppMetadata() {
            return this.nativeAppMetadata;
          }
          get G() {
            return this.s.getItem(Zw) || ap.CN;
          }
          get H() {
            return di.BYTEDANCE;
          }
          get I() {
            return HF(this.G);
          }
          get J() {
            if (this.F?.account?.scope) return this.F.account.scope;
          }
          N() {
            this.O(),
              (this.M = setInterval(() => {
                this.t.info(
                  '[MainICubeAuthManagementService] Performing scheduled token validity check'
                ),
                  this.Q(this.F);
              }, this.L));
          }
          O() {
            this.M && (clearInterval(this.M), (this.M = void 0));
          }
          dispose() {
            super.dispose(), (this.gb = void 0), (this.gb = void 0), this.O();
          }
          async P(e) {
            const i = e.account.scope;
            if (this.jb) {
              this.t.info('[MainICubeAuthManagementService] verify strick token already run');
              return;
            }
            this.jb = new zt();
            const s = await this.mb(i);
            if (!s) {
              this.t.info('[MainICubeAuthManagementService] no login provider');
              return;
            }
            let r = !0;
            try {
              r = await s.checkToken(e.token, e.region, e.host);
            } catch (n) {
              this.t.info(
                '[MainICubeAuthManagementService] verifyStrickTokenInBackground error',
                n
              );
            }
            r || this.S(void 0, !0), this.jb.complete(), (this.jb = void 0);
          }
          Q(e) {
            const i = this.fb(e),
              s = e?.account.scope || di.BYTEDANCE;
            if (i === 'need-login') {
              if (
                (this.t.info(
                  '[MainICubeAuthManagementService#verifyTokenInBackground] need login according to existed state#auth_info'
                ),
                !e)
              ) {
                this.S(void 0);
                return;
              }
              this.qb(e.refreshToken, { forceLogin: !!e.refreshToken, provider: s });
              return;
            } else
              return i === 'need-refresh'
                ? (this.pb(e?.refreshToken, mn.REFRESH_TOKEN, s), e)
                : (this.P(e), e);
          }
          R() {
            this.g &&
              (this.f.set(
                di.BYTEDANCE,
                new jE(this.t, this.r, this.u, this.w, this.g, this.h, this.y, this.m)
              ),
              this.f.set(
                di.MARSCODE,
                new UE(this.t, this.r, this.u, this.w, this.g, this.h, this.y, this.m, this.s)
              ));
          }
          async initialize(e) {
            (this.g = e.nativeHostMainService),
              (this.h = e.telemetryService),
              (this.j = e.mainICubeSetupManagement),
              (this.a = e.broadcastToCodeWindows),
              (this.b = e.onLoginSuccess),
              (this.c = e.onLogout),
              (this.m = e.iCubeEventReportService),
              this.R(),
              this.n.complete('initialize');
            let i;
            try {
              (i = await this.getAuthUserInfo({ forceLogin: !1 })),
                this.t.info('[MainICubeAuthManagementService] initialize success');
            } catch (s) {
              this.t.error('[MainICubeAuthManagementService] initialize failed due to %s', s);
            } finally {
              this.S(i);
            }
          }
          S(e, i) {
            (!this.F && !e && !i) ||
              ((this.F = this.nb(e)),
              this.C.fire(e),
              this.D.fire(this.nativeAppMetadata),
              this.a?.(nt.MAIN_TO_SANDBOX_SEND_USER_INFO, this.F),
              this.a?.(nt.MAIN_TO_SANDBOX_SEND_APP_METADATA, this.nativeAppMetadata),
              this.t.info('[persistUserInfoWithNotify]', this.U, Mr(e)),
              this.U &&
                (e ? this.s.setItem(this.U, JSON.stringify(e)) : i && this.s.removeItem(this.U)));
          }
          get U() {
            const { authProviderId: e } = this.r.iCubeApp?.nativeAppConfig || {};
            if (e) return `${N3}://${e}`;
          }
          W() {
            this.t.info('[MainICubeAuthManagementService] registerListeners'),
              de.handle(nt.SANDBOX_TO_MAIN_INVOKE_GET_APP_METADATA, this.bb.bind(this)),
              de.handle(nt.SANDBOX_TO_MAIN_INVOKE_GET_USER_INFO, this.cb.bind(this)),
              de.handle(nt.SANDBOX_TO_MAIN_INVOKE_LOGIN, this.ab.bind(this)),
              de.handle(nt.SANDBOX_TO_MAIN_INVOKE_CHECK_BYTEDANCE, this.rb.bind(this)),
              de.on(nt.SANDBOX_TO_MAIN_SEND_OPEN_LOGIN_WINDOW, this.ab.bind(this)),
              de.on(nt.SANDBOX_TO_MAIN_SEND_NEED_REFRESH_USER_INFO, this.$.bind(this)),
              de.handle(nt.SANDBOX_TO_MAIN_SEND_LOGOUT, this.Z.bind(this)),
              de.handle(nt.SANDBOX_TO_MAIN_REFRESH_USERINFO, this.Y.bind(this)),
              de.handle(nt.SANDBOX_TO_MAIN_GET_SETUP_PAGE_LOGIN_FAILED_STATUS, this.X.bind(this));
          }
          async X() {
            const e = this.s.getItem(op) || '';
            return this.s.removeItem(op), e;
          }
          async Y() {
            if (!this.F) return;
            if (this.fb(this.F) === 'valid-token') {
              const i = this.F?.account.scope || di.BYTEDANCE,
                s = await this.mb(i);
              if (!s) {
                this.t.info('[MainICubeAuthManagementService] no login provider');
                return;
              }
              if (s.refreshUserInfo) {
                const r = await s.refreshUserInfo(this.F.token, this.F.region, this.F.host),
                  n = JSON.stringify(this.F.account || {}) !== JSON.stringify(r || {});
                n &&
                  (this.t.info('[MainICubeAuthManagementService] get account info', r, n),
                  this.S({ ...this.F, account: r }));
              }
            }
          }
          Z() {
            return (
              this.U &&
                ((this.F = void 0),
                this.C.fire(void 0),
                this.D.fire(this.nativeAppMetadata),
                this.a?.(nt.MAIN_TO_SANDBOX_SEND_USER_INFO, this.F),
                this.a?.(nt.MAIN_TO_SANDBOX_SEND_APP_METADATA, this.nativeAppMetadata),
                this.s.removeItem(this.U),
                this.c && this.c()),
              Promise.resolve(!0)
            );
          }
          $(e) {
            this.getAuthUserInfo();
          }
          async ab(e, i = di.BYTEDANCE) {
            this.t.info('[MainICubeAuthManagementService]', 'handleOpenLoginWindow');
            const r = FG.getAllWindows().find(
                (o) => o.webContents.mainFrame.processId === e.processId
              ),
              n = await this.qb(void 0, { forceLogin: !0, provider: i, windowId: r?.id });
            return (
              this.t.info('[MainICubeAuthManagementService]', 'show window', r),
              r &&
                (r.isMinimized() && r.restore(),
                J
                  ? (r.setAlwaysOnTop(!0), r.focus(), r.show(), r.setAlwaysOnTop(!1))
                  : (r.focus(), r.show())),
              this.b && this.b(n),
              n
            );
          }
          async bb(e) {
            return this.nativeAppMetadata;
          }
          async cb(e, i = !1) {
            return (
              this.t.info(
                '[MainICubeAuthManagementService] invoke getUserInfo from codeWindow %s',
                e.sender.id
              ),
              this.getAuthUserInfo({ forceLogin: !1 })
            );
          }
          db(e, i, s) {
            (e === mn.CREATE_TOKEN || i) && this.S(void 0, i),
              this.hb &&
                (this.hb.error(s || new Error('Login Failed')),
                (this.hb = void 0),
                (this.ib = void 0)),
              this.gb && (this.gb = void 0);
          }
          eb(e, i) {
            if (
              (this.t.info('[MainICubeAuthManagementService] get userInfo by action %s', i), !e)
            ) {
              this.t.warn('[MainICubeAuthManagementService] userInfo is empty');
              return;
            }
            this.S(e),
              e.refreshToken && (this.lb = !1),
              this.hb && (this.hb.complete(e), (this.hb = void 0), (this.ib = void 0)),
              this.gb && (this.gb = void 0);
          }
          fb(e) {
            if (Lt(e) && e.token && e.expiredAt) {
              const i = Date.parse(e.expiredAt) - Date.now();
              return i <= 0
                ? 'need-login'
                : i <= yv.REFRESH_TOKEN_DURATION
                ? 'need-refresh'
                : 'valid-token';
            }
            return 'need-login';
          }
          kb() {
            if (!this.U) return;
            const e = this.ob();
            if (e)
              try {
                const i = e.account.scope || di.BYTEDANCE;
                if (this.fb(e) === 'need-login') {
                  this.qb(e?.refreshToken, { forceLogin: !!e?.refreshToken, provider: i });
                  return;
                } else
                  return (
                    this.t.info('[MainICubeAuthManagementService] restore userInfoStr success'), e
                  );
              } catch {
                this.t.warn('[MainICubeAuthManagementService] restore userInfoStr failed %s', e);
                return;
              }
          }
          async getAuthUserInfo(e = { forceLogin: !1 }) {
            if (!this.U) return;
            const i = this.ob();
            if (!i) {
              this.S(void 0);
              return;
            }
            try {
              const s = i.account.scope || di.BYTEDANCE,
                r = this.fb(i);
              return r === 'need-login'
                ? (this.t.info(
                    '[MainICubeAuthManagementService#getAuthUserInfo] need login according to existed state#auth_info'
                  ),
                  this.qb(i?.refreshToken, { ...e, provider: s }))
                : (r === 'need-refresh' && this.pb(i.refreshToken, mn.REFRESH_TOKEN, s), i);
            } catch {
              this.t.warn('[MainICubeAuthManagementService] invalid userInfoStr %s', i),
                this.S(void 0);
              return;
            }
          }
          async mb(e) {
            return await this.n.p, this.f.get(e);
          }
          nb(e) {
            if (!e) return;
            const i = e.account.scope === di.MARSCODE && this.r.provider === zi.YINLI;
            return {
              ...e,
              account: {
                ...e.account,
                username: i ? m$($i) : e.account.username,
                avatar_url: i
                  ? 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAJd0lEQVR4nO2dTWxTVxbH/+facYxDwFCR4UvKQ13QitLYaqsuSWYzqxlYshiJUM2CSnXTrGZRDZDFdDMLSowaNjNNVKHSFQE2syLOYiRSkOwQFo00Ei8SNCmI9okkzrMT39OF7eA4tvNs3/f8jP2TkJzk+ZzL/d977se7HwSXEo9yUCAdYuaQEKIXzBqDNDAHAeT/FWIAMIhIB9gAkS6lXCCihIQvEY6Q4fB/wRLU6ATkiUc56OH1MyCcYuZ+AJpSB0QJAhJgTGc6MrHwp7t0pfZrpKECxKMcJE4NChKnc5nuGEQUA2Oi0WI0RIDZaKqfQJeczvRyEGES8Ey8H/FOOu7bKUf50k6gIagOL+rQCTTy/ue+caccOiLAbDQ9BObL2N5wuhXHhLBVgNloqh+Mb+HeEr8TtgthiwDxsTXNsyGuMOOMHfadhojGM97MiB2NtXIBEtHUIDGuoHnCjVVsqQ3KBIhHOeiR6ctMGFJl042QoK8z3DGiamCnRID42Jom1sUUmjfWV4suO+SAipAk6jUQv5YMiXURR+tkPgBoYl1Mxa8lQ/UaqkuARDQ1KKQnjjcv3ltBE9ITT0RTg/UYqVmA2Wh6iLJdzJaGGN8mRs0vav5+LV/KDay+rtXpmwiDh0Of+6vOk6oFyHUzW77kl4IJ50ORzvFqvlOVAPFryVAu5rcpgxSZcPizQMLq85bbgPjYmiak51ZtyWodhPRMxcfWNKvPW6oB8SgHBadbratZD7okX9jKYM1SDfDI9GW0M78aNA+tX7Ly4I414NHo2iBDtBvdGrDSKFcUoAWnGFRjyA4ZrjRlUTEEeTY8l9DO/HoIejbElUoPlK0B7dCjEMJAX6QzVupP3nLfYQhLjYjTPHu5gJU1A+mNNMx0EgDg9wXg8/qwf3cP9nbtg6/D3+BUFpEduB4r9aeSNcCNpf/ZywU8/+0pNuRGxef8vgD2d/fgyFu9DqXMGuWmKkoKMDuaegKXxP70uoknv8zjVbK69x9+XwDHj5x0U20wJPmOFY8NtjXCj0bXBuGizJ9/Nld15gOAmU5i/tmcDamqmSDx9qnrbQK4KfY/fbmwGedrwUwnMf90VmGK6iO3JmoLWwRIRFNn4JLS/8JYxMtXS3XbeZU0aqpBNqHNRlP9hb8QRT+cczQ5FVgyniqztfjrgjJb9UKgLRFmU4D42JrmlnU8SXOlrtBTzKukgaS5osxePTBzfzzKm69wNwXwrKO/ISkqwaq53BQ2a6WwMX4dgsjjmvCzbL5qCpu1Ikic3vwM5MOPO5aKtwKFYUgA7go/rYKH188A+RBEnlMNTU0RnTaMXu2wWReEU0BOAAbqXuGlku5de5vCZj3kQz7l3vf+1uD0bCP+///tOPFmFb8vgJPaR0psqUSSb58QSLuq9Ofp2XdUma393T3KbKlEIB0SzOxKAY681Qu/L1C3Hb8vgAN7/qAgRerJ7oFm0hqdkHK8ffBdeEXZd0Y74hVevH3wXTdNSW+BWGgCAu56c1FAwL8bx4/21SSCV3hx/GgfAv7dNqRMDSS4VwDk6qXlAf9unOj9oKpwtCcQxIneD1yd+QDAIM3LLDUXnVhQEl+HHye1j/DCWMSvK8/LTi/vCQRxaH8v9gRcXaZewxz0ur0GFHIgeAgHgoeQXjdhrpsAgFR6DV3+bng9XtfG+goEvWjC3S2+Dv/rzG6W0l6aYN17xNrUR1uABtMWoMF4kT1pqikCadJcwaq5jCXjKZKp5c23XAf2HgYAdPn34GDwiOu7nwUYXoANN/aEkuYK5hZ+xGP9IZ4szePJ0rzl14pd/m4cO3gc72kf4kTvh66ciMth0Gw0HYeL5oNm5u/h7v0bVWX4TnT5u/HxOwMY6PuLq8Qgohg9iqZuNXo1RNJcwZ2Z73D3/g3bX573BA/jbP8F/LHv9M4P2wwRJr2QWGjkQHhOf4Do7Yt4bvzsiL/nxs8YnbyImZ+m8Lc//R0Hgocc8VsKlrTglcQ6NUCBpLmC76e/wd37Nxz3DQAzP03hsf4QZ/sv4M8f/7UhaWCSupeIEmBnHb8wFvHVD0N4sjTvrOMiVs1l/Pu//8KquYyzpz513D8RJYSEz/KmYhW8MBbx5cQnDc/8Qm7GrmP09j8c9yvhS4jsenXWnXL61Q9DjsX7ariXuIOb02POOSRKhCNkiOxnEXPC583pMVeV/GJuxq5jZv6eI74ISAD5qQjOTNvt8IWxiJux63a7qZvRyYuOLOSV4GkgJ0CG/LafGPvlxCd2u1DCqrmM76e/sd0Pb8gYkBMgHCGDiGJ2OZvTH7gy7pfj7v0bttYCIoqFh7ObtzdnQyXL23Y5nJq9Y5dp27gz851ttiV4Iv95UwCm6g4askrSXMG9RPMJYOcAMR9+gAIB7ApDcws/qjbpCKvmMub0B8rtEmEyH36AohcyDB5R7fCx/lC1ScfQf1HfZZbAROHPWwTInWegq3To5n7/TthQePRQpHNLj7PEPmG+qtJjM/V+ilFdeJiwLcJsFyDbGCvbWNvMAih+N6GXOrxpmwDhCBkq24Iuf7cqU46jMu2lSj9QZlVE7lQPXYXjs/0XmlKEnuBh/PPcf1SZK1n6gQqLQnO3X0ypSkErU+nsuLLrgvoinbHs7UJt6oGIxisd3FdxYVZmQw5DYYPcguiZjUzF9rSiAOHhXToThtWmqXVgwkjhqLcUOy5NDEU6x4mhdGzQChDjqpWDvC2tDc0I32UoHiG/4ei5PNsRSwKEI2TIjBxAuz2wgi4zcsDqJT/t4+sVY9vx9QAQ/iyQYML56pPVGjDhfDWZD9SwPyAU6RxncLtnVASDh6u9PQOoY3tkYtT8gkAVz0VuFWq9Pwaoc39q+z6Z2u6NKaTuVbm5hvkWXHLcpYMYUmQGqo35xai5yvDKmiY8LXXPQLarucMo1wpKNumFh3fpknzhVhgxE+OqJF9YReYD9l1n+yZe/GAwoaaeTiWUb1MNRTrHZUYOENG4atuNggiTMiPDqjMfsPmUjjegNuggnC93+4UKHNmb1IRCGAweqbVvXw2Obg5rAiF0Bl9l6hxXdWP2TjRkf2QimjojgHON3h6bh4hiDB6xM9SU9e20w0LiV9Y08op+ATrn9NHJRBSTLG87WdpLpqNRjospEOMUAyEbdu/rRBQDZ6Yz5J9sZKYX4hoBiolHOSiQDjFzSDBp2cMFKcjMGrKHixSfb2EAMEBkEFiHxIIk1okoIeFLuCXDi/kdRNXADCx5L+QAAAAASUVORK5CYII='
                  : e.account.avatar_url,
              },
            };
          }
          ob() {
            if (!this.U) return;
            const e = this.s.getItem(this.U);
            if (!e) {
              this.t.info(
                '[MainICubeAuthManagementService] no available persist userInfo to restore.'
              );
              return;
            }
            let i;
            try {
              i = this.nb(JSON.parse(e));
            } catch (s) {
              this.t.error('[refreshTokenInBackground] parse userInfoStr failed %s', s);
            }
            return i;
          }
          async pb(e, i = mn.REFRESH_TOKEN, s = di.BYTEDANCE) {
            if (this.lb) {
              this.t.info(
                '[MainICubeAuthManagementService] skip refreshToken due to v1 token has no refresh_token'
              );
              return;
            }
            let r, n;
            if (!this.F && this.U) {
              const a = this.ob();
              if (!a) return;
              (r = a.region), (n = a.host);
            } else (r = this.F?.region), (n = this.F?.host);
            const o = await this.mb(s);
            if (!o) {
              this.t.info('[MainICubeAuthManagementService] no login provider');
              return;
            }
            if (this.gb)
              this.t.info('[MainICubeAuthManagementService] refreshToken is already in background');
            else {
              const a = Date.now();
              this.z('icube_refresh_token_start', {}),
                (this.gb = o.refreshToken(e, r, n)),
                this.gb
                  .then((c) => {
                    this.eb(c, i),
                      this.z('icube_refresh_token_success', { duration: Date.now() - a });
                  })
                  .catch(async (c) => {
                    this.t.error('[MainICubeAuthManagementService] refreshToken failed %s', c);
                    let l = !1;
                    c.message === 'RefreshTokenError:TokenVersionError:1.0' ||
                    c.message === 'RefreshTokenError:TokenNullError'
                      ? (this.lb = !0)
                      : c.message === lp.RefreshTokenInvalid && (l = !0),
                      this.db(i, l),
                      this.z('icube_refresh_token_failure', {
                        duration: Date.now() - a,
                        message: c.message,
                      });
                  });
            }
            return this.gb;
          }
          async qb(e, i) {
            if (((e = e || this.F?.refreshToken), !i?.forceLogin)) {
              this.S(void 0);
              return;
            }
            const s = i?.provider || di.BYTEDANCE,
              r = Date.now();
            if ((this.z('icube_login_start', { provider: s }), e))
              return (
                this.t.info('[MainICubeAuthManagementService] login via refreshToken started'),
                (this.lb = !1),
                this.pb(e, mn.CREATE_TOKEN, i.provider)
              );
            this.hb &&
              (this.t.info('[MainICubeAuthManagementService] login in progress already'),
              this.hb.cancel(),
              (this.hb = void 0),
              (this.ib = void 0)),
              (this.hb = new zt());
            const n = ei();
            this.ib = n;
            const o = await this.mb(s);
            if (!o) {
              this.t.info('[MainICubeAuthManagementService] no login provider'),
                this.z('icube_login_failure', {
                  provider: s,
                  duration: Date.now() - r,
                  message: `no login provider: ${i?.provider}`,
                });
              return;
            }
            return (
              o
                .login(i?.windowId)
                .then(
                  async (a) => (
                    this.j
                      ? (await this.j.get()) === io.DONE
                        ? this.z('icube_login_success', { provider: s, duration: Date.now() - r })
                        : this.s.setItem(
                            np,
                            JSON.stringify([
                              {
                                event: 'icube_login_success',
                                params: { provider: s, duration: Date.now() - r },
                              },
                            ])
                          )
                      : this.z('icube_login_success', { provider: s, duration: Date.now() - r }),
                    this.eb(a, mn.CREATE_TOKEN),
                    a
                  )
                )
                .catch((a) => {
                  if (n !== this.ib) {
                    this.t.info('[MainICubeAuthManagementService] login operate is expired');
                    return;
                  }
                  this.t.error('[MainICubeAuthManagementService] login failed %s', a),
                    this.z('icube_login_failure', {
                      provider: s,
                      duration: Date.now() - r,
                      message: a.message,
                    }),
                    this.db(mn.CREATE_TOKEN, !1, a);
                }),
              await this.hb.p
            );
          }
          async rb() {
            try {
              return (
                await Promise.race([
                  Promise.any(
                    WE.map(
                      (e) =>
                        new Promise((i, s) => {
                          MG.lookup(e, (r, n, o) => {
                            r ? s(r) : i(n);
                          });
                        })
                    )
                  ),
                  new Promise((e, i) => {
                    setTimeout(() => {
                      i();
                    }, 3e3);
                  }),
                ]),
                !0
              );
            } catch (e) {
              return this.t.info('[handleCheckBytedance]', e), !1;
            }
          }
        }),
        __decorate([e6(300)], Yu.prototype, '$', null),
        (Yu = yv =
          __decorate(
            [
              __param(0, Be),
              __param(1, kt),
              __param(2, ee),
              __param(3, dt),
              __param(4, $t),
              __param(5, Ve),
            ],
            Yu
          ));
    },
  });
import { URL as OG } from 'url';
import { HttpError as RG, newError as NG } from 'builder-util-runtime';
import { Provider as BG } from 'electron-updater';
import {
  parseUpdateInfo as UG,
  resolveFiles as jG,
} from 'electron-updater/out/providers/Provider.js';
function HE(t, e = !1) {
  const i = new OG(t),
    s = i.search;
  return (
    s !== null && s.length !== 0
      ? (i.search = s)
      : e && (i.search = `t=${Date.now().toString(32)}`),
    i
  );
}
function WG(t) {
  return { version: t.version, productVersion: t.version };
}
var zE,
  VE = b({
    'out-build/vs/platform/update/electron-main/CustomProvider.js'() {
      'use strict';
      zE = class extends BG {
        constructor(t, e, i) {
          super(i), (this.b = t), (this.c = e), (this.a = this.b.feedUrl);
        }
        async getLatestVersion() {
          const t = HE(this.a, !0);
          for (let e = 0; ; e++)
            try {
              return UG(await this.httpRequest(t), '', t);
            } catch (i) {
              if (i instanceof RG && i.statusCode === 404)
                throw NG(
                  `Cannot find update info: ${i.stack || i.message}`,
                  'ERR_UPDATER_CHANNEL_FILE_NOT_FOUND'
                );
              if (i.code === 'ECONNREFUSED' && e < 3) {
                await new Promise((s, r) => {
                  try {
                    setTimeout(s, 1e3 * e);
                  } catch (n) {
                    r(n);
                  }
                });
                continue;
              }
              throw i;
            }
        }
        resolveFiles(t) {
          return jG(t, this.a);
        }
      };
    },
  });
import { join as zp } from 'path';
import { readFileSync as GE } from 'fs';
var Qu,
  kv,
  qE,
  HG = b({
    'out-build/vs/platform/update/electron-main/tronClientChecker.js'() {
      'use strict';
      Ir(),
        jt(),
        (Qu = {
          cn: { internal: 'https://tron.bytedance.net', external: 'https://tron.jiyunhudong.com' },
          sg: {
            internal: 'https://tron-sg.bytedance.net',
            external: 'https://tron-sg.bytelemon.com',
          },
        }),
        (kv = '/api/sdk/check_update'),
        (qE = class {
          constructor(t) {
            (this.pid = t.pid),
              (this.region = t.region || 'cn'),
              (this.external = t.external),
              (this.logger = t.logger),
              (this.deviceId = t.deviceId),
              (this.appPath = t.appPath),
              (this.request = t.request),
              (this.branch = this.getBranch()),
              (this.buildId = this.getbuildId());
          }
          get getBaseUrl() {
            let t = '';
            return (
              this.external
                ? (t = this.region === 'sg' ? Qu.sg.external : Qu.cn.external)
                : (t = this.region === 'sg' ? Qu.sg.internal : Qu.cn.internal),
              this.logger.trace('[tronClient] base url is set to', t),
              t
            );
          }
          getbuildId() {
            const t = GE(zp(this.appPath, 'package.json'), 'utf-8'),
              e = Number(JSON.parse(t).buildId);
            if (!e)
              throw new Error(
                `tron can't find buildId in in ${zp(
                  this.appPath,
                  'package.json'
                )}, you must run tron-client memorize before build`
              );
            return e;
          }
          getBranch() {
            const t = GE(zp(this.appPath, 'package.json'), 'utf-8'),
              { branch: e } = JSON.parse(t);
            if (e) return this.logger.info(`tron checker branch is set to ${e}`), e;
            {
              const i = `tron can't find branch in ${zp(
                this.appPath,
                'package.json'
              )}, you must run tron-client memorize before build`;
              throw new Error(i);
            }
          }
          async checkForUpdate(t) {
            let e = `${this.getBaseUrl}${kv}?pid=${this.pid}&uid=${this.deviceId}&branch=${this.branch}&buildId=${this.buildId}`;
            t &&
              t !== this.branch &&
              (e = `${this.getBaseUrl}${kv}?pid=${this.pid}&uid=${this.deviceId}&branch=${t}&buildId=`),
              this.logger.info(`[tronClient] checkForUpdate url: ${e}`);
            const i = async () => {
              const s = await this.request.request({ url: e }, gt.None).then(Hf);
              if (!s || s.err_code !== 0) {
                const r = s?.err_message || '[tronClient] unknown error';
                throw new Error(r);
              }
              return s.data;
            };
            try {
              return await this.a(i, 3);
            } catch (s) {
              return this.logger.error(`[checkForUpdate] error: ${s}`), { needUpdate: !1 };
            }
          }
          async a(t, e) {
            let i = 0;
            for (; i < e; )
              try {
                return await t();
              } catch (s) {
                if ((this.logger.warn(`[retryRequest] Attempt ${i + 1} failed: ${s}`), i++, i >= e))
                  throw new Error(`[retryRequest] All ${e} attempts failed`);
                await new Promise((r) => setTimeout(r, 1500));
              }
            throw new Error('[retryRequest] Unexpected error');
          }
        });
    },
  });
function zG(t, e, i) {
  return `${i.updateUrl}/api/update/${t}/${e}/${i.commit}`;
}
var Zu,
  KE = b({
    'out-build/vs/platform/update/electron-main/abstractUpdateService.js'() {
      'use strict';
      le(),
        jt(),
        X(),
        Ge(),
        vt(),
        St(),
        se(),
        Ze(),
        Ir(),
        ln(),
        (Zu = class {
          get state() {
            return this.f;
          }
          setState(e) {
            this.m.info('update#setState', e.type, e), (this.f = e), this.g.fire(e);
          }
          setForceUpdate(e) {
            this.m.info('update#setForceUpdate', e), this.h.fire(e);
          }
          constructor(e, i, s, r, n, o) {
            (this.i = e),
              (this.j = i),
              (this.k = s),
              (this.l = r),
              (this.m = n),
              (this.n = o),
              (this.c = !1),
              (this.f = Ie.Uninitialized),
              (this.g = new $()),
              (this.onStateChange = this.g.event),
              (this.h = new $()),
              (this.onForceUpdate = this.h.event),
              e.when(3).finally(() => this.o());
          }
          async o() {
            if (!this.k.isBuilt) {
              this.setState(Ie.Disabled(0));
              return;
            }
            if (this.k.disableUpdates) {
              this.setState(Ie.Disabled(1)),
                this.m.info('update#ctor - updates are disabled by the environment');
              return;
            }
            if (!this.n.updateUrl || !this.n.commit) {
              this.setState(Ie.Disabled(3)),
                this.m.info('update#ctor - updates are disabled as there is no update URL');
              return;
            }
            const e = this.j.getValue('update.mode'),
              i = this.p(e);
            if (!i) {
              this.setState(Ie.Disabled(2)),
                this.m.info('update#ctor - updates are disabled by user preference');
              return;
            }
            if (((this.d = this.w(i)), !this.d)) {
              this.setState(Ie.Disabled(4)),
                this.m.info('update#ctor - updates are disabled as the update URL is badly formed');
              return;
            }
            if (this.j.getValue('_update.prss')) {
              const s = new URL(this.d);
              s.searchParams.set('prss', 'true'), (this.d = s.toString());
            }
            if ((this.setState(Ie.Idle(this.t())), e === 'manual')) {
              this.m.info(
                'update#ctor - manual checks only; automatic updates are disabled by user preference'
              );
              return;
            }
            e === 'start'
              ? (this.m.info(
                  'update#ctor - startup checks only; automatic updates are disabled by user preference'
                ),
                setTimeout(() => this.checkForUpdates(!1), 30 * 1e3))
              : this.q(30 * 1e3).then(void 0, (s) => this.m.error(s));
          }
          p(e) {
            return e === 'none' ? void 0 : this.n.quality;
          }
          q(e = 60 * 60 * 1e3) {
            const i = this.j.getValue('update.interval');
            return (
              this.m.info(`ICUBE:update scheduleCheckForUpdates, updateInterval -> ${i}`),
              Ji(e)
                .then(() => this.checkForUpdates(!1))
                .then(() => this.q(i ? i * 60 * 1e3 : 60 * 60 * 1e3))
            );
          }
          async checkForUpdates(e) {
            this.m.trace('update#checkForUpdates, state = ', this.state.type),
              this.state.type === 'idle' && this.x(e);
          }
          async downloadUpdate() {
            this.m.info('update#downloadUpdate, state = ', this.state.type),
              this.state.type === 'available for download' && (await this.r(this.state));
          }
          async r(e) {}
          async applyUpdate() {
            this.m.info('update#applyUpdate, state = ', this.state.type),
              this.state.type === 'downloaded' && (await this.s());
          }
          async s() {}
          quitAndInstall() {
            return (
              this.m.trace('update#quitAndInstall, state = ', this.state.type),
              this.state.type !== 'ready' ||
                (this.m.trace('update#quitAndInstall(): before lifecycle quit()'),
                this.i.quit(!0).then((e) => {
                  this.m.trace(`update#quitAndInstall(): after lifecycle quit() with veto: ${e}`),
                    !e &&
                      (this.m.trace('update#quitAndInstall(): running raw#quitAndInstall()'),
                      this.v());
                })),
              Promise.resolve(void 0)
            );
          }
          async isLatestVersion() {
            if (!this.d) return;
            if (this.j.getValue('update.mode') === 'none') return !1;
            try {
              return (await this.l.request({ url: this.d }, gt.None)).res.statusCode === 204;
            } catch (i) {
              this.m.error('update#isLatestVersion(): failed to check for updates'),
                this.m.error(i);
              return;
            }
          }
          async _applySpecificUpdate(e) {}
          t() {
            return 1;
          }
          v() {}
        }),
        (Zu = __decorate(
          [
            __param(0, st),
            __param(1, Ve),
            __param(2, dt),
            __param(3, an),
            __param(4, ee),
            __param(5, Be),
          ],
          Zu
        ));
    },
  }),
  wn,
  eh,
  Sv,
  Vp,
  JE = b({
    'out-build/vs/platform/downloadRepoter/electron-main/downloadRepoter.js'() {
      'use strict';
      Pt(),
        U(),
        Ze(),
        ls(),
        (function (t) {
          (t.FIRST_INSTALL = 'first_install'), (t.UPDATE = 'update'), (t.INSTALL = 'install');
        })(wn || (wn = {})),
        (eh = 'iCubeInstallAction'),
        (Sv = 'iCubeLastVersion'),
        (Vp = class extends H {
          constructor(e, i, s) {
            super(), (this.a = e), (this.b = i), (this.c = s), this.g();
          }
          f({ action: e }) {
            this.c.getTeaClient().then((i) => {
              i?.collect('native_ide_installed', { action: e });
            });
          }
          g() {
            const e = this.a.getItem(eh) || wn.FIRST_INSTALL,
              i = this.a.getItem(Sv);
            switch (e) {
              case wn.FIRST_INSTALL:
                this.f({ action: e }), this.a.setItem(eh, wn.INSTALL);
                break;
              case wn.INSTALL:
                i !== this.b.tronBuildVersion && this.f({ action: e });
                break;
              case wn.UPDATE:
                this.f({ action: e }), this.a.setItem(eh, wn.INSTALL);
                break;
            }
            this.a.setItem(Sv, this.b.tronBuildVersion);
          }
        }),
        (Vp = __decorate([__param(0, kt), __param(1, Be), __param(2, Bi)], Vp));
    },
  }),
  ra,
  th = b({
    'out-build/vs/platform/dynamicConfig/common/iCubeDynamicConfig.js'() {
      'use strict';
      K(), (ra = W('IICubeDynamicConfigService'));
    },
  });
import * as Gp from 'electron';
import { compare as Ev } from 'semver';
var Dc,
  XE = b({
    'out-build/vs/platform/update/electron-main/abstractICubeUpdateService.js'() {
      'use strict';
      HG(),
        U(),
        Ge(),
        vt(),
        St(),
        se(),
        Ze(),
        Ir(),
        Gt(),
        ln(),
        KE(),
        cu(),
        pc(),
        Pt(),
        or(),
        Zs(),
        wi(),
        JE(),
        Gn(),
        Qr(),
        mi(),
        th(),
        (Dc = class extends Zu {
          constructor(e, i, s, r, n, o, a, c, l, h, d, p) {
            super(e, i, r, n, o, a),
              (this.J = s),
              (this.K = c),
              (this.L = l),
              (this.M = h),
              (this.N = d),
              (this.O = p),
              (this.e = new je()),
              (this.y = null),
              (this.z = null),
              (this.A = null),
              (this.B = null),
              (this.C = 10 * 1e3),
              (this.D = null),
              (this.E = 10 * 1e3),
              (this.F = null),
              (this.G = null),
              e.setRelaunchHandler(this);
          }
          async handleRelaunch(e) {
            if (
              (this.J.publicLog2('update:relaunch', {
                currentVersion: this.n.tronBuildVersion || this.n.version,
                nextVersion: this.A || 'Unknown',
              }),
              this.m.info('update#handleRelaunch(): options = ', e),
              e?.addArgs ||
                e?.removeArgs ||
                (this.m.info('update#handleRelaunch(): state = ', this.state.type),
                this.state.type !== 'ready'))
            )
              return !1;
            const i = await this.X();
            return (
              this.m.info('update#handleRelaunch(): updateInfo = ', i),
              this.m.info('update#handleRelaunch(): nextVersion = ', this.A),
              this.A !== 'specific' && i && i.version !== this.A
                ? (this.setState(Ie.Recheck), this.x(!0, i), !1)
                : (this.m.info('update#handleRelaunch(): running raw#doQuitAndInstall()'),
                  this.i.quit(!0).then((s) => {
                    this.m.trace(`update#quitAndInstall(): after lifecycle quit() with veto: ${s}`),
                      !s &&
                        (this.m.trace('update#quitAndInstall(): running raw#quitAndInstall()'),
                        this.v());
                  }),
                  !0)
            );
          }
          async quitAndInstall() {
            return (
              this.m.info('update#quitAndInstall, state = ', this.state.type),
              this.state.type !== 'ready'
                ? (this.m.error('update#quitAndInstall(): not ready to install'),
                  Promise.resolve(void 0))
                : (this.m.info('update#quitAndInstall(): running raw#quitAndInstall()'),
                  await this.handleRelaunch(),
                  Promise.resolve(void 0))
            );
          }
          async o() {
            if (
              (await this.O.whenReady,
              this.O.remove('featureVersion/releaseBranch', -1),
              this.e.add(this.N.onDidUpdateConfig(this.R.bind(this))),
              !this.k.isBuilt)
            ) {
              this.setState(Ie.Disabled(0));
              return;
            }
            this.m.info(
              `ICUBE:update#isPackaged = ${
                Gp.app.isPackaged
              }, version = ${Gp.app.getVersion()}, name = ${Gp.app.getName()}`
            );
            const e = await this.L.getAuthUserInfo({ forceLogin: !1 });
            if (
              (await this.V(e),
              this.e.add(
                this.L.onDidChangeUserInfo(async (s) => {
                  this.m.info('update#initialize: user info change, reinit tron client'),
                    await this.V(s);
                })
              ),
              this.k.disableUpdates)
            ) {
              this.setState(Ie.Disabled(1)),
                this.m.info('update#ctor - updates are disabled by the environment');
              return;
            }
            const i = this.j.getValue('update.mode');
            if (i === 'none') {
              this.setState(Ie.Disabled(2)),
                this.m.info('update#ctor - updates are disabled by user preference');
              return;
            }
            if ((this.setState(Ie.Idle(this.t())), i === 'manual')) {
              this.m.info(
                'update#ctor - manual checks only; automatic updates are disabled by user preference'
              );
              return;
            }
            i === 'start'
              ? (this.m.info(
                  'update#ctor - startup checks only; automatic updates are disabled by user preference'
                ),
                setTimeout(() => this.checkForUpdates(!1), 30 * 1e3))
              : this.q(30 * 1e3).then(void 0, (s) => this.m.error(s));
          }
          async Q(e) {
            if (!e) return;
            const i = e.iCubeApp?.forceUpdate;
            if (!i) return;
            const s = (i.items || []).sort((n, o) => o.order - n.order).filter(this.U.bind(this));
            if (s.length === 0) return;
            const r = s[0];
            return (
              this.m.info(
                `forceUpdate#checkForceUpdate: force update, checkVersion = ${
                  r.version
                }, appVersion = ${this.n.appVersion} reason = ${JSON.stringify(r.message)}`
              ),
              (r.checkInterval = i.checkInterval),
              r
            );
          }
          async R(e) {
            const i = await this.Q(e);
            if (!i) {
              this.F && clearTimeout(this.F), (this.F = null), this.S();
              return;
            }
            this.F ||
              (this.F = setTimeout(() => {
                this.m.trace('forceUpdate#initCheck: check update'), this.T(i);
              }, this.E)),
              (!i.silentInterval ||
                !i.checkInterval ||
                i?.checkInterval != this.H?.checkInterval ||
                !Ws(i, this.H) ||
                i?.level !== this.H?.level) &&
                this.S(),
              i.silentInterval &&
                !this.G &&
                i.checkInterval &&
                (this.G = setInterval(() => {
                  this.m.trace('forceUpdate#intervalCheck: recheck update'), this.T(i);
                }, i.checkInterval)),
              (this.H = i);
          }
          S() {
            this.G && clearInterval(this.G), (this.G = null);
          }
          async T(e) {
            this.state.type === 'ready' ? this.setForceUpdate(e) : this.checkForUpdates(!1, !0);
          }
          U(e) {
            if (!e.enable) return !1;
            const i = this.n.appVersion;
            if (!i) return !1;
            switch (e.type) {
              case 'compare':
                return Ev(i, e.version) === -1;
              case 'between':
                return (
                  (e.version?.filter((r) => {
                    const [n, o] = r.split('~');
                    return Ev(i, n) === 1 && Ev(i, o) === -1;
                  })).length > 0
                );
              case 'match':
                return e.version?.includes(i);
              default:
                return !1;
            }
          }
          async V(e) {
            let i;
            try {
              i = await this.K.getRegionByLocation();
            } catch {
              this.n.provider === zi.YINLI ? (i = ii.CN) : (i = ii.SG);
            }
            const s = e?.userId || (await i3(this.m.error.bind(this.m))),
              r = this.n.quality;
            this.m.info(`update#initialize: region = ${i}, deviceId = ${s}, quality = ${r}`);
            const n = {
              pid: this.n.iCubeApp?.nativeAppConfig?.tron.pid || '7409949320595642651',
              region: i.toLowerCase() === 'cn' ? 'cn' : 'sg',
              external: this.n.iCubeApp?.nativeAppConfig?.tron.external || !0,
              deviceId: `${r}_${s}`,
              appPath: Gp.app.getAppPath(),
              logger: this.m,
              request: this.l,
            };
            this.m.debug('ICUBE: tron config', n), (this.y = new qE(n));
          }
          async W() {
            const i = (await this.K.getRegionByLocation()).toLowerCase();
            return i === 'cn'
              ? 'cn'
              : i === 'us'
              ? 'va'
              : i === 'sg'
              ? 'sg'
              : this.n.provider === zi.SPRING
              ? 'va'
              : 'cn';
          }
          async X() {
            if (!this.y) {
              this.m.error('ICUBE:update#getUpdateInfo - tron is not inited');
              return;
            }
            try {
              const e = this.O.get('featureVersion/releaseBranch', -1);
              this.m.info(
                `ICUBE:CheckUpdate -> current
`,
                { buildId: this.y.buildId, branch: this.y.branch, customReleaseBranch: e }
              );
              const i = await this.y.checkForUpdate(e);
              this.m.debug('ICUBE:update#tron.checkForUpdate', JSON.stringify(i, null, 2));
              const s = await this.W();
              let r = '';
              const n = i.manifest?.[this.platform]?.urls?.length || 0;
              if (
                (n === 1
                  ? (r = i.manifest?.[this.platform]?.urls[0].url)
                  : (r = i.manifest?.[this.platform]?.urls.find((o) => o.region === s)?.url || ''),
                this.m.info(
                  `ICUBE:CheckUpdate -> feedURL
`,
                  { userRegion: s, feedURL: r }
                ),
                r)
              ) {
                let o = `${r}/latest_${process.arch}`;
                n > 1 && (o = `${o}_${s}`);
                const a = i.manifest?.[this.platform]?.version;
                return (
                  this.m.info(
                    `ICUBE:CheckUpdate -> Found New Version
`,
                    {
                      currentBuildId: this.y.getbuildId(),
                      newBuildId: i.buildId,
                      feedURL: o,
                      version: a,
                    }
                  ),
                  this.A === a
                    ? (this.m.info('ICUBE:CheckUpdate -> Already Download New Version'),
                      this.J.publicLog2('update:checkUpdate', {
                        isExplicit: this.c,
                        success: !0,
                        currentVersion: this.n.tronBuildVersion || this.n.version,
                        nextVersion: a,
                        hasDownloaded: !0,
                      }),
                      { feedURL: o, version: a, hasDownloaded: !0 })
                    : (this.J.publicLog2('update:checkUpdate', {
                        isExplicit: this.c,
                        success: !0,
                        currentVersion: this.n.tronBuildVersion || this.n.version,
                        nextVersion: a,
                        hasDownloaded: !1,
                      }),
                      { feedURL: o, version: a, hasDownloaded: !1 })
                );
              }
              this.m.info('ICUBE:CheckUpdate -> Not Available Version');
              return;
            } catch (e) {
              this.J.publicLog2('update:checkUpdate', {
                isExplicit: this.c,
                success: !1,
                currentVersion: this.n.tronBuildVersion || this.n.version,
                error: e instanceof Error ? e.message : String(e),
              }),
                this.m.error('ICUBE:update#tron.checkForUpdate', e);
              return;
            }
          }
          Y() {
            this.m.info('update#onUpdateNotAvailable(): state = ', this.state.type),
              this.state.type === 'checking for updates' &&
                (this.J.publicLog2('update:notAvailable', { explicit: this.state.explicit }),
                this.setState(Ie.Idle(1)));
          }
          async checkForUpdates(e, i = !1) {
            this.m.info(
              `update#checkForUpdates, state = ${this.state.type}, isExplicit = ${this.c}, forceUpdate = ${i}`
            );
            const s = this.state.type === 'disabled' && i;
            (this.state.type !== 'idle' && this.state.type !== 'ready' && !s) ||
              ((this.c = e), this.x(e));
          }
          dispose() {
            this.e.dispose();
          }
          w(e) {}
          $(e) {
            this.m.error('UpdateService error:', e),
              this.m.info(
                `state.type: ${this.state.type}, isExplicit: ${this.c}, nextVersion: ${this.A}`
              ),
              this.cb();
            const i = this.state.type === 'downloading' && this.c && this.z ? this.z : void 0;
            this.setState(Ie.Idle(1, i)),
              this.J.publicLog2('update:error', {
                isExplicit: this.c,
                currentVersion: this.n.tronBuildVersion || this.n.version,
                nextVersion: this.A ?? void 0,
                error: e,
              }),
              (this.z = null),
              (this.A = null);
          }
          ab(e) {
            this.m.info('ICUBE:updateAvailable', e),
              this.state.type === 'checking for updates' &&
                (this.setState(Ie.Downloading({ ...e, silent: !this.c })),
                (this.z = e.version),
                this.J.publicLog2('update:downloading', {
                  currentVersion: this.n.tronBuildVersion || this.n.version,
                  nextVersion: this.A ?? void 0,
                  isExplicit: this.c,
                }));
          }
          bb(e) {
            (this.state.type !== 'downloading' && this.state.type !== 'updating') ||
              (this.M.setItem(eh, wn.UPDATE),
              this.J.publicLog2('update:downloaded', {
                isExplicit: this.c,
                currentVersion: this.n.tronBuildVersion || this.n.version,
                nextVersion: e.productVersion || e.version,
                elapsed: this.B?.elapsed() || 0,
              }),
              this.J.publicLog2('update:hasDownloaded', {
                isExplicit: this.c,
                currentVersion: this.n.tronBuildVersion || this.n.version,
                nextVersion: e.productVersion || e.version,
                elapsed: this.B?.elapsed() || 0,
              }),
              this.m.info('update#onUpdateDownloaded(): update = ', e),
              (this.A = e.productVersion || e.version || null),
              this.R(this.N.getDynamicConfigData?.()));
          }
          cb() {
            this.D && (clearTimeout(this.D), (this.D = null));
          }
          db(e, i) {
            const s = !this.c;
            this.setState(Ie.Updating({ ...e, silent: s })),
              (this.D = setTimeout(() => {
                i?.();
              }, this.C));
          }
          eb(e) {
            this.m.info('update#onDownloadProgress(): progressInfo = ', e),
              this.state.type === 'downloading' &&
                (this.setState(
                  Ie.Downloading({ ...this.state.update, silent: !this.c }, e.percent)
                ),
                this.J.publicLog2('update:progress', {
                  isExplicit: this.c,
                  currentVersion: this.n.tronBuildVersion || this.n.version,
                  nextVersion: this.state.update.version,
                  elapsed: this.B?.elapsed() || 0,
                  total: e.total,
                  percent: e.percent,
                  bytesPerSecond: e.bytesPerSecond,
                }));
          }
        }),
        __decorate([e6(1e3)], Dc.prototype, 'checkForUpdates', null),
        (Dc = __decorate(
          [
            __param(0, st),
            __param(1, Ve),
            __param(2, Vt),
            __param(3, dt),
            __param(4, an),
            __param(5, ee),
            __param(6, Be),
            __param(7, dn),
            __param(8, fs),
            __param(9, kt),
            __param(10, ra),
            __param(11, Vn),
          ],
          Dc
        ));
    },
  });
import VG from 'electron-updater';
var bn,
  GG = b({
    'out-build/vs/platform/update/electron-main/iCube.updateService.darwin.js'() {
      'use strict';
      Qr(),
        X(),
        Ge(),
        vt(),
        St(),
        se(),
        Ze(),
        Ir(),
        Gt(),
        ln(),
        Hr(),
        pc(),
        Pt(),
        or(),
        VE(),
        XE(),
        th(),
        Gn(),
        (bn = class extends Dc {
          get gb() {
            return P.fromNodeEventEmitter(
              this.fb,
              'error',
              (e, i) => i || e.message || 'Unknown error'
            );
          }
          get hb() {
            return P.fromNodeEventEmitter(this.fb, 'update-not-available');
          }
          get ib() {
            return P.fromNodeEventEmitter(this.fb, 'update-available', (e) => ({
              version: e.version,
              productVersion: e.version,
            }));
          }
          get jb() {
            return P.fromNodeEventEmitter(this.fb, 'update-downloaded', (e) => ({
              version: e.version,
              productVersion: e.version,
              date: e.releaseDate,
            }));
          }
          get kb() {
            return P.fromNodeEventEmitter(this.fb, 'download-progress', (e) => e);
          }
          constructor(e, i, s, r, n, o, a, c, l, h, d, p) {
            super(e, i, s, r, n, o, a, c, l, h, d, p),
              (this.platform = 'darwin'),
              (this.fb = VG.autoUpdater),
              (this.fb.allowDowngrade = !0),
              (this.fb.logger = this.m),
              this.gb(this.$, this, this.e),
              this.ib(this.ab, this, this.e),
              this.jb(this.bb, this, this.e),
              this.hb(this.Y, this, this.e),
              this.kb(this.eb, this, this.e);
          }
          async o() {
            this.k.isBuilt || (this.fb.forceDevUpdateConfig = !0), super.o();
          }
          x(e, i) {
            this.setState(Ie.CheckingForUpdates(e)),
              (this.c = e),
              (i ? Promise.resolve(i) : this.X())
                .then((r) => {
                  r
                    ? r.hasDownloaded
                      ? (this.m.info(
                          'ICUBE:update#CheckUpdate -> Has Download New Package, set State to Ready'
                        ),
                        this.setState(
                          Ie.Ready({
                            version: r.version,
                            productVersion: r.version,
                            url: r.feedURL,
                          })
                        ))
                      : (this.fb?.setFeedURL({
                          provider: 'custom',
                          forceUpdate: 'true',
                          updateProvider: zE,
                          feedUrl: r.feedURL,
                          version: `${r.version}`,
                        }),
                        (this.B = gr.create(!1)),
                        this.fb
                          ?.checkForUpdates()
                          .then((n) => {
                            n
                              ? (this.m.info(
                                  'ICUBE:update#CheckUpdate -> updateCheckResult.updateInfo'
                                ),
                                this.m.info(JSON.stringify(n.updateInfo)))
                              : (this.m.info(
                                  'ICUBE:update#CheckUpdate -> updateCheckResult is null'
                                ),
                                this.Y());
                          })
                          .catch((n) => {
                            this.m.error('ICUBE:update#CheckUpdate -> error in checkForUpdates', n);
                          }))
                    : this.Y();
                })
                .catch((r) => {
                  this.m.error(
                    `ICUBE:CheckUpdate -> Error
`,
                    r
                  ),
                    this.A
                      ? (this.m.info(
                          'ICUBE:CheckUpdate -> set state to Ready due to the next version has been downloaded'
                        ),
                        this.setState(Ie.Ready({ version: this.A, productVersion: this.A })))
                      : (this.m.info('ICUBE:CheckUpdate -> set state to idle'), this.Y());
                });
          }
          bb(e) {
            super.bb(e),
              this.db(e, () => {
                this.setState(Ie.Ready(e));
              });
          }
          v() {
            this.m.info('update#quitAndInstall(): running raw#quitAndInstall()'),
              this.fb.quitAndInstall();
          }
        }),
        __decorate([ye], bn.prototype, 'gb', null),
        __decorate([ye], bn.prototype, 'hb', null),
        __decorate([ye], bn.prototype, 'ib', null),
        __decorate([ye], bn.prototype, 'jb', null),
        __decorate([ye], bn.prototype, 'kb', null),
        (bn = __decorate(
          [
            __param(0, st),
            __param(1, Ve),
            __param(2, Vt),
            __param(3, dt),
            __param(4, an),
            __param(5, ee),
            __param(6, Be),
            __param(7, dn),
            __param(8, fs),
            __param(9, kt),
            __param(10, ra),
            __param(11, Vn),
          ],
          bn
        ));
    },
  }),
  qp,
  qG = b({
    'out-build/vs/platform/update/electron-main/updateService.linux.js'() {
      'use strict';
      jt(),
        Ge(),
        vt(),
        St(),
        se(),
        uc(),
        Ze(),
        Ir(),
        ln(),
        KE(),
        (qp = class extends Zu {
          constructor(e, i, s, r, n, o, a) {
            super(e, i, s, r, n, a), (this.a = o);
          }
          w(e) {
            return zG(`linux-${process.arch}`, e, this.n);
          }
          x(e) {
            this.d &&
              (this.setState(Ie.CheckingForUpdates(e)),
              this.l
                .request({ url: this.d }, gt.None)
                .then(Hf)
                .then((i) => {
                  !i || !i.url || !i.version || !i.productVersion
                    ? this.setState(Ie.Idle(1))
                    : this.setState(Ie.AvailableForDownload(i));
                })
                .then(void 0, (i) => {
                  this.m.error(i);
                  const s = e ? i.message || i : void 0;
                  this.setState(Ie.Idle(1, s));
                }));
          }
          async r(e) {
            this.n.downloadUrl && this.n.downloadUrl.length > 0
              ? this.a.openExternal(void 0, this.n.downloadUrl)
              : e.update.url && this.a.openExternal(void 0, e.update.url),
              this.setState(Ie.Idle(1));
          }
        }),
        (qp = __decorate(
          [
            __param(0, st),
            __param(1, Ve),
            __param(2, dt),
            __param(3, an),
            __param(4, ee),
            __param(5, $r),
            __param(6, Be),
          ],
          qp
        ));
    },
  });
import { spawn as KG } from 'child_process';
import { realpath as JG, watch as XG } from 'fs';
var Kp,
  Jp,
  YG = b({
    'out-build/vs/platform/update/electron-main/updateService.snap.js'() {
      'use strict';
      le(),
        X(),
        xe(),
        vt(),
        St(),
        se(),
        ln(),
        (Kp = class {
          get state() {
            return this.a;
          }
          setState(e) {
            this.g.info('update#setState', e.type), (this.a = e), this.b.fire(e);
          }
          constructor(e, i, s) {
            if (
              ((this.f = e),
              (this.g = s),
              (this.a = Ie.Uninitialized),
              (this.b = new $()),
              (this.onStateChange = this.b.event),
              (this.d = new $()),
              (this.onForceUpdate = this.d.event),
              i.disableUpdates)
            ) {
              this.g.info('update#ctor - updates are disabled');
              return;
            }
            this.setState(Ie.Idle(this.k())), this.h(30 * 1e3).then(void 0, (r) => this.g.error(r));
          }
          h(e = 60 * 60 * 1e3) {
            return Ji(e)
              .then(() => this.checkForUpdates(!1))
              .then(() => this.h(60 * 60 * 1e3));
          }
          async checkForUpdates(e) {
            this.g.trace('update#checkForUpdates, state = ', this.state.type),
              this.state.type === 'idle' && this.m(e);
          }
          async downloadUpdate() {
            this.g.trace('update#downloadUpdate, state = ', this.state.type),
              this.state.type === 'available for download' && (await this.i(this.state));
          }
          i(e) {
            return Promise.resolve(void 0);
          }
          async applyUpdate() {
            this.g.trace('update#applyUpdate, state = ', this.state.type),
              this.state.type === 'downloaded' && (await this.j());
          }
          j() {
            return Promise.resolve(void 0);
          }
          quitAndInstall() {
            return (
              this.g.trace('update#quitAndInstall, state = ', this.state.type),
              this.state.type !== 'ready' ||
                (this.g.trace('update#quitAndInstall(): before lifecycle quit()'),
                this.f.quit(!0).then((e) => {
                  this.g.trace(`update#quitAndInstall(): after lifecycle quit() with veto: ${e}`),
                    !e &&
                      (this.g.trace('update#quitAndInstall(): running raw#quitAndInstall()'),
                      this.l());
                })),
              Promise.resolve(void 0)
            );
          }
          k() {
            return 2;
          }
          l() {}
          async _applySpecificUpdate(e) {}
        }),
        (Kp = __decorate([__param(0, st), __param(1, dt), __param(2, ee)], Kp)),
        (Jp = class extends Kp {
          constructor(e, i, s, r, n) {
            super(s, r, n), (this.o = e), (this.p = i);
            const o = XG(vi(this.o)),
              a = P.fromNodeEventEmitter(o, 'change', (d, p) => p),
              c = P.filter(a, (d) => d === 'current'),
              h = P.debounce(c, (d, p) => p, 2e3)(() => this.checkForUpdates(!1));
            s.onWillShutdown(() => {
              h.dispose(), o.close();
            });
          }
          m() {
            this.setState(Ie.CheckingForUpdates(!1)),
              this.t().then(
                (e) => {
                  e ? this.setState(Ie.Ready({ version: 'something' })) : this.setState(Ie.Idle(2));
                },
                (e) => {
                  this.g.error(e), this.setState(Ie.Idle(2, e.message || e));
                }
              );
          }
          l() {
            this.g.trace('update#quitAndInstall(): running raw#quitAndInstall()'),
              KG('sleep 3 && ' + ct(process.argv[0]), { shell: !0, detached: !0, stdio: 'ignore' });
          }
          async t() {
            const e = await new Promise((s, r) =>
                JG(`${vi(this.o)}/current`, (n, o) => (n ? r(n) : s(o)))
              ),
              i = ct(e);
            return this.p !== i;
          }
          isLatestVersion() {
            return this.t().then(void 0, (e) => {
              this.g.error('update#checkForSnapUpdate(): Could not get realpath of application.');
            });
          }
        }),
        (Jp = __decorate([__param(2, st), __param(3, dt), __param(4, ee)], Jp));
    },
  });
import { spawn as YE } from 'child_process';
import * as QE from 'fs';
import * as ZE from 'fs/promises';
import { tmpdir as QG } from 'os';
import { CancellationToken as ZG } from 'electron-updater';
import { ElectronHttpExecutor as eq } from 'electron-updater/out/electronHttpExecutor.js';
async function tq(t, e = 1e3) {
  for (; !t(); ) await Ji(e);
}
function Xp() {
  return 0;
}
var ih,
  iq = b({
    'out-build/vs/platform/update/electron-main/iCube.updateService.win32.js'() {
      'use strict';
      le(),
        jt(),
        Qr(),
        xe(),
        Zt(),
        Ge(),
        vt(),
        ft(),
        St(),
        se(),
        uc(),
        Ze(),
        Ir(),
        Gt(),
        ln(),
        XE(),
        pc(),
        or(),
        Pt(),
        VE(),
        Hr(),
        xe(),
        au(),
        th(),
        Gn(),
        (ih = class extends Dc {
          get cachePath() {
            const e = M(
              QG(),
              `${this.n.brandName.toLowerCase()}-${this.n.quality}-${this.n.target}-${process.arch}`
            );
            return ZE.mkdir(e, { recursive: !0 }).then(() => e);
          }
          constructor(e, i, s, r, n, o, a, c, l, h, d, p, m, w) {
            super(e, i, s, r, n, o, a, c, l, h, m, w),
              (this.hb = d),
              (this.ib = p),
              (this.platform = 'win32'),
              e.setRelaunchHandler(this);
          }
          jb() {
            return this.j.getValue('update.enableWindowsBackgroundUpdates')
              ? this.n.target === 'user'
              : !1;
          }
          async o() {
            this.n.target === 'user' &&
              (await this.ib.isAdmin(void 0)) &&
              this.m.warn('update#ctor - running as Admin in user setup'),
              await super.o();
          }
          x(e, i) {
            this.setState(Ie.CheckingForUpdates(e)),
              (this.c = e),
              (i ? Promise.resolve(i) : this.X())
                .then((r) => {
                  const n = Xp();
                  r
                    ? r.hasDownloaded
                      ? (this.m.info(
                          'ICUBE:update#CheckUpdate -> Has Download New Package, set State to Ready'
                        ),
                        this.setState(
                          Ie.Ready({
                            version: r.version,
                            productVersion: r.version,
                            url: r.feedURL,
                          })
                        ))
                      : ((this.B = gr.create(!1)),
                        this.l
                          .request({ url: HE(r.feedURL, !0).toString() }, gt.None)
                          .then(Hf)
                          .then((o) => {
                            if (!o || !o.files || !o.version || !o.files[0])
                              return (
                                this.J.publicLog2('update:notAvailable', { explicit: !!e }),
                                this.setState(Ie.Idle(n)),
                                Promise.resolve(null)
                              );
                            const a = WG(o);
                            return (
                              this.ab(a),
                              this.ob(o.version).then(() =>
                                this.nb(o.version)
                                  .then((c) =>
                                    ge.exists(c).then((l) => {
                                      if (l) return Promise.resolve(c);
                                      const h = `${c}.${Math.random().toString(36).substr(2)}.tmp`,
                                        d = o.files[0].url,
                                        p = new eq(),
                                        m = new ZG();
                                      return p
                                        .download(new URL(d), h, {
                                          cancellationToken: m,
                                          sha512: o.sha512,
                                          onProgress: (w) => {
                                            this.eb(w);
                                          },
                                        })
                                        .catch((w) =>
                                          ZE.unlink(h).finally(() => {
                                            throw w;
                                          })
                                        )
                                        .then(() => ge.rename(h, c, !1))
                                        .then(() => m.dispose())
                                        .then(() => c);
                                    })
                                  )
                                  .then((c) => {
                                    (this.fb = { packagePath: c }),
                                      this.bb(a),
                                      this.setState(Ie.Downloaded(a)),
                                      this.jb() ? this.s() : this.setState(Ie.Ready(a));
                                  })
                              )
                            );
                          })
                          .catch((o) => {
                            throw (this.$(r.version), o);
                          }))
                    : this.Y();
                })
                .catch((r) => {
                  this.m.error(
                    `ICUBE:CheckUpdate -> Error
`,
                    r
                  ),
                    this.A
                      ? (this.m.info(
                          'ICUBE:CheckUpdate -> set state to Ready due to the next version has been downloaded'
                        ),
                        this.setState(Ie.Ready({ version: this.A, productVersion: this.A })))
                      : (this.m.info('ICUBE:CheckUpdate -> set state to idle'), this.Y());
                });
          }
          async r(e) {
            e.update.url && this.ib.openExternal(void 0, e.update.url),
              this.setState(Ie.Idle(Xp()));
          }
          async nb(e) {
            const i = await this.cachePath;
            return M(i, `${this.n.brandName}Setup-${this.n.quality}-${e}.exe`);
          }
          async ob(e = null) {
            const i = e ? (o) => !new RegExp(`${this.n.quality}-${e}\\.exe$`).test(o) : () => !0,
              s = await this.cachePath,
              n = (await ge.readdir(s)).filter(i).map(async (o) => {
                try {
                  await QE.promises.unlink(M(s, o));
                } catch {}
              });
            await Promise.all(n);
          }
          async pb() {
            this.gb &&
              (this.gb.removeAllListeners(),
              this.gb.pid &&
                !this.gb.killed &&
                (this.m.info(`ICUBE:update#abortUpdatingProcess -> Killing process ${this.gb.pid}`),
                await Pw(this.gb.pid)),
              (this.gb = void 0));
          }
          async s() {
            if (this.state.type !== 'downloaded' || !this.fb) return Promise.resolve(void 0);
            try {
              await this.pb();
            } catch (o) {
              this.m.error('ICUBE:update#doApplyUpdate -> Error aborting updating process', o);
            }
            const e = this.state.update;
            this.db(e);
            const i = await this.cachePath;
            (this.fb.updateFilePath = M(
              i,
              `${this.n.brandName}Setup-${this.n.quality}-${e.version}.flag`
            )),
              await ge.writeFile(this.fb.updateFilePath, 'flag');
            const s = YE(
              this.fb.packagePath,
              [
                '/verysilent',
                '/log',
                `/update="${this.fb.updateFilePath}"`,
                '/nocloseapplications',
                '/mergetasks=runcode,!desktopicon,!quicklaunchicon',
              ],
              { detached: !0, stdio: ['ignore', 'ignore', 'ignore'], windowsVerbatimArguments: !0 }
            );
            (this.gb = s),
              s.once('exit', () => {
                (this.fb = void 0), (this.gb = void 0), this.setState(Ie.Idle(Xp()));
              });
            const r = `${this.n.win32MutexName}-ready`,
              n = await import('@vscode/windows-mutex');
            tq(() => n.isActive(r)).then(() => this.setState(Ie.Ready(e)));
          }
          v() {
            if (!(this.state.type !== 'ready' || !this.fb))
              if (
                (this.m.trace('update#quitAndInstall(): running raw#quitAndInstall()'),
                this.fb.updateFilePath)
              )
                QE.unlinkSync(this.fb.updateFilePath);
              else {
                const e = vi(process.execPath);
                YE(
                  this.fb.packagePath,
                  [
                    '/SP-',
                    '/silent',
                    '/log',
                    '/noicons',
                    '/mergetasks=runcode,!desktopicon,!quicklaunchicon',
                    '/CLOSEAPPLICATIONS',
                    '/NOCANCEL',
                    `/dir=${e}`,
                  ],
                  { detached: !0, stdio: ['ignore', 'ignore', 'ignore'] }
                );
              }
          }
          t() {
            return Xp();
          }
          async _applySpecificUpdate(e) {
            if (this.state.type !== 'idle') return;
            const i = { version: 'unknown', productVersion: 'unknown' };
            this.setState(Ie.Downloading(i)),
              (this.fb = { packagePath: e }),
              this.setState(Ie.Downloaded(i)),
              (this.A = 'specific'),
              this.jb() ? this.s() : this.setState(Ie.Ready(i));
          }
        }),
        __decorate([ye], ih.prototype, 'cachePath', null),
        (ih = __decorate(
          [
            __param(0, st),
            __param(1, Ve),
            __param(2, Vt),
            __param(3, dt),
            __param(4, an),
            __param(5, ee),
            __param(6, Be),
            __param(7, dn),
            __param(8, fs),
            __param(9, kt),
            __param(10, $t),
            __param(11, $r),
            __param(12, ra),
            __param(13, Vn),
          ],
          ih
        ));
    },
  }),
  eC,
  tC,
  sq = b({
    'out-build/vs/platform/url/common/urlIpc.js'() {
      'use strict';
      be(),
        (eC = class {
          constructor(t) {
            this.a = t;
          }
          handleURL(t, e) {
            return this.a.call('handleURL', [t.toJSON(), e]);
          }
        }),
        (tC = class {
          constructor(t, e) {
            (this.a = t), (this.b = e);
          }
          async routeCall(t, e, i, s) {
            if (e !== 'handleURL') throw new Error(`Call not found: ${e}`);
            if (Array.isArray(i) && i.length > 0) {
              const r = _.revive(i[0]);
              if (
                (this.b.trace('URLHandlerRouter#routeCall() with URI argument', r.toString(!0)),
                r.query)
              ) {
                const n = /\bwindowId=(\d+)/.exec(r.query);
                if (n) {
                  const o = n[1];
                  this.b.trace(
                    `URLHandlerRouter#routeCall(): found windowId query parameter with value "${o}"`,
                    r.toString(!0)
                  );
                  const a = new RegExp(`window:${o}`),
                    c = t.connections.find(
                      (l) => (
                        this.b.trace('URLHandlerRouter#routeCall(): testing connection', l.ctx),
                        a.test(l.ctx)
                      )
                    );
                  if (c)
                    return (
                      this.b.trace(
                        'URLHandlerRouter#routeCall(): found a connection to route',
                        r.toString(!0)
                      ),
                      c
                    );
                  this.b.trace(
                    'URLHandlerRouter#routeCall(): did not find a connection to route',
                    r.toString(!0)
                  );
                } else
                  this.b.trace(
                    'URLHandlerRouter#routeCall(): did not find windowId query parameter',
                    r.toString(!0)
                  );
              }
            } else this.b.trace('URLHandlerRouter#routeCall() without URI argument');
            return this.a.routeCall(t, e, i, s);
          }
          routeEvent(t, e) {
            throw new Error(`Event not found: ${e}`);
          }
        });
    },
  }),
  iC,
  Yp,
  rq = b({
    'out-build/vs/platform/url/common/urlService.js'() {
      'use strict';
      le(),
        U(),
        be(),
        Ze(),
        (iC = class extends H {
          constructor() {
            super(...arguments), (this.a = new Set());
          }
          open(t, e) {
            const i = [...this.a.values()];
            return OP(
              i.map((s) => () => s.handleURL(t, e)),
              void 0,
              !1
            ).then((s) => s || !1);
          }
          registerHandler(t) {
            return this.a.add(t), _e(() => this.a.delete(t));
          }
        }),
        (Yp = class extends iC {
          constructor(e) {
            super(), (this.b = e);
          }
          create(e) {
            let {
              authority: i,
              path: s,
              query: r,
              fragment: n,
            } = e || { authority: void 0, path: void 0, query: void 0, fragment: void 0 };
            return (
              i && s && s.indexOf('/') !== 0 && (s = `/${s}`),
              _.from({ scheme: this.b.urlProtocol, authority: i, path: s, query: r, fragment: n })
            );
          }
        }),
        (Yp = __decorate([__param(0, Be)], Yp));
    },
  });
import { app as sC } from 'electron';
var rC,
  nq = b({
    'out-build/vs/platform/url/electron-main/electronUrlListener.js'() {
      'use strict';
      le(),
        X(),
        U(),
        ie(),
        be(),
        (rC = class extends H {
          constructor(t, e, i, s, r, n) {
            if (
              (super(),
              (this.c = e),
              (this.f = n),
              (this.a = []),
              (this.b = 0),
              t &&
                (n.trace(
                  'ElectronURLListener initialUrisToHandle:',
                  t.map((c) => c.originalUrl)
                ),
                (this.a = t)),
              J)
            ) {
              const c = s.isBuilt ? [] : [`"${s.appRoot}"`];
              c.push('--open-url', '--'),
                sC.setAsDefaultProtocolClient(r.urlProtocol, process.execPath, c);
            }
            const o = P.map(
              P.fromNodeEventEmitter(sC, 'open-url', (c, l) => ({ event: c, url: l })),
              ({ event: c, url: l }) => (c.preventDefault(), l)
            );
            this.B(
              o((c) => {
                const l = this.g(c);
                l && this.c.open(l, { originalUrl: c });
              })
            ),
              i.getWindows().filter((c) => c.isReady).length > 0
                ? (n.trace('ElectronURLListener: window is ready to handle URLs'), this.h())
                : (n.trace('ElectronURLListener: waiting for window to be ready to handle URLs...'),
                  this.B(P.once(i.onDidSignalReadyWindow)(() => this.h())));
          }
          g(t) {
            try {
              return _.parse(t);
            } catch {
              return;
            }
          }
          async h() {
            if (this.b++ > 10) {
              this.f.trace('ElectronURLListener#flush(): giving up after 10 retries');
              return;
            }
            this.f.trace('ElectronURLListener#flush(): flushing URLs');
            const t = [];
            for (const e of this.a)
              (await this.c.open(e.uri, { originalUrl: e.originalUrl }))
                ? this.f.trace('ElectronURLListener#flush(): URL was handled', e.originalUrl)
                : (this.f.trace(
                    'ElectronURLListener#flush(): URL was not yet handled',
                    e.originalUrl
                  ),
                  t.push(e));
            t.length !== 0 && ((this.a = t), FP(() => this.h(), 500, this.q));
          }
        });
    },
  }),
  Cv,
  oq = b({
    'out-build/vs/platform/webview/common/webviewManagerService.js'() {
      'use strict';
      K(), (Cv = W('webviewManagerService'));
    },
  });
import { protocol as aq } from 'electron';
var nC,
  cq = b({
    'out-build/vs/platform/webview/electron-main/webviewProtocolProvider.js'() {
      'use strict';
      U(),
        Oe(),
        be(),
        (nC = class PI extends H {
          static {
            this.a = new Map([
              ['/index.html', 'index.html'],
              ['/fake.html', 'fake.html'],
              ['/service-worker.js', 'service-worker.js'],
            ]);
          }
          constructor() {
            super();
            const e = this.b.bind(this);
            aq.registerFileProtocol(N.vscodeWebview, e);
          }
          b(e, i) {
            try {
              const s = _.parse(e.url),
                r = PI.a.get(s.path);
              if (typeof r == 'string') {
                const n = `vs/workbench/contrib/webview/browser/pre/${r}`,
                  o = Ht.asFileUri(n);
                return i({
                  path: o.fsPath,
                  headers: {
                    ...kl.getHeadersFromQuery(e.url),
                    'Cross-Origin-Resource-Policy': 'cross-origin',
                  },
                });
              } else return i({ error: -10 });
            } catch {}
            return i({ error: -2 });
          }
        });
    },
  });
import { webContents as lq } from 'electron';
var Qp,
  uq = b({
    'out-build/vs/platform/webview/electron-main/webviewMainService.js'() {
      'use strict';
      X(),
        U(),
        cq(),
        qt(),
        (Qp = class extends H {
          constructor(e) {
            super(),
              (this.b = e),
              (this.a = this.B(new $())),
              (this.onFoundInFrame = this.a.event),
              this.B(new nC());
          }
          async setIgnoreMenuShortcuts(e, i) {
            let s;
            if (typeof e.windowId == 'number') {
              const { windowId: r } = e,
                n = this.b.getWindowById(r);
              if (!n?.win) throw new Error(`Invalid windowId: ${r}`);
              s = n.win.webContents;
            } else {
              const { webContentsId: r } = e;
              if (((s = lq.fromId(r)), !s)) throw new Error(`Invalid webContentsId: ${r}`);
            }
            s.isDestroyed() || s.setIgnoreMenuShortcuts(i);
          }
          async findInFrame(e, i, s, r) {
            const o = this.c(e, i);
            if (typeof o.findInFrame == 'function') {
              o.findInFrame(s, { findNext: r.findNext, forward: r.forward });
              const a = (c, l) => {
                l.finalUpdate && (this.a.fire(l), o.removeListener('found-in-frame', a));
              };
              o.on('found-in-frame', a);
            }
          }
          async stopFindInFrame(e, i, s) {
            const n = this.c(e, i);
            typeof n.stopFindInFrame == 'function' &&
              n.stopFindInFrame(s.keepSelection ? 'keepSelection' : 'clearSelection');
          }
          c(e, i) {
            const s = this.b.getWindowById(e.windowId);
            if (!s?.win) throw new Error(`Invalid windowId: ${e}`);
            const r = s.win.webContents.mainFrame.framesInSubtree.find((n) => n.name === i);
            if (!r) throw new Error(`Unknown frame: ${i}`);
            return r;
          }
        }),
        (Qp = __decorate([__param(0, Tt)], Qp));
    },
  });
async function hq(t, e, i) {
  let s = (i && i.get('storage.serviceMachineId', -1)) || null;
  if (s) return s;
  try {
    const n = (await e.readFile(t.serviceMachineIdResource)).value.toString();
    s = x_(n) ? n : null;
  } catch {
    s = null;
  }
  if (!s) {
    s = ei();
    try {
      await e.writeFile(t.serviceMachineIdResource, re.fromString(s));
    } catch {}
  }
  return i?.store('storage.serviceMachineId', s, -1, 1), s;
}
var dq = b({
  'out-build/vs/platform/externalServices/common/serviceMachineId.js'() {
    'use strict';
    bt(), hi();
  },
});
async function fq(t, e, i, s, r, n, o) {
  const a = { 'X-Market-Client-Id': `VSCode ${t}`, 'User-Agent': `VSCode ${t} (${e.nameShort})` };
  if (P3(e, i) && Jw(s) === 3) {
    const c = await hq(i, r, n);
    (a['X-Market-User-Id'] = c), (a['VSCode-SessionId'] = o.machineId || c);
  }
  return a;
}
var pq = b({
  'out-build/vs/platform/externalServices/common/marketplace.js'() {
    'use strict';
    dq(), Jo();
  },
});
import Ms from 'electron';
import { release as gq } from 'os';
import { createHash as mq } from 'crypto';
var oC,
  Dv,
  sh,
  aC = b({
    'out-build/vs/platform/windows/electron-main/windowImpl.js'() {
      'use strict';
      le(),
        jt(),
        Fn(),
        X(),
        U(),
        Oe(),
        jr(),
        ie(),
        be(),
        he(),
        Gl(),
        Ge(),
        jo(),
        vt(),
        Zl(),
        ft(),
        St(),
        se(),
        Ze(),
        pu(),
        pq(),
        Gn(),
        Gt(),
        gv(),
        zl(),
        Jn(),
        qt(),
        Oi(),
        Wo(),
        Xa(),
        Pr(),
        Pt(),
        Fo(),
        vu(),
        K(),
        bt(),
        or(),
        Yr(),
        ls(),
        th(),
        mi(),
        uc(),
        (function (t) {
          (t[(t.NONE = 0)] = 'NONE'),
            (t[(t.NAVIGATING = 1)] = 'NAVIGATING'),
            (t[(t.READY = 2)] = 'READY');
        })(oC || (oC = {})),
        (Dv = class _I extends H {
          get lastFocusTime() {
            return this.j;
          }
          get win() {
            return this.m;
          }
          n(e, i) {
            (this.m = e),
              this.B(P.fromNodeEventEmitter(e, 'maximize')(() => this.b.fire())),
              this.B(P.fromNodeEventEmitter(e, 'unmaximize')(() => this.c.fire())),
              this.B(
                P.fromNodeEventEmitter(
                  e,
                  'closed'
                )(() => {
                  this.a.fire(), this.dispose();
                })
              ),
              this.B(
                P.fromNodeEventEmitter(
                  e,
                  'focus'
                )(() => {
                  this.j = Date.now();
                })
              ),
              this.B(P.fromNodeEventEmitter(this.m, 'enter-full-screen')(() => this.g.fire())),
              this.B(P.fromNodeEventEmitter(this.m, 'leave-full-screen')(() => this.h.fire()));
            const s = !Ro(this.r, i?.titleBarStyle === 'hidden' ? 'custom' : void 0);
            if ((Q && s && e.setSheetOffset(v$(gq()) ? 28 : 22), s && Vm(this.r))) {
              const r = this.s.getItem(_I.D);
              r
                ? this.updateWindowControls({ height: r })
                : this.updateWindowControls({ height: p9 });
            }
            J &&
              s &&
              e.hookWindowMessage(278, () => {
                const [n, o] = e.getPosition(),
                  a = Ms.screen.getCursorScreenPoint(),
                  c = a.x - n,
                  l = a.y - o;
                return (
                  !(c > 30 && l >= 0 && l <= Math.max(e.getBounds().height * 0.15, 35)) ||
                    (e.setEnabled(!1), e.setEnabled(!0), this.f.fire({ x: c, y: l })),
                  0
                );
              }),
              this.t.args['open-devtools'] === !0 && e.webContents.openDevTools(),
              Q &&
                (this.B(
                  this.onDidEnterFullScreen(() => {
                    this.G?.complete(!0);
                  })
                ),
                this.B(
                  this.onDidLeaveFullScreen(() => {
                    this.G?.complete(!0);
                  })
                ));
          }
          constructor(e, i, s, r) {
            super(),
              (this.r = e),
              (this.s = i),
              (this.t = s),
              (this.u = r),
              (this.a = this.B(new $())),
              (this.onDidClose = this.a.event),
              (this.b = this.B(new $())),
              (this.onDidMaximize = this.b.event),
              (this.c = this.B(new $())),
              (this.onDidUnmaximize = this.c.event),
              (this.f = this.B(new $())),
              (this.onDidTriggerSystemContextMenu = this.f.event),
              (this.g = this.B(new $())),
              (this.onDidEnterFullScreen = this.g.event),
              (this.h = this.B(new $())),
              (this.onDidLeaveFullScreen = this.h.event),
              (this.j = Date.now()),
              (this.m = null),
              (this.F = void 0),
              (this.G = void 0);
          }
          w(e, i = Ms.screen.getAllDisplays().length > 0) {
            const s = this.r.getValue('window'),
              r = Q && s?.nativeTabs === !0;
            (Q || J) &&
              i &&
              (!r || Ms.BrowserWindow.getAllWindows().length === 1) &&
              [e.width, e.height, e.x, e.y].every((n) => typeof n == 'number') &&
              this.m?.setBounds({ width: e.width, height: e.height, x: e.x, y: e.y }),
              (e.mode === 0 || e.mode === 3) &&
                (this.m?.maximize(), e.mode === 3 && this.H(!0, !0), this.m?.show());
          }
          setRepresentedFilename(e) {
            Q ? this.win?.setRepresentedFilename(e) : (this.z = e);
          }
          getRepresentedFilename() {
            return Q ? this.win?.getRepresentedFilename() : this.z;
          }
          setDocumentEdited(e) {
            Q && this.win?.setDocumentEdited(e), (this.C = e);
          }
          isDocumentEdited() {
            return Q ? !!this.win?.isDocumentEdited() : !!this.C;
          }
          focus(e) {
            Q && e?.force && Ms.app.focus({ steal: !0 });
            const i = this.win;
            i && (i.isMinimized() && i.restore(), i.focus());
          }
          static {
            this.D = 'windowControlHeight';
          }
          updateWindowControls(e) {
            const i = this.win;
            if (i) {
              if ((e.height && this.s.setItem(sh.D, e.height), !Q && Vm(this.r)))
                i.setTitleBarOverlay({
                  color: e.backgroundColor?.trim() === '' ? void 0 : e.backgroundColor,
                  symbolColor: e.foregroundColor?.trim() === '' ? void 0 : e.foregroundColor,
                  height: e.height ? e.height - 1 : void 0,
                });
              else if (Q && e.height !== void 0) {
                const s = Math.floor((e.height - 16) / 2);
                s ? i.setWindowButtonPosition({ x: s + 1, y: s }) : i.setWindowButtonPosition(null);
              }
            }
          }
          toggleFullScreen() {
            this.H(!this.isFullScreen, !1);
          }
          H(e, i) {
            l9(this.r) ? this.I(e, i) : this.L(e);
          }
          get isFullScreen() {
            if (Q && typeof this.F == 'boolean') return this.F;
            const e = this.win,
              i = e?.isFullScreen(),
              s = e?.isSimpleFullScreen();
            return !!(i || s);
          }
          I(e, i) {
            const s = this.win;
            s?.isSimpleFullScreen() && s?.setSimpleFullScreen(!1), this.J(e, i);
          }
          J(e, i) {
            if (Q) {
              this.F = e;
              const r = (this.G = new zt());
              (async () => {
                const n = await Promise.race([r.p, Ji(1e4).then(() => !1)]);
                this.G === r &&
                  ((this.F = void 0),
                  (this.G = void 0),
                  !n &&
                    e &&
                    i &&
                    this.win &&
                    !this.win.isFullScreen() &&
                    (this.u.warn(
                      'window: native macOS fullscreen transition did not happen within 10s from restoring'
                    ),
                    this.h.fire()));
              })();
            }
            this.win?.setFullScreen(e);
          }
          L(e) {
            const i = this.win;
            i?.isFullScreen() && this.J(!1, !1), i?.setSimpleFullScreen(e), i?.webContents.focus();
          }
          dispose() {
            super.dispose(), (this.m = null);
          }
        }),
        (sh = class extends Dv {
          get id() {
            return this.P;
          }
          get backupPath() {
            return this.R?.backupPath;
          }
          get openedWorkspace() {
            return this.R?.workspace;
          }
          get profile() {
            if (!this.config) return;
            const e = this.gb.profiles.find((i) => i.id === this.config?.profiles.profile.id);
            return this.isExtensionDevelopmentHost && e
              ? e
              : this.gb.getProfileForWorkspace(
                  this.config.workspace ?? Yd(this.backupPath, this.isExtensionDevelopmentHost)
                ) ?? this.gb.defaultProfile;
          }
          get remoteAuthority() {
            return this.R?.remoteAuthority;
          }
          get config() {
            return this.R;
          }
          get isExtensionDevelopmentHost() {
            return !!this.R?.extensionDevelopmentPath;
          }
          get isExtensionTestHost() {
            return !!this.R?.extensionTestsPath;
          }
          get isExtensionDevelopmentTestFromCli() {
            return this.isExtensionDevelopmentHost && this.isExtensionTestHost && !this.R?.debugId;
          }
          constructor(e, i, s, r, n, o, a, c, l, h, d, p, m, w, v, k, y, C, I, E, x, F, Y, oe, B) {
            super(h, E, r, i),
              (this.eb = s),
              (this.fb = n),
              (this.gb = o),
              (this.hb = a),
              (this.ib = c),
              (this.jb = l),
              (this.kb = d),
              (this.lb = p),
              (this.mb = m),
              (this.nb = w),
              (this.ob = v),
              (this.pb = k),
              (this.qb = y),
              (this.rb = C),
              (this.sb = I),
              (this.tb = F),
              (this.ub = Y),
              (this.vb = oe),
              (this.wb = B),
              (this.M = this.B(new $())),
              (this.onWillLoad = this.M.event),
              (this.N = this.B(new $())),
              (this.onDidSignalReady = this.N.event),
              (this.O = this.B(new $())),
              (this.onDidDestroy = this.O.event),
              (this.W = []),
              (this.X = []),
              (this.Y = void 0),
              (this.Z = void 0),
              (this.$ = void 0),
              (this.ab = this.B(this.rb.createIPCObjectUrl())),
              (this.db = !1),
              (this.xb = 0);
            {
              const [ae, Me] = this.Jb(e.state);
              (this.S = ae), this.u.trace('window#ctor: using window state', ae);
              const fe = x.invokeFunction(hf, this.S, void 0, {
                preload: Ht.asFileUri('vs/base/parts/sandbox/electron-sandbox/preload.js').fsPath,
                additionalArguments: [`--vscode-window-config=${this.ab.resource.toString()}`],
                v8CacheOptions: this.t.useCodeCache ? 'bypassHeatCheck' : 'none',
              });
              Xe('code/willCreateCodeBrowserWindow'),
                (this.m = new Ms.BrowserWindow(fe)),
                (process.env.VSCODE_DEV || process.env.ICUBE_DEBUG_OPEN_DEVTOOLS) &&
                  this.m.webContents.openDevTools({ mode: 'right' }),
                this.m.webContents.on('did-attach-webview', (_t, V) => {
                  V.setWindowOpenHandler(
                    ({ url: R }) => (this.u.info(`window#openExternal: ${R}`), { action: 'allow' })
                  );
                }),
                Xe('code/didCreateCodeBrowserWindow'),
                (this.P = this.m.id),
                this.n(this.m, fe),
                this.w(this.S, Me),
                (this.j = Date.now());
            }
            this.Gb(), this.Pb(), this.yb();
          }
          setReady() {
            for (
              this.u.trace(`window#load: window reported ready (id: ${this.P})`), this.xb = 2;
              this.W.length;

            )
              this.W.pop()(this);
            this.N.fire();
          }
          ready() {
            return new Promise((e) => {
              if (this.isReady) return e(this);
              this.W.push(e);
            });
          }
          get isReady() {
            return this.xb === 2;
          }
          get whenClosedOrLoaded() {
            return new Promise((e) => {
              function i() {
                s.dispose(), r.dispose(), e();
              }
              const s = this.onDidClose(() => i()),
                r = this.onWillLoad(() => i());
            });
          }
          yb() {
            this.B(P.fromNodeEventEmitter(this.m, 'unresponsive')(() => this.Cb(1))),
              this.B(
                P.fromNodeEventEmitter(
                  this.m.webContents,
                  'render-process-gone',
                  (i, s) => s
                )((i) => this.Cb(2, { ...i }))
              ),
              this.B(
                P.fromNodeEventEmitter(
                  this.m.webContents,
                  'did-fail-load',
                  (i, s, r, n, o, a, c) => ({
                    exitCode: s,
                    reason: r,
                    url: n,
                    isMainFrame: o,
                    frameProcessId: a,
                    frameRoutingId: c,
                  })
                )(
                  ({
                    exitCode: i,
                    reason: s,
                    url: r,
                    isMainFrame: n,
                    frameProcessId: o,
                    frameRoutingId: a,
                  }) =>
                    this.Cb(
                      3,
                      { reason: s, exitCode: i },
                      { url: r, isMainFrame: n, frameProcessId: o, frameRoutingId: a }
                    )
                )
              ),
              this.B(
                P.fromNodeEventEmitter(
                  this.m.webContents,
                  'will-prevent-unload'
                )((i) => i.preventDefault())
              ),
              this.B(
                P.fromNodeEventEmitter(
                  this.m.webContents,
                  'did-finish-load'
                )(() => {
                  this.bb && ((this.R = this.bb), (this.bb = void 0));
                })
              ),
              this.B(
                this.onDidMaximize(() => {
                  this.R && (this.R.maximized = !0);
                })
              ),
              this.B(
                this.onDidUnmaximize(() => {
                  this.R && (this.R.maximized = !1);
                })
              ),
              this.B(
                this.onDidEnterFullScreen(() => {
                  this.sendWhenReady('vscode:enterFullScreen', gt.None);
                })
              ),
              this.B(
                this.onDidLeaveFullScreen(() => {
                  this.sendWhenReady('vscode:leaveFullScreen', gt.None);
                })
              ),
              this.B(this.r.onDidChangeConfiguration((i) => this.Gb(i))),
              this.B(this.lb.onDidDeleteUntitledWorkspace((i) => this.Fb(i)));
            const e = [
              'https://marketplace.visualstudio.com/*',
              'https://*.vsassets.io/*',
              'http://127.0.0.1:*/*',
            ];
            this.m.webContents.session.webRequest.onBeforeSendHeaders({ urls: e }, async (i, s) => {
              let r = {};
              /127\.0\.0\.1/.test(i.url) ? (r = this.zb(i)) : (r = await this.Bb()),
                s({ cancel: !1, requestHeaders: Object.assign(i.requestHeaders, r) });
            });
          }
          zb(e) {
            let i = e.frame?.parent || null;
            for (; i; ) {
              if (i.url.includes('/_trae/devtools_wrapper.html')) {
                const [s, r] = i.url.split('?');
                if (r) {
                  const n = r.split('&'),
                    o = {};
                  if (
                    (n.forEach((a) => {
                      const [c, l] = a.split('=');
                      o[c] = l;
                    }),
                    o.target)
                  )
                    return { 'x-target': o.target };
                }
              }
              i = i.parent;
            }
            return {};
          }
          Bb() {
            return (
              this.Ab ||
                (this.Ab = fq(this.qb.version, this.qb, this.t, this.r, this.hb, this.ib, this.nb)),
              this.Ab
            );
          }
          async Cb(e, i, s) {
            switch (e) {
              case 2:
                this.u.error(
                  `CodeWindow: renderer process gone (reason: ${i?.reason || '<unknown>'}, code: ${
                    i?.exitCode || '<unknown>'
                  })`
                );
                break;
              case 1:
                this.u.error('CodeWindow: detected unresponsive');
                break;
              case 3:
                this.u.error(
                  `CodeWindow: failed to load (reason: ${i?.reason || '<unknown>'}, code: ${
                    i?.exitCode || '<unknown>'
                  })`
                ),
                  this.u.error(
                    `CodeWindow: failed to load more details: (url: ${
                      s?.url || '<unknown>'
                    }, isMainFrame: ${s?.isMainFrame || '<unknown>'}, frameProcessId: ${
                      s?.frameProcessId || '<unknown>'
                    }, frameRoutingId: ${s?.frameRoutingId || '<unknown>'})`
                  );
                break;
            }
            switch (
              (this.nb.publicLog2('windowerror', { type: e, reason: i?.reason, code: i?.exitCode }),
              this.Db(e, i?.reason, i?.exitCode, s),
              e)
            ) {
              case 1:
              case 2:
                if (this.isExtensionDevelopmentTestFromCli) {
                  this.pb.kill(1);
                  return;
                }
                if (this.t.args['enable-smoke-test-driver']) {
                  await this.Eb(!1, !1), this.pb.quit();
                  return;
                }
                if (e === 1) {
                  if (
                    this.isExtensionDevelopmentHost ||
                    this.isExtensionTestHost ||
                    (this.m && this.m.webContents && this.m.webContents.isDevToolsOpened())
                  )
                    return;
                  const { response: r, checkboxChecked: n } = await this.ob.showMessageBox(
                    {
                      type: 'warning',
                      buttons: [u(2843, null), u(2844, null), u(2845, null)],
                      message: u(2846, null),
                      detail: u(2847, null),
                      checkboxLabel: this.R?.workspace ? u(2848, null) : void 0,
                    },
                    this.m
                  );
                  if (r !== 2) {
                    const o = r === 0;
                    await this.Eb(o, n);
                  }
                } else if (e === 2) {
                  const r = u(2849, null);
                  let n;
                  i
                    ? (n = u(2851, null, i.reason, i.exitCode ?? '<unknown>'))
                    : (n = u(2850, null));
                  const { response: o, checkboxChecked: a } = await this.ob.showMessageBox(
                    {
                      type: 'warning',
                      buttons: [u(2852, null), u(2853, null)],
                      message: r,
                      detail: n,
                    },
                    this.m
                  );
                  o === 0 &&
                    this.wb.openExternal(void 0, 'https://docs.trae.ai/docs/troubleshooting'),
                    await this.Eb(!1, !1);
                }
                break;
            }
          }
          async Db(e, i, s, r) {
            const n = this.sb.getWindowCount(),
              o = { 1: 'unresponsive', 2: 'process_gone', 3: 'load_error' }[e],
              [a, c] = await Promise.all([this.ub.getSlardarClient(), this.ub.getTeaClient()]);
            c?.collect('native_ide_window_error', { type: o, exitCode: s, reason: i || 'unknow' }),
              a?.sendEvent?.({
                name: 'windowerror',
                metrics: { windowId: this.id, totalWinCount: n },
                categories: { type: o, exitCode: `${s || 0}`, reason: i, ...(r || {}) },
              });
          }
          async Eb(e, i) {
            const s = this.R?.workspace;
            if (i && s)
              try {
                const r = this.jb.workspaceStorage(s);
                await r.init(), r.delete('memento/workbench.parts.editor'), await r.close();
              } catch (r) {
                this.u.error(r);
              }
            this.O.fire();
            try {
              if (e && this.R) {
                let r, n;
                cs(s)
                  ? (r = { folderUri: s.uri })
                  : Di(s)
                  ? (r = { workspaceUri: s.configPath })
                  : (n = !0),
                  (
                    await this.sb.open({
                      context: 5,
                      userEnv: this.R.userEnv,
                      cli: { ...this.t.args, _: [] },
                      urisToOpen: r ? [r] : void 0,
                      forceEmpty: n,
                      forceNewWindow: !0,
                      remoteAuthority: this.remoteAuthority,
                    })
                  )
                    .at(0)
                    ?.focus();
              }
            } finally {
              this.m?.destroy();
            }
          }
          Fb(e) {
            this.R?.workspace?.id === e.id && (this.R.workspace = void 0);
          }
          Gb(e) {
            if (!e || e.affectsConfiguration('window.menuBarVisibility')) {
              const i = this.Lb();
              i !== this.U && ((this.U = i), this.Mb(i));
            }
            if (
              !e ||
              e.affectsConfiguration('http.proxy') ||
              e.affectsConfiguration('http.noProxy')
            ) {
              let s =
                (this.r.inspect('http.proxy').userLocalValue || '').trim() ||
                (
                  process.env.https_proxy ||
                  process.env.HTTPS_PROXY ||
                  process.env.http_proxy ||
                  process.env.HTTP_PROXY ||
                  ''
                ).trim() ||
                void 0;
              if (s?.indexOf('@') !== -1) {
                const n = _.parse(s),
                  o = n.authority.indexOf('@');
                o !== -1 && (s = n.with({ authority: n.authority.substring(o + 1) }).toString());
              }
              s?.endsWith('/') && (s = s.substr(0, s.length - 1));
              const r =
                (this.r.getValue('http.noProxy') || []).map((n) => n.trim()).join(',') ||
                (process.env.no_proxy || process.env.NO_PROXY || '').trim() ||
                void 0;
              if ((s || '').indexOf('@') === -1 && (s !== this.Y || r !== this.Z)) {
                (this.Y = s), (this.Z = r);
                const n = s || '',
                  o = r ? `${r},<local>` : '<local>';
                this.u.trace(`Setting proxy to '${n}', bypassing '${o}'`),
                  this.m.webContents.session.setProxy({
                    proxyRules: n,
                    proxyBypassRules: o,
                    pacScript: '',
                  }),
                  Ms.app.setProxy({ proxyRules: n, proxyBypassRules: o, pacScript: '' });
              }
            }
          }
          addTabbedWindow(e) {
            Q && e.win && this.m.addTabbedWindow(e.win);
          }
          async load(e, i = Object.create(null)) {
            this.u.trace(`window#load: attempt to load window (id: ${this.P})`),
              this.isDocumentEdited() &&
                (!i.isReload || !this.mb.isHotExitEnabled()) &&
                this.setDocumentEdited(!1),
              i.isReload ||
                (this.getRepresentedFilename() && this.setRepresentedFilename(''),
                this.m.setTitle(this.qb.nameLong));
            const s = await this.tb.getAuthUserInfo({ forceLogin: !1 }),
              r = e.workspace?.configPath?.path || e.workspace?.uri?.fsPath,
              n = r ? mq('md5').update(r).digest('hex') : '',
              { name: o } = U5(r || ''),
              a = {
                id: n,
                owner: s?.account.username,
                ideLang: '',
                ideTemplate: '',
                isBOE: !1,
                apiServerBaseUrl: '',
                isBuilt: !process.env.VSCODE_DEV,
                workspacePath: r || '',
                workspaceName: o || 'Untitled',
                programFilesPath: process.env.ProgramFiles || null,
              };
            Object.assign(e.product, { devSpaceInfo: a });
            const c = this.vb.getDynamicConfigData?.();
            c?.iCubeApp && dr(e.product, { iCubeApp: c.iCubeApp }),
              this.Hb(e, i),
              this.xb === 0 ? (this.R = e) : (this.bb = e),
              (this.xb = 1),
              this.m.loadURL(
                Ht.asBrowserUri(
                  `vs/code/electron-sandbox/workbench/workbench${this.t.isBuilt ? '' : '-dev'}.html`
                ).toString(!0)
              );
            const l = this.db;
            (this.db = !0),
              !this.t.isBuilt &&
                !this.t.extensionTestsLocationURI &&
                this.B(
                  new As(() => {
                    this.m &&
                      !this.m.isVisible() &&
                      !this.m.isMinimized() &&
                      (this.m.show(), this.focus({ force: !0 }), this.m.webContents.openDevTools());
                  }, 1e4)
                ).schedule(),
              this.M.fire({ workspace: e.workspace, reason: i.isReload ? 3 : l ? 2 : 1 });
          }
          Hb(e, i) {
            const s = (this.R ?? this.bb)?.userEnv;
            if (s) {
              const r = zo(s) && !zo(e.userEnv),
                n = this.isExtensionDevelopmentHost;
              (r || n) && (e.userEnv = { ...s, ...e.userEnv });
            }
            process.env.CHROME_CRASHPAD_PIPE_NAME &&
              Object.assign(e.userEnv, {
                CHROME_CRASHPAD_PIPE_NAME: process.env.CHROME_CRASHPAD_PIPE_NAME,
              }),
              i.disableExtensions !== void 0 && (e['disable-extensions'] = i.disableExtensions);
            try {
              e.handle = re.wrap(this.m.getNativeWindowHandle());
            } catch (r) {
              this.u.error(`Error getting native window handle: ${r}`);
            }
            (e.fullscreen = this.isFullScreen),
              (e.maximized = this.m.isMaximized()),
              (e.partsSplash = this.kb.getWindowSplash(e.workspace)),
              (e.zoomLevel = this.Ob()),
              (e.isCustomZoomLevel = typeof this.$ == 'number'),
              e.isCustomZoomLevel && e.partsSplash && (e.partsSplash.zoomLevel = e.zoomLevel),
              Xe('code/willOpenNewWindow'),
              (e.perfMarks = Wg()),
              this.ab.update(e);
          }
          async reload(e) {
            const i = Object.assign({}, this.R);
            (i.workspace = await this.Ib(i)),
              delete i.filesToOpenOrCreate,
              delete i.filesToDiff,
              delete i.filesToMerge,
              delete i.filesToWait,
              this.isExtensionDevelopmentHost &&
                e &&
                ((i.verbose = e.verbose),
                (i.debugId = e.debugId),
                (i.extensionEnvironment = e.extensionEnvironment),
                (i['inspect-extensions'] = e['inspect-extensions']),
                (i['inspect-brk-extensions'] = e['inspect-brk-extensions']),
                (i['extensions-dir'] = e['extensions-dir'])),
              (i.accessibilitySupport = Ms.app.isAccessibilitySupportEnabled()),
              (i.isInitialStartup = !1),
              (i.policiesData = this.fb.serialize()),
              (i.continueOn = this.t.continueOn),
              (i.profiles = {
                all: this.gb.profiles,
                profile: this.profile || this.gb.defaultProfile,
                home: this.gb.profilesHome,
              }),
              (i.logLevel = this.eb.getLogLevel()),
              (i.loggers = this.eb.getGlobalLoggers()),
              await this.load(i, { isReload: !0, disableExtensions: e?.['disable-extensions'] });
          }
          async Ib(e) {
            if (Di(e.workspace)) {
              const i = e.workspace.configPath;
              if (i.scheme === N.file && !(await this.hb.exists(i))) return;
            } else if (cs(e.workspace)) {
              const i = e.workspace.uri;
              if (i.scheme === N.file && !(await this.hb.exists(i))) return;
            }
            return e.workspace;
          }
          serializeWindowState() {
            if (!this.m) return Xn();
            if (this.isFullScreen) {
              let s;
              try {
                s = Ms.screen.getDisplayMatching(this.getBounds());
              } catch {}
              const r = Xn();
              return {
                mode: 3,
                display: s ? s.id : void 0,
                width: this.S.width || r.width,
                height: this.S.height || r.height,
                x: this.S.x || 0,
                y: this.S.y || 0,
                zoomLevel: this.$,
              };
            }
            const e = Object.create(null);
            let i;
            if (
              (!Q && this.m.isMaximized() ? (i = 0) : (i = 1),
              i === 0 ? (e.mode = 0) : (e.mode = 1),
              i === 1 || i === 0)
            ) {
              let s;
              i === 1 ? (s = this.getBounds()) : (s = this.m.getNormalBounds()),
                (e.x = s.x),
                (e.y = s.y),
                (e.width = s.width),
                (e.height = s.height);
            }
            return (e.zoomLevel = this.$), e;
          }
          Jb(e) {
            Xe('code/willRestoreCodeWindowState');
            let i = !1;
            if (e) {
              this.$ = e.zoomLevel;
              try {
                const s = Ms.screen.getAllDisplays();
                (i = s.length > 1), (e = df.validateWindowState(this.u, e, s));
              } catch (s) {
                this.u.warn(`Unexpected error validating window state: ${s}
${s.stack}`);
              }
            }
            return Xe('code/didRestoreCodeWindowState'), [e || Xn(), i];
          }
          getBounds() {
            const [e, i] = this.m.getPosition(),
              [s, r] = this.m.getSize();
            return { x: e, y: i, width: s, height: r };
          }
          H(e, i) {
            super.H(e, i),
              this.sendWhenReady(e ? 'vscode:enterFullScreen' : 'vscode:leaveFullScreen', gt.None),
              this.U && this.Mb(this.U, !1);
          }
          Lb() {
            let e = EL(this.r);
            return ['visible', 'toggle', 'hidden'].indexOf(e) < 0 && (e = 'classic'), e;
          }
          Mb(e, i = !0) {
            Q ||
              (e === 'toggle' && i && this.send('vscode:showInfoMessage', u(2854, null)),
              e === 'hidden'
                ? setTimeout(() => {
                    this.Nb(e);
                  })
                : this.Nb(e));
          }
          Nb(e) {
            const i = this.isFullScreen;
            switch (e) {
              case 'classic':
                this.m.setMenuBarVisibility(!i), (this.m.autoHideMenuBar = i);
                break;
              case 'visible':
                this.m.setMenuBarVisibility(!0), (this.m.autoHideMenuBar = !1);
                break;
              case 'toggle':
                this.m.setMenuBarVisibility(!1), (this.m.autoHideMenuBar = !0);
                break;
              case 'hidden':
                this.m.setMenuBarVisibility(!1), (this.m.autoHideMenuBar = !1);
                break;
            }
          }
          notifyZoomLevel(e) {
            this.$ = e;
          }
          Ob() {
            return typeof this.$ == 'number' ? this.$ : this.r.getValue('window')?.zoomLevel;
          }
          close() {
            this.m?.close();
          }
          sendWhenReady(e, i, ...s) {
            this.isReady
              ? this.send(e, ...s)
              : this.ready().then(() => {
                  i.isCancellationRequested || this.send(e, ...s);
                });
          }
          send(e, ...i) {
            if (this.m) {
              if (this.m.isDestroyed() || this.m.webContents.isDestroyed()) {
                this.u.warn(`Sending IPC message to channel '${e}' for window that is destroyed`);
                return;
              }
              try {
                this.m.webContents.send(e, ...i);
              } catch (s) {
                this.u.warn(
                  `Error sending IPC message to channel '${e}' of window ${this.P}: ${ki(s)}`
                );
              }
            }
          }
          updateTouchBar(e) {
            Q &&
              this.X.forEach((i, s) => {
                const r = e[s];
                i.segments = this.Rb(r);
              });
          }
          Pb() {
            if (Q) {
              for (let e = 0; e < 10; e++) {
                const i = this.Qb();
                this.X.push(i);
              }
              this.m.setTouchBar(new Ms.TouchBar({ items: this.X }));
            }
          }
          Qb(e = []) {
            const i = this.Rb(e),
              s = new Ms.TouchBar.TouchBarSegmentedControl({
                segments: i,
                mode: 'buttons',
                segmentStyle: 'automatic',
                change: (r) => {
                  this.sendWhenReady('vscode:runAction', gt.None, {
                    id: s.segments[r].id,
                    from: 'touchbar',
                  });
                },
              });
            return s;
          }
          Rb(e = []) {
            return e.map((s) => {
              let r;
              s.icon &&
                !to.isThemeIcon(s.icon) &&
                s.icon?.dark?.scheme === N.file &&
                ((r = Ms.nativeImage.createFromPath(_.revive(s.icon.dark).fsPath)),
                r.isEmpty() && (r = void 0));
              let n;
              return (
                typeof s.title == 'string' ? (n = s.title) : (n = s.title.value),
                { id: s.id, label: r ? void 0 : n, icon: r }
              );
            });
          }
          matches(e) {
            return this.m?.webContents.id === e.id;
          }
          dispose() {
            super.dispose(), this.eb.deregisterLoggers(this.id);
          }
        }),
        (sh = __decorate(
          [
            __param(1, ee),
            __param(2, dc),
            __param(3, dt),
            __param(4, Ko),
            __param(5, xr),
            __param(6, $t),
            __param(7, Vn),
            __param(8, zn),
            __param(9, Ve),
            __param(10, Ja),
            __param(11, Yn),
            __param(12, Qa),
            __param(13, Vt),
            __param(14, rn),
            __param(15, st),
            __param(16, Be),
            __param(17, hc),
            __param(18, Tt),
            __param(19, kt),
            __param(20, Ks),
            __param(21, fs),
            __param(22, Bi),
            __param(23, ra),
            __param(24, $r),
          ],
          sh
        ));
    },
  });
import xc from 'electron';
function wq(t) {
  const e = { openedWindows: [] },
    i = t || { openedWindows: [] };
  return (
    i.lastActiveWindow && (e.lastActiveWindow = xv(i.lastActiveWindow)),
    i.lastPluginDevelopmentHostWindow &&
      (e.lastPluginDevelopmentHostWindow = xv(i.lastPluginDevelopmentHostWindow)),
    Array.isArray(i.openedWindows) && (e.openedWindows = i.openedWindows.map((s) => xv(s))),
    e
  );
}
function xv(t) {
  const e = { uiState: t.uiState };
  return (
    t.backupPath && (e.backupPath = t.backupPath),
    t.remoteAuthority && (e.remoteAuthority = t.remoteAuthority),
    t.folder && (e.folderUri = _.parse(t.folder)),
    t.workspaceIdentifier &&
      (e.workspace = {
        id: t.workspaceIdentifier.id,
        configPath: _.parse(t.workspaceIdentifier.configURIPath),
      }),
    e
  );
}
function bq(t) {
  return {
    lastActiveWindow: t.lastActiveWindow && Av(t.lastActiveWindow),
    lastPluginDevelopmentHostWindow:
      t.lastPluginDevelopmentHostWindow && Av(t.lastPluginDevelopmentHostWindow),
    openedWindows: t.openedWindows.map((e) => Av(e)),
  };
}
function Av(t) {
  return {
    workspaceIdentifier: t.workspace && {
      id: t.workspace.id,
      configURIPath: t.workspace.configPath.toString(),
    },
    folder: t.folderUri && t.folderUri.toString(),
    backupPath: t.backupPath,
    remoteAuthority: t.remoteAuthority,
    uiState: t.uiState,
  };
}
var Zp,
  e1,
  vq = b({
    'out-build/vs/platform/windows/electron-main/windowsStateHandler.js'() {
      'use strict';
      U(),
        ie(),
        lt(),
        be(),
        Ge(),
        St(),
        se(),
        Pt(),
        qt(),
        Xa(),
        Oi(),
        (e1 = class extends H {
          static {
            Zp = this;
          }
          static {
            this.a = 'windowsState';
          }
          get state() {
            return this.b;
          }
          constructor(e, i, s, r, n) {
            super(),
              (this.g = e),
              (this.h = i),
              (this.j = s),
              (this.m = r),
              (this.n = n),
              (this.b = wq(this.h.getItem(Zp.a))),
              (this.c = void 0),
              (this.f = !1),
              this.r();
          }
          r() {
            xc.app.on('browser-window-blur', (e, i) => {
              if (!this.f) {
                if (i.webContents.getURL().startsWith('http')) return;
                this.t();
              }
            }),
              this.B(this.j.onBeforeCloseWindow((e) => this.u(e))),
              this.B(this.j.onBeforeShutdown(() => this.s())),
              this.B(
                this.g.onDidChangeWindowsCount((e) => {
                  e.newCount - e.oldCount > 0 && (this.c = void 0);
                })
              ),
              this.B(this.g.onDidDestroyWindow((e) => this.u(e)));
          }
          s() {
            (this.f = !0), this.t();
          }
          t() {
            const e = new Set(),
              i = {
                openedWindows: [],
                lastPluginDevelopmentHostWindow: this.b.lastPluginDevelopmentHostWindow,
                lastActiveWindow: this.c,
              };
            if (!i.lastActiveWindow) {
              let n = this.g.getLastActiveWindow();
              (!n || n.isExtensionDevelopmentHost) &&
                (n = this.g.getWindows().find((o) => !o.isExtensionDevelopmentHost)),
                n &&
                  ((i.lastActiveWindow = this.w(n)),
                  i.lastActiveWindow.uiState.mode === 3 &&
                    e.add(i.lastActiveWindow.uiState.display));
            }
            const s = this.g
              .getWindows()
              .find((n) => n.isExtensionDevelopmentHost && !n.isExtensionTestHost);
            s &&
              ((i.lastPluginDevelopmentHostWindow = this.w(s)),
              i.lastPluginDevelopmentHostWindow.uiState.mode === 3 &&
                (e.has(i.lastPluginDevelopmentHostWindow.uiState.display)
                  ? Q &&
                    !s.win?.isSimpleFullScreen() &&
                    (i.lastPluginDevelopmentHostWindow.uiState.mode = 1)
                  : e.add(i.lastPluginDevelopmentHostWindow.uiState.display))),
              this.g.getWindowCount() > 1 &&
                (i.openedWindows = this.g
                  .getWindows()
                  .filter((n) => !n.isExtensionDevelopmentHost)
                  .map((n) => {
                    const o = this.w(n);
                    return (
                      o.uiState.mode === 3 &&
                        (e.has(o.uiState.display)
                          ? Q &&
                            o.windowId !== i.lastActiveWindow?.windowId &&
                            !n.win?.isSimpleFullScreen() &&
                            (o.uiState.mode = 1)
                          : e.add(o.uiState.display)),
                      o
                    );
                  }));
            const r = bq(i);
            this.m.info('[WindowsStateHandler] saveWindowsState', r),
              (!this.f ||
                r.openedWindows.length > 0 ||
                r.lastActiveWindow ||
                r.lastPluginDevelopmentHostWindow) &&
                this.h.setItem(Zp.a, r),
              this.f && this.m.info('[WindowsStateHandler] onBeforeShutdown', r);
          }
          u(e) {
            if (this.j.quitRequested) return;
            const i = this.w(e);
            e.isExtensionDevelopmentHost && !e.isExtensionTestHost
              ? (this.b.lastPluginDevelopmentHostWindow = i)
              : !e.isExtensionDevelopmentHost &&
                e.openedWorkspace &&
                this.b.openedWindows.forEach((s) => {
                  const r = Di(e.openedWorkspace) && s.workspace?.id === e.openedWorkspace.id,
                    n =
                      cs(e.openedWorkspace) &&
                      s.folderUri &&
                      yt.isEqual(s.folderUri, e.openedWorkspace.uri);
                  (r || n) && (s.uiState = i.uiState);
                }),
              this.g.getWindowCount() === 1 && (this.c = i);
          }
          w(e) {
            return {
              windowId: e.id,
              workspace: Di(e.openedWorkspace) ? e.openedWorkspace : void 0,
              folderUri: cs(e.openedWorkspace) ? e.openedWorkspace.uri : void 0,
              backupPath: e.backupPath,
              remoteAuthority: e.remoteAuthority,
              uiState: e.serializeWindowState(),
            };
          }
          getNewWindowState(e) {
            const i = this.z(e),
              s = this.n.getValue('window');
            if (i.mode === 3) {
              let r;
              i.hasDefaultState
                ? (r = !!(
                    s?.newWindowDimensions &&
                    ['fullscreen', 'inherit', 'offset'].indexOf(s.newWindowDimensions) >= 0
                  ))
                : (r = !!(this.j.wasRestarted || s?.restoreFullscreen)),
                r || (i.mode = 1);
            }
            return i;
          }
          z(e) {
            const i = this.g.getLastActiveWindow();
            if (!e.extensionTestsPath) {
              if (e.extensionDevelopmentPath && this.state.lastPluginDevelopmentHostWindow)
                return this.state.lastPluginDevelopmentHostWindow.uiState;
              const c = e.workspace;
              if (Di(c)) {
                const h = this.state.openedWindows
                  .filter((d) => d.workspace && d.workspace.id === c.id)
                  .map((d) => d.uiState);
                if (h.length) return h[0];
              }
              if (cs(c)) {
                const h = this.state.openedWindows
                  .filter((d) => d.folderUri && yt.isEqual(d.folderUri, c.uri))
                  .map((d) => d.uiState);
                if (h.length) return h[0];
              } else if (e.backupPath) {
                const h = this.state.openedWindows
                  .filter((d) => d.backupPath === e.backupPath)
                  .map((d) => d.uiState);
                if (h.length) return h[0];
              }
              const l = this.c || this.state.lastActiveWindow;
              if (!i && l) return l.uiState;
            }
            let s;
            const r = xc.screen.getAllDisplays();
            if (r.length === 1) s = r[0];
            else {
              if (Q) {
                const c = xc.screen.getCursorScreenPoint();
                s = xc.screen.getDisplayNearestPoint(c);
              }
              !s && i && (s = xc.screen.getDisplayMatching(i.getBounds())),
                s || (s = xc.screen.getPrimaryDisplay() || r[0]);
            }
            let n = Xn();
            (n.x = Math.round(s.bounds.x + s.bounds.width / 2 - n.width / 2)),
              (n.y = Math.round(s.bounds.y + s.bounds.height / 2 - n.height / 2));
            const o = this.n.getValue('window');
            let a = !0;
            if (o?.newWindowDimensions) {
              if (o.newWindowDimensions === 'maximized') (n.mode = 0), (a = !1);
              else if (o.newWindowDimensions === 'fullscreen') (n.mode = 3), (a = !1);
              else if (
                (o.newWindowDimensions === 'inherit' || o.newWindowDimensions === 'offset') &&
                i
              ) {
                const c = i.serializeWindowState();
                c.mode === 3 ? (n.mode = 3) : (n = { ...c, zoomLevel: void 0 }),
                  (a = n.mode !== 3 && o.newWindowDimensions === 'offset');
              }
            }
            return a && (n = this.C(n)), (n.hasDefaultState = !0), n;
          }
          C(e) {
            if (this.g.getWindows().length === 0) return e;
            (e.x = typeof e.x == 'number' ? e.x : 0), (e.y = typeof e.y == 'number' ? e.y : 0);
            const i = this.g.getWindows().map((s) => s.getBounds());
            for (; i.some((s) => s.x === e.x || s.y === e.y); ) (e.x += 30), (e.y += 30);
            return e;
          }
        }),
        (e1 = Zp =
          __decorate(
            [__param(0, Tt), __param(1, kt), __param(2, st), __param(3, ee), __param(4, Ve)],
            e1
          ));
    },
  });
import * as yq from 'fs';
import { app as t1, BrowserWindow as i1, shell as kq } from 'electron';
import { hostname as Sq, release as Eq, arch as Cq } from 'os';
function rh(t) {
  return Di(t?.workspace);
}
function Ac(t) {
  return cs(t?.workspace);
}
var s1,
  r1,
  Dq = b({
    'out-build/vs/platform/windows/electron-main/windowsMainService.js'() {
      'use strict';
      Kc(),
        ni(),
        jt(),
        X(),
        qi(),
        Yr(),
        U(),
        Oe(),
        xe(),
        jr(),
        ie(),
        Vs(),
        lt(),
        $e(),
        be(),
        he(),
        Gl(),
        Ge(),
        jo(),
        vt(),
        ft(),
        K(),
        St(),
        se(),
        fu(),
        pu(),
        Xl(),
        Pt(),
        Jn(),
        aC(),
        qt(),
        U9(),
        vq(),
        Oi(),
        Qm(),
        Yf(),
        Wo(),
        zl(),
        Pr(),
        Fo(),
        vu(),
        Vl(),
        _w(),
        Pi(),
        or(),
        ls(),
        Xu(),
        Gt(),
        (s1 = Object.create(null)),
        (r1 = class extends H {
          constructor(
            e,
            i,
            s,
            r,
            n,
            o,
            a,
            c,
            l,
            h,
            d,
            p,
            m,
            w,
            v,
            k,
            y,
            C,
            I,
            E,
            x,
            F,
            Y,
            oe,
            B,
            ae,
            Me
          ) {
            super(),
              (this.s = e),
              (this.t = i),
              (this.u = s),
              (this.w = r),
              (this.z = n),
              (this.C = o),
              (this.D = a),
              (this.F = c),
              (this.G = l),
              (this.H = h),
              (this.I = d),
              (this.J = p),
              (this.L = m),
              (this.M = w),
              (this.N = v),
              (this.O = k),
              (this.P = y),
              (this.Q = C),
              (this.R = I),
              (this.S = E),
              (this.U = x),
              (this.W = F),
              (this.X = Y),
              (this.Y = oe),
              (this.Z = B),
              (this.$ = ae),
              (this.ab = Me),
              (this.a = this.B(new $())),
              (this.onDidOpenWindow = this.a.event),
              (this.b = this.B(new $())),
              (this.onDidSignalReadyWindow = this.b.event),
              (this.c = this.B(new $())),
              (this.onDidDestroyWindow = this.c.event),
              (this.f = this.B(new $())),
              (this.onDidChangeWindowsCount = this.f.event),
              (this.g = this.B(new $())),
              (this.onDidMaximizeWindow = this.g.event),
              (this.h = this.B(new $())),
              (this.onDidUnmaximizeWindow = this.h.event),
              (this.j = this.B(new $())),
              (this.onDidChangeFullScreen = this.j.event),
              (this.m = this.B(new $())),
              (this.onDidTriggerSystemContextMenu = this.m.event),
              (this.n = new Map()),
              (this.r = this.B(new e1(this, this.F, this.J, this.C, this.M))),
              (this.yb = this.B(
                this.S.createIPCObjectUrlHandler('css-modules', () => this.X.getLatestCssModules())
              )),
              this.bb();
          }
          bb() {
            this.B(this.O.onDidEnterWorkspace((e) => this.b.fire(e.window))),
              this.B(
                this.onDidSignalReadyWindow((e) => {
                  if (e.config?.extensionDevelopmentPath || e.config?.extensionTestsPath) {
                    const i = new je();
                    if (
                      (i.add(P.any(e.onDidClose, e.onDidDestroy)(() => i.dispose())),
                      e.config.extensionDevelopmentPath)
                    )
                      for (const s of e.config.extensionDevelopmentPath)
                        i.add(this.S.addValidFileRoot(s));
                    e.config.extensionTestsPath &&
                      i.add(this.S.addValidFileRoot(e.config.extensionTestsPath));
                  }
                })
              ),
              this.cb();
          }
          cb() {
            t1.on('browser-window-blur', (e, i) => {
              this.ab.publicLog2('WindowsStateChange:Blur', { windowId: i.id });
            }),
              t1.on('browser-window-focus', (e, i) => {
                this.ab.publicLog2('WindowsStateChange:Focus', { windowId: i.id });
              }),
              t1.on('browser-window-created', (e, i) => {
                this.ab.publicLog2('WindowsStateChange:Created', { windowId: i.id }),
                  this.B(
                    P.fromNodeEventEmitter(
                      i,
                      'closed'
                    )(() => {
                      this.ab.publicLog2('WindowsStateChange:Close', { windowId: i.id });
                    })
                  );
              });
          }
          openEmptyWindow(e, i) {
            const s = this.H.args,
              r = i?.remoteAuthority || void 0,
              n = !0,
              o = i?.forceReuseWindow,
              a = !o;
            return this.open({
              ...e,
              cli: s,
              forceEmpty: n,
              forceNewWindow: a,
              forceReuseWindow: o,
              remoteAuthority: r,
              forceTempProfile: i?.forceTempProfile,
              forceProfile: i?.forceProfile,
            });
          }
          openExistingWindow(e, i) {
            e.focus(), this.db(i, [e]);
          }
          async open(e) {
            if ((this.C.trace('windowsManager#open'), (await this.Z.get()) !== io.DONE)) return [];
            (e.addMode || e.removeMode) &&
              (e.initialStartup || !this.getLastActiveWindow()) &&
              ((e.addMode = !1), (e.removeMode = !1));
            const s = [],
              r = [],
              n = [],
              o = [],
              a = [],
              c = [];
            let l,
              h = !1;
            const d = await this.kb(e);
            this.C.trace('windowsManager#open pathsToOpen', d);
            for (const k of d)
              Ac(k)
                ? e.addMode
                  ? s.push(k)
                  : e.removeMode
                  ? r.push(k)
                  : n.push(k)
                : rh(k)
                ? o.push(k)
                : k.fileUri
                ? (l ||
                    (l = {
                      filesToOpenOrCreate: [],
                      filesToDiff: [],
                      filesToMerge: [],
                      remoteAuthority: k.remoteAuthority,
                    }),
                  l.filesToOpenOrCreate.push(k))
                : k.backupPath
                ? c.push({ backupFolder: ct(k.backupPath), remoteAuthority: k.remoteAuthority })
                : (h = !0);
            e.diffMode &&
              l &&
              l.filesToOpenOrCreate.length >= 2 &&
              ((l.filesToDiff = l.filesToOpenOrCreate.slice(0, 2)), (l.filesToOpenOrCreate = [])),
              e.mergeMode &&
                l &&
                l.filesToOpenOrCreate.length === 4 &&
                ((l.filesToMerge = l.filesToOpenOrCreate.slice(0, 4)),
                (l.filesToOpenOrCreate = []),
                (l.filesToDiff = [])),
              l &&
                e.waitMarkerFileURI &&
                (l.filesToWait = {
                  paths: Yt([...l.filesToDiff, l.filesToMerge[3], ...l.filesToOpenOrCreate]),
                  waitMarkerFileUri: e.waitMarkerFileURI,
                }),
              e.initialStartup
                ? (a.push(...this.O.getUntitledWorkspaces()),
                  o.push(...a),
                  c.push(...this.L.getEmptyWindowBackups()))
                : (c.length = 0);
            const { windows: p, filesOpenedInWindow: m } = await this.eb(e, o, n, c, h, l, s, r);
            if (
              (this.C.trace(
                `windowsManager#open used window count ${p.length} (workspacesToOpen: ${o.length}, foldersToOpen: ${n.length}, emptyToRestore: ${c.length}, maybeOpenEmptyWindow: ${h})`
              ),
              p.length > 1)
            )
              if (m) m.focus();
              else {
                const k =
                  this.r.state.lastActiveWindow &&
                  !e.forceEmpty &&
                  !e.cli._.length &&
                  !e.cli['file-uri'] &&
                  !e.cli['folder-uri'] &&
                  !(e.urisToOpen && e.urisToOpen.length);
                let y = !0,
                  C = !0;
                if (k) {
                  const I = p.filter(
                    (E) =>
                      this.r.state.lastActiveWindow &&
                      E.backupPath === this.r.state.lastActiveWindow.backupPath
                  );
                  I.length && (I[0].focus(), (y = !1), (C = !1));
                }
                if (y)
                  for (let I = p.length - 1; I >= 0; I--) {
                    const E = p[I];
                    if (
                      !(
                        (E.openedWorkspace &&
                          a.some(
                            (x) => E.openedWorkspace && x.workspace.id === E.openedWorkspace.id
                          )) ||
                        (E.backupPath &&
                          c.some((x) => E.backupPath && x.backupFolder === ct(E.backupPath)))
                      )
                    ) {
                      E.focus(), (C = !1);
                      break;
                    }
                  }
                C && p[p.length - 1].focus();
              }
            const w = l && l.filesToDiff.length > 0,
              v = l && l.filesToMerge.length > 0;
            if (!p.some((k) => k.isExtensionDevelopmentHost) && !w && !v && !e.noRecentEntry) {
              const k = [];
              for (const y of d)
                rh(y) && !y.transient
                  ? k.push({
                      label: y.label,
                      workspace: y.workspace,
                      remoteAuthority: y.remoteAuthority,
                    })
                  : Ac(y)
                  ? k.push({
                      label: y.label,
                      folderUri: y.workspace.uri,
                      remoteAuthority: y.remoteAuthority,
                    })
                  : y.fileUri &&
                    k.push({
                      label: y.label,
                      fileUri: y.fileUri,
                      remoteAuthority: y.remoteAuthority,
                    });
              this.N.addRecentlyOpened(k);
            }
            return this.db(e, p), p;
          }
          db(e, i) {
            const s = e.waitMarkerFileURI;
            e.context === 0 &&
              s &&
              i.length === 1 &&
              i[0] &&
              (async () => {
                await i[0].whenClosedOrLoaded;
                try {
                  await this.R.del(s);
                } catch {}
              })();
          }
          async eb(e, i, s, r, n, o, a, c) {
            const l = [];
            let h;
            function d(C, I) {
              l.push(C), I && ((h = C), (o = void 0));
            }
            let { openFolderInNewWindow: p, openFilesInNewWindow: m } = this.xb(e);
            if (!e.initialStartup && (a.length > 0 || c.length > 0)) {
              const C = a.at(0)?.remoteAuthority ?? c.at(0)?.remoteAuthority,
                I = this.Fb(C);
              I &&
                d(
                  this.hb(
                    I,
                    a.map((E) => E.workspace.uri),
                    c.map((E) => E.workspace.uri)
                  )
                );
            }
            const w = s.length + i.length + r.length;
            if (o && w === 0) {
              const C = o.filesToOpenOrCreate[0] || o.filesToDiff[0] || o.filesToMerge[3],
                I = this.getWindows().filter((x) => o && Ki(x.remoteAuthority, o.remoteAuthority));
              let E;
              C?.fileUri &&
                !m &&
                ((e.context === 4 || e.context === 0 || e.context === 1 || e.context === 6) &&
                  (E = await HL(I, C.fileUri, async (x) =>
                    x.configPath.scheme === N.file
                      ? this.O.resolveLocalWorkspace(x.configPath)
                      : void 0
                  )),
                E || (E = this.Gb(I))),
                E
                  ? Di(E.openedWorkspace)
                    ? i.push({ workspace: E.openedWorkspace, remoteAuthority: E.remoteAuthority })
                    : cs(E.openedWorkspace)
                    ? s.push({ workspace: E.openedWorkspace, remoteAuthority: E.remoteAuthority })
                    : d(this.fb(e, E, o), !0)
                  : d(
                      await this.zb({
                        userEnv: e.userEnv,
                        cli: e.cli,
                        initialStartup: e.initialStartup,
                        filesToOpen: o,
                        forceNewWindow: !0,
                        remoteAuthority: o.remoteAuthority,
                        forceNewTabbedWindow: e.forceNewTabbedWindow,
                        forceProfile: e.forceProfile,
                        forceTempProfile: e.forceTempProfile,
                      }),
                      !0
                    );
            }
            const v = zs(i, (C) => C.workspace.id);
            if (v.length > 0) {
              const C = Yt(v.map((I) => ec(this.getWindows(), I.workspace.configPath)));
              if (C.length > 0) {
                const I = C[0],
                  E = Ki(o?.remoteAuthority, I.remoteAuthority) ? o : void 0;
                d(this.fb(e, I, E), !!E), (p = !0);
              }
              for (const I of v) {
                if (C.some((F) => F.openedWorkspace && F.openedWorkspace.id === I.workspace.id))
                  continue;
                const E = I.remoteAuthority,
                  x = Ki(o?.remoteAuthority, E) ? o : void 0;
                d(await this.jb(e, I, p, x), !!x), (p = !0);
              }
            }
            const k = zs(s, (C) => yt.getComparisonKey(C.workspace.uri));
            if (k.length > 0) {
              const C = Yt(k.map((I) => ec(this.getWindows(), I.workspace.uri)));
              if (C.length > 0) {
                const I = C[0],
                  E = Ki(o?.remoteAuthority, I.remoteAuthority) ? o : void 0;
                d(this.fb(e, I, E), !!E), (p = !0);
              }
              for (const I of k) {
                if (
                  C.some(
                    (F) =>
                      cs(F.openedWorkspace) && yt.isEqual(F.openedWorkspace.uri, I.workspace.uri)
                  )
                )
                  continue;
                const E = I.remoteAuthority,
                  x = Ki(o?.remoteAuthority, E) ? o : void 0;
                d(await this.jb(e, I, p, x), !!x), (p = !0);
              }
            }
            const y = zs(r, (C) => C.backupFolder);
            if (y.length > 0)
              for (const C of y) {
                const I = C.remoteAuthority,
                  E = Ki(o?.remoteAuthority, I) ? o : void 0;
                d(await this.ib(e, !0, I, E, C), !!E), (p = !0);
              }
            if (o || (n && (e.forceEmpty || l.length === 0))) {
              const C = o ? o.remoteAuthority : e.remoteAuthority;
              d(await this.ib(e, p, C, o), !!o);
            }
            return { windows: zs(l), filesOpenedInWindow: h };
          }
          fb(e, i, s) {
            this.C.trace('windowsManager#doOpenFilesInExistingWindow', { filesToOpen: s }),
              this.gb(i);
            const r = {
              filesToOpenOrCreate: s?.filesToOpenOrCreate,
              filesToDiff: s?.filesToDiff,
              filesToMerge: s?.filesToMerge,
              filesToWait: s?.filesToWait,
              termProgram: e?.userEnv?.TERM_PROGRAM,
            };
            return i.sendWhenReady('vscode:openFiles', gt.None, r), i;
          }
          gb(e) {
            let i = e;
            const s = i1.getFocusedWindow();
            if (s && s.id !== e.id) {
              const r = this.W.getWindowByWebContents(s.webContents);
              r && r.parentId === e.id && (i = r);
            }
            i.focus();
          }
          hb(e, i, s) {
            this.C.trace('windowsManager#doAddRemoveFoldersToExistingWindow', {
              foldersToAdd: i,
              foldersToRemove: s,
            }),
              e.focus();
            const r = { foldersToAdd: i, foldersToRemove: s };
            return e.sendWhenReady('vscode:addRemoveFolders', gt.None, r), e;
          }
          ib(e, i, s, r, n) {
            this.C.trace('windowsManager#doOpenEmpty', {
              restore: !!n,
              remoteAuthority: s,
              filesToOpen: r,
              forceNewWindow: i,
            });
            let o;
            return (
              !i &&
                typeof e.contextWindowId == 'number' &&
                (o = this.getWindowById(e.contextWindowId)),
              this.zb({
                userEnv: e.userEnv,
                cli: e.cli,
                initialStartup: e.initialStartup,
                remoteAuthority: s,
                forceNewWindow: i,
                forceNewTabbedWindow: e.forceNewTabbedWindow,
                filesToOpen: r,
                windowToUse: o,
                emptyWindowBackupInfo: n,
                forceProfile: e.forceProfile,
                forceTempProfile: e.forceTempProfile,
              })
            );
          }
          jb(e, i, s, r, n) {
            return (
              this.C.trace('windowsManager#doOpenFolderOrWorkspace', {
                folderOrWorkspace: i,
                filesToOpen: r,
              }),
              !s &&
                !n &&
                typeof e.contextWindowId == 'number' &&
                (n = this.getWindowById(e.contextWindowId)),
              this.zb({
                workspace: i.workspace,
                userEnv: e.userEnv,
                cli: e.cli,
                initialStartup: e.initialStartup,
                remoteAuthority: i.remoteAuthority,
                forceNewWindow: s,
                forceNewTabbedWindow: e.forceNewTabbedWindow,
                filesToOpen: r,
                windowToUse: n,
                forceProfile: e.forceProfile,
                forceTempProfile: e.forceTempProfile,
              })
            );
          }
          async kb(e) {
            let i,
              s = !1,
              r = !1;
            if (
              (e.urisToOpen && e.urisToOpen.length > 0
                ? ((i = await this.lb(e)), (s = !0))
                : e.forceEmpty
                ? (i = [s1])
                : e.cli._.length || e.cli['folder-uri'] || e.cli['file-uri']
                ? ((i = await this.mb(e.cli)), i.length === 0 && i.push(s1), (s = !0))
                : ((i = await this.ob()), i.length === 0 && i.push(s1), (r = !0)),
              !e.addMode && !e.removeMode && s)
            ) {
              const n = i.filter((o) => Ac(o));
              if (n.length > 1) {
                const o = n[0].remoteAuthority;
                if (n.every((a) => Ki(a.remoteAuthority, o))) {
                  let a;
                  const c = await this.qb(o, n);
                  c
                    ? (a = c)
                    : (a = await this.O.createUntitledWorkspace(
                        n.map((l) => ({ uri: l.workspace.uri }))
                      )),
                    i.push({ workspace: a, remoteAuthority: o }),
                    (i = i.filter((l) => !Ac(l)));
                }
              }
            }
            if (
              e.initialStartup &&
              !r &&
              this.M.getValue('window')?.restoreWindows === 'preserve'
            ) {
              const n = await this.ob();
              i.unshift(...n.filter((o) => rh(o) || Ac(o) || o.backupPath));
            }
            return i;
          }
          async lb(e) {
            const i = { gotoLineMode: e.gotoLineMode, remoteAuthority: e.remoteAuthority },
              s = await Promise.all(
                Yt(e.urisToOpen || []).map(async (r) => {
                  const n = await this.rb(r, i);
                  if (n) return (n.label = r.label), n;
                  const o = this.tb(r);
                  this.Q.showMessageBox(
                    {
                      type: 'info',
                      buttons: [u(2855, null)],
                      message: o.scheme === N.file ? u(2856, null) : u(2857, null),
                      detail:
                        o.scheme === N.file
                          ? u(2858, null, _a(o, { os: ws, tildify: this.H }))
                          : u(2859, null, o.toString(!0)),
                    },
                    i1.getFocusedWindow() ?? void 0
                  );
                })
              );
            return Yt(s);
          }
          async mb(e) {
            const i = [],
              s = {
                ignoreFileNotFound: !0,
                gotoLineMode: e.goto,
                remoteAuthority: e.remote || void 0,
                forceOpenWorkspaceAsFile:
                  (e.diff && e._.length === 2) || (e.merge && e._.length === 4),
              },
              r = e['folder-uri'];
            if (r) {
              const a = await Promise.all(
                r.map((c) => {
                  const l = this.nb(c);
                  if (l) return this.rb({ folderUri: l }, s);
                })
              );
              i.push(...Yt(a));
            }
            const n = e['file-uri'];
            if (n) {
              const a = await Promise.all(
                n.map((c) => {
                  const l = this.nb(c);
                  if (l) return this.rb(Mo(c) ? { workspaceUri: l } : { fileUri: l }, s);
                })
              );
              i.push(...Yt(a));
            }
            const o = await Promise.all(
              e._.map((a) => (s.remoteAuthority ? this.wb(a, s) : this.ub(a, s)))
            );
            return i.push(...Yt(o)), i;
          }
          nb(e) {
            try {
              const i = _.parse(e);
              if (!i.scheme) {
                this.C.error(`Invalid URI input string, scheme missing: ${e}`);
                return;
              }
              return i.path ? i : i.with({ path: '/' });
            } catch (i) {
              this.C.error(`Invalid URI input string: ${e}, ${i.message}`);
            }
          }
          async ob() {
            const e = this.pb();
            switch (e) {
              case 'none':
                return [];
              case 'one':
              case 'all':
              case 'preserve':
              case 'folders': {
                const i = [];
                e !== 'one' && i.push(...this.r.state.openedWindows),
                  this.r.state.lastActiveWindow && i.push(this.r.state.lastActiveWindow);
                const s = await Promise.all(
                  i.map(async (r) => {
                    if (r.workspace) {
                      const n = await this.rb(
                        { workspaceUri: r.workspace.configPath },
                        { remoteAuthority: r.remoteAuthority, rejectTransientWorkspaces: !0 }
                      );
                      if (rh(n)) return n;
                    } else if (r.folderUri) {
                      const n = await this.rb(
                        { folderUri: r.folderUri },
                        { remoteAuthority: r.remoteAuthority }
                      );
                      if (Ac(n)) return n;
                    } else if (e !== 'folders' && r.backupPath)
                      return { backupPath: r.backupPath, remoteAuthority: r.remoteAuthority };
                  })
                );
                return Yt(s);
              }
            }
          }
          pb() {
            let e;
            return (
              this.J.wasRestarted
                ? (e = 'all')
                : ((e = this.M.getValue('window')?.restoreWindows || 'all'),
                  ['preserve', 'all', 'folders', 'one', 'none'].includes(e) || (e = 'all')),
              e
            );
          }
          async qb(e, i) {
            const s = (await this.ob()).filter((n) => rh(n)),
              r = i.map((n) => n.workspace.uri);
            for (const { workspace: n } of s) {
              const o = await this.O.resolveLocalWorkspace(n.configPath);
              if (!o || o.remoteAuthority !== e || o.transient || o.folders.length !== i.length)
                continue;
              const a = new d0(r, (c) => yt.getComparisonKey(c));
              if (o.folders.every((c) => a.has(c.uri))) return o;
            }
          }
          async rb(e, i = Object.create(null)) {
            const s = this.tb(e);
            return s.scheme === N.file
              ? (c9(e) && (i = { ...i, forceOpenWorkspaceAsFile: !0 }), this.ub(s.fsPath, i))
              : this.sb(e, i);
          }
          sb(e, i) {
            let s = this.tb(e);
            const r = ic(s) || i.remoteAuthority;
            if (((s = D5(B0(s))), c9(e))) {
              if (i.gotoLineMode) {
                const { path: n, line: o, column: a } = gd(s.path);
                return {
                  fileUri: s.with({ path: n }),
                  options: { selection: o ? { startLineNumber: o, startColumn: a || 1 } : void 0 },
                  remoteAuthority: r,
                };
              }
              return { fileUri: s, remoteAuthority: r };
            } else if (zm(e)) return { workspace: No(s), remoteAuthority: r };
            return { workspace: Xm(s), remoteAuthority: r };
          }
          tb(e) {
            return zm(e) ? e.workspaceUri : a9(e) ? e.folderUri : e.fileUri;
          }
          async ub(e, i, s) {
            let r, n;
            i.gotoLineMode && ({ path: e, line: r, column: n } = gd(e)), (e = h5(_i(e), zr()));
            try {
              const o = await yq.promises.stat(e);
              if (o.isFile()) {
                if (!i.forceOpenWorkspaceAsFile) {
                  const a = await this.O.resolveLocalWorkspace(_.file(e));
                  if (a)
                    return a.transient && i.rejectTransientWorkspaces
                      ? void 0
                      : {
                          workspace: { id: a.id, configPath: a.configPath },
                          type: ai.File,
                          exists: !0,
                          remoteAuthority: a.remoteAuthority,
                          transient: a.transient,
                        };
                }
                return {
                  fileUri: _.file(e),
                  type: ai.File,
                  exists: !0,
                  options: { selection: r ? { startLineNumber: r, startColumn: n || 1 } : void 0 },
                };
              } else {
                if (o.isDirectory())
                  return { workspace: Xm(_.file(e), o), type: ai.Directory, exists: !0 };
                if (!J && e === '/dev/null')
                  return { fileUri: _.file(e), type: ai.File, exists: !0 };
              }
            } catch (o) {
              if (o.code === 'ERR_UNC_HOST_NOT_ALLOWED' && !s) return this.vb(e, i);
              const a = _.file(e);
              if ((this.N.removeRecentlyOpened([a]), i.ignoreFileNotFound && o.code === 'ENOENT'))
                return { fileUri: a, type: ai.File, exists: !1 };
              this.C.error(`Invalid path provided: ${e}, ${o.message}`);
            }
          }
          async vb(e, i) {
            const s = _.file(e),
              { response: r, checkboxChecked: n } = await this.Q.showMessageBox({
                type: 'warning',
                buttons: [u(2860, null), u(2861, null), u(2862, null)],
                message: u(2863, null, s.authority),
                detail: u(2864, null, _a(s, { os: ws, tildify: this.H })),
                checkboxLabel: u(2865, null, s.authority),
                cancelId: 1,
              });
            if (r === 0) {
              if ((qc(s.authority), n)) {
                const o = { channel: 'vscode:configureAllowedUNCHost', args: s.authority };
                this.sendToFocused(o.channel, o.args), this.sendToOpeningWindow(o.channel, o.args);
              }
              return this.ub(e, i, !0);
            }
            if (r === 2) return kq.openExternal('https://aka.ms/vscode-windows-unc'), this.vb(e, i);
          }
          wb(e, i) {
            const s = e.charCodeAt(0),
              r = i.remoteAuthority;
            let n, o;
            i.gotoLineMode && ({ path: e, line: n, column: o } = gd(e)),
              s !== 47 &&
                (M0(s) && e.charCodeAt(e.charCodeAt(1)) === 58 && (e = Ia(e)), (e = `/${e}`));
            const a = _.from({ scheme: N.vscodeRemote, authority: r, path: e });
            if (e.charCodeAt(e.length - 1) !== 47) {
              if (Mo(e))
                return i.forceOpenWorkspaceAsFile
                  ? {
                      fileUri: a,
                      options: {
                        selection: n ? { startLineNumber: n, startColumn: o || 1 } : void 0,
                      },
                      remoteAuthority: i.remoteAuthority,
                    }
                  : { workspace: No(a), remoteAuthority: r };
              if (i.gotoLineMode || Ce.basename(e).indexOf('.') !== -1)
                return {
                  fileUri: a,
                  options: { selection: n ? { startLineNumber: n, startColumn: o || 1 } : void 0 },
                  remoteAuthority: r,
                };
            }
            return { workspace: Xm(a), remoteAuthority: r };
          }
          xb(e) {
            const i = this.M.getValue('window'),
              s = i?.openFoldersInNewWindow || 'default',
              r = i?.openFilesInNewWindow || 'off';
            let n = (e.preferNewWindow || e.forceNewWindow) && !e.forceReuseWindow;
            !e.forceNewWindow &&
              !e.forceReuseWindow &&
              (s === 'on' || s === 'off') &&
              (n = s === 'on');
            let o = !1;
            return (
              e.forceNewWindow || e.forceReuseWindow
                ? (o = !!e.forceNewWindow && !e.forceReuseWindow)
                : (Q
                    ? e.context === 1 && (o = !0)
                    : e.context !== 3 &&
                      e.context !== 2 &&
                      !(e.userEnv && e.userEnv.TERM_PROGRAM === 'vscode') &&
                      (o = !0),
                  !e.cli.extensionDevelopmentPath &&
                    (r === 'on' || r === 'off') &&
                    (o = r === 'on')),
              { openFolderInNewWindow: !!n, openFilesInNewWindow: o }
            );
          }
          async openExtensionDevelopmentHostWindow(e, i) {
            const s = zL(this.getWindows(), e);
            if (s) return this.J.reload(s, i.cli), s.focus(), [s];
            let r = i.cli['folder-uri'] || [],
              n = i.cli['file-uri'] || [],
              o = i.cli._;
            if (!o.length && !r.length && !n.length && !i.cli.extensionTestsPath) {
              const l = this.r.state.lastPluginDevelopmentHostWindow,
                h = l?.workspace ?? l?.folderUri;
              h &&
                (_.isUri(h)
                  ? h.scheme === N.file
                    ? (o = [h.fsPath])
                    : (r = [h.toString()])
                  : h.configPath.scheme === N.file
                  ? (o = [as(h.configPath)])
                  : (n = [h.configPath.toString()]));
            }
            let a = i.remoteAuthority;
            for (const l of e)
              if (l.match(/^[a-zA-Z][a-zA-Z0-9\+\-\.]+:/)) {
                const h = _.parse(l),
                  d = ic(h);
                d &&
                  (a
                    ? Ki(d, a) || this.C.error('more than one extension development path authority')
                    : (a = d));
              }
            (o = o.filter((l) => {
              const h = _.file(l);
              return ec(this.getWindows(), h) ? !1 : Ki(ic(h), a);
            })),
              (r = r.filter((l) => {
                const h = this.nb(l);
                return h && ec(this.getWindows(), h) ? !1 : h ? Ki(ic(h), a) : !1;
              })),
              (n = n.filter((l) => {
                const h = this.nb(l);
                return h && ec(this.getWindows(), h) ? !1 : h ? Ki(ic(h), a) : !1;
              })),
              (i.cli._ = o),
              (i.cli['folder-uri'] = r),
              (i.cli['file-uri'] = n);
            const c = {
              context: i.context,
              cli: i.cli,
              forceNewWindow: !0,
              forceEmpty: !o.length && !r.length && !n.length,
              userEnv: i.userEnv,
              noRecentEntry: !0,
              waitMarkerFileURI: i.waitMarkerFileURI,
              remoteAuthority: a,
              forceProfile: i.forceProfile,
              forceTempProfile: i.forceTempProfile,
            };
            return this.open(c);
          }
          async zb(e) {
            const i = this.M.getValue('window'),
              s = this.getLastActiveWindow(),
              n =
                (i?.newWindowProfile
                  ? this.I.profiles.find((c) => c.name === i.newWindowProfile)
                  : void 0) ??
                s?.profile ??
                this.I.defaultProfile;
            let o;
            !e.forceNewWindow &&
              !e.forceNewTabbedWindow &&
              ((o = e.windowToUse || s), o && o.focus());
            const a = {
              ...this.H.args,
              ...e.cli,
              machineId: this.s,
              sqmId: this.t,
              devDeviceId: this.u,
              windowId: -1,
              mainPid: process.pid,
              appRoot: this.H.appRoot,
              execPath: process.execPath,
              codeCachePath: this.H.codeCachePath,
              backupPath: e.emptyWindowBackupInfo
                ? M(this.H.backupHome, e.emptyWindowBackupInfo.backupFolder)
                : void 0,
              profiles: { home: this.I.profilesHome, all: this.I.profiles, profile: n },
              homeDir: this.H.userHome.with({ scheme: N.file }).fsPath,
              tmpDir: this.H.tmpDir.with({ scheme: N.file }).fsPath,
              userDataDir: this.H.userDataPath,
              remoteAuthority: e.remoteAuthority,
              workspace: e.workspace,
              userEnv: { ...this.z, ...e.userEnv },
              nls: { messages: Zh(), language: Jc() },
              filesToOpenOrCreate: e.filesToOpen?.filesToOpenOrCreate,
              filesToDiff: e.filesToOpen?.filesToDiff,
              filesToMerge: e.filesToOpen?.filesToMerge,
              filesToWait: e.filesToOpen?.filesToWait,
              logLevel: this.D.getLogLevel(),
              loggers: this.D.getGlobalLoggers(),
              logsPath: this.H.logsHome.with({ scheme: N.file }).fsPath,
              product: _s,
              isInitialStartup: e.initialStartup,
              perfMarks: Wg(),
              os: { release: Eq(), hostname: Sq(), arch: Cq() },
              autoDetectHighContrast: i?.autoDetectHighContrast ?? !0,
              autoDetectColorScheme: i?.autoDetectColorScheme ?? !1,
              accessibilitySupport: t1.accessibilitySupportEnabled,
              colorScheme: this.U.getColorScheme(),
              policiesData: this.G.serialize(),
              continueOn: this.H.continueOn,
              cssModulesUpdateIpc: this.X.isEnabled ? this.yb.resource.toString() : void 0,
              nativeAppMetadata: this.Y.nativeAppMetadata,
              iCubeMainUid: this.w,
            };
            if (o) {
              const c = o.config;
              !a.extensionDevelopmentPath &&
                c?.extensionDevelopmentPath &&
                ((a.extensionDevelopmentPath = c.extensionDevelopmentPath),
                (a.extensionDevelopmentKind = c.extensionDevelopmentKind),
                (a['enable-proposed-api'] = c['enable-proposed-api']),
                (a.verbose = c.verbose),
                (a['inspect-extensions'] = c['inspect-extensions']),
                (a['inspect-brk-extensions'] = c['inspect-brk-extensions']),
                (a.debugId = c.debugId),
                (a.extensionEnvironment = c.extensionEnvironment),
                (a['extensions-dir'] = c['extensions-dir']),
                (a['disable-extensions'] = c['disable-extensions']),
                (a['disable-extension'] = c['disable-extension'])),
                (a.loggers = a.loggers);
            } else {
              const c = this.r.getNewWindowState(a);
              Xe('code/willCreateCodeWindow');
              const l = (o = this.P.createInstance(sh, {
                state: c,
                extensionDevelopmentPath: a.extensionDevelopmentPath,
                isExtensionTestHost: !!a.extensionTestsPath,
              }));
              Xe('code/didCreateCodeWindow'),
                e.forceNewTabbedWindow && this.getLastActiveWindow()?.addTabbedWindow(l),
                this.n.set(l.id, l),
                this.a.fire(l),
                this.f.fire({
                  oldCount: this.getWindowCount() - 1,
                  newCount: this.getWindowCount(),
                });
              const h = new je();
              h.add(l.onDidSignalReady(() => this.b.fire(l))),
                h.add(P.once(l.onDidClose)(() => this.Db(l, h))),
                h.add(P.once(l.onDidDestroy)(() => this.Eb(l))),
                h.add(l.onDidMaximize(() => this.g.fire(l))),
                h.add(l.onDidUnmaximize(() => this.h.fire(l))),
                h.add(l.onDidEnterFullScreen(() => this.j.fire({ window: l, fullscreen: !0 }))),
                h.add(l.onDidLeaveFullScreen(() => this.j.fire({ window: l, fullscreen: !1 }))),
                h.add(
                  l.onDidTriggerSystemContextMenu(({ x: p, y: m }) =>
                    this.m.fire({ window: l, x: p, y: m })
                  )
                );
              const d = zc(l.win?.webContents);
              d.removeAllListeners('devtools-reload-page'),
                h.add(P.fromNodeEventEmitter(d, 'devtools-reload-page')(() => this.J.reload(l))),
                this.J.registerWindow(l);
            }
            return (
              (a.windowId = o.id),
              (a.iCubeMainUid = this.w),
              o.isReady
                ? this.J.unload(o, 4).then(async (c) => {
                    c || (await this.Bb(o, a, e, n));
                  })
                : await this.Bb(o, a, e, n),
              this.Ab(o.id),
              o
            );
          }
          async Ab(e) {
            const i = this.getWindowCount();
            (await this.$.getSlardarClient())?.sendEvent?.({
              name: 'windowopen',
              metrics: { windowId: e, totalWinCount: i },
            });
          }
          async Bb(e, i, s, r) {
            i.extensionDevelopmentPath ||
              (Di(i.workspace)
                ? (i.backupPath = this.L.registerWorkspaceBackup({
                    workspace: i.workspace,
                    remoteAuthority: i.remoteAuthority,
                  }))
                : cs(i.workspace)
                ? (i.backupPath = this.L.registerFolderBackup({
                    folderUri: i.workspace.uri,
                    remoteAuthority: i.remoteAuthority,
                  }))
                : (i.backupPath = this.L.registerEmptyWindowBackup({
                    backupFolder: s.emptyWindowBackupInfo?.backupFolder ?? Ym().id,
                    remoteAuthority: i.remoteAuthority,
                  })));
            const n = i.workspace ?? Yd(i.backupPath, !1),
              o = this.Cb(s, n, r),
              a = o instanceof Promise ? await o : o;
            (i.profiles.profile = a),
              i.extensionDevelopmentPath || (await this.I.setProfileForWorkspace(n, a)),
              e.load(i);
          }
          Cb(e, i, s) {
            return e.forceProfile
              ? this.I.profiles.find((r) => r.name === e.forceProfile) ??
                  this.I.createNamedProfile(e.forceProfile)
              : e.forceTempProfile
              ? this.I.createTransientProfile()
              : this.I.getProfileForWorkspace(i) ?? s;
          }
          Db(e, i) {
            this.n.delete(e.id),
              this.f.fire({ oldCount: this.getWindowCount() + 1, newCount: this.getWindowCount() }),
              i.dispose();
          }
          Eb(e) {
            this.n.delete(e.id), this.c.fire(e);
          }
          getFocusedWindow() {
            const e = i1.getFocusedWindow();
            if (e) return this.getWindowById(e.id);
          }
          getLastActiveWindow() {
            return this.Gb(this.getWindows());
          }
          Fb(e) {
            return this.Gb(this.getWindows().filter((i) => Ki(i.remoteAuthority, e)));
          }
          Gb(e) {
            return k9(e);
          }
          sendToFocused(e, ...i) {
            (this.getFocusedWindow() || this.getLastActiveWindow())?.sendWhenReady(
              e,
              gt.None,
              ...i
            );
          }
          sendToOpeningWindow(e, ...i) {
            this.B(
              P.once(this.onDidSignalReadyWindow)((s) => {
                s.sendWhenReady(e, gt.None, ...i);
              })
            );
          }
          sendToAll(e, i, s) {
            for (const r of this.getWindows())
              (s && s.indexOf(r.id) >= 0) || r.sendWhenReady(e, gt.None, i);
          }
          getWindows() {
            return Array.from(this.n.values());
          }
          getWindowCount() {
            return this.n.size;
          }
          getWindowById(e) {
            return this.n.get(e);
          }
          getWindowByWebContents(e) {
            const i = i1.fromWebContents(e);
            if (!i) return;
            const s = this.getWindowById(i.id);
            return s?.matches(e) ? s : void 0;
          }
        }),
        (r1 = __decorate(
          [
            __param(5, ee),
            __param(6, dc),
            __param(7, kt),
            __param(8, Ko),
            __param(9, dt),
            __param(10, xr),
            __param(11, st),
            __param(12, Qa),
            __param(13, Ve),
            __param(14, wu),
            __param(15, Yn),
            __param(16, Ks),
            __param(17, rn),
            __param(18, $t),
            __param(19, hc),
            __param(20, Ja),
            __param(21, Ya),
            __param(22, Bf),
            __param(23, fs),
            __param(24, Ju),
            __param(25, Bi),
            __param(26, Vt),
          ],
          r1
        ));
    },
  }),
  cC,
  xq = b({
    'out-build/vs/platform/windows/node/windowTracker.js'() {
      'use strict';
      le(),
        X(),
        U(),
        (cC = class extends H {
          constructor({ onDidOpenMainWindow: t, onDidFocusMainWindow: e, getActiveWindowId: i }) {
            super(),
              (this.a = this.B(new je())),
              P.latch(P.any(t, e))(this.f, this, this.a),
              (this.b = $a(() => i())),
              (async () => {
                try {
                  const r = await this.b;
                  this.c = typeof this.c == 'number' ? this.c : r;
                } catch {
                } finally {
                  this.b = void 0;
                }
              })();
          }
          f(t) {
            this.b && (this.b.cancel(), (this.b = void 0)), (this.c = t);
          }
          async getActiveClientId() {
            return `window:${this.b ? await this.b : this.c}`;
          }
        });
    },
  }),
  n1,
  Aq = b({
    'out-build/vs/platform/workspaces/electron-main/workspacesMainService.js'() {
      'use strict';
      Gl(),
        qt(),
        Yf(),
        Wo(),
        (n1 = class {
          constructor(e, i, s, r) {
            (this.a = e),
              (this.b = i),
              (this.c = s),
              (this.d = r),
              (this.onDidChangeRecentlyOpened = this.c.onDidChangeRecentlyOpened);
          }
          async enterWorkspace(e, i) {
            const s = this.b.getWindowById(e);
            if (s) return this.a.enterWorkspace(s, this.b.getWindows(), i);
          }
          createUntitledWorkspace(e, i, s) {
            return this.a.createUntitledWorkspace(i, s);
          }
          deleteUntitledWorkspace(e, i) {
            return this.a.deleteUntitledWorkspace(i);
          }
          getWorkspaceIdentifier(e, i) {
            return this.a.getWorkspaceIdentifier(i);
          }
          getRecentlyOpened(e) {
            return this.c.getRecentlyOpened();
          }
          addRecentlyOpened(e, i) {
            return this.c.addRecentlyOpened(i);
          }
          removeRecentlyOpened(e, i) {
            return this.c.removeRecentlyOpened(i);
          }
          clearRecentlyOpened(e) {
            return this.c.clearRecentlyOpened();
          }
          async getDirtyWorkspaces() {
            return this.d.getDirtyWorkspaces();
          }
        }),
        (n1 = __decorate([__param(0, Yn), __param(1, Tt), __param(2, wu), __param(3, Qa)], n1));
    },
  }),
  lC,
  Iq = b({
    'out-build/vs/platform/policy/common/policyIpc.js'() {
      'use strict';
      X(),
        U(),
        Pr(),
        (lC = class {
          constructor(t) {
            (this.b = t), (this.a = new je());
          }
          listen(t, e) {
            switch (e) {
              case 'onDidChange':
                return P.map(
                  this.b.onDidChange,
                  (i) => i.reduce((s, r) => ({ ...s, [r]: this.b.getPolicyValue(r) ?? null }), {}),
                  this.a
                );
            }
            throw new Error(`Event not found: ${e}`);
          }
          call(t, e, i) {
            switch (e) {
              case 'updatePolicyDefinitions':
                return this.b.updatePolicyDefinitions(i);
            }
            throw new Error(`Call not found: ${e}`);
          }
          dispose() {
            this.a.dispose();
          }
        });
    },
  });
function nh(t, e) {
  return t.uuid && e.uuid
    ? t.uuid === e.uuid
      ? !0
      : t.id === e.id
    : t.id === e.id
    ? !0
    : T0(t.id, e.id) === 0;
}
function $q(t, e) {
  return `${t}.${e}`;
}
function Pq(t) {
  return t.toLowerCase();
}
function _q(t, e) {
  return Pq($q(t ?? nv, e));
}
async function Lq(t, e) {
  if (!Fe) return !1;
  let i;
  try {
    i = (await t.readFile(_.file('/etc/os-release'))).value.toString();
  } catch {
    try {
      i = (await t.readFile(_.file('/usr/lib/os-release'))).value.toString();
    } catch (r) {
      e.debug('Error while getting the os-release file.', Ds(r));
    }
  }
  return !!i && (i.match(/^ID=([^\u001b\r\n]*)/m) || [])[1] === 'alpine';
}
async function Tq(t, e) {
  const i = await Lq(t, e),
    s = xV(i ? 'alpine' : ya, b0);
  return e.debug('ComputeTargetPlatform:', s), s;
}
var Mq,
  uC = b({
    'out-build/vs/platform/extensionManagement/common/extensionManagementUtil.js'() {
      'use strict';
      Wt(), rv(), zu(), ie(), be(), He(), Vs(), Jo(), $e(), (Mq = new nr('pprice.better-merge'));
    },
  });
function hC(t) {
  return (
    Lt(t) &&
    AV(t.identifier) &&
    (Fq(t.location) || (ot(t.location) && t.location)) &&
    (Wr(t.relativeLocation) || ot(t.relativeLocation)) &&
    t.version &&
    ot(t.version)
  );
}
function Fq(t) {
  return t ? ot(t.path) && ot(t.scheme) : !1;
}
var dC,
  oh,
  Ic,
  o1,
  a1 = b({
    'out-build/vs/platform/extensionManagement/common/extensionsProfileScannerService.js'() {
      'use strict';
      le(),
        bt(),
        U(),
        X(),
        Pi(),
        be(),
        rv(),
        uC(),
        ft(),
        K(),
        se(),
        Dr(),
        Er(),
        $e(),
        He(),
        (function (t) {
          (t.ERROR_PROFILE_NOT_FOUND = 'ERROR_PROFILE_NOT_FOUND'),
            (t.ERROR_INVALID_CONTENT = 'ERROR_INVALID_CONTENT');
        })(dC || (dC = {})),
        (oh = class extends Error {
          constructor(t, e) {
            super(t), (this.code = e);
          }
        }),
        (Ic = W('IExtensionsProfileScannerService')),
        (o1 = class extends H {
          constructor(e, i, s, r, n) {
            super(),
              (this.j = e),
              (this.m = i),
              (this.n = s),
              (this.r = r),
              (this.s = n),
              (this.b = this.B(new $())),
              (this.onAddExtensions = this.b.event),
              (this.c = this.B(new $())),
              (this.onDidAddExtensions = this.c.event),
              (this.f = this.B(new $())),
              (this.onRemoveExtensions = this.f.event),
              (this.g = this.B(new $())),
              (this.onDidRemoveExtensions = this.g.event),
              (this.h = new bi());
          }
          scanProfileExtensions(e, i) {
            return this.t(e, void 0, i);
          }
          async addExtensionsToProfile(e, i, s) {
            const r = [],
              n = [];
            try {
              return (
                await this.t(i, (o) => {
                  const a = [];
                  if (s) a.push(...o);
                  else
                    for (const c of o)
                      e.some(
                        ([l]) => nh(l.identifier, c.identifier) && l.manifest.version !== c.version
                      )
                        ? r.push(c)
                        : a.push(c);
                  for (const [c, l] of e) {
                    const h = a.findIndex(
                        (p) => nh(p.identifier, c.identifier) && p.version === c.manifest.version
                      ),
                      d = {
                        identifier: c.identifier,
                        version: c.manifest.version,
                        location: c.location,
                        metadata: l,
                      };
                    h === -1 ? (n.push(d), a.push(d)) : a.splice(h, 1, d);
                  }
                  return (
                    n.length && this.b.fire({ extensions: n, profileLocation: i }),
                    r.length && this.f.fire({ extensions: r, profileLocation: i }),
                    a
                  );
                }),
                n.length && this.c.fire({ extensions: n, profileLocation: i }),
                r.length && this.g.fire({ extensions: r, profileLocation: i }),
                n
              );
            } catch (o) {
              throw (
                (n.length && this.c.fire({ extensions: n, error: o, profileLocation: i }),
                r.length && this.g.fire({ extensions: r, error: o, profileLocation: i }),
                o)
              );
            }
          }
          async updateMetadata(e, i) {
            const s = [];
            return (
              await this.t(i, (r) => {
                const n = [];
                for (const o of r) {
                  const a = e.find(
                    ([c]) => nh(c.identifier, o.identifier) && c.manifest.version === o.version
                  );
                  a && ((o.metadata = { ...o.metadata, ...a[1] }), s.push(o)), n.push(o);
                }
                return n;
              }),
              s
            );
          }
          async removeExtensionsFromProfile(e, i) {
            const s = [];
            try {
              await this.t(i, (r) => {
                const n = [];
                for (const o of r) e.some((a) => nh(o.identifier, a)) ? s.push(o) : n.push(o);
                return s.length && this.f.fire({ extensions: s, profileLocation: i }), n;
              }),
                s.length && this.g.fire({ extensions: s, profileLocation: i });
            } catch (r) {
              throw (s.length && this.g.fire({ extensions: s, error: r, profileLocation: i }), r);
            }
          }
          async t(e, i, s) {
            return this.D(e).queue(async () => {
              let r = [],
                n;
              try {
                const o = await this.m.readFile(e);
                n = JSON.parse(o.value.toString().trim() || '[]');
              } catch (o) {
                if (kr(o) !== 1) throw o;
                if (
                  (this.r.extUri.isEqual(e, this.n.defaultProfile.extensionsResource) &&
                    (n = await this.C()),
                  !n && s?.bailOutWhenFileNotFound)
                )
                  throw new oh(Ds(o), 'ERROR_PROFILE_NOT_FOUND');
              }
              if (n) {
                Array.isArray(n) || this.u(e);
                let o = !1;
                for (const a of n) {
                  hC(a) || this.u(e);
                  let c;
                  if (ot(a.relativeLocation) && a.relativeLocation) c = this.y(a.relativeLocation);
                  else if (ot(a.location)) {
                    this.s.warn(
                      `Extensions profile: Ignoring extension with invalid location: ${a.location}`
                    );
                    continue;
                  } else {
                    c = _.revive(a.location);
                    const h = this.w(c);
                    h && ((o = !0), (a.relativeLocation = h));
                  }
                  Wr(a.metadata?.hasPreReleaseVersion) &&
                    a.metadata?.preRelease &&
                    ((o = !0), (a.metadata.hasPreReleaseVersion = !0));
                  const l = a.metadata?.id ?? a.identifier.uuid;
                  r.push({
                    identifier: l ? { id: a.identifier.id, uuid: l } : { id: a.identifier.id },
                    location: c,
                    version: a.version,
                    metadata: a.metadata,
                  });
                }
                o && (await this.m.writeFile(e, re.fromString(JSON.stringify(n))));
              }
              if (i) {
                r = i(r);
                const o = r.map((a) => ({
                  identifier: a.identifier,
                  version: a.version,
                  location: a.location.toJSON(),
                  relativeLocation: this.w(a.location),
                  metadata: a.metadata,
                }));
                await this.m.writeFile(e, re.fromString(JSON.stringify(o)));
              }
              return r;
            });
          }
          u(e) {
            throw new oh(`Invalid extensions content in ${e.toString()}`, 'ERROR_INVALID_CONTENT');
          }
          w(e) {
            return this.r.extUri.isEqual(this.r.extUri.dirname(e), this.j)
              ? this.r.extUri.basename(e)
              : void 0;
          }
          y(e) {
            return this.r.extUri.joinPath(this.j, e);
          }
          async C() {
            return (
              this.z ||
                (this.z = (async () => {
                  const e = this.r.extUri.joinPath(
                      this.n.defaultProfile.location,
                      'extensions.json'
                    ),
                    i = this.r.extUri.joinPath(this.j, '.init-default-profile-extensions');
                  let s;
                  try {
                    s = (await this.m.readFile(e)).value.toString();
                  } catch (n) {
                    if (kr(n) === 1) return;
                    throw n;
                  }
                  this.s.info(
                    'Migrating extensions from old default profile location',
                    e.toString()
                  );
                  let r;
                  try {
                    const n = JSON.parse(s);
                    Array.isArray(n) && n.every((o) => hC(o))
                      ? (r = n)
                      : this.s.warn(
                          'Skipping migrating from old default profile locaiton: Found invalid data',
                          n
                        );
                  } catch (n) {
                    this.s.error(n);
                  }
                  if (r)
                    try {
                      await this.m.createFile(
                        this.n.defaultProfile.extensionsResource,
                        re.fromString(JSON.stringify(r)),
                        { overwrite: !1 }
                      ),
                        this.s.info(
                          'Migrated extensions from old default profile location to new location',
                          e.toString(),
                          this.n.defaultProfile.extensionsResource.toString()
                        );
                    } catch (n) {
                      if (kr(n) === 3)
                        this.s.info(
                          'Migration from old default profile location to new location is done by another window',
                          e.toString(),
                          this.n.defaultProfile.extensionsResource.toString()
                        );
                      else throw n;
                    }
                  try {
                    await this.m.del(e);
                  } catch (n) {
                    kr(n) !== 1 && this.s.error(n);
                  }
                  try {
                    await this.m.del(i);
                  } catch (n) {
                    kr(n) !== 1 && this.s.error(n);
                  }
                  return r;
                })()),
              this.z
            );
          }
          D(e) {
            let i = this.h.get(e);
            return i || ((i = new Pa()), this.h.set(e, i)), i;
          }
        }),
        (o1 = __decorate([__param(1, $t), __param(2, Cr), __param(3, Zi), __param(4, ee)], o1));
    },
  }),
  ah,
  Le,
  Oq,
  Rq,
  fC,
  Nq,
  Bq,
  Uq,
  jq,
  Wq,
  Hq,
  zq,
  pC,
  Vq,
  Gq,
  qq,
  gC,
  Kq,
  Jq,
  Xq,
  Yq,
  Qq,
  Zq,
  eK,
  tK,
  iK,
  sK,
  rK,
  mC,
  nK,
  oK,
  aK,
  cK,
  lK,
  uK,
  hK,
  dK,
  fK,
  pK,
  Iv = b({
    'out-build/vs/base/common/semver/semver.js'() {
      'use strict';
      (ah = {}),
        (Le = { exports: ah }),
        (function (t, e) {
          if (typeof ah == 'object' && typeof Le == 'object') Le.exports = e();
          else if (typeof define == 'function' && define.amd) define([], e);
          else {
            var i = e();
            for (var s in i) (typeof ah == 'object' ? ah : t)[s] = i[s];
          }
        })(typeof self < 'u' ? self : void 0, function () {
          return (function (t) {
            var e = {};
            function i(s) {
              if (e[s]) return e[s].exports;
              var r = (e[s] = { i: s, l: !1, exports: {} });
              return t[s].call(r.exports, r, r.exports, i), (r.l = !0), r.exports;
            }
            return (
              (i.m = t),
              (i.c = e),
              (i.d = function (s, r, n) {
                i.o(s, r) || Object.defineProperty(s, r, { enumerable: !0, get: n });
              }),
              (i.r = function (s) {
                typeof Symbol < 'u' &&
                  Symbol.toStringTag &&
                  Object.defineProperty(s, Symbol.toStringTag, { value: 'Module' }),
                  Object.defineProperty(s, '__esModule', { value: !0 });
              }),
              (i.t = function (s, r) {
                if (
                  (1 & r && (s = i(s)),
                  8 & r || (4 & r && typeof s == 'object' && s && s.__esModule))
                )
                  return s;
                var n = Object.create(null);
                if (
                  (i.r(n),
                  Object.defineProperty(n, 'default', { enumerable: !0, value: s }),
                  2 & r && typeof s != 'string')
                )
                  for (var o in s)
                    i.d(
                      n,
                      o,
                      function (a) {
                        return s[a];
                      }.bind(null, o)
                    );
                return n;
              }),
              (i.n = function (s) {
                var r =
                  s && s.__esModule
                    ? function () {
                        return s.default;
                      }
                    : function () {
                        return s;
                      };
                return i.d(r, 'a', r), r;
              }),
              (i.o = function (s, r) {
                return Object.prototype.hasOwnProperty.call(s, r);
              }),
              (i.p = ''),
              i((i.s = 0))
            );
          })([
            function (t, e, i) {
              (function (s) {
                var r;
                (e = t.exports = Ke),
                  (r =
                    typeof s == 'object' &&
                    s.env &&
                    s.env.NODE_DEBUG &&
                    /\bsemver\b/i.test(s.env.NODE_DEBUG)
                      ? function () {
                          var D = Array.prototype.slice.call(arguments, 0);
                          D.unshift('SEMVER'), console.log.apply(console, D);
                        }
                      : function () {}),
                  (e.SEMVER_SPEC_VERSION = '2.0.0');
                var n = 256,
                  o = Number.MAX_SAFE_INTEGER || 9007199254740991,
                  a = (e.re = []),
                  c = (e.src = []),
                  l = 0,
                  h = l++;
                c[h] = '0|[1-9]\\d*';
                var d = l++;
                c[d] = '[0-9]+';
                var p = l++;
                c[p] = '\\d*[a-zA-Z-][a-zA-Z0-9-]*';
                var m = l++;
                c[m] = '(' + c[h] + ')\\.(' + c[h] + ')\\.(' + c[h] + ')';
                var w = l++;
                c[w] = '(' + c[d] + ')\\.(' + c[d] + ')\\.(' + c[d] + ')';
                var v = l++;
                c[v] = '(?:' + c[h] + '|' + c[p] + ')';
                var k = l++;
                c[k] = '(?:' + c[d] + '|' + c[p] + ')';
                var y = l++;
                c[y] = '(?:-(' + c[v] + '(?:\\.' + c[v] + ')*))';
                var C = l++;
                c[C] = '(?:-?(' + c[k] + '(?:\\.' + c[k] + ')*))';
                var I = l++;
                c[I] = '[0-9A-Za-z-]+';
                var E = l++;
                c[E] = '(?:\\+(' + c[I] + '(?:\\.' + c[I] + ')*))';
                var x = l++,
                  F = 'v?' + c[m] + c[y] + '?' + c[E] + '?';
                c[x] = '^' + F + '$';
                var Y = '[v=\\s]*' + c[w] + c[C] + '?' + c[E] + '?',
                  oe = l++;
                c[oe] = '^' + Y + '$';
                var B = l++;
                c[B] = '((?:<|>)?=?)';
                var ae = l++;
                c[ae] = c[d] + '|x|X|\\*';
                var Me = l++;
                c[Me] = c[h] + '|x|X|\\*';
                var fe = l++;
                c[fe] =
                  '[v=\\s]*(' +
                  c[Me] +
                  ')(?:\\.(' +
                  c[Me] +
                  ')(?:\\.(' +
                  c[Me] +
                  ')(?:' +
                  c[y] +
                  ')?' +
                  c[E] +
                  '?)?)?';
                var _t = l++;
                c[_t] =
                  '[v=\\s]*(' +
                  c[ae] +
                  ')(?:\\.(' +
                  c[ae] +
                  ')(?:\\.(' +
                  c[ae] +
                  ')(?:' +
                  c[C] +
                  ')?' +
                  c[E] +
                  '?)?)?';
                var V = l++;
                c[V] = '^' + c[B] + '\\s*' + c[fe] + '$';
                var R = l++;
                c[R] = '^' + c[B] + '\\s*' + c[_t] + '$';
                var z = l++;
                c[z] = '(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])';
                var q = l++;
                c[q] = '(?:~>?)';
                var ne = l++;
                (c[ne] = '(\\s*)' + c[q] + '\\s+'), (a[ne] = new RegExp(c[ne], 'g'));
                var me = l++;
                c[me] = '^' + c[q] + c[fe] + '$';
                var pe = l++;
                c[pe] = '^' + c[q] + c[_t] + '$';
                var O = l++;
                c[O] = '(?:\\^)';
                var Ee = l++;
                (c[Ee] = '(\\s*)' + c[O] + '\\s+'), (a[Ee] = new RegExp(c[Ee], 'g'));
                var ze = l++;
                c[ze] = '^' + c[O] + c[fe] + '$';
                var Br = l++;
                c[Br] = '^' + c[O] + c[_t] + '$';
                var Us = l++;
                c[Us] = '^' + c[B] + '\\s*(' + Y + ')$|^$';
                var En = l++;
                c[En] = '^' + c[B] + '\\s*(' + F + ')$|^$';
                var Es = l++;
                (c[Es] = '(\\s*)' + c[B] + '\\s*(' + Y + '|' + c[fe] + ')'),
                  (a[Es] = new RegExp(c[Es], 'g'));
                var ut = l++;
                c[ut] = '^\\s*(' + c[fe] + ')\\s+-\\s+(' + c[fe] + ')\\s*$';
                var Wh = l++;
                c[Wh] = '^\\s*(' + c[_t] + ')\\s+-\\s+(' + c[_t] + ')\\s*$';
                var n4 = l++;
                c[n4] = '(<|>)?=?\\s*\\*';
                for (var po = 0; po < 35; po++) r(po, c[po]), a[po] || (a[po] = new RegExp(c[po]));
                function go(D, L) {
                  if (D instanceof Ke) return D;
                  if (typeof D != 'string' || D.length > n || !(L ? a[oe] : a[x]).test(D))
                    return null;
                  try {
                    return new Ke(D, L);
                  } catch {
                    return null;
                  }
                }
                function Ke(D, L) {
                  if (D instanceof Ke) {
                    if (D.loose === L) return D;
                    D = D.version;
                  } else if (typeof D != 'string') throw new TypeError('Invalid Version: ' + D);
                  if (D.length > n)
                    throw new TypeError('version is longer than ' + n + ' characters');
                  if (!(this instanceof Ke)) return new Ke(D, L);
                  r('SemVer', D, L), (this.loose = L);
                  var T = D.trim().match(L ? a[oe] : a[x]);
                  if (!T) throw new TypeError('Invalid Version: ' + D);
                  if (
                    ((this.raw = D),
                    (this.major = +T[1]),
                    (this.minor = +T[2]),
                    (this.patch = +T[3]),
                    this.major > o || this.major < 0)
                  )
                    throw new TypeError('Invalid major version');
                  if (this.minor > o || this.minor < 0)
                    throw new TypeError('Invalid minor version');
                  if (this.patch > o || this.patch < 0)
                    throw new TypeError('Invalid patch version');
                  T[4]
                    ? (this.prerelease = T[4].split('.').map(function (ue) {
                        if (/^[0-9]+$/.test(ue)) {
                          var ke = +ue;
                          if (ke >= 0 && ke < o) return ke;
                        }
                        return ue;
                      }))
                    : (this.prerelease = []),
                    (this.build = T[5] ? T[5].split('.') : []),
                    this.format();
                }
                (e.parse = go),
                  (e.valid = function (D, L) {
                    var T = go(D, L);
                    return T ? T.version : null;
                  }),
                  (e.clean = function (D, L) {
                    var T = go(D.trim().replace(/^[=v]+/, ''), L);
                    return T ? T.version : null;
                  }),
                  (e.SemVer = Ke),
                  (Ke.prototype.format = function () {
                    return (
                      (this.version = this.major + '.' + this.minor + '.' + this.patch),
                      this.prerelease.length && (this.version += '-' + this.prerelease.join('.')),
                      this.version
                    );
                  }),
                  (Ke.prototype.toString = function () {
                    return this.version;
                  }),
                  (Ke.prototype.compare = function (D) {
                    return (
                      r('SemVer.compare', this.version, this.loose, D),
                      D instanceof Ke || (D = new Ke(D, this.loose)),
                      this.compareMain(D) || this.comparePre(D)
                    );
                  }),
                  (Ke.prototype.compareMain = function (D) {
                    return (
                      D instanceof Ke || (D = new Ke(D, this.loose)),
                      wa(this.major, D.major) || wa(this.minor, D.minor) || wa(this.patch, D.patch)
                    );
                  }),
                  (Ke.prototype.comparePre = function (D) {
                    if (
                      (D instanceof Ke || (D = new Ke(D, this.loose)),
                      this.prerelease.length && !D.prerelease.length)
                    )
                      return -1;
                    if (!this.prerelease.length && D.prerelease.length) return 1;
                    if (!this.prerelease.length && !D.prerelease.length) return 0;
                    var L = 0;
                    do {
                      var T = this.prerelease[L],
                        ue = D.prerelease[L];
                      if ((r('prerelease compare', L, T, ue), T === void 0 && ue === void 0))
                        return 0;
                      if (ue === void 0) return 1;
                      if (T === void 0) return -1;
                      if (T !== ue) return wa(T, ue);
                    } while (++L);
                  }),
                  (Ke.prototype.inc = function (D, L) {
                    switch (D) {
                      case 'premajor':
                        (this.prerelease.length = 0),
                          (this.patch = 0),
                          (this.minor = 0),
                          this.major++,
                          this.inc('pre', L);
                        break;
                      case 'preminor':
                        (this.prerelease.length = 0),
                          (this.patch = 0),
                          this.minor++,
                          this.inc('pre', L);
                        break;
                      case 'prepatch':
                        (this.prerelease.length = 0), this.inc('patch', L), this.inc('pre', L);
                        break;
                      case 'prerelease':
                        this.prerelease.length === 0 && this.inc('patch', L), this.inc('pre', L);
                        break;
                      case 'major':
                        (this.minor === 0 && this.patch === 0 && this.prerelease.length !== 0) ||
                          this.major++,
                          (this.minor = 0),
                          (this.patch = 0),
                          (this.prerelease = []);
                        break;
                      case 'minor':
                        (this.patch === 0 && this.prerelease.length !== 0) || this.minor++,
                          (this.patch = 0),
                          (this.prerelease = []);
                        break;
                      case 'patch':
                        this.prerelease.length === 0 && this.patch++, (this.prerelease = []);
                        break;
                      case 'pre':
                        if (this.prerelease.length === 0) this.prerelease = [0];
                        else {
                          for (var T = this.prerelease.length; --T >= 0; )
                            typeof this.prerelease[T] == 'number' &&
                              (this.prerelease[T]++, (T = -2));
                          T === -1 && this.prerelease.push(0);
                        }
                        L &&
                          (this.prerelease[0] === L
                            ? isNaN(this.prerelease[1]) && (this.prerelease = [L, 0])
                            : (this.prerelease = [L, 0]));
                        break;
                      default:
                        throw new Error('invalid increment argument: ' + D);
                    }
                    return this.format(), (this.raw = this.version), this;
                  }),
                  (e.inc = function (D, L, T, ue) {
                    typeof T == 'string' && ((ue = T), (T = void 0));
                    try {
                      return new Ke(D, T).inc(L, ue).version;
                    } catch {
                      return null;
                    }
                  }),
                  (e.diff = function (D, L) {
                    if (Tg(D, L)) return null;
                    var T = go(D),
                      ue = go(L);
                    if (T.prerelease.length || ue.prerelease.length) {
                      for (var ke in T)
                        if (
                          (ke === 'major' || ke === 'minor' || ke === 'patch') &&
                          T[ke] !== ue[ke]
                        )
                          return 'pre' + ke;
                      return 'prerelease';
                    }
                    for (var ke in T)
                      if ((ke === 'major' || ke === 'minor' || ke === 'patch') && T[ke] !== ue[ke])
                        return ke;
                  }),
                  (e.compareIdentifiers = wa);
                var o4 = /^[0-9]+$/;
                function wa(D, L) {
                  var T = o4.test(D),
                    ue = o4.test(L);
                  return (
                    T && ue && ((D = +D), (L = +L)),
                    T && !ue ? -1 : ue && !T ? 1 : D < L ? -1 : D > L ? 1 : 0
                  );
                }
                function Ur(D, L, T) {
                  return new Ke(D, T).compare(new Ke(L, T));
                }
                function Hh(D, L, T) {
                  return Ur(D, L, T) > 0;
                }
                function zh(D, L, T) {
                  return Ur(D, L, T) < 0;
                }
                function Tg(D, L, T) {
                  return Ur(D, L, T) === 0;
                }
                function a4(D, L, T) {
                  return Ur(D, L, T) !== 0;
                }
                function Mg(D, L, T) {
                  return Ur(D, L, T) >= 0;
                }
                function Fg(D, L, T) {
                  return Ur(D, L, T) <= 0;
                }
                function Vh(D, L, T, ue) {
                  var ke;
                  switch (L) {
                    case '===':
                      typeof D == 'object' && (D = D.version),
                        typeof T == 'object' && (T = T.version),
                        (ke = D === T);
                      break;
                    case '!==':
                      typeof D == 'object' && (D = D.version),
                        typeof T == 'object' && (T = T.version),
                        (ke = D !== T);
                      break;
                    case '':
                    case '=':
                    case '==':
                      ke = Tg(D, T, ue);
                      break;
                    case '!=':
                      ke = a4(D, T, ue);
                      break;
                    case '>':
                      ke = Hh(D, T, ue);
                      break;
                    case '>=':
                      ke = Mg(D, T, ue);
                      break;
                    case '<':
                      ke = zh(D, T, ue);
                      break;
                    case '<=':
                      ke = Fg(D, T, ue);
                      break;
                    default:
                      throw new TypeError('Invalid operator: ' + L);
                  }
                  return ke;
                }
                function Cs(D, L) {
                  if (D instanceof Cs) {
                    if (D.loose === L) return D;
                    D = D.value;
                  }
                  if (!(this instanceof Cs)) return new Cs(D, L);
                  r('comparator', D, L),
                    (this.loose = L),
                    this.parse(D),
                    this.semver === Uc
                      ? (this.value = '')
                      : (this.value = this.operator + this.semver.version),
                    r('comp', this);
                }
                (e.rcompareIdentifiers = function (D, L) {
                  return wa(L, D);
                }),
                  (e.major = function (D, L) {
                    return new Ke(D, L).major;
                  }),
                  (e.minor = function (D, L) {
                    return new Ke(D, L).minor;
                  }),
                  (e.patch = function (D, L) {
                    return new Ke(D, L).patch;
                  }),
                  (e.compare = Ur),
                  (e.compareLoose = function (D, L) {
                    return Ur(D, L, !0);
                  }),
                  (e.rcompare = function (D, L, T) {
                    return Ur(L, D, T);
                  }),
                  (e.sort = function (D, L) {
                    return D.sort(function (T, ue) {
                      return e.compare(T, ue, L);
                    });
                  }),
                  (e.rsort = function (D, L) {
                    return D.sort(function (T, ue) {
                      return e.rcompare(T, ue, L);
                    });
                  }),
                  (e.gt = Hh),
                  (e.lt = zh),
                  (e.eq = Tg),
                  (e.neq = a4),
                  (e.gte = Mg),
                  (e.lte = Fg),
                  (e.cmp = Vh),
                  (e.Comparator = Cs);
                var Uc = {};
                function Ft(D, L) {
                  if (D instanceof Ft) return D.loose === L ? D : new Ft(D.raw, L);
                  if (D instanceof Cs) return new Ft(D.value, L);
                  if (!(this instanceof Ft)) return new Ft(D, L);
                  if (
                    ((this.loose = L),
                    (this.raw = D),
                    (this.set = D.split(/\s*\|\|\s*/)
                      .map(function (T) {
                        return this.parseRange(T.trim());
                      }, this)
                      .filter(function (T) {
                        return T.length;
                      })),
                    !this.set.length)
                  )
                    throw new TypeError('Invalid SemVer Range: ' + D);
                  this.format();
                }
                function Wi(D) {
                  return !D || D.toLowerCase() === 'x' || D === '*';
                }
                function RI(D, L, T, ue, ke, ci, Je, rs, Bt, Ai, hr, Ut, pi) {
                  return (
                    (L = Wi(T)
                      ? ''
                      : Wi(ue)
                      ? '>=' + T + '.0.0'
                      : Wi(ke)
                      ? '>=' + T + '.' + ue + '.0'
                      : '>=' + L) +
                    ' ' +
                    (rs = Wi(Bt)
                      ? ''
                      : Wi(Ai)
                      ? '<' + (+Bt + 1) + '.0.0'
                      : Wi(hr)
                      ? '<' + Bt + '.' + (+Ai + 1) + '.0'
                      : Ut
                      ? '<=' + Bt + '.' + Ai + '.' + hr + '-' + Ut
                      : '<=' + rs)
                  ).trim();
                }
                function NI(D, L) {
                  for (var T = 0; T < D.length; T++) if (!D[T].test(L)) return !1;
                  if (L.prerelease.length) {
                    for (T = 0; T < D.length; T++)
                      if (
                        (r(D[T].semver), D[T].semver !== Uc && D[T].semver.prerelease.length > 0)
                      ) {
                        var ue = D[T].semver;
                        if (ue.major === L.major && ue.minor === L.minor && ue.patch === L.patch)
                          return !0;
                      }
                    return !1;
                  }
                  return !0;
                }
                function Gh(D, L, T) {
                  try {
                    L = new Ft(L, T);
                  } catch {
                    return !1;
                  }
                  return L.test(D);
                }
                function Og(D, L, T, ue) {
                  var ke, ci, Je, rs, Bt;
                  switch (((D = new Ke(D, ue)), (L = new Ft(L, ue)), T)) {
                    case '>':
                      (ke = Hh), (ci = Fg), (Je = zh), (rs = '>'), (Bt = '>=');
                      break;
                    case '<':
                      (ke = zh), (ci = Mg), (Je = Hh), (rs = '<'), (Bt = '<=');
                      break;
                    default:
                      throw new TypeError('Must provide a hilo val of "<" or ">"');
                  }
                  if (Gh(D, L, ue)) return !1;
                  for (var Ai = 0; Ai < L.set.length; ++Ai) {
                    var hr = L.set[Ai],
                      Ut = null,
                      pi = null;
                    if (
                      (hr.forEach(function (ns) {
                        ns.semver === Uc && (ns = new Cs('>=0.0.0')),
                          (Ut = Ut || ns),
                          (pi = pi || ns),
                          ke(ns.semver, Ut.semver, ue)
                            ? (Ut = ns)
                            : Je(ns.semver, pi.semver, ue) && (pi = ns);
                      }),
                      Ut.operator === rs ||
                        Ut.operator === Bt ||
                        ((!pi.operator || pi.operator === rs) && ci(D, pi.semver)) ||
                        (pi.operator === Bt && Je(D, pi.semver)))
                    )
                      return !1;
                  }
                  return !0;
                }
                (Cs.prototype.parse = function (D) {
                  var L = this.loose ? a[Us] : a[En],
                    T = D.match(L);
                  if (!T) throw new TypeError('Invalid comparator: ' + D);
                  (this.operator = T[1]),
                    this.operator === '=' && (this.operator = ''),
                    T[2] ? (this.semver = new Ke(T[2], this.loose)) : (this.semver = Uc);
                }),
                  (Cs.prototype.toString = function () {
                    return this.value;
                  }),
                  (Cs.prototype.test = function (D) {
                    return (
                      r('Comparator.test', D, this.loose),
                      this.semver === Uc ||
                        (typeof D == 'string' && (D = new Ke(D, this.loose)),
                        Vh(D, this.operator, this.semver, this.loose))
                    );
                  }),
                  (Cs.prototype.intersects = function (D, L) {
                    if (!(D instanceof Cs)) throw new TypeError('a Comparator is required');
                    var T;
                    if (this.operator === '') return (T = new Ft(D.value, L)), Gh(this.value, T, L);
                    if (D.operator === '') return (T = new Ft(this.value, L)), Gh(D.semver, T, L);
                    var ue = !(
                        (this.operator !== '>=' && this.operator !== '>') ||
                        (D.operator !== '>=' && D.operator !== '>')
                      ),
                      ke = !(
                        (this.operator !== '<=' && this.operator !== '<') ||
                        (D.operator !== '<=' && D.operator !== '<')
                      ),
                      ci = this.semver.version === D.semver.version,
                      Je = !(
                        (this.operator !== '>=' && this.operator !== '<=') ||
                        (D.operator !== '>=' && D.operator !== '<=')
                      ),
                      rs =
                        Vh(this.semver, '<', D.semver, L) &&
                        (this.operator === '>=' || this.operator === '>') &&
                        (D.operator === '<=' || D.operator === '<'),
                      Bt =
                        Vh(this.semver, '>', D.semver, L) &&
                        (this.operator === '<=' || this.operator === '<') &&
                        (D.operator === '>=' || D.operator === '>');
                    return ue || ke || (ci && Je) || rs || Bt;
                  }),
                  (e.Range = Ft),
                  (Ft.prototype.format = function () {
                    return (
                      (this.range = this.set
                        .map(function (D) {
                          return D.join(' ').trim();
                        })
                        .join('||')
                        .trim()),
                      this.range
                    );
                  }),
                  (Ft.prototype.toString = function () {
                    return this.range;
                  }),
                  (Ft.prototype.parseRange = function (D) {
                    var L = this.loose;
                    (D = D.trim()), r('range', D, L);
                    var T = L ? a[Wh] : a[ut];
                    (D = D.replace(T, RI)),
                      r('hyphen replace', D),
                      (D = D.replace(a[Es], '$1$2$3')),
                      r('comparator trim', D, a[Es]),
                      (D = (D = (D = D.replace(a[ne], '$1~')).replace(a[Ee], '$1^'))
                        .split(/\s+/)
                        .join(' '));
                    var ue = L ? a[Us] : a[En],
                      ke = D.split(' ')
                        .map(function (ci) {
                          return (function (Je, rs) {
                            return (
                              r('comp', Je),
                              (Je = (function (Bt, Ai) {
                                return Bt.trim()
                                  .split(/\s+/)
                                  .map(function (hr) {
                                    return (function (Ut, pi) {
                                      r('caret', Ut, pi);
                                      var ns = pi ? a[Br] : a[ze];
                                      return Ut.replace(ns, function (js, De, Te, pt, At) {
                                        var gi;
                                        return (
                                          r('caret', Ut, js, De, Te, pt, At),
                                          Wi(De)
                                            ? (gi = '')
                                            : Wi(Te)
                                            ? (gi = '>=' + De + '.0.0 <' + (+De + 1) + '.0.0')
                                            : Wi(pt)
                                            ? (gi =
                                                De === '0'
                                                  ? '>=' +
                                                    De +
                                                    '.' +
                                                    Te +
                                                    '.0 <' +
                                                    De +
                                                    '.' +
                                                    (+Te + 1) +
                                                    '.0'
                                                  : '>=' +
                                                    De +
                                                    '.' +
                                                    Te +
                                                    '.0 <' +
                                                    (+De + 1) +
                                                    '.0.0')
                                            : At
                                            ? (r('replaceCaret pr', At),
                                              At.charAt(0) !== '-' && (At = '-' + At),
                                              (gi =
                                                De === '0'
                                                  ? Te === '0'
                                                    ? '>=' +
                                                      De +
                                                      '.' +
                                                      Te +
                                                      '.' +
                                                      pt +
                                                      At +
                                                      ' <' +
                                                      De +
                                                      '.' +
                                                      Te +
                                                      '.' +
                                                      (+pt + 1)
                                                    : '>=' +
                                                      De +
                                                      '.' +
                                                      Te +
                                                      '.' +
                                                      pt +
                                                      At +
                                                      ' <' +
                                                      De +
                                                      '.' +
                                                      (+Te + 1) +
                                                      '.0'
                                                  : '>=' +
                                                    De +
                                                    '.' +
                                                    Te +
                                                    '.' +
                                                    pt +
                                                    At +
                                                    ' <' +
                                                    (+De + 1) +
                                                    '.0.0'))
                                            : (r('no pr'),
                                              (gi =
                                                De === '0'
                                                  ? Te === '0'
                                                    ? '>=' +
                                                      De +
                                                      '.' +
                                                      Te +
                                                      '.' +
                                                      pt +
                                                      ' <' +
                                                      De +
                                                      '.' +
                                                      Te +
                                                      '.' +
                                                      (+pt + 1)
                                                    : '>=' +
                                                      De +
                                                      '.' +
                                                      Te +
                                                      '.' +
                                                      pt +
                                                      ' <' +
                                                      De +
                                                      '.' +
                                                      (+Te + 1) +
                                                      '.0'
                                                  : '>=' +
                                                    De +
                                                    '.' +
                                                    Te +
                                                    '.' +
                                                    pt +
                                                    ' <' +
                                                    (+De + 1) +
                                                    '.0.0')),
                                          r('caret return', gi),
                                          gi
                                        );
                                      });
                                    })(hr, Ai);
                                  })
                                  .join(' ');
                              })(Je, rs)),
                              r('caret', Je),
                              (Je = (function (Bt, Ai) {
                                return Bt.trim()
                                  .split(/\s+/)
                                  .map(function (hr) {
                                    return (function (Ut, pi) {
                                      var ns = pi ? a[pe] : a[me];
                                      return Ut.replace(ns, function (js, De, Te, pt, At) {
                                        var gi;
                                        return (
                                          r('tilde', Ut, js, De, Te, pt, At),
                                          Wi(De)
                                            ? (gi = '')
                                            : Wi(Te)
                                            ? (gi = '>=' + De + '.0.0 <' + (+De + 1) + '.0.0')
                                            : Wi(pt)
                                            ? (gi =
                                                '>=' +
                                                De +
                                                '.' +
                                                Te +
                                                '.0 <' +
                                                De +
                                                '.' +
                                                (+Te + 1) +
                                                '.0')
                                            : At
                                            ? (r('replaceTilde pr', At),
                                              At.charAt(0) !== '-' && (At = '-' + At),
                                              (gi =
                                                '>=' +
                                                De +
                                                '.' +
                                                Te +
                                                '.' +
                                                pt +
                                                At +
                                                ' <' +
                                                De +
                                                '.' +
                                                (+Te + 1) +
                                                '.0'))
                                            : (gi =
                                                '>=' +
                                                De +
                                                '.' +
                                                Te +
                                                '.' +
                                                pt +
                                                ' <' +
                                                De +
                                                '.' +
                                                (+Te + 1) +
                                                '.0'),
                                          r('tilde return', gi),
                                          gi
                                        );
                                      });
                                    })(hr, Ai);
                                  })
                                  .join(' ');
                              })(Je, rs)),
                              r('tildes', Je),
                              (Je = (function (Bt, Ai) {
                                return (
                                  r('replaceXRanges', Bt, Ai),
                                  Bt.split(/\s+/)
                                    .map(function (hr) {
                                      return (function (Ut, pi) {
                                        Ut = Ut.trim();
                                        var ns = pi ? a[R] : a[V];
                                        return Ut.replace(ns, function (js, De, Te, pt, At, gi) {
                                          r('xRange', Ut, js, De, Te, pt, At, gi);
                                          var c4 = Wi(Te),
                                            jc = c4 || Wi(pt),
                                            Wc = jc || Wi(At);
                                          return (
                                            De === '=' && Wc && (De = ''),
                                            c4
                                              ? (js = De === '>' || De === '<' ? '<0.0.0' : '*')
                                              : De && Wc
                                              ? (jc && (pt = 0),
                                                Wc && (At = 0),
                                                De === '>'
                                                  ? ((De = '>='),
                                                    jc
                                                      ? ((Te = +Te + 1), (pt = 0), (At = 0))
                                                      : Wc && ((pt = +pt + 1), (At = 0)))
                                                  : De === '<=' &&
                                                    ((De = '<'),
                                                    jc ? (Te = +Te + 1) : (pt = +pt + 1)),
                                                (js = De + Te + '.' + pt + '.' + At))
                                              : jc
                                              ? (js = '>=' + Te + '.0.0 <' + (+Te + 1) + '.0.0')
                                              : Wc &&
                                                (js =
                                                  '>=' +
                                                  Te +
                                                  '.' +
                                                  pt +
                                                  '.0 <' +
                                                  Te +
                                                  '.' +
                                                  (+pt + 1) +
                                                  '.0'),
                                            r('xRange return', js),
                                            js
                                          );
                                        });
                                      })(hr, Ai);
                                    })
                                    .join(' ')
                                );
                              })(Je, rs)),
                              r('xrange', Je),
                              (Je = (function (Bt, Ai) {
                                return r('replaceStars', Bt, Ai), Bt.trim().replace(a[n4], '');
                              })(Je, rs)),
                              r('stars', Je),
                              Je
                            );
                          })(ci, L);
                        })
                        .join(' ')
                        .split(/\s+/);
                    return (
                      this.loose &&
                        (ke = ke.filter(function (ci) {
                          return !!ci.match(ue);
                        })),
                      (ke = ke.map(function (ci) {
                        return new Cs(ci, L);
                      }))
                    );
                  }),
                  (Ft.prototype.intersects = function (D, L) {
                    if (!(D instanceof Ft)) throw new TypeError('a Range is required');
                    return this.set.some(function (T) {
                      return T.every(function (ue) {
                        return D.set.some(function (ke) {
                          return ke.every(function (ci) {
                            return ue.intersects(ci, L);
                          });
                        });
                      });
                    });
                  }),
                  (e.toComparators = function (D, L) {
                    return new Ft(D, L).set.map(function (T) {
                      return T.map(function (ue) {
                        return ue.value;
                      })
                        .join(' ')
                        .trim()
                        .split(' ');
                    });
                  }),
                  (Ft.prototype.test = function (D) {
                    if (!D) return !1;
                    typeof D == 'string' && (D = new Ke(D, this.loose));
                    for (var L = 0; L < this.set.length; L++) if (NI(this.set[L], D)) return !0;
                    return !1;
                  }),
                  (e.satisfies = Gh),
                  (e.maxSatisfying = function (D, L, T) {
                    var ue = null,
                      ke = null;
                    try {
                      var ci = new Ft(L, T);
                    } catch {
                      return null;
                    }
                    return (
                      D.forEach(function (Je) {
                        ci.test(Je) &&
                          ((ue && ke.compare(Je) !== -1) || (ke = new Ke((ue = Je), T)));
                      }),
                      ue
                    );
                  }),
                  (e.minSatisfying = function (D, L, T) {
                    var ue = null,
                      ke = null;
                    try {
                      var ci = new Ft(L, T);
                    } catch {
                      return null;
                    }
                    return (
                      D.forEach(function (Je) {
                        ci.test(Je) &&
                          ((ue && ke.compare(Je) !== 1) || (ke = new Ke((ue = Je), T)));
                      }),
                      ue
                    );
                  }),
                  (e.validRange = function (D, L) {
                    try {
                      return new Ft(D, L).range || '*';
                    } catch {
                      return null;
                    }
                  }),
                  (e.ltr = function (D, L, T) {
                    return Og(D, L, '<', T);
                  }),
                  (e.gtr = function (D, L, T) {
                    return Og(D, L, '>', T);
                  }),
                  (e.outside = Og),
                  (e.prerelease = function (D, L) {
                    var T = go(D, L);
                    return T && T.prerelease.length ? T.prerelease : null;
                  }),
                  (e.intersects = function (D, L, T) {
                    return (D = new Ft(D, T)), (L = new Ft(L, T)), D.intersects(L);
                  }),
                  (e.coerce = function (D) {
                    if (D instanceof Ke) return D;
                    if (typeof D != 'string') return null;
                    var L = D.match(a[z]);
                    return L == null
                      ? null
                      : go((L[1] || '0') + '.' + (L[2] || '0') + '.' + (L[3] || '0'));
                  });
              }).call(this, i(1));
            },
            function (t, e) {
              var i,
                s,
                r = (t.exports = {});
              function n() {
                throw new Error('setTimeout has not been defined');
              }
              function o() {
                throw new Error('clearTimeout has not been defined');
              }
              function a(k) {
                if (i === setTimeout) return setTimeout(k, 0);
                if ((i === n || !i) && setTimeout) return (i = setTimeout), setTimeout(k, 0);
                try {
                  return i(k, 0);
                } catch {
                  try {
                    return i.call(null, k, 0);
                  } catch {
                    return i.call(this, k, 0);
                  }
                }
              }
              (function () {
                try {
                  i = typeof setTimeout == 'function' ? setTimeout : n;
                } catch {
                  i = n;
                }
                try {
                  s = typeof clearTimeout == 'function' ? clearTimeout : o;
                } catch {
                  s = o;
                }
              })();
              var c,
                l = [],
                h = !1,
                d = -1;
              function p() {
                h && c && ((h = !1), c.length ? (l = c.concat(l)) : (d = -1), l.length && m());
              }
              function m() {
                if (!h) {
                  var k = a(p);
                  h = !0;
                  for (var y = l.length; y; ) {
                    for (c = l, l = []; ++d < y; ) c && c[d].run();
                    (d = -1), (y = l.length);
                  }
                  (c = null),
                    (h = !1),
                    (function (C) {
                      if (s === clearTimeout) return clearTimeout(C);
                      if ((s === o || !s) && clearTimeout)
                        return (s = clearTimeout), clearTimeout(C);
                      try {
                        s(C);
                      } catch {
                        try {
                          return s.call(null, C);
                        } catch {
                          return s.call(this, C);
                        }
                      }
                    })(k);
                }
              }
              function w(k, y) {
                (this.fun = k), (this.array = y);
              }
              function v() {}
              (r.nextTick = function (k) {
                var y = new Array(arguments.length - 1);
                if (arguments.length > 1)
                  for (var C = 1; C < arguments.length; C++) y[C - 1] = arguments[C];
                l.push(new w(k, y)), l.length !== 1 || h || a(m);
              }),
                (w.prototype.run = function () {
                  this.fun.apply(null, this.array);
                }),
                (r.title = 'browser'),
                (r.browser = !0),
                (r.env = {}),
                (r.argv = []),
                (r.version = ''),
                (r.versions = {}),
                (r.on = v),
                (r.addListener = v),
                (r.once = v),
                (r.off = v),
                (r.removeListener = v),
                (r.removeAllListeners = v),
                (r.emit = v),
                (r.prependListener = v),
                (r.prependOnceListener = v),
                (r.listeners = function (k) {
                  return [];
                }),
                (r.binding = function (k) {
                  throw new Error('process.binding is not supported');
                }),
                (r.cwd = function () {
                  return '/';
                }),
                (r.chdir = function (k) {
                  throw new Error('process.chdir is not supported');
                }),
                (r.umask = function () {
                  return 0;
                });
            },
          ]);
        }),
        (Oq = Le.exports.SEMVER_SPEC_VERSION),
        (Rq = Le.exports.parse),
        (fC = Le.exports.valid),
        (Nq = Le.exports.coerce),
        (Bq = Le.exports.clean),
        (Uq = Le.exports.inc),
        (jq = Le.exports.major),
        (Wq = Le.exports.minor),
        (Hq = Le.exports.patch),
        (zq = Le.exports.prerelease),
        (pC = Le.exports.gt),
        (Vq = Le.exports.gte),
        (Gq = Le.exports.lt),
        (qq = Le.exports.lte),
        (gC = Le.exports.eq),
        (Kq = Le.exports.neq),
        (Jq = Le.exports.cmp),
        (Xq = Le.exports.compare),
        (Yq = Le.exports.rcompare),
        (Qq = Le.exports.compareIdentifiers),
        (Zq = Le.exports.rcompareIdentifiers),
        (eK = Le.exports.compareBuild),
        (tK = Le.exports.sort),
        (iK = Le.exports.rsort),
        (sK = Le.exports.diff),
        (rK = Le.exports.validRange),
        (mC = Le.exports.satisfies),
        (nK = Le.exports.maxSatisfying),
        (oK = Le.exports.minSatisfying),
        (aK = Le.exports.minVersion),
        (cK = Le.exports.gtr),
        (lK = Le.exports.ltr),
        (uK = Le.exports.outside),
        (hK = Le.exports.intersects),
        (dK = Le.exports.SemVer),
        (fK = Le.exports.Comparator),
        (pK = Le.exports.Range);
    },
  });
function gK(t) {
  return (t = t.trim()), t === '*' || _v.test(t);
}
function $v(t) {
  if (!gK(t)) return null;
  if (((t = t.trim()), t === '*'))
    return {
      hasCaret: !1,
      hasGreaterEquals: !1,
      majorBase: 0,
      majorMustEqual: !1,
      minorBase: 0,
      minorMustEqual: !1,
      patchBase: 0,
      patchMustEqual: !1,
      preRelease: null,
    };
  const e = t.match(_v);
  return e
    ? {
        hasCaret: e[1] === '^',
        hasGreaterEquals: e[1] === '>=',
        majorBase: e[2] === 'x' ? 0 : parseInt(e[2], 10),
        majorMustEqual: e[2] !== 'x',
        minorBase: e[4] === 'x' ? 0 : parseInt(e[4], 10),
        minorMustEqual: e[4] !== 'x',
        patchBase: e[6] === 'x' ? 0 : parseInt(e[6], 10),
        patchMustEqual: e[6] !== 'x',
        preRelease: e[8] || null,
      }
    : null;
}
function Pv(t) {
  if (!t) return null;
  const e = t.majorBase,
    i = t.majorMustEqual,
    s = t.minorBase;
  let r = t.minorMustEqual;
  const n = t.patchBase;
  let o = t.patchMustEqual;
  t.hasCaret && (e === 0 || (r = !1), (o = !1));
  let a = 0;
  if (t.preRelease) {
    const c = vC.exec(t.preRelease);
    if (c) {
      const [, l, h, d] = c;
      a = Date.UTC(Number(l), Number(h) - 1, Number(d));
    }
  }
  return {
    majorBase: e,
    majorMustEqual: i,
    minorBase: s,
    minorMustEqual: r,
    patchBase: n,
    patchMustEqual: o,
    isMinimum: t.hasGreaterEquals,
    notBefore: a,
  };
}
function mK(t, e, i) {
  let s;
  typeof t == 'string' ? (s = Pv($v(t))) : (s = t);
  let r;
  e instanceof Date ? (r = e.getTime()) : typeof e == 'string' && (r = new Date(e).getTime());
  let n;
  if ((typeof i == 'string' ? (n = Pv($v(i))) : (n = i), !s || !n)) return !1;
  const o = s.majorBase,
    a = s.minorBase,
    c = s.patchBase;
  let l = n.majorBase,
    h = n.minorBase,
    d = n.patchBase;
  const p = n.notBefore;
  let m = n.majorMustEqual,
    w = n.minorMustEqual,
    v = n.patchMustEqual;
  return n.isMinimum
    ? o > l
      ? !0
      : o < l
      ? !1
      : a > h
      ? !0
      : a < h || (r && r < p)
      ? !1
      : c >= d
    : (o === 1 &&
        l === 0 &&
        (!m || !w || !v) &&
        ((l = 1), (h = 0), (d = 0), (m = !0), (w = !1), (v = !1)),
      o < l ? !1 : o > l ? !m : a < h ? !1 : a > h ? !w : c < d ? !1 : c > d ? !v : !(r && r < p));
}
function wK(t, e, i, s, r, n) {
  const o = [];
  if (typeof s.publisher < 'u' && typeof s.publisher != 'string')
    return o.push([Ue.Error, u(1955, null)]), o;
  if (typeof s.name != 'string') return o.push([Ue.Error, u(1956, null, 'name')]), o;
  if (typeof s.version != 'string') return o.push([Ue.Error, u(1957, null, 'version')]), o;
  if (!s.engines) return o.push([Ue.Error, u(1958, null, 'engines')]), o;
  if (typeof s.engines.vscode != 'string')
    return o.push([Ue.Error, u(1959, null, 'engines.vscode')]), o;
  if (typeof s.extensionDependencies < 'u' && !bC(s.extensionDependencies))
    return o.push([Ue.Error, u(1960, null, 'extensionDependencies')]), o;
  if (typeof s.activationEvents < 'u') {
    if (!bC(s.activationEvents)) return o.push([Ue.Error, u(1961, null, 'activationEvents')]), o;
    if (typeof s.main > 'u' && typeof s.browser > 'u')
      return o.push([Ue.Error, u(1962, null, 'activationEvents', 'main', 'browser')]), o;
  }
  if (
    (typeof s.extensionKind < 'u' &&
      typeof s.main > 'u' &&
      o.push([Ue.Warning, u(1963, null, 'extensionKind')]),
    typeof s.main < 'u')
  ) {
    if (typeof s.main != 'string') return o.push([Ue.Error, u(1964, null, 'main')]), o;
    {
      const l = we(i, s.main);
      El(l, i) || o.push([Ue.Warning, u(1965, null, l.path, i.path)]);
    }
  }
  if (typeof s.browser < 'u') {
    if (typeof s.browser != 'string') return o.push([Ue.Error, u(1966, null, 'browser')]), o;
    {
      const l = we(i, s.browser);
      El(l, i) || o.push([Ue.Warning, u(1967, null, l.path, i.path)]);
    }
  }
  if (!fC(s.version)) return o.push([Ue.Error, u(1968, null)]), o;
  const a = [];
  if (!bK(t, e, s, r, a)) for (const l of a) o.push([Ue.Error, l]);
  if (n && s.enabledApiProposals?.length) {
    const l = [];
    if (!yK([...s.enabledApiProposals], l)) for (const h of l) o.push([Ue.Error, h]);
  }
  return o;
}
function bK(t, e, i, s, r) {
  return s || (typeof i.main > 'u' && typeof i.browser > 'u') ? !0 : wC(t, e, i.engines.vscode, r);
}
function vK(t, e, i) {
  return t === '*' || wC(e, i, t);
}
function yK(t, e) {
  if (t.length === 0) return !0;
  const i = Array.isArray(e) ? e : void 0,
    s = (i ? void 0 : e) ?? Ec,
    r = [],
    n = OV(t);
  for (const { proposalName: o, version: a } of n) {
    if (!a) continue;
    s[o]?.version !== a && r.push(o);
  }
  return r.length
    ? (i &&
        (r.length === 1
          ? i.push(u(1969, null, r[0]))
          : i.push(
              u(
                1970,
                null,
                r
                  .slice(0, r.length - 1)
                  .map((o) => `'${o}'`)
                  .join(', '),
                r[r.length - 1]
              )
            )),
      !1)
    : !0;
}
function wC(t, e, i, s = []) {
  const r = Pv($v(i));
  if (!r) return s.push(u(1971, null, i)), !1;
  if (r.majorBase === 0) {
    if (!r.majorMustEqual || !r.minorMustEqual) return s.push(u(1972, null, i)), !1;
  } else if (!r.majorMustEqual) return s.push(u(1973, null, i)), !1;
  return mK(t, e, r) ? !0 : (s.push(u(1974, null, t, i)), !1);
}
function bC(t) {
  if (!Array.isArray(t)) return !1;
  for (let e = 0, i = t.length; e < i; e++) if (typeof t[e] != 'string') return !1;
  return !0;
}
var _v,
  vC,
  yC = b({
    'out-build/vs/platform/extensions/common/extensionValidator.js'() {
      'use strict';
      lt(),
        Jl(),
        he(),
        Iv(),
        zu(),
        tE(),
        (_v = /^(\^|>=)?((\d+)|x)\.((\d+)|x)\.((\d+)|x)(\-.*)?$/),
        (vC = /^-(\d{4})(\d{2})(\d{2})$/);
    },
  });
function kK(t, e, i, s) {
  try {
    SK(t, e, i, s);
  } catch (r) {
    t.error(r?.message ?? r);
  }
  return e;
}
function SK(t, e, i, s) {
  const r = (n, o, a) => {
    const c = n[o];
    if (ot(c)) {
      const l = c,
        h = l.length;
      if (h > 1 && l[0] === '%' && l[h - 1] === '%') {
        const d = l.substr(1, h - 2);
        let p = i[d];
        p === void 0 && s && (p = s[d]);
        const m = typeof p == 'string' ? p : p?.message,
          w = s?.[d],
          v = typeof w == 'string' ? w : w?.message;
        if (!m) {
          v || t.warn(`[${e.name}]: ${u(1936, null, d)}`);
          return;
        }
        if (a && (o === 'title' || o === 'category') && v && v !== m) {
          const k = { value: m, original: v };
          n[o] = k;
        } else n[o] = m;
      }
    } else if (Lt(c))
      for (const l in c) c.hasOwnProperty(l) && (l === 'commands' ? r(c, l, !0) : r(c, l, a));
    else if (Array.isArray(c)) for (let l = 0; l < c.length; l++) r(c, l, a);
  };
  for (const n in e) e.hasOwnProperty(n) && r(e, n);
}
var EK = b({
    'out-build/vs/platform/extensionManagement/common/extensionNls.js'() {
      'use strict';
      $e(), he();
    },
  }),
  Lv,
  kC,
  c1,
  $c,
  ch,
  lh,
  SC,
  EC = b({
    'out-build/vs/platform/extensionManagement/common/extensionsScannerService.js'() {
      'use strict';
      ni(),
        le(),
        mi(),
        bt(),
        He(),
        Ys(),
        wS(),
        U(),
        Oe(),
        xe(),
        ie(),
        lt(),
        Iv(),
        Jl(),
        be(),
        he(),
        Xi(),
        uC(),
        zu(),
        yC(),
        ft(),
        K(),
        se(),
        Ze(),
        X(),
        Cd(),
        a1(),
        Dr(),
        Er(),
        EK(),
        (function (t) {
          function e(i, s) {
            if (i === s) return !0;
            const r = Object.keys(i),
              n = new Set();
            for (const o of Object.keys(s)) n.add(o);
            if (r.length !== n.size) return !1;
            for (const o of r) {
              if (i[o] !== s[o]) return !1;
              n.delete(o);
            }
            return n.size === 0;
          }
          t.equals = e;
        })(Lv || (Lv = {})),
        (kC = W('IExtensionsScannerService')),
        (c1 = class extends H {
          constructor(e, i, s, r, n, o, a, c, l, h, d, p) {
            super(),
              (this.systemExtensionsLocation = e),
              (this.userExtensionsLocation = i),
              (this.n = s),
              (this.r = n),
              (this.s = o),
              (this.t = a),
              (this.u = c),
              (this.w = l),
              (this.y = h),
              (this.z = d),
              (this.C = p),
              (this.g = this.B(new $())),
              (this.onDidChangeCache = this.g.event),
              (this.G = void 0),
              (this.h = this.B(this.C.createInstance(lh, r))),
              (this.j = this.B(this.C.createInstance(lh, r))),
              (this.m = this.B(this.C.createInstance(ch))),
              this.B(this.h.onDidChangeCache(() => this.g.fire(0))),
              this.B(this.j.onDidChangeCache(() => this.g.fire(1)));
          }
          F() {
            return this.D || (this.D = Tq(this.t, this.u)), this.D;
          }
          async scanAllExtensions(e, i) {
            const [s, r] = await Promise.all([
              this.scanSystemExtensions(e),
              this.scanUserExtensions(i),
            ]);
            return this.J(s, r, [], await this.F(), !0);
          }
          async scanSystemExtensions(e) {
            const i = [];
            i.push(this.L(e.language)), i.push(this.M(e.language, !!e.checkControlFile));
            const [s, r] = await Promise.all(i);
            return this.I([...s, ...r], 0, { pickLatest: !1 });
          }
          async scanUserExtensions(e) {
            this.u.trace('Started scanning user extensions', e.profileLocation);
            const i = this.z.extUri.isEqual(
                e.profileLocation,
                this.r.defaultProfile.extensionsResource
              )
                ? { bailOutWhenFileNotFound: !0 }
                : void 0,
              s = await this.O(
                e.profileLocation,
                !0,
                1,
                e.language,
                !0,
                i,
                e.productVersion ?? this.Q()
              ),
              r = e.useCache && !s.devMode ? this.j : this.m;
            let n;
            try {
              n = await r.scanExtensions(s);
            } catch (o) {
              if (o instanceof oh && o.code === 'ERROR_PROFILE_NOT_FOUND')
                await this.H(), (n = await r.scanExtensions(s));
              else throw o;
            }
            return (
              (n = await this.I(n, 1, { includeInvalid: e.includeInvalid, pickLatest: !0 })),
              this.u.trace('Scanned user extensions:', n.length),
              n
            );
          }
          async scanAllUserExtensions(e = { includeInvalid: !0, includeAllVersions: !0 }) {
            const i = await this.O(
                this.userExtensionsLocation,
                !1,
                1,
                void 0,
                !0,
                void 0,
                this.Q()
              ),
              s = await this.m.scanExtensions(i);
            return this.I(s, 1, {
              includeAllVersions: e.includeAllVersions,
              includeInvalid: e.includeInvalid,
            });
          }
          async scanExtensionsUnderDevelopment(e, i) {
            if (this.w.isExtensionDevelopment && this.w.extensionDevelopmentLocationURI) {
              const s = (
                await Promise.all(
                  this.w.extensionDevelopmentLocationURI
                    .filter((r) => r.scheme === N.file)
                    .map(async (r) => {
                      const n = await this.O(r, !1, 1, i.language, !1, void 0, this.Q());
                      return (await this.m.scanOneOrMultipleExtensions(n)).map(
                        (a) => (
                          (a.type = e.find((c) => nh(c.identifier, a.identifier))?.type ?? a.type),
                          this.m.validate(a, n)
                        )
                      );
                    })
                )
              ).flat();
              return this.I(s, 'development', { includeInvalid: i.includeInvalid, pickLatest: !0 });
            }
            return [];
          }
          async scanExistingExtension(e, i, s) {
            const r = await this.O(e, !1, i, s.language, !0, void 0, this.Q()),
              n = await this.m.scanExtension(r);
            return !n || (!s.includeInvalid && !n.isValid) ? null : n;
          }
          async scanOneOrMultipleExtensions(e, i, s) {
            const r = await this.O(e, !1, i, s.language, !0, void 0, this.Q()),
              n = await this.m.scanOneOrMultipleExtensions(r);
            return this.I(n, i, { includeInvalid: s.includeInvalid, pickLatest: !0 });
          }
          async scanMultipleExtensions(e, i, s) {
            const r = [];
            return (
              await Promise.all(
                e.map(async (n) => {
                  const o = await this.scanOneOrMultipleExtensions(n, i, s);
                  r.push(...o);
                })
              ),
              this.I(r, i, { includeInvalid: s.includeInvalid, pickLatest: !0 })
            );
          }
          async updateManifestMetadata(e, i) {
            const s = we(e, 'package.json'),
              r = (await this.t.readFile(s)).value.toString(),
              n = JSON.parse(r);
            (n.__metadata = { ...n.__metadata, ...i }),
              await this.t.writeFile(
                we(e, 'package.json'),
                re.fromString(JSON.stringify(n, null, '	'))
              );
          }
          async initializeDefaultProfileExtensions() {
            try {
              await this.s.scanProfileExtensions(this.r.defaultProfile.extensionsResource, {
                bailOutWhenFileNotFound: !0,
              });
            } catch (e) {
              if (e instanceof oh && e.code === 'ERROR_PROFILE_NOT_FOUND') await this.H();
              else throw e;
            }
          }
          async H() {
            return (
              this.G ||
                (this.G = (async () => {
                  try {
                    this.u.info(
                      'Started initializing default profile extensions in extensions installation folder.',
                      this.userExtensionsLocation.toString()
                    );
                    const e = await this.scanAllUserExtensions({ includeInvalid: !0 });
                    if (e.length)
                      await this.s.addExtensionsToProfile(
                        e.map((i) => [i, i.metadata]),
                        this.r.defaultProfile.extensionsResource
                      );
                    else
                      try {
                        await this.t.createFile(
                          this.r.defaultProfile.extensionsResource,
                          re.fromString(JSON.stringify([]))
                        );
                      } catch (i) {
                        kr(i) !== 1 &&
                          this.u.warn(
                            'Failed to create default profile extensions manifest in extensions installation folder.',
                            this.userExtensionsLocation.toString(),
                            Ds(i)
                          );
                      }
                    this.u.info(
                      'Completed initializing default profile extensions in extensions installation folder.',
                      this.userExtensionsLocation.toString()
                    );
                  } catch (e) {
                    this.u.error(e);
                  } finally {
                    this.G = void 0;
                  }
                })()),
              this.G
            );
          }
          async I(e, i, s = {}) {
            return (
              s.includeAllVersions ||
                (e = this.J(
                  i === 0 ? e : void 0,
                  i === 1 ? e : void 0,
                  i === 'development' ? e : void 0,
                  await this.F(),
                  !!s.pickLatest
                )),
              s.includeInvalid || (e = e.filter((r) => r.isValid)),
              e.sort((r, n) => {
                const o = ct(r.location.fsPath),
                  a = ct(n.location.fsPath);
                return o < a ? -1 : o > a ? 1 : 0;
              })
            );
          }
          J(e, i, s, r, n) {
            const o = (c, l, h) => {
                if (c.isValid && !l.isValid) return !1;
                if (c.isValid === l.isValid) {
                  if (n && pC(c.manifest.version, l.manifest.version))
                    return (
                      this.u.debug(
                        `Skipping extension ${l.location.path} with lower version ${l.manifest.version} in favour of ${c.location.path} with version ${c.manifest.version}`
                      ),
                      !1
                    );
                  if (gC(c.manifest.version, l.manifest.version)) {
                    if (c.type === 0)
                      return (
                        this.u.debug(
                          `Skipping extension ${l.location.path} in favour of system extension ${c.location.path} with same version`
                        ),
                        !1
                      );
                    if (c.targetPlatform === r)
                      return (
                        this.u.debug(
                          `Skipping extension ${l.location.path} from different target platform ${l.targetPlatform}`
                        ),
                        !1
                      );
                  }
                }
                return (
                  h
                    ? this.u.warn(
                        `Overwriting user extension ${c.location.path} with ${l.location.path}.`
                      )
                    : this.u.debug(
                        `Overwriting user extension ${c.location.path} with ${l.location.path}.`
                      ),
                  !0
                );
              },
              a = new YS();
            return (
              e?.forEach((c) => {
                const l = a.get(c.identifier.id);
                (!l || o(l, c, !1)) && a.set(c.identifier.id, c);
              }),
              i?.forEach((c) => {
                const l = a.get(c.identifier.id);
                if (!l && e && c.type === 0) {
                  this.u.debug(`Skipping obsolete system extension ${c.location.path}.`);
                  return;
                }
                (!l || o(l, c, !1)) && a.set(c.identifier.id, c);
              }),
              s?.forEach((c) => {
                const l = a.get(c.identifier.id);
                (!l || o(l, c, !0)) && a.set(c.identifier.id, c), a.set(c.identifier.id, c);
              }),
              [...a.values()]
            );
          }
          async L(e) {
            this.u.trace('Started scanning system extensions');
            const i = await this.O(this.systemExtensionsLocation, !1, 0, e, !0, void 0, this.Q()),
              r = await (i.devMode ? this.m : this.h).scanExtensions(i);
            return this.u.trace('Scanned system extensions:', r.length), r;
          }
          async M(e, i) {
            const s = this.w.isBuilt ? [] : this.y.builtInExtensions;
            if (!s?.length) return [];
            this.u.trace('Started scanning dev system extensions');
            const r = i ? await this.N() : {},
              n = [],
              o = _.file(_i(M(Ht.asFileUri('').fsPath, '..', '.build', 'builtInExtensions')));
            for (const c of s) {
              const l = r[c.name] || 'marketplace';
              switch (l) {
                case 'disabled':
                  break;
                case 'marketplace':
                  n.push(we(o, c.name));
                  break;
                default:
                  n.push(_.file(l));
                  break;
              }
            }
            const a = await Promise.all(
              n.map(async (c) =>
                this.m.scanExtension(await this.O(c, !1, 0, e, !0, void 0, this.Q()))
              )
            );
            return this.u.trace('Scanned dev system extensions:', a.length), Yt(a);
          }
          async N() {
            try {
              const e = await this.t.readFile(this.n);
              return JSON.parse(e.value.toString());
            } catch {
              return {};
            }
          }
          async O(e, i, s, r, n, o, a) {
            const c = await this.f(r ?? $i),
              l = await this.P(e),
              h =
                i && !this.z.extUri.isEqual(e, this.r.defaultProfile.extensionsResource)
                  ? this.r.defaultProfile.extensionsResource
                  : void 0,
              d = h ? await this.P(h) : void 0;
            return new $c(
              e,
              l,
              h,
              d,
              i,
              o,
              s,
              n,
              a.version,
              a.date,
              this.y.commit,
              !this.w.isBuilt,
              r,
              c
            );
          }
          async P(e) {
            try {
              const i = await this.t.stat(e);
              if (typeof i.mtime == 'number') return i.mtime;
            } catch {}
          }
          Q() {
            return { version: this.y.version, date: this.y.date };
          }
        }),
        (c1 = __decorate(
          [
            __param(4, Cr),
            __param(5, Ic),
            __param(6, $t),
            __param(7, ee),
            __param(8, vr),
            __param(9, Be),
            __param(10, Zi),
            __param(11, Ks),
          ],
          c1
        )),
        ($c = class {
          constructor(t, e, i, s, r, n, o, a, c, l, h, d, p, m) {
            (this.location = t),
              (this.mtime = e),
              (this.applicationExtensionslocation = i),
              (this.applicationExtensionslocationMtime = s),
              (this.profile = r),
              (this.profileScanOptions = n),
              (this.type = o),
              (this.validate = a),
              (this.productVersion = c),
              (this.productDate = l),
              (this.productCommit = h),
              (this.devMode = d),
              (this.language = p),
              (this.translations = m);
          }
          static createNlsConfiguration(t) {
            return {
              language: t.language,
              pseudo: t.language === 'pseudo',
              devMode: t.devMode,
              translations: t.translations,
            };
          }
          static equals(t, e) {
            return (
              R0(t.location, e.location) &&
              t.mtime === e.mtime &&
              R0(t.applicationExtensionslocation, e.applicationExtensionslocation) &&
              t.applicationExtensionslocationMtime === e.applicationExtensionslocationMtime &&
              t.profile === e.profile &&
              Ws(t.profileScanOptions, e.profileScanOptions) &&
              t.type === e.type &&
              t.validate === e.validate &&
              t.productVersion === e.productVersion &&
              t.productDate === e.productDate &&
              t.productCommit === e.productCommit &&
              t.devMode === e.devMode &&
              t.language === e.language &&
              Lv.equals(t.translations, e.translations)
            );
          }
        }),
        (ch = class extends H {
          constructor(e, i, s, r, n, o) {
            super(),
              (this.g = e),
              (this.h = i),
              (this.j = s),
              (this.m = n),
              (this.n = o),
              (this.f =
                r.extensionsEnabledWithApiProposalVersion?.map((a) => a.toLowerCase()) ?? []);
          }
          async scanExtensions(e) {
            return e.profile ? this.s(e) : this.r(e);
          }
          async r(e) {
            const i = await this.j.resolve(e.location);
            if (!i.children?.length) return [];
            const s = await Promise.all(
              i.children.map(async (r) => {
                if (!r.isDirectory || (e.type === 1 && br(r.resource).indexOf('.') === 0))
                  return null;
                const n = new $c(
                  r.resource,
                  e.mtime,
                  e.applicationExtensionslocation,
                  e.applicationExtensionslocationMtime,
                  e.profile,
                  e.profileScanOptions,
                  e.type,
                  e.validate,
                  e.productVersion,
                  e.productDate,
                  e.productCommit,
                  e.devMode,
                  e.language,
                  e.translations
                );
                return this.scanExtension(n);
              })
            );
            return Yt(s).sort((r, n) => (r.location.path < n.location.path ? -1 : 1));
          }
          async s(e) {
            let i = await this.t(e.location, () => !0, e);
            if (
              e.applicationExtensionslocation &&
              !this.h.extUri.isEqual(e.location, e.applicationExtensionslocation)
            ) {
              i = i.filter((r) => !r.metadata?.isApplicationScoped);
              const s = await this.t(
                e.applicationExtensionslocation,
                (r) => !!r.metadata?.isBuiltin || !!r.metadata?.isApplicationScoped,
                e
              );
              i.push(...s);
            }
            return i;
          }
          async t(e, i, s) {
            const r = await this.g.scanProfileExtensions(e, s.profileScanOptions);
            if (!r.length) return [];
            const n = await Promise.all(
              r.map(async (o) => {
                if (i(o)) {
                  const a = new $c(
                    o.location,
                    s.mtime,
                    s.applicationExtensionslocation,
                    s.applicationExtensionslocationMtime,
                    s.profile,
                    s.profileScanOptions,
                    s.type,
                    s.validate,
                    s.productVersion,
                    s.productDate,
                    s.productCommit,
                    s.devMode,
                    s.language,
                    s.translations
                  );
                  return this.scanExtension(a, o);
                }
                return null;
              })
            );
            return Yt(n);
          }
          async scanOneOrMultipleExtensions(e) {
            try {
              if (await this.j.exists(we(e.location, 'package.json'))) {
                const i = await this.scanExtension(e);
                return i ? [i] : [];
              } else return await this.scanExtensions(e);
            } catch (i) {
              return this.n.error(`Error scanning extensions at ${e.location.path}:`, Ds(i)), [];
            }
          }
          async scanExtension(e, i) {
            const s = [];
            let r = !0,
              n;
            try {
              n = await this.u(e.location);
            } catch (p) {
              if (i) {
                s.push([Ue.Error, Ds(p)]), (r = !1);
                const [m, w] = i.identifier.id.split('.');
                n = { name: w, publisher: m, version: i.version, engines: { vscode: '' } };
              } else return e.type !== 0 && this.n.error(p), null;
            }
            n.publisher || (n.publisher = nv);
            let o;
            i
              ? (o = { ...i.metadata, size: n.__metadata?.size })
              : n.__metadata &&
                (o = {
                  installedTimestamp: n.__metadata.installedTimestamp,
                  size: n.__metadata.size,
                  targetPlatform: n.__metadata.targetPlatform,
                }),
              delete n.__metadata;
            const a = _q(n.publisher, n.name),
              c = o?.id ? { id: a, uuid: o.id } : { id: a },
              l = o?.isSystem ? 0 : e.type,
              h = l === 0 || !!o?.isBuiltin;
            try {
              n = await this.w(e.location, n, $c.createNlsConfiguration(e));
            } catch (p) {
              this.n.warn('Failed to translate manifest', Ds(p));
            }
            let d = {
              type: l,
              identifier: c,
              manifest: n,
              location: e.location,
              isBuiltin: h,
              targetPlatform: o?.targetPlatform ?? 'undefined',
              publisherDisplayName: o?.publisherDisplayName,
              metadata: o,
              isValid: r,
              validations: s,
              preRelease: !!o?.preRelease,
            };
            return (
              e.validate && (d = this.validate(d, e)),
              n.enabledApiProposals &&
                (!this.m.isBuilt || this.f.includes(a.toLowerCase())) &&
                ((n.originalEnabledApiProposals = n.enabledApiProposals),
                (n.enabledApiProposals = RV([...n.enabledApiProposals]))),
              d
            );
          }
          validate(e, i) {
            let s = e.isValid;
            const r = this.m.isBuilt && this.f.includes(e.identifier.id.toLowerCase()),
              n = wK(i.productVersion, i.productDate, i.location, e.manifest, e.isBuiltin, r);
            for (const [o, a] of n)
              o === Ue.Error && ((s = !1), this.n.error(this.D(i.location, a)));
            return (e.isValid = s), (e.validations = [...e.validations, ...n]), e;
          }
          async u(e) {
            const i = we(e, 'package.json');
            let s;
            try {
              s = (await this.j.readFile(i)).value.toString();
            } catch (n) {
              throw (kr(n) !== 1 && this.n.error(this.D(e, u(1937, null, i.path, n.message))), n);
            }
            let r;
            try {
              r = JSON.parse(s);
            } catch (n) {
              const o = [];
              Ar(s, o);
              for (const a of o)
                this.n.error(this.D(e, u(1938, null, i.path, a.offset, a.length, _p(a.error))));
              throw n;
            }
            if (Bo(r) !== 'object') {
              const n = this.D(e, u(1939, null, i.path));
              throw (this.n.error(n), new Error(n));
            }
            return r;
          }
          async w(e, i, s) {
            const r = await this.y(e, i, s);
            if (r)
              try {
                const n = [],
                  o = await this.z(r.default, n);
                if (n.length > 0)
                  return (
                    n.forEach((c) => {
                      this.n.error(this.D(e, u(1940, null, r.default?.path, _p(c.error))));
                    }),
                    i
                  );
                if (Bo(r) !== 'object')
                  return this.n.error(this.D(e, u(1941, null, r.default?.path))), i;
                const a = r.values || Object.create(null);
                return kK(this.n, i, a, o);
              } catch {}
            return i;
          }
          async y(e, i, s) {
            const r = we(e, 'package.nls.json'),
              n = (l, h) => {
                h.forEach((d) => {
                  this.n.error(this.D(e, u(1942, null, l?.path, _p(d.error))));
                });
              },
              o = (l) => {
                this.n.error(this.D(e, u(1943, null, l?.path)));
              },
              a = `${i.publisher}.${i.name}`,
              c = s.translations[a];
            if (c)
              try {
                const l = _.file(c),
                  h = (await this.j.readFile(l)).value.toString(),
                  d = [],
                  p = Ar(h, d);
                return d.length > 0
                  ? (n(l, d), { values: void 0, default: r })
                  : Bo(p) !== 'object'
                  ? (o(l), { values: void 0, default: r })
                  : { values: p.contents ? p.contents.package : void 0, default: r };
              } catch {
                return { values: void 0, default: r };
              }
            else {
              if (!(await this.j.exists(r))) return;
              let h;
              try {
                h = await this.C(e, s);
              } catch {
                return;
              }
              if (!h.localized) return { values: void 0, default: h.original };
              try {
                const d = (await this.j.readFile(h.localized)).value.toString(),
                  p = [],
                  m = Ar(d, p);
                return p.length > 0
                  ? (n(h.localized, p), { values: void 0, default: h.original })
                  : Bo(m) !== 'object'
                  ? (o(h.localized), { values: void 0, default: h.original })
                  : { values: m, default: h.original };
              } catch {
                return { values: void 0, default: h.original };
              }
            }
          }
          async z(e, i) {
            if (e)
              try {
                const s = (await this.j.readFile(e)).value.toString();
                return Ar(s, i);
              } catch {}
          }
          C(e, i) {
            return new Promise((s, r) => {
              const n = (o) => {
                const a = we(e, `package.nls.${o}.json`);
                this.j.exists(a).then((c) => {
                  c && s({ localized: a, original: we(e, 'package.nls.json') });
                  const l = o.lastIndexOf('-');
                  l === -1
                    ? s({ localized: we(e, 'package.nls.json'), original: null })
                    : ((o = o.substring(0, l)), n(o));
                });
              };
              if (i.devMode || i.pseudo || !i.language)
                return s({ localized: we(e, 'package.nls.json'), original: null });
              n(i.language);
            });
          }
          D(e, i) {
            return `[${e.path}]: ${i}`;
          }
        }),
        (ch = __decorate(
          [
            __param(0, Ic),
            __param(1, Zi),
            __param(2, $t),
            __param(3, Be),
            __param(4, vr),
            __param(5, ee),
          ],
          ch
        )),
        (lh = class extends ch {
          constructor(e, i, s, r, n, o, a, c) {
            super(s, r, n, o, a, c),
              (this.I = e),
              (this.J = i),
              (this.G = this.B(new Xr(3e3))),
              (this.H = this.B(new $())),
              (this.onDidChangeCache = this.H.event);
          }
          async scanExtensions(e) {
            const i = this.O(e),
              s = await this.L(i);
            if (((this.F = e), s && s.input && $c.equals(s.input, this.F)))
              return (
                this.n.debug(
                  'Using cached extensions scan result',
                  e.type === 0 ? 'system' : 'user',
                  e.location.toString()
                ),
                this.G.trigger(() => this.N()),
                s.result.map((n) => ((n.location = _.revive(n.location)), n))
              );
            const r = await super.scanExtensions(e);
            return await this.M(i, { input: e, result: r }), r;
          }
          async L(e) {
            try {
              const i = await this.j.readFile(e),
                s = JSON.parse(i.value.toString());
              return { result: s.result, input: On(s.input) };
            } catch (i) {
              this.n.debug('Error while reading the extension cache file:', e.path, Ds(i));
            }
            return null;
          }
          async M(e, i) {
            try {
              await this.j.writeFile(e, re.fromString(JSON.stringify(i)));
            } catch (s) {
              this.n.debug('Error while writing the extension cache file:', e.path, Ds(s));
            }
          }
          async N() {
            if (!this.F) return;
            const e = this.O(this.F),
              i = await this.L(e);
            if (!i) return;
            const s = i.result,
              r = JSON.parse(JSON.stringify(await super.scanExtensions(this.F)));
            if (!Ws(r, s))
              try {
                this.n.info('Invalidating Cache', s, r), await this.j.del(e), this.H.fire();
              } catch (n) {
                this.n.error(n);
              }
          }
          O(e) {
            const i = this.P(e);
            return this.h.extUri.joinPath(i.cacheHome, e.type === 0 ? GS : VS);
          }
          P(e) {
            return e.type === 0
              ? this.J.defaultProfile
              : e.profile
              ? this.h.extUri.isEqual(e.location, this.I.extensionsResource)
                ? this.I
                : this.J.profiles.find((i) =>
                    this.h.extUri.isEqual(e.location, i.extensionsResource)
                  ) ?? this.I
              : this.J.defaultProfile;
          }
        }),
        (lh = __decorate(
          [
            __param(1, Cr),
            __param(2, Ic),
            __param(3, Zi),
            __param(4, $t),
            __param(5, Be),
            __param(6, vr),
            __param(7, ee),
          ],
          lh
        )),
        (SC = class extends c1 {
          constructor(t, e, i, s, r, n, o, a, c, l, h, d) {
            super(
              t,
              e,
              we(i, '.vscode-oss-dev', 'extensions', 'control.json'),
              s,
              r,
              n,
              o,
              a,
              c,
              l,
              h,
              d
            ),
              (this.R = (async () => {
                if (a0)
                  try {
                    const p = await this.t.readFile(_.file(a0));
                    return JSON.parse(p.value.toString());
                  } catch {}
                return Object.create(null);
              })());
          }
          f(t) {
            return this.R;
          }
        });
    },
  }),
  l1,
  CK = b({
    'out-build/vs/platform/extensionManagement/node/extensionsScannerService.js'() {
      'use strict';
      be(),
        Xi(),
        a1(),
        EC(),
        ft(),
        K(),
        se(),
        Ze(),
        Er(),
        Dr(),
        (l1 = class extends SC {
          constructor(e, i, s, r, n, o, a, c) {
            super(
              _.file(n.builtinExtensionsPath),
              _.file(n.extensionsPath),
              n.userHome,
              e.defaultProfile,
              e,
              i,
              s,
              r,
              n,
              o,
              a,
              c
            );
          }
        }),
        (l1 = __decorate(
          [
            __param(0, Cr),
            __param(1, Ic),
            __param(2, $t),
            __param(3, ee),
            __param(4, $s),
            __param(5, Be),
            __param(6, Zi),
            __param(7, Ks),
          ],
          l1
        ));
    },
  }),
  u1,
  DK = b({
    'out-build/vs/platform/userDataProfile/electron-main/userDataProfilesHandler.js'() {
      'use strict';
      U(),
        St(),
        Fo(),
        Oi(),
        le(),
        qt(),
        (u1 = class extends H {
          constructor(e, i, s) {
            super(),
              (this.a = i),
              (this.b = s),
              this.B(
                e.onWillLoadWindow((r) => {
                  r.reason === 2 && this.c(r.window);
                })
              ),
              this.B(e.onBeforeCloseWindow((r) => this.c(r))),
              this.B(new As(() => this.g(), 30 * 1e3)).schedule();
          }
          async c(e) {
            const i = this.f(e),
              s = this.a.getProfileForWorkspace(i);
            s?.isTransient &&
              (this.a.unsetWorkspace(i, s.isTransient),
              s.isTransient && (await this.a.cleanUpTransientProfiles()));
          }
          f(e) {
            return e.openedWorkspace ?? Yd(e.backupPath, e.isExtensionDevelopmentHost);
          }
          g() {
            const e = this.a.getAssociatedEmptyWindows();
            if (e.length === 0) return;
            const i = this.b.getWindows().map((s) => this.f(s));
            for (const s of e) i.some((r) => r.id === s.id) || this.a.unsetWorkspace(s, !1);
          }
        }),
        (u1 = __decorate([__param(0, st), __param(1, xr), __param(2, Tt)], u1));
    },
  }),
  CC,
  xK = b({
    'out-build/vs/platform/userDataProfile/electron-main/userDataProfileStorageIpc.js'() {
      'use strict';
      X(),
        U(),
        $m(),
        (CC = class extends H {
          constructor(t, e, i) {
            super(), (this.b = t), (this.c = e), (this.f = i);
            const s = this.B(new ko());
            this.a = this.B(
              new $({
                onWillAddFirstListener: () => (s.value = this.g()),
                onDidRemoveLastListener: () => (s.value = void 0),
              })
            );
          }
          g() {
            this.f.debug('ProfileStorageChangesListenerChannel#registerStorageChangeListeners');
            const t = new je();
            return (
              t.add(
                P.debounce(
                  this.b.applicationStorage.onDidChangeStorage,
                  (e, i) => (e ? e.push(i.key) : (e = [i.key]), e),
                  100
                )((e) => this.h(e))
              ),
              t.add(
                P.debounce(
                  this.b.onDidChangeProfileStorage,
                  (e, i) => {
                    e || (e = new Map());
                    let s = e.get(i.profile.id);
                    return (
                      s ||
                        e.set(
                          i.profile.id,
                          (s = { profile: i.profile, keys: [], storage: i.storage })
                        ),
                      s.keys.push(i.key),
                      e
                    );
                  },
                  100
                )((e) => this.j(e))
              ),
              t
            );
          }
          h(t) {
            const e = t.includes(sn) ? [this.c.defaultProfile] : [],
              i = [];
            if (((t = t.filter((s) => s !== sn)), t.length)) {
              const s = Am(this.b.applicationStorage.storage);
              i.push({
                profile: this.c.defaultProfile,
                changes: t.map((r) => ({ key: r, scope: 0, target: s[r] })),
              });
            }
            this.m(e, i);
          }
          j(t) {
            const e = [],
              i = new Map();
            for (const [s, r] of t.entries()) {
              r.keys.includes(sn) && e.push(r.profile);
              const n = r.keys.filter((o) => o !== sn);
              if (n.length) {
                const o = Am(r.storage.storage);
                i.set(s, {
                  profile: r.profile,
                  changes: n.map((a) => ({ key: a, scope: 0, target: o[a] })),
                });
              }
            }
            this.m(e, [...i.values()]);
          }
          m(t, e) {
            (t.length || e.length) && this.a.fire({ valueChanges: e, targetChanges: t });
          }
          listen(t, e, i) {
            switch (e) {
              case 'onDidChange':
                return this.a.event;
            }
            throw new Error(`[ProfileStorageChangesListenerChannel] Event not found: ${e}`);
          }
          async call(t, e) {
            throw new Error(`Call not found: ${e}`);
          }
        });
    },
  });
async function AK(t, e) {
  let i = t.getItem(Lm);
  return (
    (typeof i != 'string' ||
      (Q && i === '6c9d2bc8f91b89624add29c0abeae7fb42bf539fa1cdb2e3e57cd668fa9bcead')) &&
      (i = await i3(e.error.bind(e))),
    i
  );
}
async function IK(t, e) {
  let i = t.getItem(Tm);
  return typeof i != 'string' && (i = await MM(e.error.bind(e))), i;
}
async function DC(t, e) {
  let i = t.getItem(ef);
  return typeof i != 'string' && (i = await s3(e.error.bind(e))), i;
}
var $K = b({
  'out-build/vs/platform/telemetry/node/telemetryUtils.js'() {
    'use strict';
    ie(), cu(), Gt();
  },
});
async function PK(t, e) {
  const i = await AK(t, e);
  return t.setItem(Lm, i), i;
}
async function _K(t, e) {
  const i = await IK(t, e);
  return t.setItem(Tm, i), i;
}
async function LK(t, e) {
  const i = await DC(t, e);
  return t.setItem(ef, i), i;
}
async function TK(t, e) {
  const i = await s3(e.error.bind(e)),
    s = await DC(t, e);
  i !== s && t.setItem(ef, i);
}
var MK = b({
    'out-build/vs/platform/telemetry/electron-main/telemetryUtils.js'() {
      'use strict';
      cu(), Gt(), $K();
    },
  }),
  h1,
  FK = b({
    'out-build/vs/platform/extensionManagement/node/extensionsProfileScannerService.js'() {
      'use strict';
      se(),
        Dr(),
        Er(),
        a1(),
        ft(),
        Xi(),
        be(),
        (h1 = class extends o1 {
          constructor(e, i, s, r, n) {
            super(_.file(e.extensionsPath), i, s, r, n);
          }
        }),
        (h1 = __decorate(
          [__param(0, $s), __param(1, $t), __param(2, Cr), __param(3, Zi), __param(4, ee)],
          h1
        ));
    },
  }),
  xC,
  OK = b({
    'out-build/vs/platform/log/electron-main/logIpc.js'() {
      'use strict';
      Pi(),
        be(),
        se(),
        (xC = class {
          constructor(t) {
            (this.b = t), (this.a = new bi());
          }
          listen(t, e, i) {
            switch (e) {
              case 'onDidChangeLoggers':
                return i ? this.b.getOnDidChangeLoggersEvent(i) : this.b.onDidChangeLoggers;
              case 'onDidChangeLogLevel':
                return i ? this.b.getOnDidChangeLogLevelEvent(i) : this.b.onDidChangeLogLevel;
              case 'onDidChangeVisibility':
                return i ? this.b.getOnDidChangeVisibilityEvent(i) : this.b.onDidChangeVisibility;
            }
            throw new Error(`Event not found: ${e}`);
          }
          async call(t, e, i) {
            switch (e) {
              case 'createLogger':
                this.c(_.revive(i[0]), i[1], i[2]);
                return;
              case 'log':
                return this.e(_.revive(i[0]), i[1]);
              case 'consoleLog':
                return this.d(i[0], i[1]);
              case 'setLogLevel':
                return l7(i[0])
                  ? this.b.setLogLevel(i[0])
                  : this.b.setLogLevel(_.revive(i[0]), i[1]);
              case 'setVisibility':
                return this.b.setVisibility(_.revive(i[0]), i[1]);
              case 'registerLogger':
                return this.b.registerLogger({ ...i[0], resource: _.revive(i[0].resource) }, i[1]);
              case 'deregisterLogger':
                return this.b.deregisterLogger(_.revive(i[0]));
            }
            throw new Error(`Call not found: ${e}`);
          }
          c(t, e, i) {
            this.a.set(t, this.b.createLogger(t, e, i));
          }
          d(t, e) {
            let i = console.log;
            switch (t) {
              case ce.Error:
                i = console.error;
                break;
              case ce.Warning:
                i = console.warn;
                break;
              case ce.Info:
                i = console.info;
                break;
            }
            i.call(console, ...e);
          }
          e(t, e) {
            const i = this.a.get(t);
            if (!i) throw new Error('Create the logger before logging');
            for (const [s, r] of e) bm(i, s, r);
          }
        });
    },
  }),
  Tv,
  d1,
  f1,
  RK = b({
    'out-build/vs/platform/utilityProcess/electron-main/utilityProcessWorkerMainService.js'() {
      'use strict';
      U(),
        K(),
        se(),
        qt(),
        Ho(),
        Gt(),
        Io(),
        X(),
        le(),
        St(),
        ls(),
        (Tv = W('utilityProcessWorker')),
        (d1 = class extends H {
          constructor(e, i, s, r, n) {
            super(),
              (this.b = e),
              (this.c = i),
              (this.f = s),
              (this.g = r),
              (this.h = n),
              (this.a = new Map());
          }
          async createWorker(e) {
            const i = `window: ${e.reply.windowId}, moduleId: ${e.process.moduleId}`;
            this.b.trace(`[UtilityProcessWorker]: createWorker(${i})`);
            const s = this.j(e);
            this.a.has(s) &&
              (this.b.warn(
                `[UtilityProcessWorker]: createWorker() found an existing worker that will be terminated (${i})`
              ),
              this.disposeWorker(e));
            const r = new f1(this.b, this.c, this.f, this.g, this.h, e);
            if (!r.spawn()) return { reason: { code: 1, signal: 'EINVALID' } };
            this.a.set(s, r);
            const n = new zt();
            return (
              P.once(r.onDidTerminate)((o) => {
                o.code === 0
                  ? this.b.trace(
                      `[UtilityProcessWorker]: terminated normally with code ${o.code}, signal: ${o.signal}`
                    )
                  : this.b.error(
                      `[UtilityProcessWorker]: terminated unexpectedly with code ${o.code}, signal: ${o.signal}`
                    ),
                  this.a.delete(s),
                  n.complete({ reason: o });
              }),
              n.p
            );
          }
          j(e) {
            return Un({ moduleId: e.process.moduleId, windowId: e.reply.windowId });
          }
          async disposeWorker(e) {
            const i = this.j(e),
              s = this.a.get(i);
            s &&
              (this.b.trace(
                `[UtilityProcessWorker]: disposeWorker(window: ${e.reply.windowId}, moduleId: ${e.process.moduleId})`
              ),
              s.kill(),
              s.dispose(),
              this.a.delete(i));
          }
        }),
        (d1 = __decorate(
          [__param(0, ee), __param(1, Tt), __param(2, Vt), __param(3, st), __param(4, Bi)],
          d1
        )),
        (f1 = class extends H {
          constructor(e, i, s, r, n, o) {
            super(),
              (this.c = e),
              (this.f = i),
              (this.g = s),
              (this.h = r),
              (this.j = n),
              (this.m = o),
              (this.a = this.B(new $())),
              (this.onDidTerminate = this.a.event),
              (this.b = this.B(new Yl(this.c, this.f, this.g, this.h, this.j))),
              this.n();
          }
          n() {
            this.B(this.b.onExit((e) => this.a.fire({ code: e.code, signal: e.signal }))),
              this.B(this.b.onCrash((e) => this.a.fire({ code: e.code, signal: 'ECRASH' })));
          }
          spawn() {
            const i = this.f
              .getWindowById(this.m.reply.windowId)
              ?.win?.webContents.getOSProcessId();
            return this.b.start({
              type: this.m.process.type,
              entryPoint: this.m.process.moduleId,
              parentLifecycleBound: i,
              windowLifecycleBound: !0,
              correlationId: `${this.m.reply.windowId}`,
              responseWindowId: this.m.reply.windowId,
              responseChannel: this.m.reply.channel,
              responseNonce: this.m.reply.nonce,
            });
          }
          kill() {
            this.b.kill();
          }
        }),
        (f1 = __decorate(
          [__param(0, ee), __param(1, Tt), __param(2, Vt), __param(3, st), __param(4, Bi)],
          f1
        ));
    },
  }),
  AC,
  NK = b({
    'out-build/vs/platform/utilityProcess/common/utilityProcessWorkerService.js'() {
      'use strict';
      AC = 'utilityProcessWorker';
    },
  }),
  BK,
  IC,
  $C,
  PC,
  _C,
  LC,
  TC,
  Pc,
  MC,
  UK,
  ts,
  FC,
  OC,
  RC,
  NC,
  BC,
  UC,
  jC,
  WC,
  HC,
  zC,
  Mv,
  jK,
  VC = b({
    'out-build/vs/platform/terminal/common/terminal.js'() {
      'use strict';
      K(),
        c7(),
        li(),
        (BK = new wm('terminalTabFocusMode', !1, !0)),
        (function (t) {
          (t.AutomationProfile = 'terminal.integrated.automationProfile.'),
            (t.DefaultProfile = 'terminal.integrated.defaultProfile.'),
            (t.Profiles = 'terminal.integrated.profiles.');
        })(IC || (IC = {})),
        (function (t) {
          (t.SendKeybindingsToShell = 'terminal.integrated.sendKeybindingsToShell'),
            (t.AutomationProfileLinux = 'terminal.integrated.automationProfile.linux'),
            (t.AutomationProfileMacOs = 'terminal.integrated.automationProfile.osx'),
            (t.AutomationProfileWindows = 'terminal.integrated.automationProfile.windows'),
            (t.ProfilesWindows = 'terminal.integrated.profiles.windows'),
            (t.ProfilesMacOs = 'terminal.integrated.profiles.osx'),
            (t.ProfilesLinux = 'terminal.integrated.profiles.linux'),
            (t.DefaultProfileLinux = 'terminal.integrated.defaultProfile.linux'),
            (t.DefaultProfileMacOs = 'terminal.integrated.defaultProfile.osx'),
            (t.DefaultProfileWindows = 'terminal.integrated.defaultProfile.windows'),
            (t.UseWslProfiles = 'terminal.integrated.useWslProfiles'),
            (t.TabsDefaultColor = 'terminal.integrated.tabs.defaultColor'),
            (t.TabsDefaultIcon = 'terminal.integrated.tabs.defaultIcon'),
            (t.TabsEnabled = 'terminal.integrated.tabs.enabled'),
            (t.TabsEnableAnimation = 'terminal.integrated.tabs.enableAnimation'),
            (t.TabsHideCondition = 'terminal.integrated.tabs.hideCondition'),
            (t.TabsShowActiveTerminal = 'terminal.integrated.tabs.showActiveTerminal'),
            (t.TabsShowActions = 'terminal.integrated.tabs.showActions'),
            (t.TabsLocation = 'terminal.integrated.tabs.location'),
            (t.TabsFocusMode = 'terminal.integrated.tabs.focusMode'),
            (t.MacOptionIsMeta = 'terminal.integrated.macOptionIsMeta'),
            (t.MacOptionClickForcesSelection = 'terminal.integrated.macOptionClickForcesSelection'),
            (t.AltClickMovesCursor = 'terminal.integrated.altClickMovesCursor'),
            (t.CopyOnSelection = 'terminal.integrated.copyOnSelection'),
            (t.EnableMultiLinePasteWarning = 'terminal.integrated.enableMultiLinePasteWarning'),
            (t.DrawBoldTextInBrightColors = 'terminal.integrated.drawBoldTextInBrightColors'),
            (t.FontFamily = 'terminal.integrated.fontFamily'),
            (t.FontSize = 'terminal.integrated.fontSize'),
            (t.LetterSpacing = 'terminal.integrated.letterSpacing'),
            (t.LineHeight = 'terminal.integrated.lineHeight'),
            (t.MinimumContrastRatio = 'terminal.integrated.minimumContrastRatio'),
            (t.TabStopWidth = 'terminal.integrated.tabStopWidth'),
            (t.FastScrollSensitivity = 'terminal.integrated.fastScrollSensitivity'),
            (t.MouseWheelScrollSensitivity = 'terminal.integrated.mouseWheelScrollSensitivity'),
            (t.BellDuration = 'terminal.integrated.bellDuration'),
            (t.FontWeight = 'terminal.integrated.fontWeight'),
            (t.FontWeightBold = 'terminal.integrated.fontWeightBold'),
            (t.CursorBlinking = 'terminal.integrated.cursorBlinking'),
            (t.CursorStyle = 'terminal.integrated.cursorStyle'),
            (t.CursorStyleInactive = 'terminal.integrated.cursorStyleInactive'),
            (t.CursorWidth = 'terminal.integrated.cursorWidth'),
            (t.Scrollback = 'terminal.integrated.scrollback'),
            (t.DetectLocale = 'terminal.integrated.detectLocale'),
            (t.DefaultLocation = 'terminal.integrated.defaultLocation'),
            (t.GpuAcceleration = 'terminal.integrated.gpuAcceleration'),
            (t.TerminalTitleSeparator = 'terminal.integrated.tabs.separator'),
            (t.TerminalTitle = 'terminal.integrated.tabs.title'),
            (t.TerminalDescription = 'terminal.integrated.tabs.description'),
            (t.RightClickBehavior = 'terminal.integrated.rightClickBehavior'),
            (t.MiddleClickBehavior = 'terminal.integrated.middleClickBehavior'),
            (t.Cwd = 'terminal.integrated.cwd'),
            (t.ConfirmOnExit = 'terminal.integrated.confirmOnExit'),
            (t.ConfirmOnKill = 'terminal.integrated.confirmOnKill'),
            (t.EnableBell = 'terminal.integrated.enableBell'),
            (t.EnableVisualBell = 'terminal.integrated.enableVisualBell'),
            (t.CommandsToSkipShell = 'terminal.integrated.commandsToSkipShell'),
            (t.AllowChords = 'terminal.integrated.allowChords'),
            (t.AllowMnemonics = 'terminal.integrated.allowMnemonics'),
            (t.TabFocusMode = 'terminal.integrated.tabFocusMode'),
            (t.EnvMacOs = 'terminal.integrated.env.osx'),
            (t.EnvLinux = 'terminal.integrated.env.linux'),
            (t.EnvWindows = 'terminal.integrated.env.windows'),
            (t.EnvironmentChangesIndicator = 'terminal.integrated.environmentChangesIndicator'),
            (t.EnvironmentChangesRelaunch = 'terminal.integrated.environmentChangesRelaunch'),
            (t.ShowExitAlert = 'terminal.integrated.showExitAlert'),
            (t.SplitCwd = 'terminal.integrated.splitCwd'),
            (t.WindowsEnableConpty = 'terminal.integrated.windowsEnableConpty'),
            (t.WindowsUseConptyDll = 'terminal.integrated.windowsUseConptyDll'),
            (t.WordSeparators = 'terminal.integrated.wordSeparators'),
            (t.EnableFileLinks = 'terminal.integrated.enableFileLinks'),
            (t.AllowedLinkSchemes = 'terminal.integrated.allowedLinkSchemes'),
            (t.UnicodeVersion = 'terminal.integrated.unicodeVersion'),
            (t.EnablePersistentSessions = 'terminal.integrated.enablePersistentSessions'),
            (t.PersistentSessionReviveProcess =
              'terminal.integrated.persistentSessionReviveProcess'),
            (t.HideOnStartup = 'terminal.integrated.hideOnStartup'),
            (t.HideOnLastClosed = 'terminal.integrated.hideOnLastClosed'),
            (t.CustomGlyphs = 'terminal.integrated.customGlyphs'),
            (t.RescaleOverlappingGlyphs = 'terminal.integrated.rescaleOverlappingGlyphs'),
            (t.PersistentSessionScrollback = 'terminal.integrated.persistentSessionScrollback'),
            (t.InheritEnv = 'terminal.integrated.inheritEnv'),
            (t.ShowLinkHover = 'terminal.integrated.showLinkHover'),
            (t.IgnoreProcessNames = 'terminal.integrated.ignoreProcessNames'),
            (t.ShellIntegrationEnabled = 'terminal.integrated.shellIntegration.enabled'),
            (t.ShellIntegrationShowWelcome = 'terminal.integrated.shellIntegration.showWelcome'),
            (t.ShellIntegrationDecorationsEnabled =
              'terminal.integrated.shellIntegration.decorationsEnabled'),
            (t.ShellIntegrationEnvironmentReporting =
              'terminal.integrated.shellIntegration.environmentReporting'),
            (t.EnableImages = 'terminal.integrated.enableImages'),
            (t.SmoothScrolling = 'terminal.integrated.smoothScrolling'),
            (t.IgnoreBracketedPasteMode = 'terminal.integrated.ignoreBracketedPasteMode'),
            (t.FocusAfterRun = 'terminal.integrated.focusAfterRun'),
            (t.FontLigaturesEnabled = 'terminal.integrated.fontLigatures.enabled'),
            (t.FontLigaturesFeatureSettings = 'terminal.integrated.fontLigatures.featureSettings'),
            (t.FontLigaturesFallbackLigatures =
              'terminal.integrated.fontLigatures.fallbackLigatures'),
            (t.AIFix = 'icube.terminal.aifix'),
            (t.DeveloperPtyHostLatency = 'terminal.integrated.developer.ptyHost.latency'),
            (t.DeveloperPtyHostStartupDelay = 'terminal.integrated.developer.ptyHost.startupDelay'),
            (t.DevMode = 'terminal.integrated.developer.devMode');
        })($C || ($C = {})),
        (function (t) {
          (t.Bash = 'bash'),
            (t.Fish = 'fish'),
            (t.Sh = 'sh'),
            (t.Csh = 'csh'),
            (t.Ksh = 'ksh'),
            (t.Zsh = 'zsh');
        })(PC || (PC = {})),
        (function (t) {
          (t.CommandPrompt = 'cmd'), (t.Wsl = 'wsl'), (t.GitBash = 'gitbash');
        })(_C || (_C = {})),
        (function (t) {
          (t.PowerShell = 'pwsh'),
            (t.Python = 'python'),
            (t.Julia = 'julia'),
            (t.NuShell = 'nu'),
            (t.Node = 'node');
        })(LC || (LC = {})),
        (function (t) {
          (t[(t.Api = 0)] = 'Api'),
            (t[(t.Process = 1)] = 'Process'),
            (t[(t.Sequence = 2)] = 'Sequence'),
            (t[(t.Config = 3)] = 'Config');
        })(TC || (TC = {})),
        (function (t) {
          (t.LocalPty = 'localPty'),
            (t.PtyHost = 'ptyHost'),
            (t.PtyHostWindow = 'ptyHostWindow'),
            (t.Logger = 'logger'),
            (t.Heartbeat = 'heartbeat');
        })(Pc || (Pc = {})),
        (function (t) {
          (t.Cwd = 'cwd'),
            (t.InitialCwd = 'initialCwd'),
            (t.FixedDimensions = 'fixedDimensions'),
            (t.Title = 'title'),
            (t.ShellType = 'shellType'),
            (t.HasChildProcesses = 'hasChildProcesses'),
            (t.ResolvedShellLaunchConfig = 'resolvedShellLaunchConfig'),
            (t.OverrideDimensions = 'overrideDimensions'),
            (t.FailedShellIntegrationActivation = 'failedShellIntegrationActivation'),
            (t.UsedShellIntegrationInjection = 'usedShellIntegrationInjection'),
            (t.ShellIntegrationInjectionFailureReason = 'shellIntegrationInjectionFailureReason');
        })(MC || (MC = {})),
        (UK = W('ptyService')),
        (function (t) {
          (t[(t.BeatInterval = 5e3)] = 'BeatInterval'),
            (t[(t.ConnectingBeatInterval = 2e4)] = 'ConnectingBeatInterval'),
            (t[(t.FirstWaitMultiplier = 1.2)] = 'FirstWaitMultiplier'),
            (t[(t.SecondWaitMultiplier = 1)] = 'SecondWaitMultiplier'),
            (t[(t.CreateProcessTimeout = 5e3)] = 'CreateProcessTimeout');
        })(ts || (ts = {})),
        (function (t) {
          (t[(t.Panel = 1)] = 'Panel'), (t[(t.Editor = 2)] = 'Editor');
        })(FC || (FC = {})),
        (function (t) {
          (t.TerminalView = 'view'), (t.Editor = 'editor');
        })(OC || (OC = {})),
        (function (t) {
          (t[(t.GraceTime = 6e4)] = 'GraceTime'), (t[(t.ShortGraceTime = 6e3)] = 'ShortGraceTime');
        })(RC || (RC = {})),
        (function (t) {
          (t[(t.HighWatermarkChars = 1e5)] = 'HighWatermarkChars'),
            (t[(t.LowWatermarkChars = 5e3)] = 'LowWatermarkChars'),
            (t[(t.CharCountAckSize = 5e3)] = 'CharCountAckSize');
        })(NC || (NC = {})),
        (function (t) {
          (t.GitBash = 'Git Bash'), (t.Pwsh = 'PowerShell');
        })(BC || (BC = {})),
        (function (t) {
          (t[(t.Off = 0)] = 'Off'),
            (t[(t.FinalTerm = 1)] = 'FinalTerm'),
            (t[(t.VSCode = 2)] = 'VSCode');
        })(UC || (UC = {})),
        (function (t) {
          (t.InjectionSettingDisabled = 'injectionSettingDisabled'),
            (t.NoExecutable = 'noExecutable'),
            (t.FeatureTerminal = 'featureTerminal'),
            (t.IgnoreShellIntegrationFlag = 'ignoreShellIntegrationFlag'),
            (t.Winpty = 'winpty'),
            (t.UnsupportedArgs = 'unsupportedArgs'),
            (t.UnsupportedShell = 'unsupportedShell');
        })(jC || (jC = {})),
        (function (t) {
          (t[(t.Unknown = 0)] = 'Unknown'),
            (t[(t.Shutdown = 1)] = 'Shutdown'),
            (t[(t.Process = 2)] = 'Process'),
            (t[(t.User = 3)] = 'User'),
            (t[(t.Extension = 4)] = 'Extension');
        })(WC || (WC = {})),
        (HC = { Backend: 'workbench.contributions.terminal.processBackend' }),
        (zC = class {
          constructor() {
            this.a = new Map();
          }
          get backends() {
            return this.a;
          }
          registerTerminalBackend(t) {
            const e = this.b(t.remoteAuthority);
            if (this.a.has(e))
              throw new Error(
                `A terminal backend with remote authority '${e}' was already registered.`
              );
            this.a.set(e, t);
          }
          getTerminalBackend(t) {
            return this.a.get(this.b(t));
          }
          b(t) {
            return t?.toLowerCase() ?? '';
          }
        }),
        tt.add(HC.Backend, new zC()),
        (Mv = W('localPtyService')),
        (jK = W('terminalLogService'));
    },
  }),
  p1,
  WK = b({
    'out-build/vs/platform/terminal/electron-main/electronPtyHostStarter.js'() {
      'use strict';
      vt(),
        hm(),
        St(),
        se(),
        Jo(),
        Ho(),
        M6(),
        Ei(),
        U(),
        X(),
        mi(),
        Ge(),
        Oe(),
        ls(),
        (p1 = class extends H {
          constructor(e, i, s, r, n, o) {
            super(),
              (this.f = e),
              (this.g = i),
              (this.h = s),
              (this.j = r),
              (this.m = n),
              (this.n = o),
              (this.a = void 0),
              (this.b = new $()),
              (this.onRequestConnection = this.b.event),
              (this.c = new $()),
              (this.onWillShutdown = this.c.event),
              this.B(this.j.onWillShutdown(() => this.c.fire())),
              de.on('vscode:createPtyHostMessageChannel', (a, c) => this.s(a, c)),
              this.B(
                _e(() => {
                  de.removeHandler('vscode:createPtyHostMessageChannel');
                })
              );
          }
          start() {
            this.a = new nn(this.m, yu, this.j, this.n);
            const e = eL(this.h.args, this.h.isBuilt),
              i = e.port ? ['--nolazy', `--inspect${e.break ? '-brk' : ''}=${e.port}`] : void 0;
            this.a.start({
              type: 'ptyHost',
              entryPoint: 'vs/platform/terminal/node/ptyHostMain',
              execArgv: i,
              args: ['--logsPath', this.h.logsHome.with({ scheme: N.file }).fsPath],
              env: this.r(),
            });
            const s = this.a.connect(),
              r = new om(s, 'ptyHost'),
              n = new je();
            return (
              n.add(r),
              n.add(
                _e(() => {
                  this.a?.kill(), this.a?.dispose(), (this.a = void 0);
                })
              ),
              { client: r, store: n, onDidProcessExit: this.a.onExit }
            );
          }
          r() {
            this.h.unsetSnapExportedVariables();
            const e = {
                ...ms(process.env),
                VSCODE_ESM_ENTRYPOINT: 'vs/platform/terminal/node/ptyHostMain',
                VSCODE_PIPE_LOGGING: 'true',
                VSCODE_VERBOSE_LOGGING: 'true',
                VSCODE_RECONNECT_GRACE_TIME: String(this.f.graceTime),
                VSCODE_RECONNECT_SHORT_GRACE_TIME: String(this.f.shortGraceTime),
                VSCODE_RECONNECT_SCROLLBACK: String(this.f.scrollback),
              },
              i = this.g.getValue('terminal.integrated.developer.ptyHost.latency');
            i && typeof i == 'number' && (e.VSCODE_LATENCY = String(i));
            const s = this.g.getValue('terminal.integrated.developer.ptyHost.startupDelay');
            return (
              s && typeof s == 'number' && (e.VSCODE_STARTUP_DELAY = String(s)),
              this.h.restoreSnapExportedVariables(),
              e
            );
          }
          s(e, i) {
            this.b.fire();
            const s = this.a.connect();
            if (e.sender.isDestroyed()) {
              s.close();
              return;
            }
            e.sender.postMessage('vscode:createPtyHostMessageChannelResult', i, [s]);
          }
        }),
        (p1 = __decorate(
          [__param(1, Ve), __param(2, dt), __param(3, st), __param(4, ee), __param(5, Bi)],
          p1
        ));
    },
  }),
  GC,
  HK = b({
    'out-build/vs/platform/log/common/logIpc.js'() {
      'use strict';
      be(),
        X(),
        se(),
        U(),
        (GC = class extends H {
          constructor(t, e) {
            super(),
              e.call('setLogLevel', [t.getLogLevel()]),
              this.B(t.onDidChangeLogLevel((i) => e.call('setLogLevel', [i]))),
              e.call('getRegisteredLoggers').then((i) => {
                for (const s of i) t.registerLogger({ ...s, resource: _.revive(s.resource) });
              }),
              this.B(
                e.listen('onDidChangeVisibility')(([i, s]) => t.setVisibility(_.revive(i), s))
              ),
              this.B(
                e.listen('onDidChangeLoggers')(({ added: i, removed: s }) => {
                  for (const r of i) t.registerLogger({ ...r, resource: _.revive(r.resource) });
                  for (const r of s) t.deregisterLogger(r.resource);
                })
              );
          }
        });
    },
  }),
  g1,
  zK = b({
    'out-build/vs/platform/terminal/common/requestStore.js'() {
      'use strict';
      le(),
        jt(),
        X(),
        U(),
        se(),
        (g1 = class extends H {
          constructor(e, i) {
            super(),
              (this.h = i),
              (this.a = 0),
              (this.c = new Map()),
              (this.f = new Map()),
              (this.g = this.B(new $())),
              (this.onCreateRequest = this.g.event),
              (this.b = e === void 0 ? 15e3 : e),
              this.B(
                _e(() => {
                  for (const s of this.f.values()) Qt(s);
                })
              );
          }
          createRequest(e) {
            return new Promise((i, s) => {
              const r = ++this.a;
              this.c.set(r, i), this.g.fire({ requestId: r, ...e });
              const n = new Js();
              Ji(this.b, n.token).then(() => s(`Request ${r} timed out (${this.b}ms)`)),
                this.f.set(r, [_e(() => n.cancel())]);
            });
          }
          acceptReply(e, i) {
            const s = this.c.get(e);
            s
              ? (this.c.delete(e), Qt(this.f.get(e) || []), this.f.delete(e), s(i))
              : this.h.warn(
                  `RequestStore#acceptReply was called without receiving a matching request ${e}`
                );
          }
        }),
        (g1 = __decorate([__param(1, ee)], g1));
    },
  });
function VK(t, e) {
  const i = [{ name: null, description: u(2329, null) }];
  return (
    i.push(...t.map((s) => ({ name: s.profileName, description: GK(s) }))),
    e && i.push(...e.map((s) => ({ name: s.title, description: qK(s) }))),
    { values: i.map((s) => s.name), markdownDescriptions: i.map((s) => s.description) }
  );
}
function GK(t) {
  let e = `$(${to.isThemeIcon(t.icon) ? t.icon.id : t.icon ? t.icon : es.terminal.id}) ${
    t.profileName
  }
- path: ${t.path}`;
  return (
    t.args &&
      (typeof t.args == 'string'
        ? (e += `
- args: "${t.args}"`)
        : (e += `
- args: [${t.args.length === 0 ? '' : `'${t.args.join("','")}'`}]`)),
    t.overrideName !== void 0 &&
      (e += `
- overrideName: ${t.overrideName}`),
    t.color &&
      (e += `
- color: ${t.color}`),
    t.env &&
      (e += `
- env: ${JSON.stringify(t.env)}`),
    e
  );
}
function qK(t) {
  return `$(${to.isThemeIcon(t.icon) ? t.icon.id : t.icon ? t.icon : es.terminal.id}) ${t.title}
- extensionIdentifier: ${t.extensionIdentifier}`;
}
var KK = b({
  'out-build/vs/platform/terminal/common/terminalProfiles.js'() {
    'use strict';
    Cu(), be(), he(), gv();
  },
});
function Fv(t) {
  const e = t === 2 ? 'linux' : t === 1 ? 'osx' : 'windows';
  return u(
    2305,
    null,
    Qg(t),
    '```json\n"terminal.integrated.profile.' + e + '": {\n  "bash": null\n}\n```',
    '[',
    '](https://code.visualstudio.com/docs/terminal/profiles)'
  );
}
function JK() {
  tt.as(Li.Configuration).registerConfiguration(JC), XK();
}
function XK(t, e) {
  const i = tt.as(Li.Configuration);
  let s;
  t && (s = VK(t?.profiles, e));
  const r = Ov;
  (Ov = {
    id: 'terminal',
    order: 100,
    title: u(2325, null),
    type: 'object',
    properties: {
      'terminal.integrated.defaultProfile.linux': {
        restricted: !0,
        markdownDescription: u(2326, null),
        type: ['string', 'null'],
        default: 'zsh',
        enum: t?.os === 3 ? s?.values : void 0,
        markdownEnumDescriptions: t?.os === 3 ? s?.markdownDescriptions : void 0,
      },
      'terminal.integrated.defaultProfile.osx': {
        restricted: !0,
        markdownDescription: u(2327, null),
        type: ['string', 'null'],
        default: 'zsh',
        enum: t?.os === 2 ? s?.values : void 0,
        markdownEnumDescriptions: t?.os === 2 ? s?.markdownDescriptions : void 0,
      },
      'terminal.integrated.defaultProfile.windows': {
        restricted: !0,
        markdownDescription: u(2328, null),
        type: ['string', 'null'],
        default: null,
        enum: t?.os === 1 ? s?.values : void 0,
        markdownEnumDescriptions: t?.os === 1 ? s?.markdownDescriptions : void 0,
      },
    },
  }),
    i.updateConfigurations({ add: [Ov], remove: r ? [r] : [] });
}
var qC,
  KC,
  na,
  m1,
  w1,
  JC,
  Ov,
  YK = b({
    'out-build/vs/platform/terminal/common/terminalPlatformConfiguration.js'() {
      'use strict';
      Cu(),
        ie(),
        he(),
        _n(),
        li(),
        KK(),
        (qC = {
          type: ['string', 'null'],
          enum: [
            'terminal.ansiBlack',
            'terminal.ansiRed',
            'terminal.ansiGreen',
            'terminal.ansiYellow',
            'terminal.ansiBlue',
            'terminal.ansiMagenta',
            'terminal.ansiCyan',
            'terminal.ansiWhite',
          ],
          default: null,
        }),
        (KC = {
          type: 'string',
          enum: Array.from(Q3(), (t) => t.id),
          markdownEnumDescriptions: Array.from(Q3(), (t) => `$(${t.id})`),
        }),
        (na = {
          args: { description: u(2298, null), type: 'array', items: { type: 'string' } },
          overrideName: { description: u(2299, null), type: 'boolean' },
          icon: { description: u(2300, null), ...KC },
          color: { description: u(2301, null), ...qC },
          env: {
            markdownDescription: u(2302, null),
            type: 'object',
            additionalProperties: { type: ['string', 'null'] },
            default: {},
          },
        }),
        (m1 = {
          type: 'object',
          required: ['path'],
          properties: {
            path: {
              description: u(2303, null),
              type: ['string', 'array'],
              items: { type: 'string' },
            },
            ...na,
          },
        }),
        (w1 = {
          type: 'object',
          required: ['path'],
          properties: {
            path: { description: u(2304, null), type: ['string'], items: { type: 'string' } },
            ...na,
          },
        }),
        (JC = {
          id: 'terminal',
          order: 100,
          title: u(2306, null),
          type: 'object',
          properties: {
            'terminal.integrated.automationProfile.linux': {
              restricted: !0,
              markdownDescription: u(2307, null),
              type: ['object', 'null'],
              default: null,
              anyOf: [{ type: 'null' }, w1],
              defaultSnippets: [{ body: { path: '${1}', icon: '${2}' } }],
            },
            'terminal.integrated.automationProfile.osx': {
              restricted: !0,
              markdownDescription: u(2308, null),
              type: ['object', 'null'],
              default: null,
              anyOf: [{ type: 'null' }, w1],
              defaultSnippets: [{ body: { path: '${1}', icon: '${2}' } }],
            },
            'terminal.integrated.automationProfile.windows': {
              restricted: !0,
              markdownDescription: u(2309, null, '`terminal.integrated.automationShell.windows`'),
              type: ['object', 'null'],
              default: null,
              anyOf: [{ type: 'null' }, w1],
              defaultSnippets: [{ body: { path: '${1}', icon: '${2}' } }],
            },
            'terminal.integrated.profiles.windows': {
              restricted: !0,
              markdownDescription: Fv(3),
              type: 'object',
              default: {
                PowerShell: { source: 'PowerShell', icon: 'terminal-powershell' },
                'Command Prompt': {
                  path: ['${env:windir}\\Sysnative\\cmd.exe', '${env:windir}\\System32\\cmd.exe'],
                  args: [],
                  icon: 'terminal-cmd',
                },
                'Git Bash': { source: 'Git Bash' },
              },
              additionalProperties: {
                anyOf: [
                  {
                    type: 'object',
                    required: ['source'],
                    properties: {
                      source: { description: u(2310, null), enum: ['PowerShell', 'Git Bash'] },
                      ...na,
                    },
                  },
                  {
                    type: 'object',
                    required: ['extensionIdentifier', 'id', 'title'],
                    properties: {
                      extensionIdentifier: { description: u(2311, null), type: 'string' },
                      id: { description: u(2312, null), type: 'string' },
                      title: { description: u(2313, null), type: 'string' },
                      ...na,
                    },
                  },
                  { type: 'null' },
                  m1,
                ],
              },
            },
            'terminal.integrated.profiles.osx': {
              restricted: !0,
              markdownDescription: Fv(1),
              type: 'object',
              default: {
                bash: { path: 'bash', args: ['-l'], icon: 'terminal-bash' },
                zsh: { path: 'zsh', args: ['-l'] },
                fish: { path: 'fish', args: ['-l'] },
                tmux: { path: 'tmux', icon: 'terminal-tmux' },
                pwsh: { path: 'pwsh', icon: 'terminal-powershell' },
              },
              additionalProperties: {
                anyOf: [
                  {
                    type: 'object',
                    required: ['extensionIdentifier', 'id', 'title'],
                    properties: {
                      extensionIdentifier: { description: u(2314, null), type: 'string' },
                      id: { description: u(2315, null), type: 'string' },
                      title: { description: u(2316, null), type: 'string' },
                      ...na,
                    },
                  },
                  { type: 'null' },
                  m1,
                ],
              },
            },
            'terminal.integrated.profiles.linux': {
              restricted: !0,
              markdownDescription: Fv(2),
              type: 'object',
              default: {
                bash: { path: 'bash', icon: 'terminal-bash' },
                zsh: { path: 'zsh' },
                fish: { path: 'fish' },
                tmux: { path: 'tmux', icon: 'terminal-tmux' },
                pwsh: { path: 'pwsh', icon: 'terminal-powershell' },
              },
              additionalProperties: {
                anyOf: [
                  {
                    type: 'object',
                    required: ['extensionIdentifier', 'id', 'title'],
                    properties: {
                      extensionIdentifier: { description: u(2317, null), type: 'string' },
                      id: { description: u(2318, null), type: 'string' },
                      title: { description: u(2319, null), type: 'string' },
                      ...na,
                    },
                  },
                  { type: 'null' },
                  m1,
                ],
              },
            },
            'terminal.integrated.useWslProfiles': {
              description: u(2320, null),
              type: 'boolean',
              default: !0,
            },
            'terminal.integrated.inheritEnv': {
              scope: 1,
              description: u(2321, null),
              type: 'boolean',
              default: !0,
            },
            'terminal.integrated.persistentSessionScrollback': {
              scope: 1,
              markdownDescription: u(2322, null),
              type: 'number',
              default: 100,
            },
            'terminal.integrated.showLinkHover': {
              scope: 1,
              description: u(2323, null),
              type: 'boolean',
              default: !0,
            },
            'terminal.integrated.ignoreProcessNames': {
              markdownDescription: u(2324, null, '`#terminal.integrated.confirmOnKill#`'),
              type: 'array',
              items: { type: 'string', uniqueItems: !0 },
              default: ['starship', 'oh-my-posh', 'bash', 'zsh'],
            },
          },
        });
    },
  }),
  uh,
  XC = b({
    'out-build/vs/platform/terminal/common/environmentVariable.js'() {
      'use strict';
      (function (t) {
        (t[(t.Replace = 1)] = 'Replace'),
          (t[(t.Append = 2)] = 'Append'),
          (t[(t.Prepend = 3)] = 'Prepend');
      })(uh || (uh = {}));
    },
  }),
  QK = b({
    'out-build/vs/platform/terminal/common/environmentVariableShared.js'() {
      'use strict';
    },
  }),
  ZK,
  eJ = b({
    'out-build/vs/platform/terminal/common/environmentVariableCollection.js'() {
      'use strict';
      ie(),
        XC(),
        (ZK = new Map([
          [uh.Append, 'APPEND'],
          [uh.Prepend, 'PREPEND'],
          [uh.Replace, 'REPLACE'],
        ]));
    },
  });
import * as tJ from 'os';
function iJ() {
  const t = /(\d+)\.(\d+)\.(\d+)/g.exec(tJ.release());
  let e = 0;
  return t && t.length === 4 && (e = parseInt(t[3])), e;
}
var ar,
  Fr,
  sJ = b({
    'out-build/vs/platform/terminal/node/terminalEnvironment.js'() {
      'use strict';
      Oe(),
        xe(),
        ie(),
        Vs(),
        Wt(),
        XC(),
        QK(),
        eJ(),
        (function (t) {
          (t.WindowsPwsh = 'windows-pwsh'),
            (t.WindowsPwshLogin = 'windows-pwsh-login'),
            (t.Pwsh = 'pwsh'),
            (t.PwshLogin = 'pwsh-login'),
            (t.Zsh = 'zsh'),
            (t.ZshLogin = 'zsh-login'),
            (t.Bash = 'bash'),
            (t.Fish = 'fish'),
            (t.FishLogin = 'fish-login');
        })(ar || (ar = {})),
        (Fr = new Map()),
        Fr.set(ar.WindowsPwsh, [
          '-noexit',
          '-command',
          'try { . "{0}\\out\\vs\\workbench\\contrib\\terminal\\common\\scripts\\shellIntegration.ps1" } catch {}{1}',
        ]),
        Fr.set(ar.WindowsPwshLogin, [
          '-l',
          '-noexit',
          '-command',
          'try { . "{0}\\out\\vs\\workbench\\contrib\\terminal\\common\\scripts\\shellIntegration.ps1" } catch {}{1}',
        ]),
        Fr.set(ar.Pwsh, [
          '-noexit',
          '-command',
          '. "{0}/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration.ps1"{1}',
        ]),
        Fr.set(ar.PwshLogin, [
          '-l',
          '-noexit',
          '-command',
          '. "{0}/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration.ps1"',
        ]),
        Fr.set(ar.Zsh, ['-i']),
        Fr.set(ar.ZshLogin, ['-il']),
        Fr.set(ar.Bash, [
          '--init-file',
          '{0}/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh',
        ]),
        Fr.set(ar.Fish, [
          '--init-command',
          'source "{0}/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration.fish"',
        ]),
        Fr.set(ar.FishLogin, [
          '-l',
          '--init-command',
          'source "{0}/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration.fish"',
        ]);
    },
  });
import * as rJ from 'fs';
import * as nJ from 'child_process';
import { dirname as oJ, resolve as aJ } from 'path';
function cJ(t, e, i, s, r = process.env, n, o, a, c) {
  return (
    (n = n || { existsFile: Si.existsFile, readFile: rJ.promises.readFile }),
    J
      ? lJ(
          i,
          n,
          r,
          o,
          s.getValue('terminal.integrated.useWslProfiles') !== !1,
          t && typeof t == 'object' ? { ...t } : s.getValue('terminal.integrated.profiles.windows'),
          typeof e == 'string' ? e : s.getValue('terminal.integrated.defaultProfile.windows'),
          c,
          a
        )
      : mJ(
          n,
          o,
          i,
          t && typeof t == 'object'
            ? { ...t }
            : s.getValue(
                Fe ? 'terminal.integrated.profiles.linux' : 'terminal.integrated.profiles.osx'
              ),
          typeof e == 'string'
            ? e
            : s.getValue(
                Fe
                  ? 'terminal.integrated.defaultProfile.linux'
                  : 'terminal.integrated.defaultProfile.osx'
              ),
          c,
          a,
          r
        )
  );
}
async function lJ(t, e, i, s, r, n, o, a, c) {
  const l = process.env.hasOwnProperty('PROCESSOR_ARCHITEW6432'),
    h = `${process.env.windir}\\${l ? 'Sysnative' : 'System32'}`;
  let d = !1;
  iJ() >= 16299 && (d = !0), await hJ(a);
  const p = new Map();
  if (t) {
    p.set('PowerShell', { source: 'PowerShell', icon: es.terminalPowershell, isAutoDetected: !0 }),
      p.set('Windows PowerShell', {
        path: `${h}\\WindowsPowerShell\\v1.0\\powershell.exe`,
        icon: es.terminalPowershell,
        isAutoDetected: !0,
      }),
      p.set('Git Bash', { source: 'Git Bash', isAutoDetected: !0 }),
      p.set('Command Prompt', { path: `${h}\\cmd.exe`, icon: es.terminalCmd, isAutoDetected: !0 }),
      p.set('Cygwin', {
        path: [
          { path: `${process.env.HOMEDRIVE}\\cygwin64\\bin\\bash.exe`, isUnsafe: !0 },
          { path: `${process.env.HOMEDRIVE}\\cygwin\\bin\\bash.exe`, isUnsafe: !0 },
        ],
        args: ['--login'],
        isAutoDetected: !0,
      }),
      p.set('bash (MSYS2)', {
        path: [{ path: `${process.env.HOMEDRIVE}\\msys64\\usr\\bin\\bash.exe`, isUnsafe: !0 }],
        args: ['--login', '-i'],
        env: { CHERE_INVOKING: '1' },
        icon: es.terminalBash,
        isAutoDetected: !0,
      });
    const w = `${
      process.env.CMDER_ROOT || `${process.env.HOMEDRIVE}\\cmder`
    }\\vendor\\bin\\vscode_init.cmd`;
    p.set('Cmder', {
      path: `${h}\\cmd.exe`,
      args: ['/K', w],
      requiresPath: process.env.CMDER_ROOT ? w : { path: w, isUnsafe: !0 },
      isAutoDetected: !0,
    });
  }
  ZC(n, p);
  const m = await YC(p.entries(), o, e, i, s, c);
  if (t && r)
    try {
      const w = await pJ(`${h}\\${d ? 'wsl' : 'bash'}.exe`, o);
      for (const v of w) (!n || !(v.profileName in n)) && m.push(v);
    } catch {
      Rv && (s?.trace('WSL is not installed, so could not detect WSL profiles'), (Rv = !1));
    }
  return m;
}
async function YC(t, e, i, s = process.env, r, n) {
  const o = [];
  for (const [a, c] of t) o.push(uJ(a, c, e, i, s, r, n));
  return (await Promise.all(o)).filter((a) => !!a);
}
async function uJ(t, e, i, s, r = process.env, n, o) {
  if (e === null) return;
  let a, c, l;
  if ('source' in e && !('path' in e)) {
    const m = hh?.get(e.source);
    if (!m) return;
    (a = m.paths), (c = e.args || m.args), e.icon ? (l = QC(e.icon)) : m.icon && (l = m.icon);
  } else
    (a = Array.isArray(e.path) ? e.path : [e.path]),
      (c = J || Array.isArray(e.args) ? e.args : void 0),
      (l = QC(e.icon));
  let h;
  if (o) {
    const m = a.map((v) => (typeof v == 'string' ? v : v.path)),
      w = await o(m);
    h = new Array(a.length);
    for (let v = 0; v < a.length; v++)
      typeof a[v] == 'string' ? (h[v] = w[v]) : (h[v] = { path: w[v], isUnsafe: !0 });
  } else h = a.slice();
  let d;
  if (e.requiresPath) {
    let m;
    if (
      (ot(e.requiresPath)
        ? (m = e.requiresPath)
        : ((m = e.requiresPath.path), e.requiresPath.isUnsafe && (d = m)),
      !(await s.existsFile(m)))
    )
      return;
  }
  const p = await b1(t, i, h, s, r, c, e.env, e.overrideName, e.isAutoDetected, d);
  if (!p) {
    n?.debug('Terminal profile not validated', t, a);
    return;
  }
  return (p.isAutoDetected = e.isAutoDetected), (p.icon = l), (p.color = e.color), p;
}
function QC(t) {
  return typeof t == 'string' ? { id: t } : t;
}
async function hJ(t) {
  if (hh && !t) return;
  const [e, i] = await Promise.all([dJ(), t || fJ()]);
  (hh = new Map()),
    hh.set('Git Bash', { profileName: 'Git Bash', paths: e, args: ['--login', '-i'] }),
    hh.set('PowerShell', { profileName: 'PowerShell', paths: i, icon: es.terminalPowershell });
}
async function dJ() {
  const t = new Set(),
    e = await hw('git.exe');
  if (e) {
    const r = oJ(e);
    t.add(aJ(r, '../..'));
  }
  function i(r, n) {
    n && r.add(n);
  }
  i(t, process.env.ProgramW6432),
    i(t, process.env.ProgramFiles),
    i(t, process.env['ProgramFiles(X86)']),
    i(t, `${process.env.LocalAppData}\\Program`);
  const s = [];
  for (const r of t)
    s.push(`${r}\\Git\\bin\\bash.exe`, `${r}\\Git\\usr\\bin\\bash.exe`, `${r}\\usr\\bin\\bash.exe`);
  return (
    s.push(`${process.env.UserProfile}\\scoop\\apps\\git\\current\\bin\\bash.exe`),
    s.push(`${process.env.UserProfile}\\scoop\\apps\\git-with-openssh\\current\\bin\\bash.exe`),
    s
  );
}
async function fJ() {
  const t = [];
  for await (const e of r8()) t.push(e.exePath);
  return t;
}
async function pJ(t, e) {
  const i = [],
    s = await new Promise((o, a) => {
      nJ.exec('wsl.exe -l -q', { encoding: 'utf16le', timeout: 1e3 }, (c, l) => {
        if (c) return a('Problem occurred when getting wsl distros');
        o(l);
      });
    });
  if (!s) return [];
  const r = new RegExp(/[\r?\n]/),
    n = s.split(r).filter((o) => o.trim().length > 0 && o !== '');
  for (const o of n) {
    if (o === '' || o.startsWith('docker-desktop')) continue;
    const a = `${o} (WSL)`,
      c = {
        profileName: a,
        path: t,
        args: ['-d', `${o}`],
        isDefault: a === e,
        icon: gJ(o),
        isAutoDetected: !1,
      };
    i.push(c);
  }
  return i;
}
function gJ(t) {
  return t.includes('Ubuntu')
    ? es.terminalUbuntu
    : t.includes('Debian')
    ? es.terminalDebian
    : es.terminalLinux;
}
async function mJ(t, e, i, s, r, n, o, a) {
  const c = new Map();
  if (i && (await t.existsFile('/etc/shells'))) {
    const l = (await t.readFile('/etc/shells')).toString(),
      h = (
        n ||
        l.split(`
`)
      )
        .map((p) => {
          const m = p.indexOf('#');
          return m === -1 ? p : p.substring(0, m);
        })
        .filter((p) => p.trim().length > 0),
      d = new Map();
    for (const p of h) {
      let m = ct(p),
        w = d.get(m) || 0;
      w++, w > 1 && (m = `${m} (${w})`), d.set(m, w), c.set(m, { path: p, isAutoDetected: !0 });
    }
  }
  return ZC(s, c), await YC(c.entries(), r, t, a, e, o);
}
function ZC(t, e) {
  if (t)
    for (const [i, s] of Object.entries(t))
      s === null || typeof s != 'object' || (!('path' in s) && !('source' in s))
        ? e.delete(i)
        : ((s.icon = s.icon || e.get(i)?.icon), e.set(i, s));
}
async function b1(t, e, i, s, r, n, o, a, c, l) {
  if (i.length === 0) return Promise.resolve(void 0);
  const h = i.shift();
  if (h === '') return b1(t, e, i, s, r, n, o, a, c);
  const d = typeof h != 'string' && h.isUnsafe,
    p = typeof h == 'string' ? h : h.path,
    m = {
      profileName: t,
      path: p,
      args: n,
      env: o,
      overrideName: a,
      isAutoDetected: c,
      isDefault: t === e,
      isUnsafePath: d,
      requiresUnsafePath: l,
    };
  if (ct(p) === p) {
    const v = r.PATH ? r.PATH.split(ud) : void 0,
      k = await hw(p, void 0, v, void 0, s.existsFile);
    return k ? ((m.path = k), (m.isFromPath = !0), m) : b1(t, e, i, s, r, n);
  }
  return (await s.existsFile(_i(p))) ? m : b1(t, e, i, s, r, n, o, a, c);
}
var eD,
  hh,
  Rv,
  wJ = b({
    'out-build/vs/platform/terminal/node/terminalProfiles.js'() {
      'use strict';
      Cu(),
        xe(),
        ie(),
        $f(),
        $e(),
        Zt(),
        c8(),
        sJ(),
        (function (t) {
          t.UnixShellsPath = '/etc/shells';
        })(eD || (eD = {})),
        (Rv = !0);
    },
  }),
  dh,
  v1,
  bJ = b({
    'out-build/vs/platform/terminal/node/ptyHostService.js'() {
      'use strict';
      X(),
        U(),
        ie(),
        Zr(),
        Ge(),
        se(),
        HK(),
        fw(),
        zK(),
        VC(),
        YK(),
        wJ(),
        d8(),
        Hr(),
        (function (t) {
          (t[(t.MaxRestarts = 5)] = 'MaxRestarts'),
            (t[(t.RestartTimeout = 5e3)] = 'RestartTimeout');
        })(dh || (dh = {})),
        (v1 = class extends H {
          get c() {
            return this.h(), this.a;
          }
          get f() {
            return this.h(), this.b;
          }
          get g() {
            return this.b;
          }
          h() {
            this.a || this.W();
          }
          constructor(e, i, s, r) {
            super(),
              (this.N = e),
              (this.O = i),
              (this.P = s),
              (this.Q = r),
              (this.m = !1),
              (this.n = 0),
              (this.r = !0),
              (this.w = this.B(new $())),
              (this.onPtyHostExit = this.w.event),
              (this.y = this.B(new $())),
              (this.onPtyHostStart = this.y.event),
              (this.z = this.B(new $())),
              (this.onPtyHostUnresponsive = this.z.event),
              (this.C = this.B(new $())),
              (this.onPtyHostResponsive = this.C.event),
              (this.D = this.B(new $())),
              (this.onPtyHostRequestResolveVariables = this.D.event),
              (this.F = this.B(new $())),
              (this.onProcessData = this.F.event),
              (this.G = this.B(new $())),
              (this.onProcessReady = this.G.event),
              (this.H = this.B(new $())),
              (this.onProcessReplay = this.H.event),
              (this.I = this.B(new $())),
              (this.onProcessOrphanQuestion = this.I.event),
              (this.J = this.B(new $())),
              (this.onDidRequestDetach = this.J.event),
              (this.L = this.B(new $())),
              (this.onDidChangeProperty = this.L.event),
              (this.M = this.B(new $())),
              (this.onProcessExit = this.M.event),
              JK(),
              this.B(this.N),
              this.B(_e(() => this.X())),
              (this.j = this.B(new g1(void 0, this.P))),
              this.B(this.j.onCreateRequest(this.D.fire, this.D)),
              this.N.onRequestConnection &&
                this.B(P.once(this.N.onRequestConnection)(() => this.h())),
              this.N.onWillShutdown && this.B(this.N.onWillShutdown(() => (this.m = !0)));
          }
          get R() {
            return this.O.getValue('terminal.integrated.ignoreProcessNames');
          }
          async S() {
            return this.g?.refreshIgnoreProcessNames?.(this.R);
          }
          async U() {
            if (J) return process.env;
            try {
              return await dw(this.O, this.P, { _: [] }, process.env);
            } catch (e) {
              return this.P.error('ptyHost was unable to resolve shell environment', e), {};
            }
          }
          W() {
            this.u && clearTimeout(this.u);
            const e = this.N.start(),
              i = e.client;
            this.P.getLevel() === ce.Trace &&
              this.P.trace(
                'PtyHostService#_startPtyHost',
                new Error().stack?.replace(/^Error/, '')
              ),
              Qe.toService(i.getChannel(Pc.Heartbeat)).onBeat(() => this.Y()),
              this.Y(!0),
              this.B(
                e.onDidProcessExit((n) => {
                  this.w.fire(n.code),
                    !this.m &&
                      !this.q.isDisposed &&
                      (this.n <= dh.MaxRestarts
                        ? (this.P.error(`ptyHost terminated unexpectedly with code ${n.code}`),
                          this.n++,
                          this.restartPtyHost())
                        : (this.P.error(
                            `ptyHost terminated unexpectedly with code ${n.code}, will restart in ${dh.RestartTimeout}ms`
                          ),
                          (this.u = setTimeout(() => {
                            this.restartPtyHost();
                          }, dh.RestartTimeout))));
                })
              );
            const r = Qe.toService(i.getChannel(Pc.PtyHost));
            return (
              this.B(r.onProcessData((n) => this.F.fire(n))),
              this.B(r.onProcessReady((n) => this.G.fire(n))),
              this.B(r.onProcessExit((n) => this.M.fire(n))),
              this.B(r.onDidChangeProperty((n) => this.L.fire(n))),
              this.B(r.onProcessReplay((n) => this.H.fire(n))),
              this.B(r.onProcessOrphanQuestion((n) => this.I.fire(n))),
              this.B(r.onDidRequestDetach((n) => this.J.fire(n))),
              this.B(new GC(this.Q, i.getChannel(Pc.Logger))),
              (this.a = e),
              (this.b = r),
              this.y.fire(),
              this.B(
                this.O.onDidChangeConfiguration(async (n) => {
                  n.affectsConfiguration('terminal.integrated.ignoreProcessNames') &&
                    (await this.S());
                })
              ),
              this.S(),
              [e, r]
            );
          }
          async createProcess(e, i, s, r, n, o, a, c, l, h, d) {
            const p = setTimeout(() => this.ab(), ts.CreateProcessTimeout),
              m = await this.f.createProcess(e, i, s, r, n, o, a, c, l, h, d);
            return clearTimeout(p), m;
          }
          updateTitle(e, i, s) {
            return this.f.updateTitle(e, i, s);
          }
          updateIcon(e, i, s, r) {
            return this.f.updateIcon(e, i, s, r);
          }
          attachToProcess(e) {
            return this.f.attachToProcess(e);
          }
          detachFromProcess(e, i) {
            return this.f.detachFromProcess(e, i);
          }
          shutdownAll() {
            return this.f.shutdownAll();
          }
          listProcesses() {
            return this.f.listProcesses();
          }
          async getPerformanceMarks() {
            return this.g?.getPerformanceMarks() ?? [];
          }
          async reduceConnectionGraceTime() {
            return this.g?.reduceConnectionGraceTime();
          }
          start(e) {
            return this.f.start(e);
          }
          shutdown(e, i) {
            return this.f.shutdown(e, i);
          }
          input(e, i) {
            return this.f.input(e, i);
          }
          processBinary(e, i) {
            return this.f.processBinary(e, i);
          }
          resize(e, i, s) {
            return this.f.resize(e, i, s);
          }
          clearBuffer(e) {
            return this.f.clearBuffer(e);
          }
          acknowledgeDataEvent(e, i) {
            return this.f.acknowledgeDataEvent(e, i);
          }
          setUnicodeVersion(e, i) {
            return this.f.setUnicodeVersion(e, i);
          }
          getInitialCwd(e) {
            return this.f.getInitialCwd(e);
          }
          getCwd(e) {
            return this.f.getCwd(e);
          }
          async getLatency() {
            const e = new gr(),
              i = await this.f.getLatency();
            return e.stop(), [{ label: 'ptyhostservice<->ptyhost', latency: e.elapsed() }, ...i];
          }
          orphanQuestionReply(e) {
            return this.f.orphanQuestionReply(e);
          }
          installAutoReply(e, i) {
            return this.f.installAutoReply(e, i);
          }
          uninstallAllAutoReplies() {
            return this.f.uninstallAllAutoReplies();
          }
          getDefaultSystemShell(e) {
            return this.g?.getDefaultSystemShell(e) ?? h8(e ?? ws, process.env);
          }
          async getProfiles(e, i, s, r = !1) {
            const n = await this.U();
            return cJ(i, s, r, this.O, n, void 0, this.P, this.cb.bind(this, e));
          }
          async getEnvironment() {
            return this.b ? this.f.getEnvironment() : { ...process.env };
          }
          getWslPath(e, i) {
            return this.f.getWslPath(e, i);
          }
          getRevivedPtyNewId(e, i) {
            return this.f.getRevivedPtyNewId(e, i);
          }
          setTerminalLayoutInfo(e) {
            return this.f.setTerminalLayoutInfo(e);
          }
          async getTerminalLayoutInfo(e) {
            return this.g?.getTerminalLayoutInfo(e);
          }
          async requestDetachInstance(e, i) {
            return this.f.requestDetachInstance(e, i);
          }
          async acceptDetachInstanceReply(e, i) {
            return this.f.acceptDetachInstanceReply(e, i);
          }
          async freePortKillProcess(e) {
            if (!this.f.freePortKillProcess)
              throw new Error('freePortKillProcess does not exist on the pty proxy');
            return this.f.freePortKillProcess(e);
          }
          async serializeTerminalState(e) {
            return this.f.serializeTerminalState(e);
          }
          async reviveTerminalProcesses(e, i, s) {
            return this.f.reviveTerminalProcesses(e, i, s);
          }
          async refreshProperty(e, i) {
            return this.f.refreshProperty(e, i);
          }
          async updateProperty(e, i, s) {
            return this.f.updateProperty(e, i, s);
          }
          async restartPtyHost() {
            this.X(), (this.r = !0), this.W();
          }
          X() {
            this.f.shutdownAll(), this.c.store.dispose();
          }
          Y(e) {
            this.bb(),
              (this.s = setTimeout(
                () => this.Z(),
                e ? ts.ConnectingBeatInterval : ts.BeatInterval * ts.FirstWaitMultiplier
              )),
              this.r || ((this.r = !0), this.C.fire());
          }
          Z() {
            this.P.warn(
              `No ptyHost heartbeat after ${
                (ts.BeatInterval * ts.FirstWaitMultiplier) / 1e3
              } seconds`
            ),
              (this.s = void 0),
              (this.t = setTimeout(() => this.$(), ts.BeatInterval * ts.SecondWaitMultiplier));
          }
          $() {
            this.P.error(
              `No ptyHost heartbeat after ${
                (ts.BeatInterval * ts.FirstWaitMultiplier +
                  ts.BeatInterval * ts.FirstWaitMultiplier) /
                1e3
              } seconds`
            ),
              (this.t = void 0),
              this.r && ((this.r = !1), this.z.fire());
          }
          ab() {
            this.bb(),
              this.P.error(
                `No ptyHost response to createProcess after ${
                  ts.CreateProcessTimeout / 1e3
                } seconds`
              ),
              this.r && ((this.r = !1), this.z.fire());
          }
          bb() {
            this.s && (clearTimeout(this.s), (this.s = void 0)),
              this.t && (clearTimeout(this.t), (this.t = void 0));
          }
          cb(e, i) {
            return this.j.createRequest({ workspaceId: e, originalText: i });
          }
          async acceptPtyHostResolvedVariables(e, i) {
            this.j.acceptReply(e, i);
          }
        }),
        (v1 = __decorate([__param(1, Ve), __param(2, ee), __param(3, Po)], v1));
    },
  }),
  Nv,
  tD,
  iD,
  vJ = b({
    'out-build/vs/platform/remote/common/electronRemoteResources.js'() {
      'use strict';
      (Nv = 'request'),
        (tD = 'remoteResourceHandler'),
        (iD = class {
          async routeCall(t, e, i) {
            if (e !== Nv) throw new Error(`Call not found: ${e}`);
            const s = i[0];
            if (s?.authority) {
              const r = t.connections.find((n) => n.ctx === s.authority);
              if (r) return r;
            }
            throw new Error('Caller not found');
          }
          routeEvent(t, e) {
            throw new Error(`Event not found: ${e}`);
          }
        });
    },
  });
import { BrowserWindow as yJ } from 'electron';
var y1,
  kJ = b({
    'out-build/vs/platform/auxiliaryWindow/electron-main/auxiliaryWindow.js'() {
      'use strict';
      ie(),
        Ge(),
        vt(),
        St(),
        se(),
        Pt(),
        Jn(),
        aC(),
        (y1 = class extends Dv {
          get win() {
            return super.win || this.tryClaimWindow(), super.win;
          }
          constructor(e, i, s, r, n, o) {
            super(r, n, i, s),
              (this.N = e),
              (this.O = o),
              (this.id = this.N.id),
              (this.parentId = -1),
              (this.M = !1),
              this.tryClaimWindow();
          }
          tryClaimWindow(e) {
            this.q.isDisposed ||
              this.N.isDestroyed() ||
              (this.P(e),
              e &&
                !this.M &&
                ((this.M = !0),
                this.w({
                  x: e.x,
                  y: e.y,
                  width: e.width,
                  height: e.height,
                  mode: e.show === !1 ? 0 : 1,
                })));
          }
          P(e) {
            if (this.m) return;
            const i = yJ.fromWebContents(this.N);
            i &&
              (process.env.VSCODE_DEV && i.webContents.openDevTools(),
              this.u.trace('[aux window] Claimed browser window instance'),
              this.n(i, e),
              i.setMenu(null),
              (J || Fe) &&
                Ro(this.r, e?.titleBarStyle === 'hidden' ? 'custom' : void 0) &&
                i.setAutoHideMenuBar(!0),
              this.O.registerAuxWindow(this));
          }
          matches(e) {
            return this.N.id === e.id;
          }
        }),
        (y1 = __decorate(
          [__param(1, dt), __param(2, ee), __param(3, Ve), __param(4, kt), __param(5, st)],
          y1
        ));
    },
  });
import { BrowserWindow as SJ, app as EJ } from 'electron';
var k1,
  CJ = b({
    'out-build/vs/platform/auxiliaryWindow/electron-main/auxiliaryWindowsMainService.js'() {
      'use strict';
      X(),
        U(),
        Oe(),
        Ei(),
        kJ(),
        K(),
        se(),
        Xa(),
        qt(),
        (k1 = class extends H {
          constructor(e, i) {
            super(),
              (this.h = e),
              (this.j = i),
              (this.a = this.B(new $())),
              (this.onDidMaximizeWindow = this.a.event),
              (this.b = this.B(new $())),
              (this.onDidUnmaximizeWindow = this.b.event),
              (this.c = this.B(new $())),
              (this.onDidChangeFullScreen = this.c.event),
              (this.f = this.B(new $())),
              (this.onDidTriggerSystemContextMenu = this.f.event),
              (this.g = new Map()),
              this.m();
          }
          m() {
            EJ.on('browser-window-created', (e, i) => {
              const s = this.getWindowByWebContents(i.webContents);
              if (s)
                this.j.trace(
                  '[aux window] app.on("browser-window-created"): Trying to claim auxiliary window'
                ),
                  s.tryClaimWindow();
              else {
                const r = new je();
                r.add(
                  P.fromNodeEventEmitter(i.webContents, 'did-create-window', (n, o) => ({
                    browserWindow: n,
                    details: o,
                  }))(({ browserWindow: n, details: o }) => {
                    const a = this.getWindowByWebContents(n.webContents);
                    a &&
                      (this.j.trace(
                        '[aux window] window.on("did-create-window"): Trying to claim auxiliary window'
                      ),
                      a.tryClaimWindow(o.options));
                  })
                ),
                  r.add(P.fromNodeEventEmitter(i, 'closed')(() => r.dispose()));
              }
            }),
              de.handle('vscode:registerAuxiliaryWindow', async (e, i) => {
                const s = this.getWindowByWebContents(e.sender);
                return (
                  s &&
                    (this.j.trace(
                      '[aux window] vscode:registerAuxiliaryWindow: Registering auxiliary window to main window'
                    ),
                    (s.parentId = i)),
                  e.sender.id
                );
              });
          }
          createWindow(e) {
            const { state: i, overrides: s } = this.n(e);
            return this.h.invokeFunction(hf, i, s, {
              preload: Ht.asFileUri('vs/base/parts/sandbox/electron-sandbox/preload-aux.js').fsPath,
            });
          }
          n(e) {
            const i = {},
              s = {},
              r = e.features.split(',');
            for (const o of r) {
              const [a, c] = o.split('=');
              switch (a) {
                case 'width':
                  i.width = parseInt(c, 10);
                  break;
                case 'height':
                  i.height = parseInt(c, 10);
                  break;
                case 'left':
                  i.x = parseInt(c, 10);
                  break;
                case 'top':
                  i.y = parseInt(c, 10);
                  break;
                case 'window-maximized':
                  i.mode = 0;
                  break;
                case 'window-fullscreen':
                  i.mode = 3;
                  break;
                case 'window-disable-fullscreen':
                  s.disableFullscreen = !0;
                  break;
                case 'window-native-titlebar':
                  s.forceNativeTitlebar = !0;
                  break;
              }
            }
            const n = df.validateWindowState(this.j, i) ?? w9();
            return this.j.trace('[aux window] using window state', n), { state: n, overrides: s };
          }
          registerWindow(e) {
            const i = new je(),
              s = this.h.createInstance(y1, e);
            this.g.set(s.id, s),
              i.add(_e(() => this.g.delete(s.id))),
              i.add(s.onDidMaximize(() => this.a.fire(s))),
              i.add(s.onDidUnmaximize(() => this.b.fire(s))),
              i.add(s.onDidEnterFullScreen(() => this.c.fire({ window: s, fullscreen: !0 }))),
              i.add(s.onDidLeaveFullScreen(() => this.c.fire({ window: s, fullscreen: !1 }))),
              i.add(
                s.onDidTriggerSystemContextMenu(({ x: r, y: n }) =>
                  this.f.fire({ window: s, x: r, y: n })
                )
              ),
              P.once(s.onDidClose)(() => i.dispose());
          }
          getWindowByWebContents(e) {
            const i = this.g.get(e.id);
            return i?.matches(e) ? i : void 0;
          }
          getFocusedWindow() {
            const e = SJ.getFocusedWindow();
            if (e) return this.getWindowByWebContents(e.webContents);
          }
          getLastActiveWindow() {
            return k9(Array.from(this.g.values()));
          }
          getWindows() {
            return Array.from(this.g.values());
          }
        }),
        (k1 = __decorate([__param(0, Ks), __param(1, ee)], k1));
    },
  });
import * as oa from 'os';
function sD() {
  const t = {
      release: oa.release(),
      hostname: oa.hostname(),
      memory: oa.totalmem(),
      cpu: oa.cpus().map((d) => d.model),
    },
    e = oa.totalmem(),
    i = oa.freemem(),
    r = `${((e - i) / e) * 100}%`,
    n = oa.cpus(),
    o = n.reduce((d, p) => d + p.times.idle, 0),
    a = n.reduce((d, p) => d + Object.values(p.times).reduce((m, w) => m + w, 0), 0),
    c = o / n.length,
    l = a / n.length,
    h = `${(1 - c / l) * 100}%`;
  return { ...t, memoryUsagePercentage: r, usage: h };
}
var rD = b({
  'out-build/vs/platform/telemetry/common/system.js'() {
    'use strict';
  },
});
import { crashReporter as cr } from 'electron';
var S1,
  DJ = b({
    'out-build/vs/platform/crash/electron-main/crash.js'() {
      'use strict';
      U(),
        or(),
        Gt(),
        rD(),
        pc(),
        (S1 = class extends H {
          constructor(e, i, s) {
            super(), (this.a = e), (this.b = i), (this.c = s), this.f();
          }
          f() {
            cr.addExtraParameter('arch', process.arch),
              cr.addExtraParameter('platform', process.platform),
              cr.addExtraParameter('system_params', JSON.stringify(sD())),
              cr.addExtraParameter('user_id', this.a.userInfo?.userId || this.c.machineId),
              cr.addExtraParameter('email', this.a.userInfo?.account.email || ''),
              cr.addExtraParameter('tenant', this.a.nativeAppMetadata.appTenant || ''),
              this.b.getRegion().then((e) => {
                cr.addExtraParameter('region', e);
              }),
              this.B(
                this.a.onDidChangeUserInfo((e) => {
                  cr.addExtraParameter('user_id', e?.userId || this.c.machineId),
                    cr.addExtraParameter('email', e?.account.email || '');
                })
              ),
              this.B(
                this.a.onDidChangeAppMetadata((e) => {
                  cr.addExtraParameter('tenant', e.appTenant || ''),
                    cr.addExtraParameter('region', e.appRegion || '');
                })
              );
          }
        }),
        (S1 = __decorate([__param(0, fs), __param(1, dn), __param(2, Vt)], S1));
    },
  }),
  Fs,
  Bv,
  E1 = b({
    'out-build/vs/platform/iCubeVSImportService/common/iCubeVSImportService.js'() {
      'use strict';
      K(),
        (function (t) {
          (t.VSCode = 'VSCode'), (t.Cursor = 'Cursor');
        })(Fs || (Fs = {})),
        (Bv = W('iCubeVSImportService'));
    },
  }),
  nD,
  xJ = b({
    'out-build/vs/platform/iCubeVSImportService/electron-main/iCubeVSImportChannel.js'() {
      'use strict';
      X(),
        E1(),
        (nD = class {
          constructor(t) {
            (this.a = t), (this._onEvent = new $());
          }
          listen(t, e) {
            return P.map(this._onEvent.event, (i) => ((i.called = e), i));
          }
          async call(t, e, i) {
            switch (e) {
              case 'importFromVS':
                await this.a.importFromVS(i.enterFrom, i.source);
                return;
              case 'checkVSCode':
                return this.a.checkVSCode(i.source || Fs.VSCode);
              case 'getVSCodeImportData':
                return this.a.getVSCodeImportData();
              case 'checkDetail':
                return this.a.checkDetail(i.source || Fs.VSCode);
              case 'setDetail':
                if (i.detail) return this.a.setDetail(i.detail, i.source || Fs.VSCode);
                throw new Error('Args not found: detail');
              case 'exportUserData':
                await this.a.exportUserData(i.dir, i.fileName, i.userAvatar, i.userName);
                return;
            }
            throw new Error(`Call not found: ${e}`);
          }
        });
    },
  }),
  oD,
  aD,
  cD,
  lD,
  uD,
  AJ = b({
    'out-build/vs/platform/iCubeVSImportService/electron-main/constants.js'() {
      'use strict';
      (oD = [
        'workbench.sideBar.location',
        'workbench.activityBar.location',
        'workbench.editor.centeredLayoutAutoResize',
        'workbench.editor.centeredLayoutFixedWidth',
        'workbench.panel.defaultLocation',
        'workbench.editor.showTabs',
        'editor.minimap.enabled',
        'breadcrumbs.enabled',
        'window.zoomLevel',
      ]),
        (aD = [
          'workbench.colorTheme',
          'workbench.preferredDarkColorTheme',
          'workbench.preferredLightColorTheme',
          'workbench.preferredHighContrastColorTheme',
          'workbench.preferredHighContrastLightColorTheme',
          'workbench.iconTheme',
          'workbench.productIconTheme',
          'workbench.colorCustomizations',
        ]),
        (cD = [
          'http.proxy',
          'http.proxyKerberosServicePrincipal',
          'http.noProxy',
          'http.proxyAuthorization',
          'http.proxyStrictSSL',
          'http.proxySupport',
          'http.useLocalProxyConfiguration',
        ]),
        (lD = ['update.mode', 'window.dialogStyle']),
        (uD = [...oD, ...aD, ...cD, ...lD]);
    },
  }),
  Uv,
  hD,
  IJ = b({
    'out-build/vs/platform/iCubeVSImportService/common/constants.js'() {
      'use strict';
      (Uv = ['byted-cannycoder.cannycoder', 'marscode.marscode-extension']),
        (hD = ['byted-ide.gallery', 'vue.volar']);
    },
  }),
  dD,
  jv,
  $J = b({
    'out-build/vs/platform/commands/common/commands.js'() {
      'use strict';
      X(),
        el(),
        U(),
        p0(),
        $e(),
        K(),
        (dD = W('commandService')),
        (jv = new (class {
          constructor() {
            (this.a = new Map()),
              (this.b = new Map()),
              (this.c = new $()),
              (this.onDidRegisterCommand = this.c.event);
          }
          registerCommand(t, e) {
            if (!t) throw new Error('invalid command');
            const i = new je(),
              s = (a, c) => (this.b.set(a, c), _e(() => this.b.delete(a)));
            if (typeof t == 'string') {
              if (!e) throw new Error('invalid command');
              return i.add(this.registerCommand({ id: t, handler: e })), i.add(s(t, i)), i;
            }
            if (t.metadata && Array.isArray(t.metadata.args)) {
              const a = [];
              for (const l of t.metadata.args) a.push(l.constraint);
              const c = t.handler;
              t.handler = function (l, ...h) {
                return s$(h, a), c(l, ...h);
              };
            }
            const { id: r } = t;
            let n = this.a.get(r);
            n || ((n = new rd()), this.a.set(r, n));
            const o = n.unshift(t);
            return (
              i.add(
                _e(() => {
                  o(), this.a.get(r)?.isEmpty() && this.a.delete(r);
                })
              ),
              this.c.fire(r),
              i.add(s(r, i)),
              B$(i)
            );
          }
          registerCommandAlias(t, e) {
            return jv.registerCommand(t, (i, ...s) => i.get(dD).executeCommand(e, ...s));
          }
          unregisterCommand(t) {
            const e = typeof t == 'string' ? t : t.id,
              i = this.b.get(e);
            i && i.dispose();
          }
          getCommand(t) {
            const e = this.a.get(t);
            if (!(!e || e.isEmpty())) return An.first(e);
          }
          getCommands() {
            const t = new Map();
            for (const e of this.a.keys()) {
              const i = this.getCommand(e);
              i && t.set(e, i);
            }
            return t;
          }
        })()),
        jv.registerCommand('noop', () => {});
    },
  }),
  Wv,
  fD = b({
    'out-build/vs/platform/iCubeTeaService/common/tea.js'() {
      'use strict';
      $J(), K(), (Wv = W('iCubeTeaService'));
    },
  });
import { createWriteStream as PJ, promises as pD } from 'fs';
async function _J(t, e) {
  const { ZipFile: i } = await import('yazl');
  return new Promise((s, r) => {
    const n = new i();
    e.forEach((a) => {
      a.contents
        ? n.addBuffer(
            typeof a.contents == 'string' ? Buffer.from(a.contents, 'utf8') : a.contents,
            a.path
          )
        : a.localPath && n.addFile(a.localPath, a.path);
    }),
      n.end();
    const o = PJ(t);
    n.outputStream.pipe(o),
      n.outputStream.once('error', r),
      o.once('error', r),
      o.once('finish', () => s(t));
  });
}
async function LJ(t) {
  const e = async (s) => {
    let r = await pD.readdir(s);
    r = r.map((a) => M(s, a));
    const n = await Promise.all(r.map((a) => pD.stat(a)));
    let o = Promise.resolve([]);
    return (
      n.forEach((a, c) => {
        const l = r[c];
        a.isFile() && (o = o.then((h) => [...h, l])),
          a.isDirectory() && (o = o.then((h) => e(l).then((d) => [...h, ...d])));
      }),
      o
    );
  };
  return (await e(t)).map((s) => ({ path: k0(t, s), localPath: s }));
}
async function TJ(t, e) {
  const i = await LJ(t);
  await _J(e, i);
}
var gD,
  MJ,
  FJ = b({
    'out-build/vs/base/node/zip.js'() {
      'use strict';
      le(),
        xe(),
        $e(),
        Zt(),
        he(),
        (gD = 'end of central directory record signature not found'),
        (MJ = new RegExp(gD));
    },
  });
import * as Hv from 'os';
import * as We from 'fs';
import * as fh from 'path';
import OJ from 'axios';
import 'child_process';
var C1,
  ph,
  zv,
  D1,
  RJ = b({
    'out-build/vs/platform/iCubeVSImportService/electron-main/iCubeVSImportService.js'() {
      'use strict';
      E1(),
        yC(),
        Ze(),
        ni(),
        vt(),
        Ys(),
        qi(),
        xe(),
        AJ(),
        se(),
        Pt(),
        Oe(),
        IJ(),
        ie(),
        wi(),
        fD(),
        FJ(),
        be(),
        (function (t) {
          (t.Mac = 'Mac'), (t.Windows = 'Windows');
        })(C1 || (C1 = {})),
        (ph = {
          [Fs.VSCode]: {
            dir: '/Code/User',
            userDir: '/Code/User',
            extensionsDir: M(Hv.homedir(), '.vscode', 'extensions'),
            resultKey: 'iCubeVSImportResult',
          },
          [Fs.Cursor]: {
            dir: '/Cursor/User',
            userDir: '/Cursor/User',
            extensionsDir: M(Hv.homedir(), '.cursor', 'extensions'),
            resultKey: 'iCubeCursorImportResult',
          },
        }),
        (zv = `${process.platform}-${process.arch}`),
        (D1 = class {
          constructor(e, i, s, r, n) {
            (this.g = e),
              (this.h = i),
              (this.j = s),
              (this.k = r),
              (this.l = n),
              (this.c = Q ? C1.Mac : C1.Windows),
              (this.f = []),
              (this.d = M(this.h.userHome.fsPath, this.g.dataFolderName, 'extensions')),
              (this.e = fh.join(this.h.userDataPath, '..'));
          }
          collectEvent(e, i) {
            this.l.report(e, i || {});
          }
          m(e) {
            return fh.join(this.e, ph[e].dir);
          }
          n(e) {
            return fh.join(this.e, ph[e].userDir);
          }
          o(e) {
            return ph[e].extensionsDir;
          }
          p(e) {
            return ph[e].resultKey;
          }
          async q(e) {
            const i = M(this.h.userDataPath, 'User', 'settings.json');
            if (await this.isFileExist(i)) {
              const r = M(e, 'user_ide_setting');
              await We.promises.mkdir(r), await We.promises.copyFile(i, M(r, 'settings.json'));
            }
          }
          async r(e) {
            const i = M(this.h.userDataPath, 'ModularData', 'ai-agent', 'database.db');
            if (await this.isFileExist(i)) {
              const r = M(e, 'user_builder_data');
              await We.promises.mkdir(r), await We.promises.copyFile(i, M(r, 'database.db'));
            }
          }
          async s(e) {
            const i = M(this.h.userDataPath, 'User', 'workspaceStorage');
            if (!(await this.isFileExist(i))) return;
            const r = await We.promises.readdir(i);
            for (const n of r) {
              const o = M(i, n);
              if (!(await We.promises.stat(o)).isDirectory()) continue;
              const c = M(o, 'state.vscdb');
              if (!(await this.isFileExist(c))) continue;
              const h = M(e, 'user_chat_data', n);
              await We.promises.mkdir(h, { recursive: !0 }),
                await We.promises.copyFile(c, M(h, 'data.vscdb'));
              const d = M(o, 'images');
              (await this.isFileExist(d)) &&
                (await We.promises.cp(d, M(h, 'images'), { recursive: !0 }));
            }
          }
          async t(e, i, s) {
            e &&
              (await new Promise((r, n) => {
                try {
                  OJ.get(e, { responseType: 'stream', timeout: 5e3 })
                    .then(async (o) => {
                      if (o.status !== 200) {
                        const m = new Error(
                          `Network: Failed to fetch user avatar: ${e} ${o.status} ${o.statusText}`
                        );
                        n(m);
                        return;
                      }
                      let a = '';
                      const c = (o.headers['content-type'] || '').toLowerCase(),
                        l = {
                          'image/png': '.png',
                          'image/gif': '.gif',
                          'image/jpeg': '.jpeg',
                          'image/svg+xml': '.svg',
                          'image/vnd.microsoft.icon': '.ico',
                          'image/webp': '.webp',
                          'image/x-icon': '.ico',
                          'image/x-jng': '.jng',
                          'image/x-ms-bmp': '.bmp',
                        };
                      c && l[c] && (a = l[c]);
                      const h = M(s, 'user_avatar');
                      await We.promises.mkdir(h);
                      const d = M(h, `${i}_avatar${a}`),
                        p = We.createWriteStream(d);
                      o.data.pipe(p),
                        p.on('finish', () => {
                          r(void 0);
                        }),
                        p.on('error', (m) => {
                          (m.message = `Network: ${m.message}`), n(m);
                        }),
                        o.data.on('error', (m) => {
                          (m.message = `Network: ${m.message}`), n(m);
                        });
                    })
                    .catch((o) => {
                      (o.message = `Network: ${o.message}`), n(o);
                    });
                } catch (o) {
                  (o.message = `Network: ${o.message}`), n(o);
                }
              }));
          }
          async exportUserData(e, i, s, r) {
            const n = vl(M(Hv.tmpdir(), 'trae', 'export_user_data'));
            try {
              await We.promises.mkdir(n, { recursive: !0 }),
                await Promise.all([this.t(s, r, n), this.q(n), this.r(n), this.s(n)]),
                await TJ(n, M(e, i));
            } catch (o) {
              throw (this.j.error(`exportUserData error: ${o}`), o);
            } finally {
              await We.promises.rm(n, { recursive: !0 });
            }
          }
          async getVSCodeImportData() {
            const e = this.k.getItem('__import__vscode__extensions', ''),
              i = this.k.getItem('__import__vscode__extensions_flag', '');
            return { list: e, flag: i };
          }
          async importFromVS(e, i) {
            const s = i || Fs.VSCode;
            this.collectEvent('icube_vs_import_start', { enter_from: e || 'unknown', source: i });
            const r = Date.now(),
              n = (o) => {
                this.collectEvent('icube_vs_import_result', {
                  enter_from: e || 'unknown',
                  source: s,
                  duration: Date.now() - r,
                  extension_result_list: '[]',
                  success_extension_count: 0,
                  error_extension_count: 0,
                  skip_extension_count: 0,
                  total_extension_count: 0,
                  is_success: !1,
                  message: '',
                  ...o,
                });
              };
            try {
              await Promise.all([this.v(s), this.w(s), this.A(s), this.x(s)]),
                this.checkDetail(s).then((o) => {
                  const a = o?.extension?.extensionList;
                  a || n({ is_success: !1, message: 'no result', extension_list: '[]' });
                  let c = 0,
                    l = 0,
                    h = 0,
                    d = 0;
                  for (const p of a)
                    p.status === 'success'
                      ? (c++, (d += 1))
                      : p.status === 'skip' && p.skipType === 'Theme Extension'
                      ? ((h += 1), (d += 1))
                      : p.status === 'error' && ((l += 1), (d += 1));
                  n({
                    extension_result_list: JSON.stringify(
                      o?.extension?.extensionList?.map(
                        (p) => `${p.name}-${p.version}-${p.status}`
                      ) || []
                    ),
                    success_extension_count: c,
                    error_extension_count: l,
                    skip_extension_count: h,
                    total_extension_count: d,
                    is_success: !0,
                  });
                }),
                await new Promise((o) => {
                  setTimeout(() => {
                    o('success');
                  }, 1e3);
                });
            } catch (o) {
              console.log(o), n({ is_success: !1, message: o.message, extension_list: '[]' });
            }
          }
          async isFileExist(e) {
            try {
              return await We.promises.stat(e), !0;
            } catch {
              return !1;
            }
          }
          async checkVSCode(e) {
            const i = this.m(e);
            return this.isFileExist(i);
          }
          async checkDetail(e) {
            const i = this.p(e);
            return this.k.getItem(i);
          }
          async setDetail(e, i) {
            const s = this.p(i);
            this.k.setItem(s, e);
          }
          u(e) {
            if (!e) return e;
            const i = [['python.languageServer', 'Pylance']];
            for (const [s, r] of i) e[s] === r && delete e[s];
            return e;
          }
          async v(e) {
            const i = this.n(e),
              s = M(i, 'settings.json'),
              r = M(this.h.userDataPath, 'User', 'settings.json');
            if (!We.existsSync(s)) return;
            let n = {},
              o = {};
            try {
              n = Ar(await We.promises.readFile(s, 'utf-8'));
            } catch {
              n = {};
            }
            for (const c of uD) delete n[c];
            try {
              o = Ar(await We.promises.readFile(r, 'utf-8'));
            } catch {
              o = {};
            }
            const a = this.u({ ...o, ...n });
            await We.promises.writeFile(
              M(this.h.userDataPath, 'User', 'settings.json'),
              JSON.stringify(a, null, 2)
            );
          }
          async w(e) {
            const i = this.n(e),
              s = M(i, 'keybindings.json');
            We.existsSync(s) &&
              (await We.promises.cp(s, M(this.h.userDataPath, 'User', 'keybindings.json')));
          }
          async x(e) {
            const i = this.n(e),
              s = M(i, 'snippets');
            if (!We.existsSync(s) || !We.statSync(s).isDirectory()) return;
            const n = We.readdirSync(s);
            for (const o of n) {
              const a = fh.extname(o);
              (a !== '.json' && a !== '.code-snippets') ||
                !We.statSync(M(s, o)).isFile() ||
                (await We.promises.cp(M(s, o), M(this.h.userDataPath, 'User', 'snippets', o)));
            }
          }
          async y() {
            this.f = [];
            try {
              const e = this.g.provider === zi.SPRING ? 'api.marscode.com' : 'api.marscode.cn',
                s = await (
                  await fetch(`https://${e}/cloudide/api/v3/common/ListDisableExtension`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ Scene: 'bytedance' }),
                  })
                ).json();
              this.f = s?.Result?.Data.map((r) => `${r.Namespace}.${r.Name}`.toLowerCase());
            } catch (e) {
              this.j.error('[getDisabledExtensions] err', e), (this.f = []);
            }
          }
          async z() {
            try {
              let e = [];
              const i = fh.join(this.d, 'extensions.json'),
                s = await We.promises.readFile(i, 'utf-8'),
                r = JSON.parse(s);
              Array.isArray(r) && (e = r.map((n) => n.identifier.id)),
                this.k.setItem('__import__vscode__extensions', JSON.stringify(e));
            } catch {}
            this.k.setItem('__import__vscode__extensions_flag', '1');
          }
          async A(e) {
            const i = this.o(e);
            await Promise.all([this.z(), this.y()]);
            let s = [];
            try {
              const c = M(i, 'extensions.json'),
                l = await We.promises.readFile(c, 'utf-8');
              s = JSON.parse(l)
                .map((d) => (d.relativeLocation || this.j.info(d), d.relativeLocation))
                .filter((d) => !!d);
            } catch {
              s = [];
            }
            const r = [],
              n = [];
            await Promise.all(
              s.map(async (c) => {
                try {
                  const {
                    isValid: l,
                    jsonItem: h,
                    id: d,
                    isAi: p,
                    isInclude: m,
                    version: w,
                    isVersionValid: v,
                    isPlatformValid: k,
                    iconUrl: y,
                    isFilter: C,
                    filterType: I,
                    isExtensionDependenciesValid: E,
                  } = await this.C(M(i, c), c, [c], e);
                  l && d && h && !m && r.push({ id: d, name: c, jsonItem: h }),
                    d &&
                      (l
                        ? n.push({
                            status: 'success',
                            name: d,
                            version: w || '',
                            icon: y || '',
                            isAi: p,
                          })
                        : C || !h
                        ? n.push({
                            status: 'skip',
                            skipType: I,
                            name: d,
                            version: w || '',
                            icon: y || '',
                            isAi: p,
                          })
                        : (!v || !k || !E) &&
                          n.push({
                            status: 'error',
                            name: d,
                            version: w || '',
                            icon: y || '',
                            isAi: p,
                          }));
                } catch (l) {
                  this.j.error('[importExtensions]', c, l);
                }
              })
            );
            const o = P$(r, 2);
            this.j.info('[importExtensions]', 'added', r);
            for (let c = 0; c < o.length; c++) {
              const l = o[c].map((m) => ({ source: M(i, m.name), dest: M(this.d, m.name) }));
              let h = [];
              try {
                h = JSON.parse(await We.promises.readFile(M(this.d, 'extensions.json'), 'utf-8'));
              } catch {
                h = [];
              }
              let d = null;
              const p = M(this.d, '.obsolete');
              try {
                if (await this.isFileExist(p)) {
                  const w = await We.promises.readFile(p, 'utf-8');
                  d = JSON.parse(w);
                }
              } catch {
                d = null;
              }
              if (
                (await Promise.allSettled(
                  l.map(async (m, w) => {
                    const { jsonItem: v } = o[c][w];
                    if (v) {
                      (v.location.path = v.location.path
                        .replace(/\/\.vscode\//, `/${this.g.dataFolderName}/`)
                        .replace(/\\\.vscode\\/, `\\${this.g.dataFolderName}\\`)),
                        v.location.fsPath &&
                          (v.location.fsPath = v.location.fsPath
                            .replace(/\/\.vscode\//, `/${this.g.dataFolderName}/`)
                            .replace(/\\\.vscode\\/, `\\${this.g.dataFolderName}\\`));
                      const k = h.find((y) => y?.identifier?.id === v.identifier.id);
                      if (!k) h.push(v);
                      else if (this.B(k.version.split('.'), v.version.split('.')) < 0) {
                        const y = h.findIndex((C) => C?.identifier?.id === v.identifier.id);
                        h.splice(y, 1), h.push(v);
                      }
                      this.j.info('[importExtensions]', 'command', m),
                        await We.promises.cp(m.source, m.dest, { recursive: !0, force: !0 });
                    }
                  })
                ),
                await We.promises.writeFile(M(this.d, 'extensions.json'), JSON.stringify(h)),
                d)
              ) {
                const m = {};
                for (const w in d) {
                  let v = !1;
                  for (const k of o[c])
                    if (w === k.name) {
                      v = !0;
                      break;
                    }
                  v || (m[w] = d[w]);
                }
                await We.promises.writeFile(p, JSON.stringify(m));
              }
            }
            const a = this.p(e);
            this.k.setItem(a, {
              extension: { extensionList: n },
              setting: { status: 'success' },
              shortcut: { status: 'success' },
            });
          }
          B(e, i) {
            return e[0] !== i[0] ? +e[0] - +i[0] : e[1] !== i[1] ? +e[1] - +i[1] : +e[2] - +i[2];
          }
          async C(e, i, s, r) {
            const n = this.o(r);
            if (s.slice(0, s.length - 1).includes(i))
              return this.j.info('[checkPackageJSON]', 'circle deps', i, s), { isValid: !1 };
            let o = [];
            try {
              const oe = M(this.d, 'extensions.json'),
                B = await We.promises.readFile(oe, 'utf-8');
              o = JSON.parse(B).map((Me) => `${Me.identifier.id}-${Me.version}`);
            } catch {
              o = [];
            }
            let a = {};
            try {
              a = JSON.parse(await We.promises.readFile(M(e, 'package.json'), 'utf-8'));
            } catch {
              return (a = {}), { isValid: !1 };
            }
            let c = [];
            try {
              c = JSON.parse(await We.promises.readFile(M(n, 'extensions.json'), 'utf-8'));
            } catch {
              c = [];
            }
            const l = a?.engines?.vscode,
              h = a?.version,
              d = a?.publisher,
              p = a?.name,
              m = l ? vK(l, this.g.version, this.g.date) : !0,
              w = `${d}.${p}`.toLowerCase(),
              v = c.find((oe) => `${oe?.identifier?.id}` === w && `${oe?.version}` === h);
            let k =
              !v?.metadata?.targetPlatform ||
              v?.metadata?.targetPlatform === 'undefined' ||
              v?.metadata?.targetPlatform === 'universal' ||
              zv === v?.metadata?.targetPlatform;
            v?.metadata?.targetPlatforms && (k = v?.metadata?.targetPlatforms.includes(zv));
            let y = !0;
            const C = [...(a?.extensionDependencies || []), ...(a?.bundledExtensions || [])];
            C.length > 0 &&
              (y = (
                await Promise.all(
                  C.map(async (B) => {
                    if (/^vscode\./.test(B)) return !0;
                    const ae = c.find((fe) => `${fe?.identifier?.id}` === B);
                    if (!ae) return !0;
                    const Me = await this.C(
                      ae?.location.path,
                      ae?.relativeLocation,
                      [...s, ae?.relativeLocation],
                      r
                    );
                    return !!(ae?.relativeLocation && ae?.location.path && Me.isValid);
                  })
                )
              ).every((B) => !!B));
            const I = [
              ...(this.g.iCubeApp?.importConfigurations?.filterExtensionIds || []),
              ...(this.g.iCubeApp?.sshExtensions || []),
              ...hD,
            ];
            let E = !1,
              x = '';
            Uv.includes(w)
              ? ((E = !0), (x = 'AI Extension'))
              : w.includes('ms-ceintl.vscode-language-pack')
              ? ((E = !0), (x = 'Language Pack'))
              : I.includes(w) && ((E = !0), (x = 'Blacklist Extension'));
            const F = m && !E && k && v && y;
            this.j.info(
              '[checkPackageJSON]',
              JSON.stringify({
                id: w,
                version: h,
                jsonItem: v,
                isVersionValid: m,
                isPlatformValid: k,
                isExtensionDependenciesValid: y,
                isValid: F,
              })
            );
            let Y;
            if (!a.icon) Y = void 0;
            else
              try {
                Y = F
                  ? qr
                      .from({
                        scheme: N.vscodeFileResource,
                        authority: 'vscode-app',
                        path: J ? '/' + M(this.d, i, a.icon) : M(this.d, i, a.icon),
                      })
                      .toString()
                  : qr
                      .from({
                        scheme: N.vscodeFileResource,
                        authority: 'vscode-app',
                        path: J ? '/' + M(e, a.icon) : M(e, a.icon),
                      })
                      .toString();
              } catch (oe) {
                this.j.error('[checkPackageJSON]', i, a, oe), (Y = void 0);
              }
            return {
              version: h,
              isVersionValid: m,
              isFilter: E,
              filterType: x,
              id: `${d}.${p}`,
              isValid: !!F,
              jsonItem: v,
              isInclude: o.includes(i),
              isExtensionDependenciesValid: y,
              isPlatformValid: k,
              isAi: Uv.includes(w.toLowerCase()),
              iconUrl: Y,
            };
          }
        }),
        (D1 = __decorate(
          [__param(0, Be), __param(1, dt), __param(2, ee), __param(3, kt), __param(4, Wv)],
          D1
        ));
    },
  }),
  mD,
  wD,
  bD,
  Vv,
  vD = b({
    'out-build/vs/base/common/iCube/appInfo.js'() {
      'use strict';
      Iv(),
        (function (t) {
          t.BANNED_BY_MS = 'BANNED_BY_MS';
        })(mD || (mD = {})),
        (function (t) {
          (t.Disable = 'disable'), (t.Warning = 'warning');
        })(wD || (wD = {})),
        (function (t) {
          function e(s, r, n) {
            if (!s || !r) return !1;
            const o = s.condition;
            if (!o || o.id !== r) return !1;
            if (o.semver && n) {
              const a = typeof o.semver == 'string' ? o.semver : o.semver.version,
                c = typeof o.semver == 'string' ? {} : o.semver;
              return !!mC(n, a, c);
            }
            return !0;
          }
          function i(s, r, n) {
            if (s) return s.find((o) => e(o, r, n));
          }
          t.findOne = i;
        })(bD || (bD = {})),
        (Vv = 'iCubeNativeAppFirstStart');
    },
  });
function yD(t) {
  return ot(t) && t !== '' && t !== '0';
}
function x1(t) {
  return t.startsWith(Gv);
}
var Gv,
  qv = b({
    'out-build/vs/platform/iCubeDeviceRegister/common/iCubeDeviceRegister.js'() {
      'use strict';
      $e(), (Gv = 'bk-');
    },
  }),
  kD,
  SD,
  ED,
  NJ = b({
    'out-build/vs/workbench/services/icubeEventReport/common/icubeCommonEventReportService.js'() {
      'use strict';
      U(),
        Vs(),
        Zs(),
        X(),
        le(),
        wi(),
        Pi(),
        ie(),
        qv(),
        (kD = 'https://mcs.bytedance.net'),
        (SD = 'https://mcs.byteoversea.net'),
        (ED = class extends H {
          constructor() {
            super(),
              (this.commonParams = {}),
              (this.b = new zt()),
              (this.c = null),
              (this.f = null),
              (this.g = new ka(10)),
              (this.h = !1),
              (this.j = !1),
              (this.m = ''),
              (this.n = this.B(new $())),
              (this.onDidCommonParamsChange = this.n.event);
          }
          r() {
            this.b.complete();
          }
          s() {
            return this.a.provider === zi.YINLI ? ii.CN : ii.US;
          }
          t(t, e, i) {
            if (
              (Ye.VSCODE_DEV
                ? Ye.EVENT_REPORT_IN_LOCAL
                  ? (this.h = !1)
                  : (this.h = !t.getValue('icube.debug.enableReportOnDev'))
                : (this.h = !1),
              e === 'stable'
                ? (this.j = !1)
                : Ye.EVENT_VERIFY_ENABLED
                ? (this.j = !0)
                : (this.j = t.getValue('icube.debug.enableEventVerify') ?? !1),
              this.j)
            ) {
              const s = i === ii.CN ? kD : SD;
              this.m = Ye.EVENT_VERIFY_HOST ?? t.getValue('icube.debug.eventVerifyHost') ?? s;
            }
          }
          u(t) {
            const {
                deviceId: e,
                machineId: i,
                userInfo: s,
                appMetaData: r,
                region: n,
                aiRegion: o,
                icubeMainUid: a,
                windowId: c,
                workspaceId: l,
                osInfo: h,
                systemInfo: d,
                cpuInfo: p,
                memInfo: m,
              } = t,
              w = x1(e),
              v = s?.userId || e;
            this.commonParams = {
              icube_uid: v,
              user_id: v,
              biz_user_id: v,
              user_is_login: !!s?.userId,
              device_id: w ? '0' : e,
              is_special_uuid: w,
              user_unique_id: e,
              machine_id: i,
              arch: b0,
              system: Vr,
              scope: s?.account?.scope || 'unknown',
              organization: s?.account?.organization,
              build_version: this.a.tronBuildVersion,
              vscode_version: this.a.version,
              tenant: r?.appTenant,
              region: n,
              aiRegion: o,
              quality: this.a.quality,
              build_time: this.a.date,
              icube_main_uid: a,
              window_id: c,
              workspace_id: l,
              app_version: this.a.appVersion,
              os_name: Vr === 'darwin' ? 'mac' : Vr === 'win32' ? 'windows' : Vr,
              os_version: h?.codename ? `${h?.distro} ${h?.codename}` : h?.distro,
              os_release: h?.release,
              os_build: h?.build,
              platform: 'electron',
              device_model: Vr === 'darwin' ? d?.version : d?.model,
              device_manufacturer: d?.manufacturer,
              cpu: p?.manufacturer,
              cpu_brand: p?.brand,
              cpu_vendor: p?.vendor,
              cpu_family: p?.family,
              cpu_model: p?.model,
              cpu_stepping: p?.stepping,
              cpu_speed: p?.speed,
              memory: m?.total,
              is_ssh: t.isSshMode,
              ssh_remote_authority: t.sshRemoteAuthority,
              ssh_mode: t.sshMode,
              language: X4,
              app_language: $i,
            };
          }
          updateCommonParams(t) {
            Object.keys(t).some((i) => this.commonParams[i] !== t[i]) &&
              ((this.commonParams = { ...this.commonParams, ...t }), this.F(), this.G()),
              this.n.fire(this.commonParams);
          }
          w(t) {
            const e = x1(t);
            this.updateCommonParams({
              user_unique_id: t,
              device_id: e ? '0' : t,
              is_special_uuid: e,
            }),
              this.commonParams.icube_uid === '0' && this.y(void 0);
          }
          y(t) {
            const e = t?.userId || this.commonParams.user_unique_id;
            this.updateCommonParams({
              icube_uid: e,
              user_id: e,
              biz_user_id: e,
              user_is_login: !!t?.userId,
              scope: t?.account?.scope || 'unknown',
            });
          }
          z(t) {
            this.updateCommonParams({ tenant: t?.appTenant });
          }
          C(t) {
            this.updateCommonParams({ region: t });
          }
          D(t) {
            this.updateCommonParams({ aiRegion: t });
          }
          I(t) {
            this.c = t;
          }
          J(t) {
            this.f = t;
          }
          L(t, e) {
            this.g.set(t, e);
          }
          async getTeaClient() {
            return this.h ? null : this.c ? this.c : (await this.b.p, await this.F(), this.c);
          }
          async getSlardarClient() {
            return this.h ? null : this.f ? this.f : (await this.b.p, await this.G(), this.f);
          }
          async getSlardarClientWithCustomSessionID(t) {
            if (this.h) return null;
            const e = this.g.get(t);
            return e || (await this.b.p, await this.H(t), this.g.get(t));
          }
          getEventVerify() {
            return { isEventVerifyEnabled: this.j, eventVerifyHost: this.m };
          }
          getCommonParams() {
            return this.commonParams;
          }
        });
    },
  }),
  CD,
  BJ = b({
    'out-build/vs/platform/ipc/common/mainProcessService.js'() {
      'use strict';
      K(), (CD = W('mainProcessService'));
    },
  }),
  A1,
  DD = b({
    'out-build/vs/platform/iCubeDeviceRegister/common/iCubeDeviceRegisterIpc.js'() {
      'use strict';
      A1 = 'iCubeDeviceRegisterChannel';
    },
  }),
  xD,
  Kv,
  Jv,
  UJ = b({
    'out-build/vs/platform/iCubeDeviceRegister/common/iCubeDeviceRegisterService.js'() {
      'use strict';
      X(),
        U(),
        K(),
        BJ(),
        se(),
        qv(),
        DD(),
        (xD = W('IIcubeDeviceRegisterService')),
        (Kv = class extends H {
          constructor() {
            super(),
              (this.a = '0'),
              (this.b = this.B(new $())),
              (this.onDidChangeDeviceId = this.b.event);
          }
          get c() {
            return this.a;
          }
          getDeviceId() {
            return this.a;
          }
          set c(t) {
            t !== '0' && this.a !== t && ((this.a = t), this.b.fire(t));
          }
          f() {
            return yD(this.c);
          }
        }),
        (Jv = class extends Kv {
          constructor(e, i) {
            super(), (this.h = i), (this.g = e.getChannel(A1)), this.j(), this.m();
          }
          async j() {
            (this.c = await this.resolveDeviceId()),
              this.h.info(`[ICubeDeviceRegisterService] (init) resolve device_id: ${this.c}`);
          }
          m() {
            this.B(
              this.g.listen('onDidChangeDeviceId')((e) => {
                (this.c = e),
                  this.h.info(
                    `[ICubeDeviceRegisterService] (handleUpdateDeviceId) update device_id: ${e}`
                  );
              })
            );
          }
          async resolveDeviceId() {
            return this.f() ? this.c : await this.g.call('resolveDeviceId');
          }
        }),
        (Jv = __decorate([__param(0, CD), __param(1, ee)], Jv));
    },
  });
import { createDefaultSlardarClient as jJ } from '@byted-icube/slardar/dist/index.node.js';
var AD,
  ID,
  WJ = b({
    'out-build/vs/platform/iCubeDeviceRegister/electron-main/reporter.js'() {
      'use strict';
      le(),
        U(),
        mi(),
        (function (t) {
          (t.ICubeDeviceRegisterInit = 'icube_device_register_init'),
            (t.ICubeDeviceRegisterInitFromSdk = 'icube_device_register_init_from_sdk'),
            (t.ICubeDeviceRegisterInitFromSdkAttempt =
              'icube_device_register_init_from_sdk_attempt');
        })(AD || (AD = {})),
        (ID = class extends H {
          constructor(t, e, i) {
            super(), (this.c = t), (this.f = e), (this.g = i), (this.a = new Mn());
          }
          async initICubeEventReportService(t) {
            if (this.a.isOpen()) return;
            await t.getSlardarClient();
            const e = t.commonParams;
            (this.b = jJ({ userId: this.c, deviceId: this.f() }, e, e.region || this.g)),
              this.a.open(),
              this.B(
                t.onDidCommonParamsChange((i) => {
                  this.b?.config({ userId: this.c, deviceId: this.f() }),
                    a$(i, (s, r) => {
                      this.b?.context?.set(r, s);
                    });
                })
              );
          }
          async getSlardarClient() {
            return await this.a.wait(), this.b;
          }
          async sendLog(t, e) {
            (await this.getSlardarClient())?.sendLog?.({ level: t, content: e });
          }
          async sendEvent(t, e) {
            (await this.getSlardarClient())?.sendEvent?.({ name: t, metrics: {}, categories: e });
          }
        });
    },
  });
import HJ from 'path';
import {
  TRAE_CN_TEA_APP_ID as zJ,
  TRAE_OVERSEA_TEA_APP_ID as VJ,
} from '@byted-icube/tea/dist/index.node.js';
import { DeviceRegister as GJ } from '@byted/device-register';
var Xv,
  $D,
  PD,
  _D,
  LD,
  so,
  I1,
  gh = b({
    'out-build/vs/platform/iCubeDeviceRegister/electron-main/iCubeDeviceRegisterMainService.js'() {
      'use strict';
      Pt(),
        Ze(),
        wi(),
        ie(),
        se(),
        UJ(),
        vt(),
        K(),
        le(),
        qv(),
        WJ(),
        (Xv = 'device_id'),
        ($D = 'https://log.snssdk.com/service/2/desktop/device_register/'),
        (PD = 'https://log.byteoversea.com/service/2/desktop/device_register/'),
        (_D = 'https://log.snssdk.com/service/2/app_alert_check/'),
        (LD = 'https://log.byteoversea.com/service/2/app_alert_check/'),
        (so = xD),
        (I1 = class extends Kv {
          constructor(e, i, s, r, n) {
            super(),
              (this.r = e),
              (this.s = i),
              (this.t = s),
              (this.u = r),
              (this.w = n),
              (this.m = new Mn()),
              (this.n = new ID(this.z, () => this.c, this.y ? 'US' : 'CN')),
              (this.g = this.C()),
              (this.h = this.D()),
              (this.j = new GJ(this.g, this.h)),
              this.r.info(`[ICDRS]::init devDeviceId:${n}`),
              this.n.sendLog('info', `[ICDRS]::init init with devDeviceId: ${this.w}`),
              this.n.sendLog(
                'info',
                `[ICDRS]::init start with appInfo: ${JSON.stringify(
                  this.g
                )}, drConfig: ${JSON.stringify(this.h)}`
              ),
              this.L(),
              this.G();
          }
          get y() {
            return this.t.provider === zi.SPRING;
          }
          get z() {
            return Gv + this.w;
          }
          C() {
            return {
              id: this.y ? VJ : zJ,
              channel: this.t.quality || 'stable',
              package: this.y ? 'com.trae.app' : 'com.marscode',
              name: this.t.nameShort,
              version: this.t.appVersion,
              region: this.y ? 'US' : 'CN',
              language: $i,
            };
          }
          D() {
            let e = '';
            if (J) e = `\\Software\\Bytedance\\${this.g.name}\\Common`;
            else if (Fe) {
              const i = this.u.userDataPath;
              e = HJ.resolve(i, 'User/globalStorage/common');
            }
            return {
              cachePath: e,
              registryUrl: this.y ? PD : $D,
              activeUrl: this.y ? LD : _D,
              logger: {
                trace: (i) => {
                  this.r.trace(i);
                },
                debug: (i) => {
                  this.r.debug(i);
                },
                info: (i) => {
                  this.r.info(i), this.n.sendLog('info', i);
                },
                warn: (i) => {
                  this.r.warn(i), this.n.sendLog('warn', i);
                },
                error: (i) => {
                  this.r.error(i), this.n.sendLog('error', i);
                },
              },
              slardarClient: () => this.n.getSlardarClient(),
              privacyMode: !0,
            };
          }
          F(e, i) {
            this.n.sendEvent('icube_device_register_init', {
              source: i,
              currentDeviceId: this.c,
              isBarrierOpen: this.m.isOpen() ? '1' : '0',
            });
          }
          async G() {
            const e = Date.now();
            if (
              (this.n.sendLog('info', '[ICDRS]::init start'),
              this.H(),
              this.n.sendLog(
                'info',
                `[ICDRS]::init initFromState done, current deviceId: ${this.c}`
              ),
              this.f() && (this.m.open(), this.F(e, 'state'), x1(this.c)))
            )
              return;
            const i = Date.now(),
              s = await this.J();
            this.n.sendEvent('icube_device_register_init_from_sdk', {
              success: s[0] ? '1' : '0',
              duration: String(Date.now() - i),
              retryCount: String(s[1]),
              currentDeviceId: this.c,
              isBarrierOpen: this.m.isOpen() ? '1' : '0',
            }),
              this.n.sendLog(
                'info',
                `[ICDRS]::init initFromOnline done, current deviceId: ${this.c}`
              ),
              this.m.open(),
              this.F(e, 'sdk');
          }
          H() {
            const e = this.s.getItem(Xv, '0');
            yD(e) && (x1(e) ? (this.c = this.z) : (this.c = e));
          }
          I(e, i, s) {
            this.n.sendEvent('icube_device_register_init_from_sdk_attempt', {
              ...s,
              retryCount: String(i),
              duration: String(Date.now() - e),
              currentDeviceId: this.c,
              isBarrierOpen: this.m.isOpen() ? '1' : '0',
            });
          }
          async J(e = 0) {
            const i = Date.now();
            this.r.debug(`[ICDRS]::online start, retryCount: ${e}`),
              this.n.sendLog('debug', `[ICDRS]::online start, retryCount: ${e}`);
            let s = 0n,
              r;
            try {
              s = (
                await this.j.registryAndActive({ newUserMode: !1, force: e > 0, waitForActive: !1 })
              ).deviceId;
            } catch (n) {
              (r = n), this.r.error(`[ICDRS]::online ${n?.toString()}`);
            }
            if (s !== 0n)
              return (
                (this.c = s.toString()),
                this.r.info(`[ICDRS]::online success, ${this.c}, retryCount: ${e}`),
                this.n.sendLog('info', `[ICDRS]::online success, ${this.c}, retryCount: ${e}`),
                this.I(i, e, { success: '1', message: 'success' }),
                [!0, e]
              );
            {
              const n = {
                errorCode: r?.code,
                errorMessage: r?.toString(),
                errorStack: r?.stack,
                errorCauseCode: r?.cause?.code,
                errorCauseMessage: r?.cause?.toString(),
              };
              return e >= 1
                ? (this.f() || (this.c = this.z),
                  this.r.error(`[ICDRS]::online fail max retry count, ${this.c}, retryCount: ${e}`),
                  this.n.sendLog(
                    'error',
                    `[ICDRS]::online fail max retry count, ${this.c}, retryCount: ${e}`
                  ),
                  this.I(i, e, { success: '0', message: 'failure max retry count', ...n }),
                  [!1, e])
                : (this.r.error(`[ICDRS]::online failed, ${this.c}, retryCount: ${e}`),
                  this.n.sendLog('error', `[ICDRS]::online failed, ${this.c}, retryCount: ${e}`),
                  this.I(i, e, {
                    success: '0',
                    message: r ? 'get did from online failed' : 'get 0 from online with no error',
                    ...n,
                  }),
                  await this.J(e + 1));
            }
          }
          L() {
            this.r.debug('[ICDRS]::registerListeners start registerListeners'),
              this.onDidChangeDeviceId((e) => {
                this.s.setItem(Xv, e);
              });
          }
          initICubeEventReportService(e) {
            this.n.initICubeEventReportService(e);
          }
          async resolveDeviceId() {
            return await this.m.wait(), this.c;
          }
        }),
        (I1 = __decorate([__param(0, ee), __param(1, kt), __param(2, Be), __param(3, dt)], I1));
    },
  }),
  Yv,
  TD,
  Qv = b({
    'out-build/vs/platform/iCubeSystemInformation/common/iCubeSystemInformationService.js'() {
      'use strict';
      K(),
        U(),
        (Yv = W('IICubeSystemInformationService')),
        (TD = class extends H {
          constructor() {
            super(),
              (this.a = 'vscode:systemInformationGetSystemInfo'),
              (this.b = 'vscode:systemInformationGetOsInfo'),
              (this.c = 'vscode:systemInformationGetCpu'),
              (this.f = 'vscode:systemInformationGetMem'),
              (this.g = new Map());
          }
          async h(t, e) {
            if (!this.g.has(t)) {
              const i = await e();
              i !== null && this.g.set(t, i);
            }
            return this.g.get(t) ?? null;
          }
          getSystemInfo() {
            return this.h('system', this.j.bind(this));
          }
          getOsInfo() {
            return this.h('os', this.m.bind(this));
          }
          getCpuInfo() {
            return this.h('cpu', this.n.bind(this));
          }
          getMemInfo() {
            return this.h('mem', this.r.bind(this));
          }
        });
    },
  });
async function qJ(t) {
  return (await Promise.allSettled(t)).map((i) => (i.status === 'fulfilled' ? i.value : void 0));
}
var KJ = b({
  'out-build/vs/workbench/services/icubeEventReport/common/utils.js'() {
    'use strict';
  },
});
import {
  createDefaultSlardarClient as JJ,
  createSlardarClient as XJ,
} from '@byted-icube/slardar/dist/index.node.js';
import { createDefaultTeaClient as YJ } from '@byted-icube/tea/dist/index.node.js';
import { Tenant as MD } from '@byted-icube/env';
var $1,
  QJ = b({
    'out-build/vs/workbench/services/icubeEventReport/electron-main/icubeEventReportService.js'() {
      'use strict';
      or(),
        Ze(),
        NJ(),
        Zs(),
        pc(),
        Ge(),
        gh(),
        Qv(),
        Pt(),
        KJ(),
        ($1 = class extends ED {
          constructor(e, i, s, r, n, o, a, c, l) {
            super(),
              (this.M = e),
              (this.N = i),
              (this.O = s),
              (this.P = r),
              (this.a = n),
              (this.R = o),
              (this.S = a),
              this.initialize(c, l);
          }
          async initialize(e, i) {
            const [s, r, n, o, a, c] = await qJ([
              this.N.getRegion(),
              this.P.getOsInfo(),
              this.P.getCpuInfo(),
              this.P.getSystemInfo(),
              this.P.getMemInfo(),
              this.O.resolveDeviceId(),
            ]);
            this.u({
              deviceId: c || '0',
              machineId: e || '',
              userInfo: this.M.userInfo,
              appMetaData: this.M.nativeAppMetadata,
              region: s,
              icubeMainUid: i,
              osInfo: r,
              cpuInfo: n,
              systemInfo: o,
              memInfo: a,
            }),
              this.t(this.R, this.a.quality, s),
              this.r(),
              this.F().then(() => {
                this.U();
              }),
              this.G(),
              this.B(this.O.onDidChangeDeviceId((l) => this.w(l))),
              this.B(this.M.onDidChangeUserInfo((l) => this.y(l))),
              this.B(this.M.onDidChangeAppMetadata((l) => this.z(l))),
              this.B(this.N.onDidChangeRegion((l) => this.C(l)));
          }
          async U() {
            const e = this.S.getItem(np);
            if (e)
              try {
                const i = JSON.parse(e),
                  s = await this.getTeaClient();
                i.forEach((r) => {
                  s?.collect(r.event, r.params || {});
                }),
                  this.S.removeItem(np);
              } catch {}
          }
          async F() {
            const {
                user_unique_id: e,
                device_id: i,
                user_id: s,
                user_is_login: r,
                tenant: n,
                region: o = this.s(),
              } = this.commonParams,
              {
                app_version: a,
                os_name: c,
                os_version: l,
                device_model: h,
                platform: d,
                language: p,
                app_language: m,
              } = this.commonParams,
              w = YJ({
                logLevel: 'warn',
                region: o,
                tenant: n === di.BYTEDANCE ? MD.BYTEDANCE : MD.PUBLIC,
                event_verify_url: this.j ? `${this.m}/v1/list_test` : void 0,
              });
            w.config({
              user: {
                user_unique_id: e || '0',
                user_id: s || '0',
                device_id: i || '0',
                user_is_login: r,
              },
              custom: this.commonParams,
              header: {
                app_id: w.getAppID(),
                app_version: a,
                os_name: c,
                os_version: l,
                device_model: h,
                platform: d,
                language: p,
                app_language: m,
              },
            }),
              this.I(w);
          }
          async G() {
            const { region: e = this.s(), user_unique_id: i } = this.commonParams,
              s = JJ({ userId: i || '0' }, this.commonParams, e);
            this.J(s);
          }
          async H(e) {
            const { region: i = this.s(), user_unique_id: s } = this.commonParams,
              r = XJ({ userId: s || '0', sessionId: e }, this.commonParams, i);
            this.L(e, r);
          }
        }),
        ($1 = __decorate(
          [
            __param(0, fs),
            __param(1, dn),
            __param(2, so),
            __param(3, Yv),
            __param(4, Be),
            __param(5, Ve),
            __param(6, kt),
          ],
          $1
        ));
    },
  });
function ZJ(t, ...e) {
  const i = J
      ? Object.keys(t)
          .reverse()
          .find((r) => r.toUpperCase() === 'PATH') || 'Path'
      : 'PATH',
    s = [t[i], ...e].filter(Boolean).join(ud);
  Object.assign(t, { [i]: s });
}
var eX = b({
  'out-build/vs/base/common/iCube/env.js'() {
    'use strict';
    ie(), xe();
  },
});
import { app as tX, ipcMain as iX } from 'electron';
import { spawn as sX } from 'child_process';
import * as rX from 'net';
import * as ps from 'path';
import * as ji from 'fs';
import * as nX from '@byted-icube/bundled-deps/compiled/portfinder/index.js';
import { connectToExchange as oX } from '@byted-icube/manager-sdk';
function FD(t, e = !1) {
  return new Promise((i, s) => {
    const r = rX.createServer();
    r.once('error', s),
      r.listen(0, t, () => {
        r.close(), i(e);
      });
  });
}
function aX(t) {
  const e = t.getTimezoneOffset(),
    i = e < 0 ? '+' : '-',
    s = Math.abs(e),
    r = String(Math.floor(s / 60)).padStart(2, '0'),
    n = String(s % 60).padStart(2, '0'),
    o = e === 0 ? 'Z' : `${i}${r}:${n}`;
  return (
    t.getFullYear() +
    '-' +
    String(t.getMonth() + 1).padStart(2, '0') +
    '-' +
    String(t.getDate()).padStart(2, '0') +
    'T' +
    String(t.getHours()).padStart(2, '0') +
    ':' +
    String(t.getMinutes()).padStart(2, '0') +
    ':' +
    String(t.getSeconds()).padStart(2, '0') +
    '.' +
    (t.getMilliseconds() / 1e3).toFixed(3).slice(2, 5) +
    o
  );
}
function OD(t) {
  try {
    return process.kill(t, 0), !0;
  } catch (e) {
    return e.code === 'ESRCH'
      ? !1
      : e.code === 'EPERM'
      ? !0
      : process.platform === 'win32' && e.code === 'EINVAL'
      ? !1
      : null;
  }
}
var P1,
  mh,
  wh,
  bh,
  RD,
  _1,
  cX = b({
    'out-build/vs/code/electron-main/iCubeRustManager.js'() {
      'use strict';
      U(),
        vt(),
        ls(),
        se(),
        hi(),
        Ze(),
        Gt(),
        Ge(),
        lt(),
        Zt(),
        ie(),
        Xu(),
        eX(),
        (P1 = process.pid),
        (mh = '::1'),
        (wh = '127.0.0.1'),
        (bh = `${P1}.manager.pid`),
        (RD = { completionServer: 'ai-completion', chatServer: 'ai', agentServer: 'ai-agent' }),
        (_1 = class extends H {
          r() {
            this.a.splice(0, 1 / 0),
              this.b &&
                (this.w.info('Manager will exit'),
                this.b.stdin?.write(`exit
`),
                this.b.unref(),
                (this.b = null));
          }
          s(e = !0) {
            if (this.b?.connected) this.g = 0;
            else {
              if (this.g > this.f) return !0;
              this.g === this.f &&
                this.w.error(
                  `Manager error limit reached ${this.g}, will stop reporting until manager spawned successfully.`
                ),
                e && this.g++;
            }
            return !1;
          }
          t(e, i, s, r = 'error') {
            if (this.s(!0)) return;
            const n = new Error(i);
            (n.name = e),
              (n.stack = s),
              this.y.getSlardarClient().then((o) => {
                o?.sendEvent?.({
                  name: `icube_rust_${r}`,
                  categories: { name: n.name, content: n.message, stack: n.stack || '' },
                });
              }),
              this.w[r](`rust:error: ${n.message}, stack: ${n.stack}`);
          }
          dispose() {
            this.r(), super.dispose();
          }
          constructor(e, i, s, r, n, o, a) {
            super(),
              (this.u = e),
              (this.w = i),
              (this.y = s),
              (this.z = r),
              (this.C = n),
              (this.D = o),
              (this.F = a),
              (this.a = [1, 1, 2, 3, 5]),
              (this.b = null),
              (this.c = 0),
              (this.f = 100),
              (this.g = 0),
              (this.h = null),
              (this.j = ei()),
              (this.m = () => {}),
              (this.n = new Promise((c) => {
                this.m = c;
              })),
              iX.handle('vscode:getManagerInfo', () => this.n),
              tX.once('quit', () => {
                this.r();
              }),
              process.once('exit', () => {
                this.r();
              }),
              this.w.info(`[manager] codeMainSession: ${this.u.logsHome.fsPath}`),
              this.u.isBuilt || process.env.ICUBE_MANAGER_BASE_DIR
                ? J
                  ? this.startManager(this.u.args, this.u)
                  : this.F.get().then((c) => {
                      c === io.DONE
                        ? this.startManager(this.u.args, this.u)
                        : this.w.info('Setup is not done, will not start manager');
                    })
                : this.useManuallyStartedManager(0);
          }
          disabledModules() {
            const e = (process.env.ICUBE_DISABLED_MODULES?.split(',') || []).filter(Boolean),
              i = this.z.iCubeApp?.nativeAppConfig?.dsc || {};
            for (const s in i) {
              const r = RD[s];
              i[s] === !0 && r && e.push(r);
            }
            return (
              e.length > 0 &&
                !this.s() &&
                this.w.info(`[manager] disabled modules: ${e.join(',')}`),
              e
            );
          }
          useManuallyStartedManager(e) {
            this.m({ port: e });
          }
          startManager(e, i) {
            const { userDataPath: s, logsHome: r } = i,
              n = process.env.ICUBE_MANAGER_BASE_DIR || (i.isBuilt ? i.appRoot : process.cwd()),
              o = ps.join(n, 'bin', J ? 'manager.exe' : 'manager'),
              a = ps.join(n, 'bin', 'lib'),
              c = ps.join(n, 'node_modules', '@vscode', 'ripgrep', 'bin', J ? 'rg.exe' : 'rg'),
              l =
                this.D.getValue('trae.rust.logLevel') ||
                process.env.RUST_LOG ||
                (e.verbose ? 'trace' : e.log?.find((v) => !/:/.test(v))) ||
                'info',
              h = () => {
                const v = ps.join(r.fsPath, 'Modular');
                let k = null,
                  y = null;
                try {
                  ji.mkdirSync(v, { recursive: !0 }),
                    (k = ji.openSync(ps.join(v, 'manager_out.log'), 'a')),
                    (y = ji.openSync(ps.join(v, 'manager_err.log'), 'a'));
                } catch (C) {
                  this.w.error(`Failed to create manager_out.log or manager_err.log: ${C}`);
                }
                return { logsDir: v, out: k, err: y };
              },
              d =
                (v, k) =>
                (y, ...C) => {
                  if (this.s()) return;
                  const I = `${aX(new Date())} [${y}] ${C.join(' ')}`;
                  y === 'error'
                    ? (this.t('manager', 'Manager error', I),
                      k &&
                        ji.write(k, I, (E) => {
                          E &&
                            (this.t(
                              'manager',
                              'Manager write log error',
                              `Failed to write to manager_err.log: ${E}`
                            ),
                            this.w.error(`Failed to write to manager_err.log: ${E}`));
                        }))
                    : (this.w[y](I),
                      v &&
                        ji.write(v, I, (E) => {
                          E &&
                            (this.t(
                              'manager',
                              'Manager write log error',
                              `Failed to write to manager_err.log: ${E}`
                            ),
                            this.w.error(`Failed to write to manager_out.log: ${E}`));
                        }));
                },
              p = this.D.getValue('icube.debug.enableEventVerify') ?? !1,
              m = this.D.getValue('icube.debug.eventVerifyHost') ?? '',
              w = this.z.quality === 'alpha';
            Promise.any([FD(wh, !1), FD(mh, !0)]).then(async (v) => {
              const k = async () => {
                  this.c++;
                  const { logsDir: I, out: E, err: x } = h(),
                    F = d(E, x),
                    Y = ps.join(I, 'manager_panic.log'),
                    oe = await nX.getPortPromise({ port: 51e3, host: v ? mh : wh });
                  (process.env.ICUBE_USE_IPV6 = v.toString()),
                    (process.env.ICUBE_PROXY_HOST = v ? mh : wh),
                    (process.env.ICUBE_PROXY_PORT = oe.toString()),
                    (process.env.ICUBE_ELECTRON_PATH = process.execPath),
                    (process.env.ICUBE_CODEMAIN_SESSION = this.j),
                    (process.env.ICUBE_MACHINE_ID = this.C.machineId),
                    (process.env.ICUBE_BUILD_VERSION = this.z.tronBuildVersion),
                    (process.env.ICUBE_QUALITY = this.z.quality),
                    (process.env.ICUBE_BUILD_TIME = this.z.date),
                    (process.env.ICUBE_PROVIDER = this.z.provider),
                    (process.env.ICUBE_APP_VERSION = this.z.appVersion),
                    (process.env.ICUBE_VSCODE_VERSION = this.z.version),
                    F('info', `Manager will start on port ${oe} ipv6:${v}, ppid: ${P1}`);
                  const B = ps.join(s, 'ModularData'),
                    ae = ps.join(B, 'pids');
                  ji.mkdirSync(ae, { recursive: !0 }),
                    ji.writeFile(ps.join(B, 'manager.port'), String(oe), (z) => {
                      z && F('error', `Failed to write ${ps.join(B, 'manager.port')}: ${z}`);
                    }),
                    ge.rm(ps.join(s, 'logs', 'Modular')).catch(() => {});
                  const Me = we(this.u.appSettingsHome, 'globalStorage'),
                    fe = {
                      ...process.env,
                      RUST_LOG: l,
                      ICUBE_RUST_LOG_LEVEL: this.D.getValue('trae.rust.logLevel') || 'info',
                      RUST_BACKTRACE: w ? '1' : '',
                      RG_PATH: c,
                      ICUBE_PRODUCT_TYPE: 'desktop',
                      ICUBE_USER_DATA_DIR: this.u.productDataResource?.fsPath,
                      ICUBE_MODULE_LOG_TO_FILE: 'true',
                      ICUBE_MODULE_PID_DIR: ae,
                      ICUBE_MANAGER_PID_FILE: bh,
                      ICUBE_MANAGER_LOG_DIR: I,
                      ICUBE_MAIN_PPID: P1.toString(),
                      ICUBE_FORCE_RANDOM_PORT: 'true',
                      ICUBE_GRACE_PERIOD_SECONDS: J ? '999999999' : '1',
                      ICUBE_GRACEFUL_SHUTDOWN_TIMEOUT_SECONDS: J ? '999999999' : '1',
                      ICUBE_MODULAR_DATA_DIR: B,
                      ICUBE_GLOBAL_STORAGE_DIR: Me.fsPath,
                      ICUBE_PRODUCT_PROVIDER: this.z.provider,
                      ICUBE_PRODUCT_QUALITY: this.z.quality,
                      ICUBE_PRODUCT_BUILD_VERSION: this.z.tronBuildVersion,
                      ICUBE_PRODUCT_DATE: this.z.date,
                      ICUBE_PRODUCT_APP_VERSION: this.z.appVersion,
                      ICUBE_PRODUCT_BRAND_NAME: this.z.brandName,
                      ICUBE_DISABLED_MODULES: this.disabledModules().join(','),
                      ICUBE_EVENT_VERIFY_ENABLED: p ? '1' : '0',
                      ICUBE_EVENT_VERIFY_HOST: m,
                    };
                  ZJ(fe, a);
                  const V = sX(o, {
                    ...{ cwd: n, shell: !1, windowsHide: !0, env: fe },
                    detached: !0,
                    stdio: ['pipe', 'ignore', 'ignore'],
                  });
                  (this.b = V),
                    V.once('spawn', () => {
                      this.g = 0;
                      try {
                        ji.readdirSync(ae).forEach((z) => {
                          const q = ps.join(ae, z),
                            ne = z.split('.'),
                            me = Number(ne[0]);
                          if (ne.length < 3 || !me) {
                            ji.unlink(q, (pe) => {
                              pe && F('warn', `delete pid file error: ${z}, ${pe}`);
                            });
                            return;
                          }
                          if (OD(me) !== !0)
                            try {
                              const pe = Number(ji.readFileSync(q, 'utf-8'));
                              pe &&
                                OD(pe) === !0 &&
                                this.t(
                                  'manager',
                                  `previous module pid leaked: ${z}, pid: ${pe}`,
                                  '',
                                  'warn'
                                ),
                                ji.unlink(q, (O) => {
                                  O && F('warn', `delete pid file error: ${z}, pid: ${pe}, ${O}`);
                                });
                            } catch {}
                        }),
                          ji.writeFile(ps.join(ae, bh), String(V.pid), (z) => {
                            z && F('error', `Failed to write ${bh}: ${z}`);
                          });
                      } catch (z) {
                        F('error', `Failed to write ${bh}: ${z}`);
                      }
                      F('info', `Manager started with pid: ${V.pid}, port:${oe}`),
                        this.m({ port: oe });
                    }),
                    V.once('error', (z) => {
                      this.m({ error: z }), F('error', `Failed to start manager: ${z}`);
                    });
                  const R = (z, q) => {
                    ji.existsSync(Y) &&
                      this.t('manager', 'Manager panic', ji.readFileSync(Y, 'utf-8')),
                      y(z, q),
                      E && ji.close(E, (ne) => {}),
                      x && ji.close(x, (ne) => {});
                  };
                  V.once('exit', (z, q) => {
                    F('info', `Manager exited with code ${z} and signal ${q}`),
                      this.b === null ? this.r() : R(z, q);
                  });
                },
                y = (I, E) => {
                  const x = this.a.length > 1 ? this.a.shift() : this.a[0];
                  x
                    ? ((this.n = new Promise((F) => {
                        this.m = F;
                      })),
                      this.h && clearTimeout(this.h),
                      (this.h = setTimeout(C, x * 1e3)),
                      this.t(
                        'manager',
                        `Manager closed with code ${I} and signal ${E}, will retry in ${x} seconds`,
                        ''
                      ))
                    : this.t('manager', `Failed to start manager after ${this.c} attempts`, '');
                },
                C = () => {
                  k().catch((I) => {
                    this.m({ error: I }),
                      this.t('manager', 'Failed to spawn manager', I.message),
                      y(I.code, I.signal);
                  });
                };
              C(), this.startCommandExchange(v);
            });
          }
          async startCommandExchange(e) {
            this.w.info(`startCommandExchange: ${this.j}`);
            const { WebSocket: i } = await import('ws'),
              { startMessageLoop: s, sendMessage: r } = oX(
                null,
                {
                  getUrl: async () => {
                    const n = await this.n;
                    if ('error' in n) throw n.error;
                    const { port: o } = n;
                    return `ws://${e ? `[${mh}]` : wh}:${o}/module/manager/1?session_id=${this.j}`;
                  },
                  WebSocketCtor: i,
                  module_port: 'manager/1',
                },
                this.w
              );
            s(async (n) => {
              try {
                const { msg_type: o, payload: a, stream_id: c } = n;
                switch (o) {
                  case 'execute_command': {
                    let l, h;
                    const { command_id: d, args: p } = JSON.parse(a);
                    this.w.error(`command_id=${d}, args=${p}`),
                      d === 'icube.event.aiSlardarReport'
                        ? this.y.getSlardarClient().then((m) => {
                            const [w] = p ? p.map((v) => JSON.parse(v)) : [];
                            w
                              ? (m?.sendEvent?.({ name: w?.name, ...w }), (h = 'success'))
                              : (l = 'params is empty');
                          })
                        : (l = 'command not supported'),
                      r({
                        stream_id: c,
                        msg_type: 'execute_command_result',
                        error: l,
                        payload: JSON.stringify(h),
                      });
                    break;
                  }
                  default:
                    r({
                      stream_id: c,
                      msg_type: 'error',
                      payload: JSON.stringify(`not supported command: ${o}`),
                    });
                }
              } catch (o) {
                this.w.error(
                  `onmessage error: event=${o?.message}, data=${n || `decode error: ${o}`}`
                );
              }
            });
          }
        }),
        (_1 = __decorate(
          [
            __param(0, dt),
            __param(1, ee),
            __param(2, Bi),
            __param(3, Be),
            __param(4, Vt),
            __param(5, Ve),
            __param(6, Ju),
          ],
          _1
        ));
    },
  }),
  L1,
  lX = b({
    'out-build/vs/platform/processMonitor/electron-main/processDiagnosticsMainService.js'() {
      'use strict';
      Xo(),
        au(),
        bf(),
        lw(),
        se(),
        Ho(),
        (L1 = class {
          constructor(e, i) {
            (this.b = e), (this.c = i), (this.a = void 0);
          }
          init(e) {
            this.a = e;
          }
          notifyRestartIDEBecauseExtension(e, i) {
            this.a?.(nt.MAIN_TO_SANDBOX_SEND_EXNTENSION_TOO_HIGH, { extensionName: e, memory: i });
          }
          async listProcesses() {
            const e = [];
            try {
              e.push({ name: 'main-process', rootProcess: await Nf(process.pid) }),
                (await this.c.getRemoteDiagnostics({ includeProcesses: !0 })).forEach((s) => {
                  !wf(s) && s.processes && e.push({ name: s.hostName, rootProcess: s.processes });
                });
            } catch (i) {
              this.b.error(`Listing processes failed: ${i}`);
            }
            return e;
          }
          async getPidToNameMap() {
            const e = await this.c.getMainDiagnostics(),
              i = {};
            for (const s of e.windows) i[s.pid] = `window [${s.id}] (${s.title})`;
            for (const { pid: s, name: r } of nn.getAll()) i[s] = r;
            return i;
          }
        }),
        (L1 = __decorate([__param(0, ee), __param(1, Ql)], L1));
    },
  }),
  T1,
  uX = b({
    'out-build/vs/platform/iCubeTeaService/electron-main/iCubeTeaService.js'() {
      'use strict';
      ls(),
        U(),
        (T1 = class extends H {
          constructor(e) {
            super(), (this.a = e);
          }
          async behave(e, i) {
            this.b(e, i || {});
          }
          async report(e, i) {
            this.b(e, i || {});
          }
          async b(e, i) {
            const s = await this.a.getTeaClient();
            s && s.collect(e, i);
          }
        }),
        (T1 = __decorate([__param(0, Bi)], T1));
    },
  }),
  M1,
  hX = b({
    'out-build/vs/platform/iCubeSlardarService/electron-main/iCubeSlardarService.js'() {
      'use strict';
      ls(),
        (M1 = class {
          constructor(e) {
            this.a = e;
          }
          async customLog({ content: e, level: i, extra: s }) {
            const r = await this.a.getSlardarClient();
            r && r.sendLog && r.sendLog({ content: e, level: i, extra: s });
          }
          async event(e) {
            const i = await this.a.getSlardarClient();
            i && i.sendEvent && i.sendEvent({ ...e, categories: { ...e?.categories } });
          }
          async error(e, i) {
            const s = await this.a.getSlardarClient();
            s &&
              s.sendEvent &&
              s.report({
                name: 'js_error',
                payload: { message: e?.message, stack: e?.stack, name: e?.name },
                extra: i,
              });
          }
          async eventWithSessionID(e, i) {
            const s = await this.a.getSlardarClientWithCustomSessionID(e);
            s && s.sendEvent && s.sendEvent({ ...i, categories: { ...i?.categories } });
          }
          async errorWithSessionID(e, i, s) {
            const r = await this.a.getSlardarClientWithCustomSessionID(e);
            r &&
              r.sendEvent &&
              r.report({
                name: 'js_error',
                payload: { message: i?.message, stack: i?.stack, name: i?.name },
                extra: s,
              });
          }
          async customLogWithSessionID(e, { content: i, level: s, extra: r }) {
            const n = await this.a.getSlardarClientWithCustomSessionID(e);
            n && n.sendLog && n.sendLog({ content: i, level: s, extra: r });
          }
        }),
        (M1 = __decorate([__param(0, Bi)], M1));
    },
  }),
  ND,
  dX = b({
    'out-build/vs/platform/iCubeSlardarService/common/iCubeSlardarService.js'() {
      'use strict';
      K(), (ND = W('IICubeSlardarService'));
    },
  });
import fX from 'crypto';
var BD,
  Zv,
  ey,
  UD,
  pX = b({
    'out-build/vs/platform/dynamicConfig/electron-main/formatConfig.js'() {
      'use strict';
      (BD = (t, e, i) => {
        if (
          (t && (i[t.keyCode] = t.value),
          t?.grayValuePercent &&
            t?.grayValue != null &&
            t?.grayValue != null &&
            ey(Zv(t, e), t.grayValuePercent) &&
            (i[t.keyCode] = t.grayValue),
          e.scope === 'bytedance' &&
            t?.innerValue != null &&
            t?.innerValue != null &&
            ((i[t.keyCode] = t.innerValue),
            t?.innerGrayValuePercent &&
              t?.innerGrayValue != null &&
              t?.innerGrayValue != null &&
              ey(Zv(t, e), t.innerGrayValuePercent) &&
              (i[t.keyCode] = t.innerGrayValue)),
          t?.organizationManifest && e?.organization)
        ) {
          const s = e.organization,
            r = Object.keys(t.organizationManifest);
          for (const n of r)
            if (s.startsWith(n)) {
              const o = t.organizationManifest[n];
              if (o != null || o != null) {
                i[t.keyCode] = o;
                break;
              }
            }
        }
        if (t?.deviceManifest && e?.deviceId) {
          const s = t.deviceManifest[e.deviceId];
          (s != null || s != null) && (i[t.keyCode] = s);
        }
        if (t?.machineManifest && e?.machineId) {
          const s = t.machineManifest[e.machineId];
          (s != null || s != null) && (i[t.keyCode] = s);
        }
        if (t?.userManifest && e?.userId) {
          const s = t.userManifest[e.userId];
          (s != null || s != null) && (i[t.keyCode] = s);
        }
        return i;
      }),
        (Zv = (t, e) => {
          switch (t.grayType) {
            case 'machineId':
              return e?.machineId ? `${e.packageType}_${e.machineId}` : '';
            case 'deviceId':
              return e?.deviceId ? `${e.packageType}_${e.deviceId}` : '';
            case 'userId':
              return e?.userId ? `${e.packageType}_${e?.userId}` : '';
            default:
              return '';
          }
        }),
        (ey = (t, e) => {
          if (!t) return !1;
          const i = fX.createHash('md5').update(String(t)).digest('hex');
          return (parseInt(i.substring(0, 8), 16) % 1e4) / 100 <= e;
        }),
        (UD = (t) => {
          const e = {},
            i = Object.keys(t);
          for (const s of i) {
            const r = s.split('.');
            let n = e;
            for (let o = 0; o < r.length - 1; o++) {
              const a = r[o];
              (n[a] = n[a] || {}), (n = n[a]);
            }
            n[r[r.length - 1]] = t[s];
          }
          return e;
        });
    },
  }),
  jD,
  ro,
  F1,
  gX,
  ty = b({
    'out-build/vs/platform/messageCenter/common/messageCenter.js'() {
      'use strict';
      K(),
        (function (t) {
          (t.NOTICE = 'notice'), (t.BANNER = 'banner'), (t.DIALOG = 'dialog');
        })(jD || (jD = {})),
        (function (t) {
          (t.DYNAMIC_CONFIG = 'dynamicConfig'),
            (t.DYNAMIC_CONFIG_UPDATE = 'dynamicConfigUpdate'),
            (t.DELETE_DYNAMIC_CONFIG = 'deleteDynamicConfig'),
            (t.DEVICE_LOG = 'deviceLog'),
            (t.AUDIT_RESULT = 'auditResult');
        })(ro || (ro = {})),
        (F1 = W('IICubeMessageCenterService')),
        (gX = W('IICubeMessageNotificationService'));
    },
  }),
  O1,
  iy = b({
    'out-build/vs/platform/iCubeProduct/common/iCubeProduct.js'() {
      'use strict';
      K(), (O1 = W('IICubeProductService'));
    },
  });
import R1 from 'fs';
import WD from 'path';
import vh from 'crypto';
var sy,
  yh,
  HD,
  N1,
  mX = b({
    'out-build/vs/platform/dynamicConfig/electron-main/dynamicConfigService.js'() {
      'use strict';
      U(),
        Gt(),
        Ze(),
        Ir(),
        jt(),
        se(),
        Xi(),
        lt(),
        or(),
        gh(),
        Xo(),
        qt(),
        wi(),
        X(),
        Ei(),
        pX(),
        mi(),
        ty(),
        iy(),
        le(),
        (yh = 5 * 60 * 1e3),
        (HD = class {
          constructor() {
            (this.a = new Map()), (this.b = new Map());
          }
          c(t) {
            return t.map(([e, i]) => `${e}=${i}`).join('&');
          }
          repeat(t) {
            const e = this.c(t),
              i = this.a.get(e);
            return i && i.expire > Date.now()
              ? { success: !0, value: i.value }
              : (i && this.a.delete(e), { success: !1, value: null });
          }
          set(t, e) {
            const i = this.c(t);
            this.a.set(i, { value: e, expire: Date.now() + yh });
            const s = setTimeout(() => {
              this.a.delete(i), this.b.delete(i);
            }, yh);
            this.b.set(i, s);
          }
          clear(t) {
            if (t) {
              const e = this.c(t);
              clearTimeout(this.b.get(e)), this.b.delete(e), this.a.delete(e);
            } else
              this.a.clear(),
                this.b.forEach((e) => {
                  clearTimeout(e);
                }),
                this.b.clear();
          }
        }),
        (N1 = class extends H {
          static {
            sy = this;
          }
          static {
            this.s = 'dynamicConfig.log';
          }
          constructor(e, i, s, r, n, o, a, c, l, h, d) {
            super(),
              (this.y = e),
              (this.z = i),
              (this.C = s),
              (this.D = r),
              (this.F = n),
              (this.G = o),
              (this.H = a),
              (this.I = c),
              (this.J = l),
              (this.L = h),
              (this.M = d),
              (this.m = void 0),
              (this.r = new Mn()),
              (this.t = 5 * 60 * 1e3),
              (this.u = this.B(new $())),
              (this.onDidUpdateConfig = this.u.event),
              (this.w = new HD()),
              (this.R = (w, v) => {
                const k = v.split('.'),
                  y = k.pop();
                if (!y) return w;
                let C = w;
                for (const I of k) C = C[I];
                return delete C[y], w;
              }),
              (this.h = this.D.dynamicConfigServer.endpoint),
              (this.c = we(this.F.logsHome, sy.s)),
              (this.f = this.B(
                this.J.createLogger(this.c, { id: 'dynamicConfig', name: 'DynamicConfig' })
              )),
              (this.j = `${wo(this.D)}_${this.D.providerCode}`);
            const p = this.F.userDataPath,
              m = WD.join(p, 'Local Storage');
            R1.existsSync(m) || R1.mkdirSync(m, { recursive: !0 }),
              (this.g = WD.join(m, 'config.db')),
              this.bb('[initialize]', {
                machineId: e,
                endpoint: this.h,
                configFilePath: this.g,
                nameShort: this.D.nameShort,
              }),
              this.h && (r.iCubeApp && (this.n = { iCubeApp: r.iCubeApp }), this.N());
          }
          async N() {
            (this.a = await this.G.getAuthUserInfo()),
              this.B(this.G.onDidChangeUserInfo((i) => this.$(i))),
              (this.b = this.H.c),
              this.B(this.H.onDidChangeDeviceId((i) => this.ab(i))),
              this.B(this.z.onDidFrontinerChangeConfig((i) => this.updateConfig(i))),
              this.B(this.z.onDidFrontinerChangeConfigDelete((i) => this.deleteConfigByKeyCode(i))),
              this.B(this.z.onDidFrontinerUpdateConfig((i) => this.saveNonFullConfig(i)));
            const e = setTimeout(() => {
              this.Q(), clearTimeout(e);
            }, 3 * 1e3);
            this.O(), de.handle(nt.SANDBOX_TO_MAIN_INVOKE_PULL_DYNAMIC_CONFIG, this.Q.bind(this));
          }
          getConfig() {
            return this.n;
          }
          O() {
            this.m && clearInterval(this.m),
              (this.m = setInterval(() => {
                this.Q();
              }, this.t));
          }
          P(e) {
            if (e?.iCubeApp?.nativeAppConfig?.pullConfigIntervalDuration) {
              const i = Number(e.iCubeApp.nativeAppConfig.pullConfigIntervalDuration) || yh,
                s = Math.max(yh, i);
              this.t !== s &&
                ((this.t = s),
                this.f.info(`updatepullConfigIntervalDuration: ${this.t}`),
                this.O());
            }
          }
          async Q() {
            const e = await this.W();
            return e && (await this.saveFullConfig(e)), this.n;
          }
          async saveFullConfig(e) {
            return (
              (this.n = dr({ iCubeApp: ms(this.D.__iCube_app) }, e)),
              this.r.isOpen() || this.r.open(),
              this.P(this.n),
              this.S(this.n),
              await this.Y(e),
              (this.D.iCubeApp = dr(this.D.iCubeApp, this.n.iCubeApp)),
              this.n
            );
          }
          async saveNonFullConfig(e) {
            const i = await this.Z(),
              s = dr(i, e);
            this.saveFullConfig(s);
          }
          async deleteConfigByKeyCode(e) {
            const i = e.keyCode;
            if (!i) return;
            const s = await this.Z(),
              r = this.R(s, i);
            this.saveNonFullConfig(r);
          }
          S(e) {
            this.u.fire(e),
              this.z.initWebsocket(e),
              this.U(nt.MAIN_TO_SANDBOX_SEND_UPDATE_DYNAMIC_CONFIG, e);
          }
          U(e, ...i) {
            const s = this.L?.getWindows();
            if (s)
              for (const r of s)
                try {
                  r.win?.webContents.send(e, ...i);
                } catch (n) {
                  this.f.warn(`broadcast to windowId=${r.win?.id} failed: `, n);
                }
          }
          async W() {
            try {
              const e = this.M.getCommonApiParams(),
                i = Object.keys(e)
                  .map((o) => ({ name: o, value: e[o] }))
                  .filter((o) => !!o.value)
                  .map((o) => [o.name, o.value]),
                s = i.length > 0 ? `?${new URLSearchParams(i).toString()}` : '',
                r = this.w.repeat(i);
              if (r.success)
                return this.bb('[pullDynamicConfig:repeat]', 'Repeat Request', i), r.value;
              this.bb('[pullDynamicConfig:url]', `${this.h}/icube/api/v1/native/config/query${s}`);
              const n = await this.C.request(
                {
                  type: 'GET',
                  url: `${this.h}/icube/api/v1/native/config/query${s}`,
                  headers: this.X(),
                },
                gt.None
              ).then(Hf);
              return (
                this.bb('[pullDynamicConfig:success]', n),
                this.I.publicLog2('DynamicConfig:pullConfig', {
                  success: !0,
                  config: JSON.stringify(n),
                }),
                this.w.set(i, n?.data || null),
                n?.data || null
              );
            } catch (e) {
              return (
                this.bb('[pullDynamicConfig:fail]', e),
                this.I.publicLog2('DynamicConfig:pullConfig', { success: !0, error: e.message }),
                null
              );
            }
          }
          X() {
            return this.M.iCubePPE
              ? { 'Content-Type': 'application/json', 'x-tt-env': this.M.iCubePPE }
              : { 'Content-Type': 'application/json' };
          }
          async Y(e) {
            try {
              const i = vh.randomBytes(16),
                s = vh.createHash('md5').update(this.D.nameShort).digest('hex'),
                r = vh.createCipheriv('aes-256-cbc', Buffer.from(s), i);
              let n = r.update(JSON.stringify(e));
              (n = Buffer.concat([n, r.final()])),
                R1.writeFileSync(this.g, Buffer.concat([i, n])),
                this.I.publicLog2('DynamicConfig:saveConfig', { success: !0 });
            } catch (i) {
              this.bb('[saveDynamicConfig:fail]', i),
                this.I.publicLog2('DynamicConfig:saveConfig', { success: !1, error: i.message });
            }
          }
          async Z() {
            const e = R1.readFileSync(this.g),
              i = e.slice(0, 16),
              s = e.slice(16),
              r = vh.createHash('md5').update(this.D.nameShort).digest('hex'),
              n = vh.createDecipheriv('aes-256-cbc', Buffer.from(r), i);
            let o = n.update(s);
            return (o = Buffer.concat([o, n.final()])), JSON.parse(o.toString());
          }
          $(e) {
            this.bb('updateUserInfo', { userId: e?.userId, region: e?.region }),
              (this.a = e),
              this.w.clear(),
              this.Q();
          }
          ab(e) {
            this.bb('updateDeviceId', e), (this.b = e), this.w.clear(), this.Q();
          }
          bb(e, ...i) {
            wo(this.D) !== 'stable' ? this.f.info(e, ...i) : this.f.trace(e, ...i);
          }
          getDynamicConfigData() {
            return this.n;
          }
          async getDynamicConfigWhenPullDone() {
            return this.r.isOpen() || (await this.r.wait()), this.n;
          }
          async refreshDynamicConfig() {
            return this.w.clear(), await this.Q();
          }
          updateConfig(e) {
            const i = {};
            BD(
              e,
              {
                packageType: this.j,
                machineId: this.y,
                deviceId: this.b,
                userId: this.a?.userId,
                scope: this.a?.account?.scope,
                organization: this.a?.account?.organization,
              },
              i
            );
            const s = UD(i);
            this.saveNonFullConfig(s);
          }
          dispose() {
            super.dispose(), this.m && clearInterval(this.m);
          }
        }),
        (N1 = sy =
          __decorate(
            [
              __param(1, F1),
              __param(2, an),
              __param(3, Be),
              __param(4, $s),
              __param(5, fs),
              __param(6, so),
              __param(7, Vt),
              __param(8, Po),
              __param(9, Tt),
              __param(10, O1),
            ],
            N1
          ));
    },
  });
import * as kh from 'fs';
import * as ry from 'path';
import { app as zD, BrowserWindow as wX } from 'electron';
import { exec as VD } from 'child_process';
var ny,
  B1,
  bX = b({
    'out-build/vs/code/electron-main/iCubeSetupService.js'() {
      'use strict';
      X(),
        U(),
        $e(),
        K(),
        Ei(),
        se(),
        qt(),
        Xa(),
        pu(),
        vt(),
        Oe(),
        Pt(),
        Zs(),
        Ze(),
        le(),
        E1(),
        St(),
        vD(),
        Gc(),
        Yg(),
        ft(),
        xe(),
        ie(),
        (ny = W('IMainICubeSetupManagementService')),
        (B1 = class extends H {
          constructor(e, i, s, r, n, o, a, c, l) {
            super(),
              (this.j = e),
              (this.m = i),
              (this.n = s),
              (this.r = r),
              (this.s = n),
              (this.t = o),
              (this.u = a),
              (this.w = c),
              (this.y = l),
              (this.a = this.B(this.n.createIPCObjectUrl())),
              this.registerListeners();
          }
          initialize(e) {
            (this.c = e.iCubeEventReportService), (this.f = e.telemetryService);
          }
          registerListeners() {
            de.handle('vscode:startSetup', async () => {
              this.t.setItem(ku, !0);
            }),
              de.handle('vscode:changeSetupState', async (e, i) => {
                this.r.info('changeSetupState', i, this.s.argvResource.fsPath),
                  this.t.setItem(Zw, i.region);
                let s = {};
                try {
                  const o = await kh.promises.readFile(this.s.argvResource.fsPath, 'utf-8');
                  s = JSON.parse(Vc(o));
                } catch {
                  s = {};
                }
                s &&
                  ((s.locale = i.language),
                  await kh.promises.writeFile(
                    this.s.argvResource.fsPath,
                    JSON.stringify(s, null, 2)
                  ));
                const r = M(this.s.userDataPath, 'User', 'settings.json');
                this.r.info('changeSetupState', 'setting', r, i.theme);
                let n = {};
                try {
                  const o = kh.readFileSync(r, 'utf-8');
                  n = JSON.parse(Vc(o));
                } catch {
                  n = {};
                }
                n &&
                  (i.theme
                    ? ((n['workbench.colorTheme'] = i.theme),
                      await kh.promises.writeFile(r, JSON.stringify(n, null, 2)))
                    : (delete n['workbench.colorTheme'],
                      await kh.promises.writeFile(r, JSON.stringify(n, null, 2))));
              }),
              de.handle(
                'vscode:importFromVSCode',
                async (e, i, s) => (
                  this.r.info('importFromVSCode'), await this.j.importFromVS(i, s)
                )
              ),
              de.handle(
                'vscode:checkVSCode',
                async (e) => (
                  this.r.info('checkVSCode'),
                  await Promise.all([this.j.checkVSCode(Fs.VSCode), this.j.checkVSCode(Fs.Cursor)])
                )
              ),
              de.handle('vscode:setupComplete', async (e) => {
                this.r.info('setupComplete'),
                  this.t.setItem(ku, !0),
                  (this.h = !0),
                  await this.w.relaunch();
              }),
              de.handle('vscode:setTitleBarOverlay', async (e, i) => {
                this.setTitleBarOverlay(i);
              });
          }
          async openSetup(e) {
            if (this.g && this.b) {
              this.g.focus(), await this.b.p;
              return;
            }
            this.b || (this.b = new zt()), await this.openSetupWindow(e), await this.b.p;
          }
          async getSystemLocale() {
            return new Promise((e, i) => {
              VD('defaults read NSGlobalDomain AppleLocale', (s, r) => {
                s && i(s), e(r);
              });
            });
          }
          async openSetupWindow(e) {
            const i = this.m.invokeFunction(hf, { ...Xn(), width: 1e3, height: 680 }, void 0, {
              preload: Ht.asFileUri('vs/base/parts/sandbox/electron-sandbox/preload.js').fsPath,
              additionalArguments: [`--vscode-window-config=${this.a.resource.toString()}`],
            });
            (i.minWidth = 1e3),
              (i.minHeight = 680),
              Lt(i.titleBarOverlay) && (i.titleBarOverlay.color = '#181a1f');
            const s = await this.j.checkVSCode(Fs.VSCode),
              r = await this.j.checkVSCode(Fs.Cursor);
            this.g = new wX(i);
            let n = 'zh-cn';
            try {
              const a = (
                zD.getSystemLocale() ??
                zD.getPreferredSystemLanguages()?.[0] ??
                'en'
              ).toLowerCase();
              n = a.startsWith('zh-') ? 'zh-cn' : a.startsWith('ja') ? 'ja' : 'en';
            } catch {
              n = 'en';
            }
            const o = !this.t.getItem(Vv);
            return (
              this.a.update({
                appRoot: this.s.appRoot,
                windowId: this.g.id,
                userEnv: {},
                product: this.u,
                iCubeApp: this.u.iCubeApp,
                skipLogin: e?.skipLogin,
                lang: n,
                isWindows: J,
                appName: this.u.applicationName.toLowerCase(),
                isVscodeExisted: s,
                isCursorExisted: r,
                isFirstInstall: o,
                currentInstallVersion: this.u.tronBuildVersion,
                provider: this.u.provider,
                machineId: e?.machineId,
                deviceId: e?.deviceId,
                quality: this.u.quality,
                nls: { messages: Zh(), language: Jc() },
              }),
              this.r.info('[MainICubeSetupManagementService] new window to load setupMain.html'),
              this.B(P.fromNodeEventEmitter(this.g, 'unresponsive')(() => this.z(1))),
              this.B(
                P.fromNodeEventEmitter(
                  this.g.webContents,
                  'render-process-gone',
                  (a, c) => c
                )((a) => this.z(2, { ...a }))
              ),
              this.B(
                P.fromNodeEventEmitter(
                  this.g.webContents,
                  'did-fail-load',
                  (a, c, l, h, d, p, m) => ({
                    exitCode: c,
                    reason: l,
                    url: h,
                    isMainFrame: d,
                    frameProcessId: p,
                    frameRoutingId: m,
                  })
                )(
                  ({
                    exitCode: a,
                    reason: c,
                    url: l,
                    isMainFrame: h,
                    frameProcessId: d,
                    frameRoutingId: p,
                  }) =>
                    this.z(
                      3,
                      { reason: c, exitCode: a },
                      { url: l, isMainFrame: h, frameProcessId: d, frameRoutingId: p }
                    )
                )
              ),
              await this.g.loadURL(
                Ht.asBrowserUri(
                  `vs/code/electron-sandbox/setup/setup${this.s.isBuilt ? '' : '-dev'}.html`
                ).toString(!0)
              ),
              (process.env.VSCODE_DEV || process.env.ICUBE_DEBUG_OPEN_DEVTOOLS) &&
                this.g.webContents.openDevTools(),
              this.g.once('close', () => {
                this.r.info('[MainICubeSetupManagementService] login window closed by user');
              }),
              this.g.once('closed', () => {
                this.r.info('[MainICubeSetupManagementService] login window closed'),
                  this.h
                    ? (this.g = void 0)
                    : (this.b && this.b.cancel(),
                      (this.b = void 0),
                      this.w.quit(),
                      (this.g = void 0));
              }),
              this.g
            );
          }
          async z(e, i, s) {
            switch (e) {
              case 2:
                this.r.error(
                  `SetupWindow: renderer process gone (reason: ${i?.reason || '<unknown>'}, code: ${
                    i?.exitCode || '<unknown>'
                  })`
                );
                break;
              case 1:
                this.r.error('SetupWindow: detected unresponsive');
                break;
              case 3:
                this.r.error(
                  `SetupWindow: failed to load (reason: ${i?.reason || '<unknown>'}, code: ${
                    i?.exitCode || '<unknown>'
                  })`
                ),
                  this.r.error(
                    `SetupWindow: failed to load more details: (url: ${
                      s?.url || '<unknown>'
                    }, isMainFrame: ${s?.isMainFrame || '<unknown>'}, frameProcessId: ${
                      s?.frameProcessId || '<unknown>'
                    }, frameRoutingId: ${s?.frameRoutingId || '<unknown>'})`
                  );
                break;
            }
            this.f?.publicLog2('windowerror', {
              type: e,
              source: 'setup',
              reason: i?.reason,
              code: i?.exitCode,
            }),
              this.C(e, i?.reason, i?.exitCode, s);
          }
          async C(e, i, s, r) {
            const o = { 1: 'unresponsive', 2: 'process_gone', 3: 'load_error' }[e];
            (await this.c?.getSlardarClient())?.sendEvent?.({
              name: 'windowerror',
              metrics: { windowId: this.g?.id || 0, totalWinCount: 1 },
              categories: {
                type: o,
                source: 'setup',
                exitCode: `${s || 0}`,
                reason: i,
                ...(r || {}),
              },
            });
          }
          setTitleBarOverlay(e) {
            this.g?.setTitleBarOverlay?.(e);
          }
          getWindow() {
            return this.g;
          }
          execPromise(e) {
            return new Promise((i, s) => {
              VD(e, (r, n, o) => {
                if (r) {
                  s(r);
                  return;
                }
                if (o.trim()) {
                  s(new Error(`StdErr: ${o}`));
                  return;
                }
                i(n.trim());
              });
            });
          }
          async installCliInWindows() {
            const e = ry.resolve(this.s.appRoot, '..', '..', 'bin'),
              i =
                this.u.quality === 'local'
                  ? ry.resolve(
                      this.s.appRoot,
                      'lib/vscode/src/vs/code/electron-main/fixtures/set-env.ps1'
                    )
                  : ry.resolve(this.s.appRoot, '..', '..', 'tools', 'set-env.ps1');
            this.r.info('[installCliInWindows]', e, this.u.quality);
            const s = await this.execPromise(`powershell.exe -File "${i}" "${e}"`);
            this.r.info('[installCliInWindows] result', s);
          }
        }),
        (B1 = __decorate(
          [
            __param(1, Ks),
            __param(2, hc),
            __param(3, ee),
            __param(4, dt),
            __param(5, kt),
            __param(6, Be),
            __param(7, st),
            __param(8, $t),
          ],
          B1
        ));
    },
  });
import vX from 'os';
import { system as yX, osInfo as kX, cpu as SX } from 'systeminformation';
var U1,
  EX = b({
    'out-build/vs/platform/iCubeSystemInformation/electron-main/iCubeSystemInformationService.js'() {
      'use strict';
      Qv(),
        Ei(),
        se(),
        (U1 = class extends TD {
          constructor(e) {
            super(), (this.s = e), this.t();
          }
          t() {
            de.handle(this.a, () => this.getSystemInfo()),
              de.handle(this.b, () => this.getOsInfo()),
              de.handle(this.c, () => this.getCpuInfo()),
              de.handle(this.f, () => this.getMemInfo());
          }
          async j() {
            try {
              return await yX();
            } catch (e) {
              return this.s.error(e), null;
            }
          }
          async m() {
            try {
              return await kX();
            } catch (e) {
              return this.s.error(e), null;
            }
          }
          async n() {
            try {
              return await SX();
            } catch (e) {
              return this.s.error(e), null;
            }
          }
          async r() {
            return { total: vX.totalmem() };
          }
        }),
        (U1 = __decorate([__param(0, ee)], U1));
    },
  });
import 'child_process';
var j1,
  CX,
  DX = b({
    'out-build/vs/platform/processMonitor/common/process.js'() {
      'use strict';
      Oe(),
        K(),
        (j1 = W('iCubeProcessDiagnosticsMainService')),
        (CX = W('IICubeProcessMonitorSandboxService'));
    },
  }),
  oy,
  GD,
  xX = b({
    'out-build/vs/platform/iCubeWebviewDevtools/common/service.js'() {
      'use strict';
      K(), (oy = W('iCubeWebviewDevtoolsManager')), (GD = 'iCubeWebviewDevtools');
    },
  }),
  Sh,
  qD,
  AX = b({
    'out-build/vs/base/common/promises.js'() {
      'use strict';
      (function (t) {
        (t.pending = 'pending'), (t.fulfilled = 'fulfilled'), (t.rejected = 'rejected');
      })(Sh || (Sh = {})),
        (qD = class {
          constructor() {
            (this.state = Sh.pending),
              (this.promise = new Promise((t, e) => {
                (this.resolve = (i) => {
                  (this.state = Sh.fulfilled), t(i);
                }),
                  (this.reject = (i) => {
                    (this.state = Sh.rejected), e(i);
                  });
              })),
              this.promise.catch(() => {});
          }
        });
    },
  }),
  KD,
  IX = b({
    'out-build/vs/platform/iCubeWebviewDevtools/common/_cdp.js'() {
      'use strict';
      KD = { getTargets: () => ({ command: 'Target.getTargets', params: {} }) };
    },
  }),
  JD,
  $X = b({
    'out-build/vs/platform/iCubeWebviewDevtools/electron-main/debugger.js'() {
      'use strict';
      AX(),
        IX(),
        (JD = class {
          constructor(t, e) {
            (this.c = t),
              (this.d = e),
              (this.a = new qD()),
              (this.b = () => {}),
              t.debugger.isAttached() || t.debugger.attach('1.3'),
              t.debugger.on('message', this.b),
              (this.frameUrl = e?.url),
              this.e();
          }
          async e() {
            try {
              await this.f(), this.a.resolve();
            } catch (t) {
              this.a.reject(t);
            }
          }
          async f() {
            if (!this.frameUrl) return;
            const t = await this.g(KD.getTargets());
            for (let e = 0; e < t.targetInfos.length; e++) {
              const i = t.targetInfos[e];
              if (i.type === 'iframe' && i.url === this.frameUrl) {
                this.sessionId = i.sessionId;
                break;
              }
            }
          }
          async g(t) {
            return this.sendCommand(t.command, t.params);
          }
          async invoke(t) {
            return await this.a.promise, this.g(t);
          }
          async sendCommand(t, e) {
            if (!this.isAttached()) throw new Error('Debugger is not attached');
            return this.c.debugger.sendCommand(t, e, this.sessionId);
          }
          isAttached() {
            return this.c.debugger.isAttached();
          }
          detach() {
            this.isAttached() && this.c.debugger.detach();
          }
          dispose() {
            this.c.debugger.off('message', this.b), this.detach();
          }
        });
    },
  }),
  XD,
  W1,
  H1,
  YD = b({
    'out-build/vs/platform/iCubeWebviewDevtools/common/emulation/devtools_frontend.js'() {
      'use strict';
      (function (t) {
        let e;
        (function (i) {
          class s {
            constructor(n, o) {
              (this.width = n), (this.height = o);
            }
          }
          i.Size = s;
        })((e = t.Geometry || (t.Geometry = {})));
      })(XD || (XD = {})),
        (function (t) {
          let e;
          (function (r) {
            let n;
            (function (o) {
              (o.FROM_VIEWPORT = 'fromViewport'),
                (o.FROM_CLIP = 'fromClip'),
                (o.FULLPAGE = 'fullpage');
            })((n = r.ScreenshotMode || (r.ScreenshotMode = {})));
          })((e = t.ScreenCaptureModel || (t.ScreenCaptureModel = {})));
          let i;
          (function (r) {
            let n;
            (function (o) {
              (o.WINDOWS = 'Windows'), (o.MAC = 'Mac'), (o.LINUX = 'Linux');
            })((n = r.EmulatedOSType || (r.EmulatedOSType = {})));
          })((i = t.OverlayModel || (t.OverlayModel = {})));
          let s;
          (function (r) {
            let n;
            (function (o) {
              function a(c) {
                return c.replace('%s', '128.0.6613.186');
              }
              o.patchUserAgentWithChromeVersion = a;
            })((n = r.MultitargetNetworkManager || (r.MultitargetNetworkManager = {})));
          })((s = t.NetworkManager || (t.NetworkManager = {})));
        })(W1 || (W1 = {})),
        (function (t) {
          let e;
          (function (i) {
            class s {
              constructor(o, a) {
                (this.f = []), (this.e = o), (this.d = a), (this.c = a);
              }
              get() {
                return this.c;
              }
              set(o) {
                this.c !== o && ((this.c = o), this.f.forEach((a) => a(o)));
              }
              addChangeListener(o, a) {
                this.f.push(o);
              }
              dispose() {
                this.f = [];
              }
            }
            i.Setting = s;
            class r {
              static {
                this.c = null;
              }
              constructor() {
                this.d = new Map();
              }
              static instance() {
                return r.c || (r.c = new r()), r.c;
              }
              createSetting(o, a) {
                let c = this.d.get(o);
                return c || ((c = new s(o, a)), this.d.set(o, c)), c;
              }
            }
            i.Settings = r;
          })((e = t.Settings || (t.Settings = {})));
        })(H1 || (H1 = {}));
    },
  }),
  z1,
  QD,
  ZD,
  ex,
  ay,
  aa,
  tx,
  PX,
  _X = b({
    'out-build/vs/platform/iCubeWebviewDevtools/common/emulation/DeviceModeModel.js'() {
      'use strict';
      YD(),
        ox(),
        (z1 = class {
          constructor(t, e, i, s) {
            (this.left = t), (this.top = e), (this.right = i), (this.bottom = s);
          }
          isEqual(t) {
            return (
              t !== null &&
              this.left === t.left &&
              this.top === t.top &&
              this.right === t.right &&
              this.bottom === t.bottom
            );
          }
        }),
        (function (t) {
          t.UPDATED = 'Updated';
        })(QD || (QD = {})),
        (function (t) {
          (t.None = 'None'), (t.Responsive = 'Responsive'), (t.Device = 'Device');
        })(ZD || (ZD = {})),
        (function (t) {
          (t.MOBILE = 'Mobile'),
            (t.MOBILE_NO_TOUCH = 'Mobile (no touch)'),
            (t.DESKTOP = 'Desktop'),
            (t.DESKTOP_TOUCH = 'Desktop (touch)');
        })(ex || (ex = {})),
        (ay = 50),
        (aa = 9999),
        (tx =
          'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36'),
        (PX = W1.NetworkManager.MultitargetNetworkManager.patchUserAgentWithChromeVersion(tx));
    },
  });
function ix(t) {
  return t.replace(/@url\(([^\)]*?)\)/g, (e, i) =>
    new URL(`../../emulated_devices/${i}`, import.meta.url).toString()
  );
}
var cy,
  ca,
  la,
  _c,
  ua,
  V1,
  sx,
  vn,
  ly,
  rx,
  nx,
  uy,
  ox = b({
    'out-build/vs/platform/iCubeWebviewDevtools/common/emulation/EmulatedDevices.js'() {
      'use strict';
      _X(),
        YD(),
        (cy = class LI {
          constructor() {
            (this.title = ''),
              (this.type = V1.Unknown),
              (this.vertical = {
                width: 0,
                height: 0,
                outlineInsets: null,
                outlineImage: null,
                hinge: null,
              }),
              (this.horizontal = {
                width: 0,
                height: 0,
                outlineInsets: null,
                outlineImage: null,
                hinge: null,
              }),
              (this.deviceScaleFactor = 1),
              (this.capabilities = ['touch', 'mobile']),
              (this.userAgent = ''),
              (this.userAgentMetadata = null),
              (this.modes = []),
              (this.isDualScreen = !1),
              (this.isFoldableScreen = !1),
              (this.verticalSpanned = {
                width: 0,
                height: 0,
                outlineInsets: null,
                outlineImage: null,
                hinge: null,
              }),
              (this.horizontalSpanned = {
                width: 0,
                height: 0,
                outlineInsets: null,
                outlineImage: null,
                hinge: null,
              }),
              (this._showInternal = vn.Default),
              (this._showByDefault = !0);
          }
          static fromJSONV1(e) {
            try {
              let c = function (E, x, F, Y) {
                  if (typeof E != 'object' || E === null || !E.hasOwnProperty(x)) {
                    if (typeof Y < 'u') return Y;
                    throw new Error("Emulated device is missing required property '" + x + "'");
                  }
                  const oe = E[x];
                  if (typeof oe !== F || oe === null)
                    throw new Error(
                      "Emulated device property '" + x + "' has wrong type '" + typeof oe + "'"
                    );
                  return oe;
                },
                l = function (E, x) {
                  const F = c(E, x, 'number');
                  if (F !== Math.abs(F))
                    throw new Error("Emulated device value '" + x + "' must be integer");
                  return F;
                },
                h = function (E) {
                  return new z1(l(E, 'left'), l(E, 'top'), l(E, 'right'), l(E, 'bottom'));
                },
                d = function (E) {
                  const x = {};
                  if (((x.r = l(E, 'r')), x.r < 0 || x.r > 255))
                    throw new Error('color has wrong r value: ' + x.r);
                  if (((x.g = l(E, 'g')), x.g < 0 || x.g > 255))
                    throw new Error('color has wrong g value: ' + x.g);
                  if (((x.b = l(E, 'b')), x.b < 0 || x.b > 255))
                    throw new Error('color has wrong b value: ' + x.b);
                  if (((x.a = c(E, 'a', 'number')), x.a < 0 || x.a > 1))
                    throw new Error('color has wrong a value: ' + x.a);
                  return x;
                },
                p = function (E) {
                  const x = {};
                  if (((x.width = l(E, 'width')), x.width < 0 || x.width > aa))
                    throw new Error('Emulated device has wrong hinge width: ' + x.width);
                  if (((x.height = l(E, 'height')), x.height < 0 || x.height > aa))
                    throw new Error('Emulated device has wrong hinge height: ' + x.height);
                  if (((x.x = l(E, 'x')), x.x < 0 || x.x > aa))
                    throw new Error('Emulated device has wrong x offset: ' + x.height);
                  if (((x.y = l(E, 'y')), x.x < 0 || x.x > aa))
                    throw new Error('Emulated device has wrong y offset: ' + x.height);
                  return (
                    E.contentColor && (x.contentColor = d(E.contentColor)),
                    E.outlineColor && (x.outlineColor = d(E.outlineColor)),
                    x
                  );
                },
                m = function (E) {
                  const x = {};
                  if (((x.width = l(E, 'width')), x.width < 0 || x.width > aa || x.width < ay))
                    throw new Error('Emulated device has wrong width: ' + x.width);
                  if (((x.height = l(E, 'height')), x.height < 0 || x.height > aa || x.height < ay))
                    throw new Error('Emulated device has wrong height: ' + x.height);
                  const F = c(E.outline, 'insets', 'object', null);
                  if (F) {
                    if (
                      ((x.outlineInsets = h(F)),
                      x.outlineInsets.left < 0 || x.outlineInsets.top < 0)
                    )
                      throw new Error('Emulated device has wrong outline insets');
                    x.outlineImage = c(E.outline, 'image', 'string');
                  }
                  return E.hinge && (x.hinge = p(c(E, 'hinge', 'object', void 0))), x;
                };
              var i = c,
                s = l,
                r = h,
                n = d,
                o = p,
                a = m;
              const w = new LI();
              w.title = c(e, 'title', 'string');
              const v = c(e, 'type', 'string');
              if (!Object.values(V1).includes(v))
                throw new Error('Emulated device has wrong type: ' + v);
              (w.type = v), (w.order = c(e, 'order', 'number', 0));
              const k = c(e, 'user-agent', 'string');
              (w.userAgent =
                W1.NetworkManager.MultitargetNetworkManager.patchUserAgentWithChromeVersion(k)),
                (w.userAgentMetadata = c(e, 'user-agent-metadata', 'object', null));
              const y = c(e, 'capabilities', 'object', []);
              if (!Array.isArray(y))
                throw new Error('Emulated device capabilities must be an array');
              w.capabilities = [];
              for (let E = 0; E < y.length; ++E) {
                if (typeof y[E] != 'string')
                  throw new Error('Emulated device capability must be a string');
                w.capabilities.push(y[E]);
              }
              if (
                ((w.deviceScaleFactor = c(e.screen, 'device-pixel-ratio', 'number')),
                w.deviceScaleFactor < 0 || w.deviceScaleFactor > 100)
              )
                throw new Error(
                  'Emulated device has wrong deviceScaleFactor: ' + w.deviceScaleFactor
                );
              if (
                ((w.vertical = m(c(e.screen, 'vertical', 'object'))),
                (w.horizontal = m(c(e.screen, 'horizontal', 'object'))),
                (w.isDualScreen = c(e, 'dual-screen', 'boolean', !1)),
                (w.isFoldableScreen = c(e, 'foldable-screen', 'boolean', !1)),
                (w.isDualScreen || w.isFoldableScreen) &&
                  ((w.verticalSpanned = m(c(e.screen, 'vertical-spanned', 'object', null))),
                  (w.horizontalSpanned = m(c(e.screen, 'horizontal-spanned', 'object', null)))),
                (w.isDualScreen || w.isFoldableScreen) &&
                  (!w.verticalSpanned || !w.horizontalSpanned))
              )
                throw new Error(
                  "Emulated device '" + w.title + "'has dual screen without spanned orientations"
                );
              const C = c(e, 'modes', 'object', [
                { title: 'default', orientation: 'vertical' },
                { title: 'default', orientation: 'horizontal' },
              ]);
              if (!Array.isArray(C)) throw new Error('Emulated device modes must be an array');
              w.modes = [];
              for (let E = 0; E < C.length; ++E) {
                const x = {};
                if (
                  ((x.title = c(C[E], 'title', 'string')),
                  (x.orientation = c(C[E], 'orientation', 'string')),
                  x.orientation !== la &&
                    x.orientation !== ca &&
                    x.orientation !== ua &&
                    x.orientation !== _c)
                )
                  throw new Error(
                    "Emulated device mode has wrong orientation '" + x.orientation + "'"
                  );
                const F = w.orientationByName(x.orientation);
                if (
                  ((x.insets = h(
                    c(C[E], 'insets', 'object', { left: 0, top: 0, right: 0, bottom: 0 })
                  )),
                  x.insets.top < 0 ||
                    x.insets.left < 0 ||
                    x.insets.right < 0 ||
                    x.insets.bottom < 0 ||
                    x.insets.top + x.insets.bottom > F.height ||
                    x.insets.left + x.insets.right > F.width)
                )
                  throw new Error("Emulated device mode '" + x.title + "'has wrong mode insets");
                (x.image = c(C[E], 'image', 'string', null)), w.modes.push(x);
              }
              w._showByDefault = c(e, 'show-by-default', 'boolean', void 0);
              const I = c(e, 'show', 'string', vn.Default);
              if (!Object.values(vn).includes(I))
                throw new Error('Emulated device has wrong show mode: ' + I);
              return (w._showInternal = I), w;
            } catch {
              return null;
            }
          }
          static deviceComparator(e, i) {
            const s = e.order || 0,
              r = i.order || 0;
            return s > r ? 1 : r > s || e.title < i.title ? -1 : e.title > i.title ? 1 : 0;
          }
          modesForOrientation(e) {
            const i = [];
            for (let s = 0; s < this.modes.length; s++)
              this.modes[s].orientation === e && i.push(this.modes[s]);
            return i;
          }
          getSpanPartner(e) {
            switch (e.orientation) {
              case la:
                return this.modesForOrientation(ua)[0];
              case ca:
                return this.modesForOrientation(_c)[0];
              case ua:
                return this.modesForOrientation(la)[0];
              default:
                return this.modesForOrientation(ca)[0];
            }
          }
          getRotationPartner(e) {
            switch (e.orientation) {
              case _c:
                return this.modesForOrientation(ua)[0];
              case ua:
                return this.modesForOrientation(_c)[0];
              case ca:
                return this.modesForOrientation(la)[0];
              default:
                return this.modesForOrientation(ca)[0];
            }
          }
          toJSON() {
            const e = {};
            (e.title = this.title),
              (e.type = this.type),
              (e['user-agent'] = this.userAgent),
              (e.capabilities = this.capabilities),
              (e.screen = {
                'device-pixel-ratio': this.deviceScaleFactor,
                vertical: this.c(this.vertical),
                horizontal: this.c(this.horizontal),
                'vertical-spanned': void 0,
                'horizontal-spanned': void 0,
              }),
              (this.isDualScreen || this.isFoldableScreen) &&
                ((e.screen['vertical-spanned'] = this.c(this.verticalSpanned)),
                (e.screen['horizontal-spanned'] = this.c(this.horizontalSpanned))),
              (e.modes = []);
            for (let i = 0; i < this.modes.length; ++i) {
              const s = {
                title: this.modes[i].title,
                orientation: this.modes[i].orientation,
                insets: {
                  left: this.modes[i].insets.left,
                  top: this.modes[i].insets.top,
                  right: this.modes[i].insets.right,
                  bottom: this.modes[i].insets.bottom,
                },
                image: this.modes[i].image || void 0,
              };
              e.modes.push(s);
            }
            return (
              (e['show-by-default'] = this._showByDefault),
              (e['dual-screen'] = this.isDualScreen),
              (e['foldable-screen'] = this.isFoldableScreen),
              (e.show = this._showInternal),
              this.userAgentMetadata && (e['user-agent-metadata'] = this.userAgentMetadata),
              e
            );
          }
          c(e) {
            const i = {};
            return (
              (i.width = e.width),
              (i.height = e.height),
              e.outlineInsets &&
                (i.outline = {
                  insets: {
                    left: e.outlineInsets.left,
                    top: e.outlineInsets.top,
                    right: e.outlineInsets.right,
                    bottom: e.outlineInsets.bottom,
                  },
                  image: e.outlineImage,
                }),
              e.hinge &&
                ((i.hinge = {
                  width: e.hinge.width,
                  height: e.hinge.height,
                  x: e.hinge.x,
                  y: e.hinge.y,
                  contentColor: void 0,
                  outlineColor: void 0,
                }),
                e.hinge.contentColor &&
                  (i.hinge.contentColor = {
                    r: e.hinge.contentColor.r,
                    g: e.hinge.contentColor.g,
                    b: e.hinge.contentColor.b,
                    a: e.hinge.contentColor.a,
                  }),
                e.hinge.outlineColor &&
                  (i.hinge.outlineColor = {
                    r: e.hinge.outlineColor.r,
                    g: e.hinge.outlineColor.g,
                    b: e.hinge.outlineColor.b,
                    a: e.hinge.outlineColor.a,
                  })),
              i
            );
          }
          modeImage(e) {
            return e.image ? ix(e.image) : '';
          }
          outlineImage(e) {
            const i = this.orientationByName(e.orientation);
            return i.outlineImage ? ix(i.outlineImage) : '';
          }
          orientationByName(e) {
            switch (e) {
              case ua:
                return this.verticalSpanned;
              case _c:
                return this.horizontalSpanned;
              case la:
                return this.vertical;
              default:
                return this.horizontal;
            }
          }
          show() {
            return this._showInternal === vn.Default
              ? this._showByDefault
              : this._showInternal === vn.Always;
          }
          setShow(e) {
            this._showInternal = e ? vn.Always : vn.Never;
          }
          copyShowFrom(e) {
            this._showInternal = e._showInternal;
          }
          touch() {
            return this.capabilities.indexOf('touch') !== -1;
          }
          mobile() {
            return this.capabilities.indexOf('mobile') !== -1;
          }
        }),
        (ca = 'horizontal'),
        (la = 'vertical'),
        (_c = 'horizontal-spanned'),
        (ua = 'vertical-spanned'),
        (function (t) {
          (t.Phone = 'phone'),
            (t.Tablet = 'tablet'),
            (t.Notebook = 'notebook'),
            (t.Desktop = 'desktop'),
            (t.Unknown = 'unknown');
        })(V1 || (V1 = {})),
        (function (t) {
          (t.TOUCH = 'touch'), (t.MOBILE = 'mobile');
        })(sx || (sx = {})),
        (function (t) {
          (t.Always = 'Always'), (t.Default = 'Default'), (t.Never = 'Never');
        })(vn || (vn = {})),
        (rx = class TI {
          constructor() {
            (this._standardSetting = H1.Settings.Settings.instance().createSetting(
              'standard-emulated-device-list',
              []
            )),
              (this._standardInternal = new Set()),
              this.d(this._standardSetting.get(), this._standardInternal),
              this.c(),
              (this._customSetting = H1.Settings.Settings.instance().createSetting(
                'custom-emulated-device-list',
                []
              )),
              (this._customInternal = new Set()),
              this.d(this._customSetting.get(), this._customInternal) || this.saveCustomDevices();
          }
          static instance() {
            return ly || (ly = new TI()), ly;
          }
          c() {
            const e = new Set();
            for (const i of uy) {
              const s = cy.fromJSONV1(i);
              s && e.add(s);
            }
            this.e(this._standardInternal, e),
              (this._standardInternal = e),
              this.saveStandardDevices();
          }
          d(e, i) {
            if (!Array.isArray(e)) return !1;
            let s = !0;
            for (let r = 0; r < e.length; ++r) {
              const n = cy.fromJSONV1(e[r]);
              n
                ? (i.add(n),
                  n.modes.length ||
                    (n.modes.push({
                      title: '',
                      orientation: ca,
                      insets: new z1(0, 0, 0, 0),
                      image: null,
                    }),
                    n.modes.push({
                      title: '',
                      orientation: la,
                      insets: new z1(0, 0, 0, 0),
                      image: null,
                    })))
                : (s = !1);
            }
            return s;
          }
          static rawEmulatedDevicesForTest() {
            return uy;
          }
          standard() {
            return [...this._standardInternal];
          }
          custom() {
            return [...this._customInternal];
          }
          addCustomDevice(e) {
            this._customInternal.add(e), this.saveCustomDevices();
          }
          removeCustomDevice(e) {
            this._customInternal.delete(e), this.saveCustomDevices();
          }
          saveCustomDevices() {
            const e = [];
            this._customInternal.forEach((i) => e.push(i.toJSON())), this._customSetting.set(e);
          }
          saveStandardDevices() {
            const e = [];
            this._standardInternal.forEach((i) => e.push(i.toJSON())), this._standardSetting.set(e);
          }
          e(e, i) {
            const s = new Map();
            for (const r of e) s.set(r.title, r);
            for (const r of i) {
              const n = s.get(r.title);
              n && r.copyShowFrom(n);
            }
          }
        }),
        (function (t) {
          (t.CUSTOM_DEVICES_UPDATED = 'CustomDevicesUpdated'),
            (t.STANDARD_DEVICES_UPDATED = 'StandardDevicesUpdated');
        })(nx || (nx = {})),
        (uy = [
          {
            order: 10,
            'show-by-default': !0,
            title: 'iPhone SE',
            screen: {
              horizontal: { width: 667, height: 375 },
              'device-pixel-ratio': 2,
              vertical: { width: 375, height: 667 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1',
            type: 'phone',
          },
          {
            order: 13,
            'show-by-default': !0,
            title: 'iPhone 14',
            screen: {
              horizontal: { width: 844, height: 390 },
              'device-pixel-ratio': 3,
              vertical: { width: 390, height: 844 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1',
            type: 'phone',
          },
          {
            order: 15,
            'show-by-default': !0,
            title: 'iPhone 16',
            screen: {
              horizontal: { width: 852, height: 393 },
              'device-pixel-ratio': 3,
              vertical: { width: 393, height: 852 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1',
            type: 'phone',
          },
          {
            order: 16,
            'show-by-default': !0,
            title: 'iPhone 16 Plus',
            screen: {
              horizontal: { width: 932, height: 430 },
              'device-pixel-ratio': 3,
              vertical: { width: 430, height: 932 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1',
            type: 'phone',
          },
          {
            order: 17,
            'show-by-default': !0,
            title: 'iPhone 16 Pro',
            screen: {
              horizontal: { width: 874, height: 402 },
              'device-pixel-ratio': 3,
              vertical: { width: 402, height: 874 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1',
            type: 'phone',
          },
          {
            order: 18,
            'show-by-default': !0,
            title: 'iPhone 16 Pro Max',
            screen: {
              horizontal: { width: 956, height: 440 },
              'device-pixel-ratio': 3,
              vertical: { width: 440, height: 956 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1',
            type: 'phone',
          },
          {
            order: 19,
            'show-by-default': !1,
            title: 'Pixel 3 XL',
            screen: {
              horizontal: { width: 786, height: 393 },
              'device-pixel-ratio': 2.75,
              vertical: { width: 393, height: 786 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 11; Pixel 3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '11',
              architecture: '',
              model: 'Pixel 3',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            order: 20,
            'show-by-default': !0,
            title: 'Pixel 7',
            screen: {
              horizontal: { width: 915, height: 412 },
              'device-pixel-ratio': 2.625,
              vertical: { width: 412, height: 915 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 13; Pixel 7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '13',
              architecture: '',
              model: 'Pixel 5',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            order: 21,
            'show-by-default': !0,
            title: 'Samsung Galaxy S8+',
            screen: {
              horizontal: { width: 740, height: 360 },
              'device-pixel-ratio': 4,
              vertical: { width: 360, height: 740 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 8.0.0; SM-G955U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '8.0.0',
              architecture: '',
              model: 'SM-G955U',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            order: 24,
            'show-by-default': !0,
            title: 'Samsung Galaxy S20 Ultra',
            screen: {
              horizontal: { width: 915, height: 412 },
              'device-pixel-ratio': 3.5,
              vertical: { width: 412, height: 915 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 13; SM-G981B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '13',
              architecture: '',
              model: 'SM-G981B',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            order: 26,
            'show-by-default': !0,
            title: 'iPad Mini',
            screen: {
              horizontal: { width: 1024, height: 768 },
              'device-pixel-ratio': 2,
              vertical: { width: 768, height: 1024 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (iPad; CPU OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1',
            type: 'tablet',
          },
          {
            order: 28,
            'show-by-default': !0,
            title: 'iPad Air',
            screen: {
              horizontal: { width: 1180, height: 820 },
              'device-pixel-ratio': 2,
              vertical: { width: 820, height: 1180 },
            },
            capabilities: ['touch'],
            'user-agent':
              'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Safari/605.1.15',
            type: 'tablet',
          },
          {
            order: 29,
            'show-by-default': !0,
            title: 'iPad Pro',
            screen: {
              horizontal: { width: 1366, height: 1024 },
              'device-pixel-ratio': 2,
              vertical: { width: 1024, height: 1366 },
            },
            capabilities: ['touch'],
            'user-agent':
              'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Safari/605.1.15',
            type: 'tablet',
          },
          {
            order: 30,
            'show-by-default': !0,
            title: 'Surface Pro 7',
            screen: {
              horizontal: { width: 1368, height: 912 },
              'device-pixel-ratio': 2,
              vertical: { width: 912, height: 1368 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Safari/537.36',
            type: 'tablet',
          },
          {
            order: 32,
            'show-by-default': !0,
            'dual-screen': !0,
            title: 'Surface Duo',
            screen: {
              horizontal: { width: 720, height: 540 },
              'device-pixel-ratio': 2.5,
              vertical: { width: 540, height: 720 },
              'vertical-spanned': {
                width: 1114,
                height: 720,
                hinge: {
                  width: 34,
                  height: 720,
                  x: 540,
                  y: 0,
                  contentColor: { r: 38, g: 38, b: 38, a: 1 },
                },
              },
              'horizontal-spanned': {
                width: 720,
                height: 1114,
                hinge: {
                  width: 720,
                  height: 34,
                  x: 0,
                  y: 540,
                  contentColor: { r: 38, g: 38, b: 38, a: 1 },
                },
              },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 11.0; Surface Duo) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '11.0',
              architecture: '',
              model: 'Surface Duo',
              mobile: !0,
            },
            type: 'phone',
            modes: [
              {
                title: 'default',
                orientation: 'vertical',
                insets: { left: 0, top: 0, right: 0, bottom: 0 },
              },
              {
                title: 'default',
                orientation: 'horizontal',
                insets: { left: 0, top: 0, right: 0, bottom: 0 },
              },
              {
                title: 'spanned',
                orientation: 'vertical-spanned',
                insets: { left: 0, top: 0, right: 0, bottom: 0 },
              },
              {
                title: 'spanned',
                orientation: 'horizontal-spanned',
                insets: { left: 0, top: 0, right: 0, bottom: 0 },
              },
            ],
          },
          {
            order: 34,
            'show-by-default': !0,
            'foldable-screen': !0,
            title: 'Galaxy Z Fold 5',
            screen: {
              horizontal: { width: 882, height: 344 },
              'device-pixel-ratio': 2.625,
              vertical: { width: 344, height: 882 },
              'vertical-spanned': {
                width: 690,
                height: 829,
                hinge: {
                  width: 0,
                  height: 829,
                  x: 345,
                  y: 0,
                  contentColor: { r: 38, g: 38, b: 38, a: 0.2 },
                  outlineColor: { r: 38, g: 38, b: 38, a: 0.7 },
                },
              },
              'horizontal-spanned': {
                width: 829,
                height: 690,
                hinge: {
                  width: 829,
                  height: 0,
                  x: 0,
                  y: 345,
                  contentColor: { r: 38, g: 38, b: 38, a: 0.2 },
                  outlineColor: { r: 38, g: 38, b: 38, a: 0.7 },
                },
              },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '10.0',
              architecture: '',
              model: 'SM-F946U',
              mobile: !0,
            },
            type: 'phone',
            modes: [
              {
                title: 'default',
                orientation: 'vertical',
                insets: { left: 0, top: 0, right: 0, bottom: 0 },
              },
              {
                title: 'default',
                orientation: 'horizontal',
                insets: { left: 0, top: 0, right: 0, bottom: 0 },
              },
              {
                title: 'spanned',
                orientation: 'vertical-spanned',
                insets: { left: 0, top: 0, right: 0, bottom: 0 },
              },
              {
                title: 'spanned',
                orientation: 'horizontal-spanned',
                insets: { left: 0, top: 0, right: 0, bottom: 0 },
              },
            ],
          },
          {
            order: 35,
            'show-by-default': !0,
            'foldable-screen': !0,
            title: 'Asus Zenbook Fold',
            screen: {
              horizontal: { width: 1280, height: 853 },
              'device-pixel-ratio': 1.5,
              vertical: { width: 853, height: 1280 },
              'vertical-spanned': {
                width: 1706,
                height: 1280,
                hinge: {
                  width: 107,
                  height: 1280,
                  x: 800,
                  y: 0,
                  contentColor: { r: 38, g: 38, b: 38, a: 0.2 },
                  outlineColor: { r: 38, g: 38, b: 38, a: 0.7 },
                },
              },
              'horizontal-spanned': {
                width: 1280,
                height: 1706,
                hinge: {
                  width: 1706,
                  height: 107,
                  x: 0,
                  y: 800,
                  contentColor: { r: 38, g: 38, b: 38, a: 0.2 },
                  outlineColor: { r: 38, g: 38, b: 38, a: 0.7 },
                },
              },
            },
            capabilities: ['touch'],
            'user-agent':
              'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Safari/537.36',
            'user-agent-metadata': {
              platform: 'Windows',
              platformVersion: '11.0',
              architecture: '',
              model: 'UX9702AA',
              mobile: !1,
            },
            type: 'tablet',
            modes: [
              {
                title: 'default',
                orientation: 'vertical',
                insets: { left: 0, top: 0, right: 0, bottom: 0 },
              },
              {
                title: 'default',
                orientation: 'horizontal',
                insets: { left: 0, top: 0, right: 0, bottom: 0 },
              },
              {
                title: 'spanned',
                orientation: 'vertical-spanned',
                insets: { left: 0, top: 0, right: 0, bottom: 0 },
              },
              {
                title: 'spanned',
                orientation: 'horizontal-spanned',
                insets: { left: 0, top: 0, right: 0, bottom: 0 },
              },
            ],
          },
          {
            order: 36,
            'show-by-default': !0,
            title: 'Samsung Galaxy A51/71',
            screen: {
              horizontal: { width: 914, height: 412 },
              'device-pixel-ratio': 2.625,
              vertical: { width: 412, height: 914 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 8.0.0; SM-G955U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '8.0.0',
              architecture: '',
              model: 'SM-G955U',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            order: 52,
            'show-by-default': !0,
            title: 'Nest Hub Max',
            screen: {
              horizontal: {
                outline: {
                  image: '@url(optimized/google-nest-hub-max-horizontal.avif)',
                  insets: { left: 92, top: 96, right: 91, bottom: 248 },
                },
                width: 1280,
                height: 800,
              },
              'device-pixel-ratio': 2,
              vertical: { width: 1280, height: 800 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (X11; Linux aarch64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Safari/537.36 CrKey/1.54.250320',
            type: 'tablet',
            modes: [{ title: 'default', orientation: 'horizontal' }],
          },
          {
            order: 50,
            'show-by-default': !0,
            title: 'Nest Hub',
            screen: {
              horizontal: {
                outline: {
                  image: '@url(optimized/google-nest-hub-horizontal.avif)',
                  insets: { left: 82, top: 74, right: 83, bottom: 222 },
                },
                width: 1024,
                height: 600,
              },
              'device-pixel-ratio': 2,
              vertical: { width: 1024, height: 600 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Safari/537.36 CrKey/1.54.248666',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '',
              architecture: '',
              model: '',
              mobile: !1,
            },
            type: 'tablet',
            modes: [{ title: 'default', orientation: 'horizontal' }],
          },
          {
            order: 129,
            'show-by-default': !1,
            title: 'iPhone 4',
            screen: {
              horizontal: { width: 480, height: 320 },
              'device-pixel-ratio': 2,
              vertical: { width: 320, height: 480 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53',
            type: 'phone',
          },
          {
            order: 130,
            'show-by-default': !1,
            title: 'iPhone 5/SE',
            screen: {
              horizontal: {
                outline: {
                  image: '@url(optimized/iPhone5-landscape.avif)',
                  insets: { left: 115, top: 25, right: 115, bottom: 28 },
                },
                width: 568,
                height: 320,
              },
              'device-pixel-ratio': 2,
              vertical: {
                outline: {
                  image: '@url(optimized/iPhone5-portrait.avif)',
                  insets: { left: 29, top: 105, right: 25, bottom: 111 },
                },
                width: 320,
                height: 568,
              },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1',
            type: 'phone',
          },
          {
            order: 131,
            'show-by-default': !1,
            title: 'iPhone 6/7/8',
            screen: {
              horizontal: {
                outline: {
                  image: '@url(optimized/iPhone6-landscape.avif)',
                  insets: { left: 106, top: 28, right: 106, bottom: 28 },
                },
                width: 667,
                height: 375,
              },
              'device-pixel-ratio': 2,
              vertical: {
                outline: {
                  image: '@url(optimized/iPhone6-portrait.avif)',
                  insets: { left: 28, top: 105, right: 28, bottom: 105 },
                },
                width: 375,
                height: 667,
              },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1',
            type: 'phone',
          },
          {
            order: 132,
            'show-by-default': !1,
            title: 'iPhone 6/7/8 Plus',
            screen: {
              horizontal: {
                outline: {
                  image: '@url(optimized/iPhone6Plus-landscape.avif)',
                  insets: { left: 109, top: 29, right: 109, bottom: 27 },
                },
                width: 736,
                height: 414,
              },
              'device-pixel-ratio': 3,
              vertical: {
                outline: {
                  image: '@url(optimized/iPhone6Plus-portrait.avif)',
                  insets: { left: 26, top: 107, right: 30, bottom: 111 },
                },
                width: 414,
                height: 736,
              },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1',
            type: 'phone',
          },
          {
            order: 133,
            'show-by-default': !1,
            title: 'iPhone X',
            screen: {
              horizontal: { width: 812, height: 375 },
              'device-pixel-ratio': 3,
              vertical: { width: 375, height: 812 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1',
            type: 'phone',
          },
          {
            'show-by-default': !1,
            title: 'BlackBerry Z30',
            screen: {
              horizontal: { width: 640, height: 360 },
              'device-pixel-ratio': 2,
              vertical: { width: 360, height: 640 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+',
            type: 'phone',
          },
          {
            'show-by-default': !1,
            title: 'Nexus 4',
            screen: {
              horizontal: { width: 640, height: 384 },
              'device-pixel-ratio': 2,
              vertical: { width: 384, height: 640 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '4.4.2',
              architecture: '',
              model: 'Nexus 4',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            title: 'Nexus 5',
            type: 'phone',
            'user-agent':
              'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '6.0',
              architecture: '',
              model: 'Nexus 5',
              mobile: !0,
            },
            capabilities: ['touch', 'mobile'],
            'show-by-default': !1,
            screen: {
              'device-pixel-ratio': 3,
              vertical: { width: 360, height: 640 },
              horizontal: { width: 640, height: 360 },
            },
            modes: [
              {
                title: 'default',
                orientation: 'vertical',
                insets: { left: 0, top: 25, right: 0, bottom: 48 },
                image:
                  '@url(optimized/google-nexus-5-vertical-default-1x.avif) 1x, @url(optimized/google-nexus-5-vertical-default-2x.avif) 2x',
              },
              {
                title: 'navigation bar',
                orientation: 'vertical',
                insets: { left: 0, top: 80, right: 0, bottom: 48 },
                image:
                  '@url(optimized/google-nexus-5-vertical-navigation-1x.avif) 1x, @url(optimized/google-nexus-5-vertical-navigation-2x.avif) 2x',
              },
              {
                title: 'keyboard',
                orientation: 'vertical',
                insets: { left: 0, top: 80, right: 0, bottom: 312 },
                image:
                  '@url(optimized/google-nexus-5-vertical-keyboard-1x.avif) 1x, @url(optimized/google-nexus-5-vertical-keyboard-2x.avif) 2x',
              },
              {
                title: 'default',
                orientation: 'horizontal',
                insets: { left: 0, top: 25, right: 42, bottom: 0 },
                image:
                  '@url(optimized/google-nexus-5-horizontal-default-1x.avif) 1x, @url(optimized/google-nexus-5-horizontal-default-2x.avif) 2x',
              },
              {
                title: 'navigation bar',
                orientation: 'horizontal',
                insets: { left: 0, top: 80, right: 42, bottom: 0 },
                image:
                  '@url(optimized/google-nexus-5-horizontal-navigation-1x.avif) 1x, @url(optimized/google-nexus-5-horizontal-navigation-2x.avif) 2x',
              },
              {
                title: 'keyboard',
                orientation: 'horizontal',
                insets: { left: 0, top: 80, right: 42, bottom: 202 },
                image:
                  '@url(optimized/google-nexus-5-horizontal-keyboard-1x.avif) 1x, @url(optimized/google-nexus-5-horizontal-keyboard-2x.avif) 2x',
              },
            ],
          },
          {
            title: 'Nexus 5X',
            type: 'phone',
            'user-agent':
              'Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '8.0.0',
              architecture: '',
              model: 'Nexus 5X',
              mobile: !0,
            },
            capabilities: ['touch', 'mobile'],
            'show-by-default': !1,
            screen: {
              'device-pixel-ratio': 2.625,
              vertical: {
                outline: {
                  image: '@url(optimized/Nexus5X-portrait.avif)',
                  insets: { left: 18, top: 88, right: 22, bottom: 98 },
                },
                width: 412,
                height: 732,
              },
              horizontal: {
                outline: {
                  image: '@url(optimized/Nexus5X-landscape.avif)',
                  insets: { left: 88, top: 21, right: 98, bottom: 19 },
                },
                width: 732,
                height: 412,
              },
            },
            modes: [
              {
                title: 'default',
                orientation: 'vertical',
                insets: { left: 0, top: 24, right: 0, bottom: 48 },
                image:
                  '@url(optimized/google-nexus-5x-vertical-default-1x.avif) 1x, @url(optimized/google-nexus-5x-vertical-default-2x.avif) 2x',
              },
              {
                title: 'navigation bar',
                orientation: 'vertical',
                insets: { left: 0, top: 80, right: 0, bottom: 48 },
                image:
                  '@url(optimized/google-nexus-5x-vertical-navigation-1x.avif) 1x, @url(optimized/google-nexus-5x-vertical-navigation-2x.avif) 2x',
              },
              {
                title: 'keyboard',
                orientation: 'vertical',
                insets: { left: 0, top: 80, right: 0, bottom: 342 },
                image:
                  '@url(optimized/google-nexus-5x-vertical-keyboard-1x.avif) 1x, @url(optimized/google-nexus-5x-vertical-keyboard-2x.avif) 2x',
              },
              {
                title: 'default',
                orientation: 'horizontal',
                insets: { left: 0, top: 24, right: 48, bottom: 0 },
                image:
                  '@url(optimized/google-nexus-5x-horizontal-default-1x.avif) 1x, @url(optimized/google-nexus-5x-horizontal-default-2x.avif) 2x',
              },
              {
                title: 'navigation bar',
                orientation: 'horizontal',
                insets: { left: 0, top: 80, right: 48, bottom: 0 },
                image:
                  '@url(optimized/google-nexus-5x-horizontal-navigation-1x.avif) 1x, @url(optimized/google-nexus-5x-horizontal-navigation-2x.avif) 2x',
              },
              {
                title: 'keyboard',
                orientation: 'horizontal',
                insets: { left: 0, top: 80, right: 48, bottom: 222 },
                image:
                  '@url(optimized/google-nexus-5x-horizontal-keyboard-1x.avif) 1x, @url(optimized/google-nexus-5x-horizontal-keyboard-2x.avif) 2x',
              },
            ],
          },
          {
            'show-by-default': !1,
            title: 'Nexus 6',
            screen: {
              horizontal: { width: 732, height: 412 },
              'device-pixel-ratio': 3.5,
              vertical: { width: 412, height: 732 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '7.1.1',
              architecture: '',
              model: 'Nexus 6',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            'show-by-default': !1,
            title: 'Nexus 6P',
            screen: {
              horizontal: {
                outline: {
                  image: '@url(optimized/Nexus6P-landscape.avif)',
                  insets: { left: 94, top: 17, right: 88, bottom: 17 },
                },
                width: 732,
                height: 412,
              },
              'device-pixel-ratio': 3.5,
              vertical: {
                outline: {
                  image: '@url(optimized/Nexus6P-portrait.avif)',
                  insets: { left: 16, top: 94, right: 16, bottom: 88 },
                },
                width: 412,
                height: 732,
              },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '8.0.0',
              architecture: '',
              model: 'Nexus 6P',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            order: 120,
            'show-by-default': !1,
            title: 'Pixel 2',
            screen: {
              horizontal: { width: 731, height: 411 },
              'device-pixel-ratio': 2.625,
              vertical: { width: 411, height: 731 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '8.0',
              architecture: '',
              model: 'Pixel 2',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            order: 121,
            'show-by-default': !1,
            title: 'Pixel 2 XL',
            screen: {
              horizontal: { width: 823, height: 411 },
              'device-pixel-ratio': 3.5,
              vertical: { width: 411, height: 823 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '8.0.0',
              architecture: '',
              model: 'Pixel 2 XL',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            'show-by-default': !1,
            title: 'Pixel 3',
            screen: {
              horizontal: { width: 786, height: 393 },
              'device-pixel-ratio': 2.75,
              vertical: { width: 393, height: 786 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '9',
              architecture: '',
              model: 'Pixel 3',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            'show-by-default': !1,
            title: 'Pixel 4',
            screen: {
              horizontal: { width: 745, height: 353 },
              'device-pixel-ratio': 3,
              vertical: { width: 353, height: 745 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '10',
              architecture: '',
              model: 'Pixel 4',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            'show-by-default': !1,
            title: 'LG Optimus L70',
            screen: {
              horizontal: { width: 640, height: 384 },
              'device-pixel-ratio': 1.25,
              vertical: { width: 384, height: 640 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '4.4.2',
              architecture: '',
              model: 'LGMS323',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            'show-by-default': !1,
            title: 'Nokia N9',
            screen: {
              horizontal: { width: 854, height: 480 },
              'device-pixel-ratio': 1,
              vertical: { width: 480, height: 854 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13',
            type: 'phone',
          },
          {
            'show-by-default': !1,
            title: 'Nokia Lumia 520',
            screen: {
              horizontal: { width: 533, height: 320 },
              'device-pixel-ratio': 1.5,
              vertical: { width: 320, height: 533 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)',
            type: 'phone',
          },
          {
            'show-by-default': !1,
            title: 'Microsoft Lumia 550',
            screen: {
              horizontal: { width: 640, height: 360 },
              'device-pixel-ratio': 2,
              vertical: { width: 640, height: 360 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36 Edge/14.14263',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '4.2.1',
              architecture: '',
              model: 'Lumia 550',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            'show-by-default': !1,
            title: 'Microsoft Lumia 950',
            screen: {
              horizontal: { width: 640, height: 360 },
              'device-pixel-ratio': 4,
              vertical: { width: 360, height: 640 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36 Edge/14.14263',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '4.2.1',
              architecture: '',
              model: 'Lumia 950',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            'show-by-default': !1,
            title: 'Galaxy S III',
            screen: {
              horizontal: { width: 640, height: 360 },
              'device-pixel-ratio': 2,
              vertical: { width: 360, height: 640 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '4.0',
              architecture: '',
              model: 'GT-I9300',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            order: 110,
            'show-by-default': !1,
            title: 'Galaxy S5',
            screen: {
              horizontal: { width: 640, height: 360 },
              'device-pixel-ratio': 3,
              vertical: { width: 360, height: 640 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '5.0',
              architecture: '',
              model: 'SM-G900P',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            'show-by-default': !1,
            title: 'Galaxy S8',
            screen: {
              horizontal: { width: 740, height: 360 },
              'device-pixel-ratio': 3,
              vertical: { width: 360, height: 740 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '7.0',
              architecture: '',
              model: 'SM-G950U',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            'show-by-default': !1,
            title: 'Galaxy S9+',
            screen: {
              horizontal: { width: 658, height: 320 },
              'device-pixel-ratio': 4.5,
              vertical: { width: 320, height: 658 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '8.0.0',
              architecture: '',
              model: 'SM-G965U',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            'show-by-default': !1,
            title: 'Galaxy Tab S4',
            screen: {
              horizontal: { width: 1138, height: 712 },
              'device-pixel-ratio': 2.25,
              vertical: { width: 712, height: 1138 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '8.1.0',
              architecture: '',
              model: 'SM-T837A',
              mobile: !1,
            },
            type: 'phone',
          },
          {
            order: 1,
            'show-by-default': !1,
            title: 'JioPhone 2',
            screen: {
              horizontal: { width: 320, height: 240 },
              'device-pixel-ratio': 1,
              vertical: { width: 240, height: 320 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '',
              architecture: '',
              model: 'LYF/F300B/LYF-F300B-001-01-15-130718-i',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            'show-by-default': !1,
            title: 'Kindle Fire HDX',
            screen: {
              horizontal: { width: 1280, height: 800 },
              'device-pixel-ratio': 2,
              vertical: { width: 800, height: 1280 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true',
            type: 'tablet',
          },
          {
            order: 140,
            'show-by-default': !1,
            title: 'iPad',
            screen: {
              horizontal: {
                outline: {
                  image: '@url(optimized/iPad-landscape.avif)',
                  insets: { left: 112, top: 56, right: 116, bottom: 52 },
                },
                width: 1024,
                height: 768,
              },
              'device-pixel-ratio': 2,
              vertical: {
                outline: {
                  image: '@url(optimized/iPad-portrait.avif)',
                  insets: { left: 52, top: 114, right: 55, bottom: 114 },
                },
                width: 768,
                height: 1024,
              },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1',
            type: 'tablet',
          },
          {
            order: 141,
            'show-by-default': !1,
            title: 'iPad Pro',
            screen: {
              horizontal: { width: 1366, height: 1024 },
              'device-pixel-ratio': 2,
              vertical: { width: 1024, height: 1366 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1',
            type: 'tablet',
          },
          {
            'show-by-default': !1,
            title: 'Blackberry PlayBook',
            screen: {
              horizontal: { width: 1024, height: 600 },
              'device-pixel-ratio': 1,
              vertical: { width: 600, height: 1024 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+',
            type: 'tablet',
          },
          {
            'show-by-default': !1,
            title: 'Nexus 10',
            screen: {
              horizontal: { width: 1280, height: 800 },
              'device-pixel-ratio': 2,
              vertical: { width: 800, height: 1280 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '6.0.1',
              architecture: '',
              model: 'Nexus 10',
              mobile: !1,
            },
            type: 'tablet',
          },
          {
            'show-by-default': !1,
            title: 'Nexus 7',
            screen: {
              horizontal: { width: 960, height: 600 },
              'device-pixel-ratio': 2,
              vertical: { width: 600, height: 960 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '6.0.1',
              architecture: '',
              model: 'Nexus 7',
              mobile: !1,
            },
            type: 'tablet',
          },
          {
            'show-by-default': !1,
            title: 'Galaxy Note 3',
            screen: {
              horizontal: { width: 640, height: 360 },
              'device-pixel-ratio': 3,
              vertical: { width: 360, height: 640 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '4.3',
              architecture: '',
              model: 'SM-N900T',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            'show-by-default': !1,
            title: 'Galaxy Note II',
            screen: {
              horizontal: { width: 640, height: 360 },
              'device-pixel-ratio': 2,
              vertical: { width: 360, height: 640 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '4.1',
              architecture: '',
              model: 'GT-N7100',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            'show-by-default': !1,
            title: 'Laptop with touch',
            screen: {
              horizontal: { width: 1280, height: 950 },
              'device-pixel-ratio': 1,
              vertical: { width: 950, height: 1280 },
            },
            capabilities: ['touch'],
            'user-agent': '',
            type: 'notebook',
            modes: [{ title: 'default', orientation: 'horizontal' }],
          },
          {
            'show-by-default': !1,
            title: 'Laptop with HiDPI screen',
            screen: {
              horizontal: { width: 1440, height: 900 },
              'device-pixel-ratio': 2,
              vertical: { width: 900, height: 1440 },
            },
            capabilities: [],
            'user-agent': '',
            type: 'notebook',
            modes: [{ title: 'default', orientation: 'horizontal' }],
          },
          {
            'show-by-default': !1,
            title: 'Laptop with MDPI screen',
            screen: {
              horizontal: { width: 1280, height: 800 },
              'device-pixel-ratio': 1,
              vertical: { width: 800, height: 1280 },
            },
            capabilities: [],
            'user-agent': '',
            type: 'notebook',
            modes: [{ title: 'default', orientation: 'horizontal' }],
          },
          {
            'show-by-default': !1,
            title: 'Moto G4',
            screen: {
              horizontal: {
                outline: {
                  image: '@url(optimized/MotoG4-landscape.avif)',
                  insets: { left: 91, top: 30, right: 74, bottom: 30 },
                },
                width: 640,
                height: 360,
              },
              'device-pixel-ratio': 3,
              vertical: {
                outline: {
                  image: '@url(optimized/MotoG4-portrait.avif)',
                  insets: { left: 30, top: 91, right: 30, bottom: 74 },
                },
                width: 360,
                height: 640,
              },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 6.0.1; Moto G (4)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '6.0.1',
              architecture: '',
              model: 'Moto G (4)',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            'show-by-default': !1,
            title: 'Moto G Power',
            screen: {
              'device-pixel-ratio': 1.75,
              horizontal: { width: 823, height: 412 },
              vertical: { width: 412, height: 823 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 11; moto g power (2022)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/%s Mobile Safari/537.36',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '11',
              architecture: '',
              model: 'moto g power (2022)',
              mobile: !0,
            },
            type: 'phone',
          },
          {
            order: 200,
            'show-by-default': !1,
            title: 'Facebook on Android',
            screen: {
              horizontal: { width: 892, height: 412 },
              'device-pixel-ratio': 3.5,
              vertical: { width: 412, height: 892 },
            },
            capabilities: ['touch', 'mobile'],
            'user-agent':
              'Mozilla/5.0 (Linux; Android 12; Pixel 6 Build/SQ3A.220705.004; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/%s Mobile Safari/537.36 [FB_IAB/FB4A;FBAV/407.0.0.0.65;]',
            'user-agent-metadata': {
              platform: 'Android',
              platformVersion: '12',
              architecture: '',
              model: 'Pixel 6',
              mobile: !0,
            },
            type: 'phone',
          },
        ]);
    },
  });
import { webContents as LX } from 'electron';
var G1,
  TX = b({
    'out-build/vs/platform/iCubeWebviewDevtools/electron-main/webviewDevtoolsManager.js'() {
      'use strict';
      qt(),
        $X(),
        ox(),
        (G1 = class {
          constructor(e) {
            (this.b = e), (this.a = new Map());
          }
          async attachDebuggerForWebContents(e) {
            if (this.a.has(e)) return !0;
            const i = LX.fromId(e);
            if (!i) return Promise.reject(new Error('WebContents not found'));
            i.once('destroyed', () => {
              this.detachDebugger(e);
            });
            const s = new JD(i);
            return this.a.set(e, s), !0;
          }
          async detachDebugger(e) {
            try {
              const i = this.a.get(e);
              return i ? (await i.dispose(), !0) : !1;
            } finally {
              this.a.delete(e);
            }
          }
          async invoke(e, i) {
            const s = this.a.get(e);
            return s
              ? s.invoke(i)
              : Promise.reject(new Error('Debugger is not attached for webContents:' + e));
          }
          async getDeviceList() {
            return rx
              .instance()
              .standard()
              .map((e) => e.title);
          }
        }),
        (G1 = __decorate([__param(0, Tt)], G1));
    },
  }),
  hy,
  MX = b({
    'out-build/vs/platform/messageCenter/common/messageTopic.js'() {
      'use strict';
      (function (t) {
        (t.GET_REPORT_ISSUE_TOKEN = 'getReportToken'),
          (t.PULL_CONFIG = 'getDynamicConfig'),
          (t.UPLOAD_MATERAIL = 'uploadMaterial');
      })(hy || (hy = {}));
    },
  });
import ax from 'crypto';
function FX(t) {
  const e = Buffer.from(t, 'utf8'),
    i = ax.publicEncrypt(
      {
        key: cx.join(`
`),
        padding: ax.constants.RSA_PKCS1_OAEP_PADDING,
        oaepHash: 'sha256',
      },
      e
    );
  return encodeURIComponent(i.toString('base64'));
}
var cx,
  OX = b({
    'out-build/vs/platform/messageCenter/electron-main/sec.js'() {
      'use strict';
      cx = [
        '-----BEGIN PUBLIC KEY-----',
        'MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7mfKsSuUYM8X8GUKm+qa',
        '5v0U8wVj3VAXWdPf7giqGP1eMw5ujdK6zm/Yp6OhUm81SOtAuwvY53hTWBvDtL/O',
        'F1TZxD/BW3hbRTYOnSJUoOTkcxAz0Xv7GO06L3Zjn62XwzSQT7DGvihQMJj8FH5r',
        'uINn/UnRZq+8BJr+9GJkbHp76BxEuulq44VaFKGTaIJ7ByMILddXFpvUwnAAsBBF',
        'upDiEhJJp9Ws5IKVVw2hu1UPU8qGkn5Pvoanf9uZTzvWVOUDXUd71QhGz8Y4nh1f',
        'HzX+QJYpWleUtWaN1JNfQdQYYIp62cxrjjZKs6cQV8UJp+50VqMhGbqt6EtAm8W1',
        'fQIDAQAB',
        '-----END PUBLIC KEY-----',
      ];
    },
  });
import { FWS as RX } from '@byted/frontier-web-sdk';
import dy from 'ws';
var fy,
  q1,
  NX = b({
    'out-build/vs/platform/messageCenter/electron-main/iCubeMessageCenterService.js'() {
      'use strict';
      U(),
        Ze(),
        se(),
        Xi(),
        lt(),
        X(),
        wi(),
        or(),
        gh(),
        Gt(),
        qt(),
        ty(),
        Xo(),
        Ei(),
        iy(),
        MX(),
        Ge(),
        OX(),
        (q1 = class extends H {
          static {
            fy = this;
          }
          static {
            this.s = 'messageCenter.log';
          }
          constructor(e, i, s, r, n, o, a, c, l, h) {
            super(),
              (this.C = e),
              (this.D = i),
              (this.F = s),
              (this.G = r),
              (this.H = n),
              (this.I = o),
              (this.J = a),
              (this.L = c),
              (this.M = l),
              (this.N = h),
              (this.m = 100),
              (this.n = new Map()),
              (this.t = this.B(new $())),
              (this.onDidFrontinerUploadDeviceLog = this.t.event),
              (this.u = this.B(new $())),
              (this.onDidFrontinerNotice = this.u.event),
              (this.w = this.B(new $())),
              (this.onDidFrontinerChangeConfig = this.w.event),
              (this.y = this.B(new $())),
              (this.onDidFrontinerChangeConfigDelete = this.y.event),
              (this.z = this.B(new $())),
              (this.onDidFrontinerUpdateConfig = this.z.event),
              (this.c = we(this.F.logsHome, fy.s)),
              (this.f = this.B(
                this.G.createLogger(this.c, {
                  id: 'iCubeMessageCenter',
                  name: 'ICubeMessageCenter',
                })
              )),
              (this.g = E4(this.D)),
              this.O();
          }
          async O() {
            (this.a = await this.H.getAuthUserInfo()),
              this.B(this.H.onDidChangeUserInfo((e) => this.ab(e))),
              (this.b = this.I.c),
              this.B(this.I.onDidChangeDeviceId((e) => this.bb(e))),
              de.handle(nt.SANDBOX_TO_MAIN_SEND_ICUBE_MESSAGE_CENTER, (e, i, s, r) =>
                this.sendMessage(i, s, r)
              ),
              de.handle(nt.SANDBOX_TO_MAIN_SEND_ICUBE_MESSAGE_CENTER_BACK_LOG, (e, i) =>
                Promise.resolve(this.t.fire(i))
              );
          }
          async sendMessage(e, i, s) {
            this.h ? this.h.readyState != dy.OPEN && this.Q(this.j) : this.Q(this.j);
            const r = { ...this.M.getCommonApiParams(), params: i };
            this.cb('sendMessage', r);
            let n;
            return new Promise((o, a) => {
              if (!this.h) {
                this.tryFallback(r, o, a, s);
                return;
              }
              const c = this.m++;
              this.n.set(c, (l) => {
                clearTimeout(n), o(l);
              }),
                (n = setTimeout(() => {
                  this.tryFallback(r, o, a, s), this.n.delete(c);
                }, 5e3)),
                this.h?.send(JSON.stringify(r), {
                  service: this.j?.iCubeApp?.nativeAppConfig?.ws?.serviceId || 134217819,
                  method: c,
                  payloadType: `__${e}`,
                });
            });
          }
          async tryFallback(e, i, s, r) {
            let o = 0;
            if (!r || !r?.url) return;
            const a = async () => {
              try {
                const c = { 'content-type': 'application/json', ...(r.headers || {}) };
                r.additionToken && (c['x-icube-token'] = this.a?.token);
                const h = await (
                  await fetch(r.url, {
                    method: r.method || 'POST',
                    headers: c,
                    body: JSON.stringify(e),
                  })
                ).json();
                i(h);
              } catch (c) {
                if (o < 3) {
                  o++;
                  const l = Math.pow(2, o) * 1e3;
                  return await new Promise((h) => setTimeout(h, l)), a();
                }
                s({ success: !1, message: c.message });
              }
            };
            await a();
          }
          P(e) {
            const i = e?.iCubeApp?.nativeAppConfig?.ws;
            if (i) {
              if (!e?.iCubeApp?.nativeAppConfig?.wsEnabled) {
                this.h &&
                  (this.h.close(1988, '\u8FDC\u7A0B\u4E0B\u53D1\u5173\u95ED'), (this.h = void 0));
                return;
              }
              if (!i.fpID || !i.aID || !i.ak || !i.deviceId || !i.url) {
                this.cb('wsConfig_invalid', i);
                return;
              }
              return i;
            }
          }
          async initWebsocket(e) {
            (this.j = e), this.Q(e);
          }
          Q(e) {
            const i = this.P(e);
            if ((this.h && this.h.readyState === dy.OPEN) || !i) return;
            this.cb('initWebsocket', i);
            const s = this.U(i);
            (this.h = new RX(s.connectOptions)),
              this.J.publicLog2('MessageCenter:initConnect', {
                code: 0,
                message: '',
                data: JSON.stringify(s.connectOptions),
              }),
              (this.h.onopen = (r) => this.R(r, i, s)),
              (this.h.onStartReconnect = () => {
                this.J.publicLog2('MessageCenter:onStartReconnect', {
                  code: 0,
                  message: '',
                  data: JSON.stringify(s.connectOptions),
                });
              }),
              (this.h.onmessage = (r) => this.Y(r)),
              (this.h.onclose = (r) => this.S(r, i, s));
          }
          R(e, i, s) {
            this.cb('CONNECTED', { wsConfig: i, event: e }),
              this.J.publicLog2('MessageCenter:connected', {
                code: 0,
                message: '',
                data: JSON.stringify(s.connectOptions),
              });
          }
          S(e, i, s) {
            this.cb('CLOSED', e),
              this.J.publicLog2('MessageCenter:onClose', {
                code: e.code,
                message: e.reason,
                data: e.willReconnect ? 'true' : 'false',
              }),
              e.code === 1006 && this.X(i),
              (e.code === 1986 || e.code === 1987) && this.X(i, 0, this.U(i).connectOptions);
          }
          U(e) {
            const i = this.M.getCommonApiParams();
            this.cb('wsConfig_init_params', i);
            const s = { ...i, ad: e.deviceId === this.b, iCubeToken: FX(e.deviceId) };
            return (
              e.deviceId != this.b && (s.odid = this.b),
              {
                connectOptions: {
                  ...(e?.extra || {}),
                  fpID: e.fpID,
                  aID: e.aID,
                  accessKey: e.ak,
                  deviceID: e.deviceId,
                  url: e.url,
                  ws: dy,
                  env: this.W,
                  customParams: s,
                },
                params: i,
              }
            );
          }
          get W() {
            const e = this.M.iCubePPE;
            return e ? { xUseEnv: 'ppe', xTTEnv: e } : {};
          }
          X(e, i, s) {
            i === 0
              ? (this.h?.reconnect(s || {}),
                this.J.publicLog2('MessageCenter:reconnectNormal', {
                  code: 0,
                  message: '',
                  data: JSON.stringify(s),
                }))
              : e?.connectTimeout &&
                e?.reConnected &&
                setTimeout(() => {
                  this.h?.reconnect(s || {}),
                    this.J.publicLog2('MessageCenter:reconnectError', {
                      code: 0,
                      message: '',
                      data: JSON.stringify(s),
                    });
                }, Math.max(5 * 60 * 1e3, Number(e.connectTimeout) || 5 * 60 * 1e3));
          }
          Y(e) {
            try {
              this.cb('headers', e?.message?.headers);
              const i = this.$(e.message.payload),
                s = e.message.headers?.reduce((r, n) => ((r[n.key] = n.value), r), {});
              if ((this.cb('DATA', i), this.g !== s?.packageType)) {
                this.cb('packageType_not_match_and_skiped', {
                  localPackageType: this.g,
                  messagePackageType: s?.packageType,
                });
                return;
              }
              switch (e.message.payloadType) {
                case ro.DYNAMIC_CONFIG:
                  this.w.fire(i);
                  break;
                case ro.DYNAMIC_CONFIG_UPDATE:
                  this.sendMessage(hy.PULL_CONFIG, i).then((n) => {
                    const o = n?.data;
                    o && this.z.fire(o);
                  });
                  break;
                case ro.DELETE_DYNAMIC_CONFIG:
                  this.y.fire(i);
                  break;
                case ro.DEVICE_LOG:
                  this.t.fire(i);
                  break;
                case ro.AUDIT_RESULT:
                  this.Z(nt.MAIN_TO_SANDBOX_SEND_AUDIT_RESULT, ro.AUDIT_RESULT, i);
                  break;
                default:
                  const r = e.message.method;
                  if (r && this.n.has(r)) {
                    const n = this.n.get(r);
                    n && n(i), this.n.delete(r);
                  }
                  break;
              }
            } catch (i) {
              this.f.error('ERROR', i);
            }
          }
          Z(e, i, ...s) {
            const r = this.L?.getWindows();
            if (r)
              for (const n of r)
                try {
                  n.win?.webContents.send(e, ...s);
                } catch (o) {
                  this.f.warn(`broadcast to windowId=${n.win?.id} failed: `, o);
                }
          }
          $(e) {
            if (!e) return {};
            try {
              const i = Buffer.from(e).toString('utf-8');
              return JSON.parse(i);
            } catch (i) {
              return this.cb('uint8_ERROR', i), {};
            }
          }
          ab(e) {
            this.cb('[updateUserInfo]', { userId: e?.userId, region: e?.region }),
              e?.userId != this.a?.userId
                ? ((this.a = e), this.h?.close(1986, '\u7528\u6237\u5207\u6362'))
                : (this.a = e);
          }
          bb(e) {
            this.cb('[updateDeviceId]', e),
              e != this.b
                ? ((this.b = e), this.h?.close(1987, '\u8BBE\u5907ID\u5207\u6362'))
                : (this.b = e);
          }
          cb(e, ...i) {
            wo(this.D) !== 'stable'
              ? this.f.info(`[frontiner_${e}]`, ...i)
              : this.f.trace(`[frontiner_${e}]`, ...i);
          }
          dispose() {
            super.dispose();
          }
        }),
        (q1 = fy =
          __decorate(
            [
              __param(1, Be),
              __param(2, $s),
              __param(3, Po),
              __param(4, fs),
              __param(5, so),
              __param(6, Vt),
              __param(7, Tt),
              __param(8, O1),
              __param(9, Ve),
            ],
            q1
          ));
    },
  }),
  lx,
  BX = b({
    'out-build/vs/platform/iCubeCrawler/common/iCubeCrawlerService.js'() {
      'use strict';
      K(), (lx = W('IICubeCrawlerService'));
    },
  }),
  ux,
  hx,
  dx,
  fx,
  px,
  gx,
  mx,
  wx,
  bx,
  vx,
  yx,
  kx,
  Sx,
  UX = b({
    'out-build/vs/platform/iCubeCrawler/common/constants.js'() {
      'use strict';
      (ux = 'vscode:icube:web-crawler'),
        (hx = 'vscode:icube:web-crawler-login'),
        (dx = 'vscode:icube:web-crawler-entrypoint'),
        (fx = 'vscode:icube:web-crawler-get-progress'),
        (px = 'vscode:icube:web-crawler-stop-task-group'),
        (gx = 'vscode:icube:web-crawler-watch-task-group'),
        (mx = 'vscode:icube:web-crawler-unwatch-task-group'),
        (wx = 'vscode:icube:web-crawler-on-task-group-status-change'),
        (bx = 'vscode:icube:web-crawler-request-robots-txt'),
        (vx = 'vscode:icube:web-crawler-robots-url-is-allowed'),
        (yx = 'vscode:icube:web-crawler-robots-url-is-disallowed'),
        (kx = 'vscode:icube:web-crawler-robots-url-crawl-delay'),
        (Sx = 'vscode:icube:web-crawler-dump-pool-status-snapshot');
    },
  });
function py() {
  const t = globalThis?.process?.platform;
  return t === 'darwin' ? Ex : t === 'win32' ? Cx : Dx;
}
var Ex,
  Cx,
  Dx,
  jX = b({
    'out-build/vs/platform/iCubeCrawler/electron-main/utils.js'() {
      'use strict';
      (Ex =
        'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36'),
        (Cx =
          'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36'),
        (Dx =
          'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36');
    },
  }),
  xx,
  Ax,
  WX = b({
    'out-build/vs/platform/iCubeCrawler/electron-main/crawlerScript.js'() {
      'use strict';
      (xx = (t = 1e3, e = 3e3) => `new Promise((resolve) => {
      let timeoutId;
      let globalTimeoutId;
      let lastMutationTime = Date.now();

      // \u8BBE\u7F6E\u5168\u5C40\u8D85\u65F6
      globalTimeoutId = setTimeout(() => {
        if (observer) {
          observer.disconnect();
        }
        resolve(false);
      }, ${e});

      // \u521B\u5EFA MutationObserver \u76D1\u63A7 DOM \u53D8\u5316
      const observer = new MutationObserver(() => {
        lastMutationTime = Date.now();

        // \u91CD\u7F6E\u7A33\u5B9A\u6027\u8BA1\u65F6\u5668
        if (timeoutId) {
          clearTimeout(timeoutId);
        }

        // \u8BBE\u7F6E\u65B0\u7684\u7A33\u5B9A\u6027\u8BA1\u65F6\u5668
        timeoutId = setTimeout(() => {
          observer.disconnect();
          clearTimeout(globalTimeoutId);
          resolve(true);
        }, ${t});
      });

      // \u5F00\u59CB\u76D1\u63A7\u6574\u4E2A\u6587\u6863\u7684\u53D8\u5316
      observer.observe(document.documentElement, {
        childList: true,
        attributes: true,
        characterData: true,
        subtree: true
      });

      // \u8BBE\u7F6E\u521D\u59CB\u7A33\u5B9A\u6027\u8BA1\u65F6\u5668
      timeoutId = setTimeout(() => {
        observer.disconnect();
        clearTimeout(globalTimeoutId);
        resolve(true);
      }, ${t});
    });
  `),
        (Ax = () => `
    function icube_getAbsoluteUrl(href, baseUrl) {
      try {
        return new URL(href, baseUrl).href;
      } catch (e) {
        return '';
      }
    }

    function icube_findFavicon() {
      // Try different favicon link types
      const faviconTypes = [
        'link[rel="icon"]',
        'link[rel="shortcut icon"]',
        'link[rel="apple-touch-icon"]',
        'link[rel="apple-touch-icon-precomposed"]'
      ];

      for (const type of faviconTypes) {
        const favicon = document.querySelector(type);
        if (favicon && favicon.href) {
          return icube_getAbsoluteUrl(favicon.href, window.location.origin);
        }
      }

      // Fallback to default favicon paths
      const defaultPaths = [
        '/favicon.ico',
        '/favicon.png',
        '/apple-touch-icon.png',
        '/apple-touch-icon-precomposed.png'
      ];

      for (const path of defaultPaths) {
        const absoluteUrl = icube_getAbsoluteUrl(path, window.location.origin);
        // Note: We can't actually check if these files exist from client-side
        // but we'll return the first one as a fallback
        return absoluteUrl;
      }

      return '';
    }

    icube_findFavicon();
  `);
    },
  });
import { platform as HX } from 'os';
import { exec as gy } from 'child_process';
var ha,
  Ix,
  $x,
  my,
  Px,
  zX = b({
    'out-build/vs/platform/iCubeCrawler/electron-main/crawlerExecutor.js'() {
      'use strict';
      jX(),
        WX(),
        le(),
        (function (t) {
          (t[(t.Normal = 0)] = 'Normal'),
            (t[(t.Low = 10)] = 'Low'),
            (t[(t.Background = 19)] = 'Background');
        })(ha || (ha = {})),
        (Ix = 3),
        ($x = 3),
        (my = 5e3),
        (Px = class {
          constructor(t, e, i, s, r, n, o) {
            (this.b = t),
              (this.c = e),
              (this.d = i),
              (this.f = s),
              (this.g = r),
              (this.h = n),
              (this.i = o),
              (this.a = null);
          }
          get browserWindow() {
            return this.b.window;
          }
          async execute() {
            const t = {
                startTime: Date.now(),
                pointTime: Date.now(),
                loadPageTime: 0,
                observerTime: 0,
                convertToMarkdownTime: 0,
                totalTime: 0,
              },
              e = new zt();
            let i = null;
            await new Promise((p) => setTimeout(p, this.h + Math.random() * (this.i - this.h)));
            let s = '';
            this.browserWindow.loadURL(this.c.url, { userAgent: this.c.userAgent || py() }),
              this.k(this.browserWindow.webContents.getProcessId(), ha.Low);
            const r = (p, m, w) => {
              i && clearTimeout(i),
                this.f.debug(`[ICubeElectronScraper] did-fail-load: ${m}, ${w}`);
              const v = new Error(`Page load failed: ${m}, ${w}`);
              e.error(v);
            };
            this.a = this.d((p) => {
              p.url === this.c.url &&
                (this.f.debug(`[ICubeElectronScraper] crawler stopped: ${this.c.url}`),
                e.error(new Error('Task stopped')));
            });
            const n = (p) => {
                i && clearTimeout(i),
                  this.f.trace(`[ICubeElectronScraper] stop downloading page: ${this.c.url}}`),
                  p.preventDefault(),
                  this.browserWindow.hide(),
                  e.error(new Error('Download is not allowed'));
              },
              o = () => {
                i && clearTimeout(i),
                  this.f.warn(
                    `[ICubeElectronScraper] browser window #${this.browserWindow.id} is unresponsive on url: ${this.c.url}`
                  ),
                  this.browserWindow.destroy();
                const p = new Error(
                  'Browser window is unresponsive when loading url: ' + this.c.url
                );
                this.f.debug(`[ICubeElectronScraper] crawler execute failed: ${p}`), e.error(p);
              },
              a = (p, m) => {
                m.length > 0 && (s = m[0]);
              },
              c = async () => {
                i && clearTimeout(i),
                  this.f.debug(
                    `[ICubeElectronScraper] crawler on-did-finish-load, url: ${this.c.url}`
                  );
                const p = Date.now() - t.pointTime;
                (t.loadPageTime = p), (t.pointTime = Date.now());
                try {
                  await this.browserWindow.webContents.executeJavaScript(xx());
                  const m = Date.now() - t.pointTime;
                  (t.observerTime = m), (t.pointTime = Date.now());
                  const [w, v, k] = await Promise.all([
                      (async () => {
                        const C = await this.browserWindow.webContents.executeJavaScript(
                            'document.getElementsByTagName("html")[0].outerHTML'
                          ),
                          I = await this.g.convertHTMLToMarkdown(C, this.c.recursive);
                        return (
                          this.f.debug(
                            `[ICubeElectronScraper] crawler got page content success, url: ${this.c.url} ; html content length: ${C.length}; markdown content length: ${I.length}`
                          ),
                          this.f.trace(
                            `[ICubeElectronScraper] crawling url: ${
                              this.c.url
                            } got content: ${I.slice(0, 100)}...; htmlContent: ${C.slice(
                              0,
                              300
                            )}...`
                          ),
                          { htmlContent: C, markdownContent: I }
                        );
                      })(),
                      (async () => {
                        const C = await this.browserWindow.webContents.executeJavaScript(
                          'document.title'
                        );
                        return (
                          this.f.debug(
                            `[ICubeElectronScraper] crawler got page title success, url: ${this.c.url} ; title: ${C}`
                          ),
                          C
                        );
                      })(),
                      (async () => {
                        const C = await this.browserWindow.webContents.executeJavaScript(Ax());
                        return (
                          this.f.debug(
                            `[ICubeElectronScraper] crawler got page favicon success, url: ${this.c.url} ;`
                          ),
                          C
                        );
                      })(),
                    ]),
                    y = Date.now() - t.pointTime;
                  if (
                    ((t.convertToMarkdownTime = y),
                    (t.pointTime = Date.now()),
                    (this.c.htmlContent = w.htmlContent),
                    (this.c.markdownContent = w.markdownContent),
                    (this.c.title = v),
                    (this.c.favicon = s || k),
                    (this.c.status = 'completed'),
                    !this.c.markdownContent && (await this.j()))
                  )
                    return;
                  e.complete({
                    url: this.c.url,
                    title: v,
                    favicon: s || k,
                    htmlContent: w.htmlContent,
                    markdownContent: w.markdownContent,
                    status: 'completed',
                  });
                } catch (m) {
                  this.f.debug(`[ICubeElectronScraper] execute failed: ${m}`),
                    (this.c.status = 'failed'),
                    e.complete({
                      url: this.c.url,
                      title: '',
                      favicon: '',
                      htmlContent: '',
                      markdownContent: '',
                      status: 'failed',
                    });
                }
              },
              l = () => {
                this.browserWindow.webContents.on('did-fail-load', r),
                  this.browserWindow.webContents.session.on('will-download', n),
                  this.browserWindow.webContents.on('unresponsive', o),
                  this.browserWindow.webContents.on('page-favicon-updated', a),
                  this.browserWindow.webContents.on('did-finish-load', c);
              },
              h = () => {
                this.browserWindow.webContents.off('did-fail-load', r),
                  this.browserWindow.webContents.session.off('will-download', n),
                  this.browserWindow.webContents.off('unresponsive', o),
                  this.browserWindow.webContents.off('page-favicon-updated', a),
                  this.browserWindow.webContents.off('did-finish-load', c);
              },
              d = async () => {
                !e.isSettled &&
                  !this.b.isDisposed &&
                  (this.c.retryCount < $x
                    ? (this.c.retryCount++,
                      h(),
                      this.f.info(
                        `[ICubeElectronScraper] crawler execute timeout, url: ${this.c.url}, retryCount: ${this.c.retryCount}`
                      ),
                      this.b.restartBrowserWindow(),
                      await new Promise((p) =>
                        setTimeout(p, this.h + Math.random() * (this.i - this.h))
                      ),
                      this.browserWindow.loadURL(this.c.url, {
                        userAgent: this.c.userAgent || py(),
                      }),
                      this.k(this.browserWindow.webContents.getProcessId(), ha.Low),
                      l(),
                      (i = setTimeout(d, my)))
                    : (this.f.warn(
                        `[ICubeElectronScraper] crawler execute timeout, url: ${this.c.url}, retryCount: ${this.c.retryCount}; stop crawling.`
                      ),
                      e.error(new Error('Page load timeout'))));
              };
            return (
              l(),
              (i = setTimeout(d, my)),
              e.p.finally(() => {
                h(), this.a && (this.a.dispose(), (this.a = null)), i && clearTimeout(i);
                const p = Date.now() - t.startTime;
                (t.totalTime = p), (this.c.durationMetrics = t);
              }),
              e.p
            );
          }
          async j() {
            if (!this.c.redirectCount) this.c.redirectCount = 0;
            else if (this.c.redirectCount >= Ix)
              return (
                this.f.debug(
                  `[ICubeElectronScraper] crawling url: ${this.c.url} got too many redirecting. Abort.`
                ),
                !1
              );
            if (
              await this.browserWindow.webContents.executeJavaScript(
                `Boolean(document.querySelector('meta[http-equiv="refresh"]'))`
              )
            ) {
              const e = await this.browserWindow.webContents.executeJavaScript(
                `document.querySelector('meta[http-equiv="refresh"]').content`
              );
              if (
                (this.f.debug(`[ICubeElectronScraper] crawler got refreshMetaContent: ${e}`),
                typeof e == 'string' && e.startsWith('0; url='))
              ) {
                const i = e.split('0; url=')[1];
                return i.startsWith(this.c.prefix || '')
                  ? (this.f.debug(`[ICubeElectronScraper] crawler got redirectUrl: ${i}`),
                    (this.c.url = i),
                    this.c.group && this.c.group.markAsCrawled(this.c.url),
                    (this.c.redirectCount += 1),
                    this.browserWindow.loadURL(i, { userAgent: this.c.userAgent || py() }),
                    !0)
                  : (this.f.debug(
                      `[ICubeElectronScraper] crawler got redirectUrl is not a valid url: ${i}`
                    ),
                    !1);
              }
            }
            return !1;
          }
          k(t, e) {
            switch (HX()) {
              case 'win32':
                this.l(t, e);
                break;
              case 'darwin':
                this.m(t, e);
                break;
              case 'linux':
                this.n(t, e);
                break;
              default:
                this.f.warn(
                  '[CrawlerTaskPool] Unsupported platform for process priority configuration'
                );
            }
          }
          l(t, e) {
            let i;
            switch (e) {
              case ha.Normal:
                i = 'NORMAL_PRIORITY_CLASS';
                break;
              case ha.Low:
                i = 'BELOW_NORMAL_PRIORITY_CLASS';
                break;
              case ha.Background:
                i = 'IDLE_PRIORITY_CLASS';
                break;
            }
            this.f.debug(`[CrawlerTaskPool] setWindowsPriority: ${t} to ${i}`),
              gy(`wmic process where ProcessId=${t} CALL setpriority "${i}"`);
          }
          m(t, e) {
            const i = e;
            this.f.debug(`[CrawlerTaskPool] setMacOSPriority: ${t} to nice ${i}`),
              gy(`renice ${i} -p ${t}`);
          }
          n(t, e) {
            const i = e;
            this.f.debug(`[CrawlerTaskPool] setLinuxPriority: ${t} to nice ${i}`),
              gy(`renice ${i} -p ${t}`);
          }
        });
    },
  }),
  wy,
  _x = b({
    'out-build/vs/platform/iCubeCrawler/common/iCubeHtmlToMarkdownService.js'() {
      'use strict';
      K(), (wy = W('IICubeHTMLToMarkdownService'));
    },
  }),
  Lx,
  Tx,
  Mx,
  Fx = b({
    'out-build/vs/platform/iCubeCrawler/electron-main/crawlerTaskGroup.js'() {
      'use strict';
      U(),
        (Lx = 1e3),
        (Tx = 3),
        (Mx = class MI extends H {
          constructor(e, i, s, r = Lx) {
            super(),
              (this.stubId = e),
              (this.entryTask = i),
              (this.allTasks = [i]),
              (this.crawledUrlSet = new Set()),
              this.crawledUrlSet.add(i.url),
              (this.a = s),
              (this.b = r),
              (this.f = null),
              (this.g = !1),
              (this.c = null);
          }
          get status() {
            let e = 'pending',
              i = !0;
            for (const s of this.allTasks)
              if (
                ((i = ['in_progress', 'pending'].includes(s.status) ? !1 : i),
                s.status === 'in_progress')
              )
                return 'in_progress';
            return i && (e = 'completed'), e;
          }
          addTask(e) {
            return this.allTasks.length >= this.b
              ? (this.a.trace(
                  `[CrawlerTaskGroup] Group ${this.stubId} has reached max size: ${this.b}, cannot add new task: ${e.url}`
                ),
                !1)
              : (this.allTasks.push(e), this.markAsCrawled(e.url), !0);
          }
          markAsCrawled(e) {
            if (URL.canParse(e) && MI.h(e)) this.crawledUrlSet.add(e);
            else throw new Error(`Invalid URL: ${e}`);
          }
          getProgress(e = !1) {
            return this.c && e === this.g
              ? this.c
              : ((this.g = e),
                (this.c = {
                  stubId: this.stubId,
                  pages: this.allTasks.map((i) => ({
                    url: i.url,
                    status: i.status ?? 'pending',
                    title: i.title ?? '',
                    favicon: e ? '<omitted>' : i.favicon ?? '',
                    htmlContent: e ? '<omitted>' : i.htmlContent ?? '',
                    markdownContent: i.markdownContent ?? '',
                    prefix: i.prefix ?? '',
                    createdTime: i.createdTime ?? 0,
                    updatedTime: i.updatedTime ?? 0,
                  })),
                  status: this.status,
                }),
                this.c);
          }
          notifyProgress(e) {
            (this.c = null), this.f && this.f(this.getProgress(!0), e);
          }
          onProgress(e) {
            this.f = e;
          }
          dispose() {
            super.dispose(), (this.f = null);
          }
          static h(e) {
            const i = new URL(e.toLocaleLowerCase());
            return i.protocol === 'http:' || i.protocol === 'https:';
          }
        });
    },
  });
import { BrowserWindow as VX, session as GX } from 'electron';
var Ox,
  qX = b({
    'out-build/vs/platform/iCubeCrawler/electron-main/browserWindowInstance.js'() {
      'use strict';
      Ox = class {
        constructor(t, e, i, s) {
          (this.isSpared = t),
            (this.e = e),
            (this.f = i),
            (this.g = s),
            (this.a = null),
            (this.b = !1),
            (this.d = null),
            (this.c = GX.fromPartition('persist:icube-web-crawler-shared-session-v1.0', {
              cache: !0,
            })),
            (this.window = this.h());
        }
        setSpared(t) {
          this.e.debug(
            `[CrawlerTaskPool] BrowserWindowInstance (pid: ${this.pid}) has set spared to: ${t}`
          ),
            (this.isSpared = t),
            this.a && (clearTimeout(this.a), (this.a = null)),
            t &&
              (this.a = setTimeout(() => {
                this.dispose();
              }, 1e3 * 30));
        }
        stopCrawling() {
          this.isSpared === !1 &&
            this.d &&
            (this.window.webContents.stop(),
            this.setRunningTask(null),
            this.setSpared(!0),
            this.e.debug(
              `[CrawlerTaskPool] BrowserWindowInstance (pid: ${this.pid}) has stopped crawling`
            ));
        }
        setRunningTask(t) {
          this.d = t;
        }
        getRunningTask() {
          return this.d;
        }
        get pid() {
          return this.window.isDestroyed() ? -1 : this.window.webContents.getOSProcessId();
        }
        restartBrowserWindow() {
          if (this.isDisposed())
            this.e.warn(
              `[CrawlerTaskPool] BrowserWindowInstance (pid: ${this.pid}) has already been disposed. Cannot restart it.`
            );
          else {
            const t = this.pid;
            this.window.destroy(),
              (this.window = this.h()),
              this.setSpared(this.isSpared),
              this.e.info(
                `[CrawlerTaskPool] BrowserWindowInstance (pid: ${t}) has restarted with new pid: ${this.pid}`
              );
          }
        }
        dispose() {
          this.e.debug('[CrawlerTaskPool] BrowserWindowInstance is disposed'),
            this.window.destroy(),
            (this.window = this.h()),
            (this.b = !0);
        }
        isDisposed() {
          return this.b || this.window.isDestroyed();
        }
        h() {
          const t = new VX({
            show: !1,
            width: 1600,
            height: 720,
            webPreferences: {
              session: this.c,
              nodeIntegration: !0,
              contextIsolation: !0,
              sandbox: !0,
              images: !1,
              autoplayPolicy: 'user-gesture-required',
            },
          });
          return (
            t.webContents.setAudioMuted(!0),
            t.webContents.session.setPermissionRequestHandler((e, i, s) => {
              switch (i) {
                case 'clipboard-read':
                case 'clipboard-sanitized-write':
                case 'geolocation':
                case 'notifications':
                case 'media':
                case 'midi':
                case 'display-capture':
                case 'speaker-selection':
                case 'keyboardLock':
                case 'fileSystem':
                case 'openExternal':
                case 'idle-detection':
                case 'pointerLock':
                  this.e.debug(
                    `[CrawlerTaskPool] BrowserWindowInstance (pid: ${this.pid}) has denied requesting permission: ${i}`
                  ),
                    s(!1);
                  break;
                default:
                  s(!0);
                  break;
              }
            }),
            this.g.beforeRequestDecider &&
              t.webContents.session.webRequest.onBeforeRequest(
                { urls: ['<all_urls>'] },
                this.g.beforeRequestDecider
              ),
            this.g.beforeHeadersReceivedDecider &&
              t.webContents.session.webRequest.onHeadersReceived(
                { urls: ['<all_urls>'] },
                this.g.beforeHeadersReceivedDecider
              ),
            t
          );
        }
      };
    },
  }),
  KX,
  JX,
  XX,
  YX,
  Rx,
  by,
  Nx,
  QX = b({
    'out-build/vs/workbench/services/icubeEventReport/common/icubeAIEventReport.js'() {
      'use strict';
      K(),
        (KX = W('IICubeAITeaService')),
        (JX = W('IICubeAISlardarService')),
        (XX = W('IICubeAIAgentTeaService')),
        (YX = W('IICubeAIAgentSlardarService')),
        (function (t) {
          (t.Success = 'Success'), (t.Failed = 'Failed'), (t.None = 'None');
        })(Rx || (Rx = {})),
        (function (t) {
          (t.AIExtensionActive = 'icube_ai_extension_active'),
            (t.StartCkgServer = 'icube_ai_start_ckg_server'),
            (t.InitSession = 'icube_ai_init_session'),
            (t.ChatRequest = 'icube_ai_chat_request'),
            (t.InlineChatRequest = 'icube_ai_inline_chat_request'),
            (t.AIMentionFileSearch = 'icube_ai_mention_file_search'),
            (t.AIMentionFolderSearch = 'icube_ai_mention_folder_search'),
            (t.AIMentionCodeSearch = 'icube_ai_mention_code_search'),
            (t.GlobalChatRequest = 'icube_ai_global_chat_request'),
            (t.CKGResolver = 'icube_ai_ckg_resolver'),
            (t.CKGExit = 'icube_ai_ckg_exit'),
            (t.FrontResponse = 'icube_ai_front_response'),
            (t.CommandExecute = 'icube_ai_command_execute'),
            (t.RustLifecycle = 'icube_ai_rust_lifecycle'),
            (t.CKGCallback = 'icube_ai_ckg_callback'),
            (t.ChatFirstToken = 'icube_ai_chat_first_token'),
            (t.ICubeAIApplyDiff = 'icube_ai_apply_diff'),
            (t.ICubeAIChatGlobalError = 'icube_ai_chat_global_error'),
            (t.ICubeAIAgentGlobalError = 'icube_ai_agent_global_error'),
            (t.IcubeAiChatCrawlerTask = 'icube_ai_chat_crawler_task');
        })(by || (by = {})),
        (function (t) {
          t.AIChat = 'ai-chat';
        })(Nx || (Nx = {}));
    },
  }),
  Bx,
  Ux,
  Eh,
  ZX = b({
    'out-build/vs/platform/iCubeCrawler/electron-main/crawlerTaskPool.js'() {
      'use strict';
      X(),
        se(),
        zX(),
        _x(),
        Fx(),
        qX(),
        ls(),
        QX(),
        (Bx = 1e3),
        (Ux = 3e3),
        (Eh = class {
          constructor(e, i, s, r) {
            (this.k = e),
              (this.l = i),
              (this.m = s),
              (this.h = new $()),
              (this.i = new $()),
              (this.j = new $()),
              (this.onCrawlerTaskStart = this.h.event),
              (this.onCrawlerTaskComplete = this.i.event),
              (this.onAbortCrawlerTask = this.j.event),
              (this.b = []),
              (this.c = []),
              (this.a = r.poolName),
              (this.d = r.maxSize),
              (this.e = r.crawlPolicyProvider),
              (this.f = r.minCrawlDelay ?? Bx),
              (this.g = r.maxCrawlDelay ?? Ux),
              this.onCrawlerTaskStart(this.n.bind(this)),
              this.onCrawlerTaskComplete(this.o.bind(this));
          }
          async enqueueTask(e) {
            this.h.fire(e);
          }
          getStatusSnapshot() {
            return {
              name: this.a,
              browserWindowPids: this.b.filter((e) => !e.isDisposed()).map((e) => e.pid),
              browserWindowSpared: this.b.filter((e) => !e.isDisposed()).map((e) => e.isSpared),
              runningTasks: this.b
                .filter((e) => !e.isSpared)
                .map((e) => e.getRunningTask())
                .filter((e) => !!e),
              queuedTasks: this.c,
            };
          }
          async removeByTaskGroupStubId(e) {
            for (const i of this.b) {
              if (i.isDisposed()) continue;
              const s = i.getRunningTask();
              s?.group?.stubId === e && (this.j.fire(s), i.stopCrawling());
            }
            this.c = this.c.filter((i) => (i.group ? i.group.stubId !== e : !0));
          }
          async n(e) {
            this.c.push(e), this.r();
          }
          async o() {
            this.r();
          }
          async p(e, i) {
            const s = await this.e.checkCrawlable(e.url, e.group, !0, e.prefix);
            if (s <= 0) {
              switch (s) {
                case -1:
                  this.k.trace(`[CrawlerTaskPool] url ${e.url} is blocked`), (e.status = 'blocked');
                  break;
                case 0:
                  this.k.trace(`[CrawlerTaskPool] url ${e.url} is duplicated`),
                    (e.status = 'failed');
                  break;
                case -2:
                  this.k.trace(`[CrawlerTaskPool] url ${e.url} is invalid`), (e.status = 'failed');
                  break;
              }
              return (
                e.group &&
                  e.group?.entryTask === e &&
                  (this.k.warn(
                    `[CrawlerTaskPool] Entrypoint url ${e.url} is not crawlable or blocked. crawlableType = ${s}`
                  ),
                  (e.error = new Error(
                    `[CrawlerTaskPool] Entrypoint url ${e.url} is not crawlable or blocked.`
                  )),
                  e?.group?.notifyProgress(e),
                  setTimeout(() => {
                    e?.group?.notifyProgress(e);
                  }, 3e3)),
                i.setRunningTask(null),
                i.setSpared(!0),
                this.i.fire(e),
                {
                  url: e.url,
                  htmlContent: '',
                  markdownContent: '',
                  title: '',
                  favicon: '',
                  status: 'blocked',
                }
              );
            }
            const r = new Px(i, e, this.onAbortCrawlerTask, this.k, this.l, this.f, this.g);
            try {
              e.status = 'in_progress';
              const n = await r.execute();
              if (
                (n &&
                  ((e.htmlContent = n.htmlContent),
                  (e.title = n.title),
                  (e.favicon = n.favicon),
                  (e.markdownContent = n.markdownContent),
                  (e.status = n.status)),
                e.recursive && e.depth && e.depth < Tx)
              ) {
                const o = await i.window.webContents.executeJavaScript(
                  'Array.from(document.getElementsByTagName("a")).map(a => a.href)'
                );
                this.k.debug(`[CrawlerTaskPool] found ${o.length} <a> tags`);
                for (const a of o) {
                  const c = await this.e.checkCrawlable(a, e.group, !1, e.prefix);
                  if (c <= 0) {
                    switch (c) {
                      case -1:
                        this.k.debug(`[CrawlerTaskPool] href ${a} is blocked`);
                        break;
                      case 0:
                        this.k.debug(`[CrawlerTaskPool] href ${a} is duplicated`);
                        break;
                      case -2:
                        this.k.debug(`[CrawlerTaskPool] href ${a} is invalid`);
                        break;
                    }
                    continue;
                  }
                  this.k.debug(`[CrawlerTaskPool] href ${a} is allowed`);
                  const l = e.createSubTask(a);
                  e.group &&
                    !e.group.allTasks.some((h) => h.url === l.url) &&
                    e.group.addTask(l) &&
                    this.enqueueTask(l);
                }
              }
              return (e.status = 'completed'), this.i.fire(e), e.group?.notifyProgress(e), n;
            } catch (n) {
              return (
                this.k.error(
                  `[CrawlerTaskPool] Crawl task failed in ${e.durationMetrics?.totalTime}ms: ${e.url}, error: ${n}`
                ),
                (e.error = n),
                e.status !== 'blocked' && (e.status = 'failed'),
                e.group && e.group?.notifyProgress(e),
                this.i.fire(e),
                {
                  url: e.url,
                  htmlContent: '',
                  markdownContent: '',
                  title: '',
                  favicon: '',
                  status: e.status,
                }
              );
            } finally {
              i.setRunningTask(null),
                i.setSpared(!0),
                this.m.event({
                  name: by.IcubeAiChatCrawlerTask,
                  categories: {
                    url: e.url,
                    status: e.status.toString(),
                    error_msg: e.error?.message ?? '',
                    depth: e.depth.toString(),
                    recursive: e.recursive.toString(),
                    title: e.title,
                    pool_name: this.a,
                    link_type: e.linkType,
                  },
                  metrics: {
                    cost_time: e.durationMetrics?.totalTime ?? 0,
                    load_page_time: e.durationMetrics?.loadPageTime ?? 0,
                    observer_time: e.durationMetrics?.observerTime ?? 0,
                    convert_to_markdown_time: e.durationMetrics?.convertToMarkdownTime ?? 0,
                  },
                });
            }
          }
          q() {
            this.b = this.b.filter((i) => !i.isDisposed());
            const e = this.b.find((i) => i.isSpared);
            if (e) return e.setSpared(!1), e;
            if (this.b.length < this.d) {
              const i = new Ox(!1, this.k, this.l, this.e);
              return this.b.push(i), i.setSpared(!1), i;
            }
            return null;
          }
          async r() {
            if (this.c.length === 0) return;
            const e = this.q();
            if (!e) return;
            const i = this.c.shift();
            i && (e.setRunningTask(i), this.p(i, e));
          }
        }),
        (Eh = __decorate([__param(0, ee), __param(1, wy), __param(2, J9)], Eh));
    },
  }),
  jx,
  eY = b({
    'out-build/vs/platform/iCubeCrawler/common/iCubeRobotsTxtRuleValidatorService.js'() {
      'use strict';
      K(), (jx = W('IRobotsTxtRuleValidatorService'));
    },
  });
import { URL as Wx } from 'node:url';
function tY(t, e) {
  return Hx.includes(t.trim().toLowerCase()) || e.trim().toLowerCase().includes('attachment');
}
var Hx,
  Ch,
  iY = b({
    'out-build/vs/platform/iCubeCrawler/electron-main/crawlerPolicyProvider.js'() {
      'use strict';
      se(),
        eY(),
        (Hx = [
          'application/octet-stream',
          'application/x-binary',
          'application/json',
          'application/xml',
          'video/mp4',
          'video/mpeg',
          'video/x-msvideo',
          'video/quicktime',
          'video/x-ms-wmv',
          'video/webm',
          'audio/mpeg',
          'audio/wav',
          'audio/ogg',
          'audio/aac',
          'audio/midi',
          'audio/x-m4a',
          'image/jpeg',
          'image/png',
          'image/gif',
          'image/bmp',
          'image/tiff',
          'image/webp',
          'image/svg+xml',
          'application/x-msdownload',
          'application/x-apple-diskimage',
          'application/x-debian-package',
          'application/x-rpm',
          'application/x-msi',
          'application/zip',
          'application/x-rar-compressed',
          'application/x-7z-compressed',
          'application/x-tar',
          'application/gzip',
          'application/x-bzip2',
          'application/pdf',
          'application/msword',
          'application/vnd.ms-excel',
          'application/vnd.ms-powerpoint',
          'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
          'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
          'application/vnd.openxmlformats-officedocument.presentationml.presentation',
          'application/rtf',
        ]),
        (Ch = class {
          constructor(e, i) {
            (this.f = e),
              (this.g = i),
              (this.a = !1),
              (this.b = !1),
              (this.c = new Set()),
              (this.d = []),
              (this.beforeRequestDecider = (s, r) => {
                s.resourceType === 'image'
                  ? r({ cancel: !0 })
                  : s.resourceType === 'media'
                  ? r({ cancel: !0 })
                  : r({ cancel: !1 });
              }),
              (this.beforeHeadersReceivedDecider = (s, r) => {
                const { responseHeaders: n = {} } = s,
                  o = {};
                Object.entries(n).forEach(([l, h]) => {
                  o[l.toLowerCase()] = Array.isArray(h) ? h : [h];
                });
                const a = o['content-type']?.[0] || '',
                  c = o['content-disposition']?.[0] || '';
                this.f.debug(
                  `[ICubeElectronScraper] content-type: ${a}, content-disposition: ${c}`
                ),
                  tY(a, c)
                    ? (this.f.debug(
                        `[ICubeElectronScraper] download header detected, stop downloading for url: ${s.url}`
                      ),
                      r({ cancel: !0 }))
                    : (this.f.trace(
                        `[ICubeElectronScraper] download header not detected, allow downloading for url: ${s.url}`
                      ),
                      r({ cancel: !1 }));
              });
          }
          async checkCrawlable(e, i, s = !1, r = '') {
            let n;
            try {
              if (
                ((n = new Wx(e)),
                n.protocol.toLocaleLowerCase() !== 'http:' &&
                  n.protocol.toLocaleLowerCase() !== 'https:')
              )
                return -2;
            } catch {
              return -2;
            }
            if (r && !e.startsWith(r)) return -2;
            if (!s) {
              const o = i.crawledUrlSet;
              if (o.has(e)) return 0;
              for (const a of o) if (this.h(n, new Wx(a))) return o.add(e), 0;
            }
            if (this.c.has(n.hostname)) return -1;
            if (i)
              try {
                const o = await this.g.isDisallowed(n);
                if (
                  (this.f.debug(`[ICubeElectronScraper] robots.txt disallowed: ${o}, url: ${e}`), o)
                )
                  return -1;
              } catch (o) {
                this.f.debug(`[ICubeElectronScraper] cannot fetch robots.txt: ${e}, error: ${o}`);
              }
            return 1;
          }
          h(e, i) {
            return !(
              e.origin !== i.origin ||
              e.pathname !== i.pathname ||
              (this.a && this.i(e, i)) ||
              (this.b && e.hash !== i.hash)
            );
          }
          i(e, i) {
            const s = new URLSearchParams(e.search),
              r = new URLSearchParams(i.search);
            if (s.size !== r.size) return !1;
            for (const [n, o] of s) if (r.get(n) !== o) return !1;
            return !0;
          }
        }),
        (Ch = __decorate([__param(0, ee), __param(1, jx)], Ch));
    },
  }),
  vy,
  zx,
  Vx,
  Gx,
  sY = b({
    'out-build/vs/platform/iCubeCrawler/common/typings.js'() {
      'use strict';
      (function (t) {
        (t.SEARCH = 'search'),
          (t.USER_INPUT = 'user_input'),
          (t.DOCSET = 'docset'),
          (t.DEFAULT = 'default');
      })(vy || (vy = {})),
        (function (t) {
          (t.PENDING = 'pending'),
            (t.IN_PROGRESS = 'in_progress'),
            (t.COMPLETED = 'completed'),
            (t.FAILED = 'failed'),
            (t.BLOCKED = 'blocked');
        })(zx || (zx = {})),
        (function (t) {
          (t.PENDING = 'pending'), (t.IN_PROGRESS = 'in_progress'), (t.COMPLETED = 'completed');
        })(Vx || (Vx = {})),
        (function (t) {
          (t[(t.ALLOWED = 1)] = 'ALLOWED'),
            (t[(t.DUPLICATED = 0)] = 'DUPLICATED'),
            (t[(t.BLOCKED = -1)] = 'BLOCKED'),
            (t[(t.INVALID = -2)] = 'INVALID');
        })(Gx || (Gx = {}));
    },
  });
function rY(t) {
  try {
    const e = new URL(t),
      i = e.pathname.split('/').filter(Boolean);
    return i.length === 0
      ? t
      : (i.pop(),
        (e.pathname = i.length > 0 ? '/' + i.join('/') : '/'),
        (e.search = ''),
        (e.hash = ''),
        e.toString());
  } catch {
    return t;
  }
}
var yy,
  nY = b({
    'out-build/vs/platform/iCubeCrawler/electron-main/crawlerTask.js'() {
      'use strict';
      sY(),
        (yy = class Lg {
          constructor(e) {
            if (
              ((this.htmlContent = ''),
              (this.markdownContent = ''),
              (this.title = ''),
              (this.favicon = ''),
              (this.a = []),
              (this.b = []),
              !URL.canParse(e.url))
            )
              throw new Error(`Invalid URL: ${e.url}`);
            (this.url = e.url),
              (this.prefix = e.prefix ?? rY(e.url)),
              (this.recursive = e.recursive ?? !1),
              (this.depth = e.depth ?? 1),
              (this.timeout = e.timeout ?? 1e4),
              (this.selector = e.selector ?? 'html'),
              (this.userAgent = e.userAgent),
              (this.parent = e.parent ?? null),
              (this.group = e.group ?? null),
              (this.c = e.status ?? 'pending'),
              (this.retryCount = 0),
              (this.linkType = e.linkType ?? vy.DEFAULT),
              (this.createdTime = this.updatedTime = Date.now());
          }
          static from(e) {
            return new Lg(e);
          }
          clone() {
            return new Lg({
              url: this.url,
              prefix: this.prefix,
              recursive: this.recursive,
              depth: this.depth,
              timeout: this.timeout,
              selector: this.selector,
              userAgent: this.userAgent,
              parent: this.parent,
              group: this.group,
              status: this.c,
              linkType: this.linkType,
            });
          }
          get status() {
            return this.c;
          }
          set status(e) {
            (this.c = e),
              (this.updatedTime = Date.now()),
              e === 'completed' && this.a.forEach((i) => i()),
              e === 'failed' && this.b.forEach((i) => i(this.error ?? new Error('Crawl failed')));
          }
          createSubTask(e) {
            return new Lg({
              url: e,
              prefix: this.prefix,
              recursive: this.recursive,
              depth: (this.depth ?? 1) + 1,
              timeout: this.timeout,
              selector: this.selector,
              userAgent: this.userAgent,
              parent: this,
              group: this.group,
              status: 'pending',
              linkType: this.linkType,
            });
          }
          onComplete(e) {
            this.status === 'completed' ? e() : this.a.push(e);
          }
          onError(e) {
            this.status === 'failed' ? e(this.error ?? new Error('Crawl failed')) : this.b.push(e);
          }
          toString() {
            return JSON.stringify(this);
          }
        });
    },
  });
import qx from 'node:os';
import { randomUUID as oY } from 'node:crypto';
import { ipcMain as Os, BrowserWindow as aY } from 'electron';
var Kx,
  cY = b({
    'out-build/vs/platform/iCubeCrawler/electron-main/iCubeCrawlerMainProcessService.js'() {
      'use strict';
      le(),
        UX(),
        ZX(),
        iY(),
        Fx(),
        nY(),
        (Kx = class {
          constructor(t, e, i, s) {
            (this.f = t),
              (this.g = e),
              (this.h = i),
              (this.i = s),
              (this.a = null),
              (this.b = !1),
              (this.e = {});
            const r = Math.max(1, Math.floor(qx.cpus().length / 4));
            (this.c = new Eh(this.f, this.g, this.h, {
              poolName: 'default',
              maxSize: r,
              crawlPolicyProvider: new Ch(this.f, this.i),
              minCrawlDelay: 500,
              maxCrawlDelay: 1500,
            })),
              (this.d = new Eh(this.f, this.g, this.h, {
                poolName: 'websearch',
                maxSize: 3,
                crawlPolicyProvider: new Ch(this.f, this.i),
                minCrawlDelay: 100,
                maxCrawlDelay: 300,
              })),
              this.f.info(
                `[iCubeCrawler] Crawler task pool initialized, maxSize: ${r}, cpuCount: ${
                  qx.cpus().length
                }`
              ),
              this.j();
          }
          j() {
            Os.handle(ux, async (t, e) => await this.crawl(e)),
              Os.handle(dx, async (t, e) => await this.crawlByEntrypoint(e)),
              Os.handle(hx, async (t, e) => {
                await this.openForLogin(e);
              }),
              Os.handle(fx, async (t, e) => this.getProgress(e)),
              Os.handle(gx, async (t, e) => {
                const i = t.sender;
                this.registerListenerOnProgress(e, (s, r) => {
                  const n = JSON.stringify({
                    stubId: e,
                    progress: { pages: s.pages, status: s.status },
                    task: {
                      url: r.url,
                      status: r.status,
                      markdownContent: r.markdownContent,
                      title: r.title,
                      favicon: r.favicon,
                    },
                  });
                  i.send(wx, n);
                });
              }),
              Os.handle(mx, async (t, e) => {
                this.removeListenerOnProgress(e);
              }),
              Os.handle(px, async (t, e) => await this.stopCrawl(e)),
              Os.handle(bx, async (t, e) => await this.loadRobotsTxt(new URL(e))),
              Os.handle(vx, async (t, e) => await this.getUrlIsAllowedToCrawl(new URL(e))),
              Os.handle(yx, async (t, e) => await this.getUrlIsDisAllowedToCrawl(new URL(e))),
              Os.handle(kx, async (t, e) => await this.getUrlCrawlDelay(new URL(e))),
              Os.handle(Sx, async (t, e) => {
                const i = await this.dumpPoolStatusSnapshot(e),
                  s = { ...i };
                return (
                  (s.queuedTasks = i.queuedTasks.map((r) => this.k(r))),
                  (s.runningTasks = i.runningTasks.map((r) => this.k(r))),
                  JSON.parse(JSON.stringify(s))
                );
              });
          }
          k(t) {
            return {
              url: t.url,
              prefix: t.prefix,
              htmlContent:
                t.htmlContent.length > 300
                  ? t.htmlContent.substring(0, 300) + '...'
                  : t.htmlContent,
              markdownContent:
                t.markdownContent.length > 300
                  ? t.markdownContent.substring(0, 300) + '...'
                  : t.markdownContent,
              title: t.title,
              favicon: t.favicon.length > 300 ? t.favicon.substring(0, 300) + '...' : t.favicon,
              groupStubId: t.group?.stubId,
              groupEntryPoint: t.group?.entryTask.url,
              groupStatus: t.group?.status,
              recursive: t.recursive,
              depth: t.depth,
              createdTime: t.createdTime,
              updatedTime: t.updatedTime,
              timeout: t.timeout,
              redirectCount: t.redirectCount,
              retryCount: t.retryCount,
              durationMetrics: t.durationMetrics,
            };
          }
          async crawlByEntrypoint(t) {
            const e = yy.from({
                url: t.entryPoint,
                prefix: t?.prefix,
                recursive: t.recursive ?? !0,
                depth: 1,
                linkType: t.linkType,
              }),
              i = new Mx(oY(), e, this.f);
            return (
              (e.group = i),
              (this.e[i.stubId] = i),
              this.f.info(
                `[iCubeCrawler] Start crawling task group with id: ${i.stubId}; entry task: ${e.url}`
              ),
              this.c.enqueueTask(i.entryTask),
              i.stubId
            );
          }
          async getProgress(t) {
            const e = this.e[t];
            return e ? e.getProgress() : null;
          }
          async openForLogin(t) {
            const e = new zt();
            if (!this.b)
              return (
                (this.b = !0),
                this.a ||
                  (this.a = new aY({
                    show: !0,
                    width: 1920,
                    height: 1080,
                    webPreferences: { nodeIntegration: !0, contextIsolation: !1 },
                  })),
                this.a.loadURL(t.url),
                this.a.show(),
                this.a.on('close', () => {
                  e.complete();
                }),
                this.a.on('closed', () => {
                  (this.b = !1), (this.a = null);
                }),
                e.p
              );
          }
          async stopCrawl(t) {
            return this.e[t] ? (this.c.removeByTaskGroupStubId(t), delete this.e[t], !0) : !1;
          }
          async crawl(t) {
            const e = yy.from({
              url: t.url,
              prefix: t.url,
              recursive: t.recursive ?? !1,
              depth: 1,
              timeout: t.timeout,
              linkType: t.linkType,
            });
            t.isHighPriority ? this.d.enqueueTask(e) : this.c.enqueueTask(e);
            const i = new zt();
            return (
              e.onComplete(() => {
                const s = {
                  url: e.url,
                  htmlContent: e.htmlContent,
                  markdownContent: e.markdownContent,
                  title: e.title,
                  favicon: e.favicon,
                  status: e.status,
                };
                i.complete(s);
              }),
              e.onError((s) => {
                i.error(s);
              }),
              await i.p
            );
          }
          async loadRobotsTxt(t) {
            return this.i.fetchRobotsTxt(t);
          }
          async getUrlIsAllowedToCrawl(t) {
            return this.i.isAllowed(t);
          }
          async getUrlIsDisAllowedToCrawl(t) {
            return this.i.isDisallowed(t);
          }
          async getUrlCrawlDelay(t) {
            return this.i.getRequiredDelay(t);
          }
          registerListenerOnProgress(t, e) {
            const i = this.e[t];
            return i ? (i.onProgress(e), !0) : !1;
          }
          removeListenerOnProgress(t) {
            const e = this.e[t];
            return e ? (e.onProgress(null), !0) : !1;
          }
          async dumpPoolStatusSnapshot(t) {
            return t === 'websearch' ? this.d.getStatusSnapshot() : this.c.getStatusSnapshot();
          }
        });
    },
  });
import lY from 'robots-parser';
var Jx,
  uY = b({
    'out-build/vs/platform/iCubeCrawler/electron-main/robotsTxtRuleValidatorService.js'() {
      'use strict';
      Jx = class {
        constructor(t) {
          (this.c = t), (this.a = new Map()), (this.b = 'Bytespider');
        }
        d(t) {
          const { protocol: e } = t;
          if (e !== 'http:' && e !== 'https:')
            throw Error(`url ${t.toString()} is not a valid http or https url`);
          return !0;
        }
        async fetchRobotsTxt(t) {
          const { protocol: e, host: i } = t;
          try {
            this.d(t);
          } catch (o) {
            return { robotsTxtUrl: t.toString(), robotsTxtContent: null, error: o };
          }
          const s = this.a.get(i);
          if (s && !s.error) return s;
          const r = new URL(e + '//' + i + '/robots.txt');
          let n;
          try {
            const o = await this.g(r);
            n = { robotsTxtUrl: r.toString(), robotsTxtContent: o, error: null };
          } catch (o) {
            n = { robotsTxtUrl: r.toString(), robotsTxtContent: null, error: o };
          }
          return this.a.set(i, n), n;
        }
        async f(t) {
          try {
            this.d(t);
            const e = await this.fetchRobotsTxt(t);
            if (e.error) throw new Error(e.error);
            const i = e.robotsTxtContent;
            return lY(t.toString(), i);
          } catch (e) {
            throw (this.c.debug(`[RobotsRuleValidator]: Failed to get robot parser, ${e}`), e);
          }
        }
        async g(t) {
          try {
            const e = await fetch(t);
            return e.ok
              ? e.text()
              : Promise.reject(
                  `[RobotsRuleValidator]: fetch robots.txt for url ${t.toString()} failed: HTTP error! status: ${
                    e.status
                  }`
                );
          } catch (e) {
            return (
              this.c.debug(
                `[RobotsRuleValidator]: fetch robots.txt for url ${t.toString()} failed: ${e}`
              ),
              Promise.reject(
                `[RobotsRuleValidator]: fetch robots.txt for url ${t.toString()} failed: ${e}`
              )
            );
          }
        }
        async isAllowed(t) {
          try {
            const i = (await this.f(t)).isAllowed(t.toString(), this.b);
            if (i === void 0) throw new Error('URL is not valid for this robots.txt');
            return i;
          } catch (e) {
            return (
              this.c.debug(`[RobotsRuleValidator]: Failed to check url is allowd, ${e}`),
              Promise.reject(`[RobotsRuleValidator]: Failed to check url is allowd, ${e}`)
            );
          }
        }
        async isDisallowed(t) {
          try {
            const i = (await this.f(t)).isDisallowed(t.toString(), this.b);
            if (i === void 0) throw new Error('URL is not valid for this robots.txt');
            return i;
          } catch (e) {
            return (
              this.c.debug(`[RobotsRuleValidator]: Failed to check url is disallowed, ${e}`),
              Promise.reject(`[RobotsRuleValidator]: Failed to check url is disallowed, ${e}`)
            );
          }
        }
        async getRequiredDelay(t) {
          try {
            return (await this.f(t)).getCrawlDelay(this.b) || 0;
          } catch (e) {
            return (
              this.c.debug(`[RobotsRuleValidator]: Failed to getRequiredDelay, ${e}`),
              Promise.reject(`[RobotsRuleValidator]: Failed to getRequiredDelay, ${e}`)
            );
          }
        }
      };
    },
  }),
  no,
  K1,
  Xx = b({
    'out-build/vs/platform/iCubeNewVersionGuide/common/iCubeNewVersionGuide.js'() {
      'use strict';
      (function (t) {
        (t.showGuide = 'showGuide'), (t.markAndHide = 'markAndHide');
      })(no || (no = {})),
        (K1 = {
          hide: 'vscode:newVersionGuide.hide',
          getContext: 'vscode:newVersionGuide.getContext',
          reset: 'vscode:newVersionGuide.reset',
        });
    },
  }),
  Yx,
  hY = b({
    'out-build/vs/workbench/contrib/update/common/update.js'() {
      'use strict';
      Yx = 'releaseNotes/lastVersion';
    },
  });
import Dh from 'semver';
var ky,
  Qx,
  xh,
  J1,
  dY = b({
    'out-build/vs/platform/iCubeNewVersionGuide/electron-main/iCubeNewVersionGuide.js'() {
      'use strict';
      K(),
        U(),
        se(),
        Pt(),
        qt(),
        Xo(),
        Xx(),
        Ze(),
        Gn(),
        hY(),
        wi(),
        (ky = W('IICubeNewVersionGuideService')),
        (Qx = {
          code: '20250421',
          minWidth: 780,
          minHeight: 750,
          items: [
            {
              media: { local: 'media/1.mp4', type: 'video' },
              language: {
                'zh-cn': {
                  title: '\u7EDF\u4E00 AI \u9762\u677F \u2014 \u4F7F\u7528 @ \u53EC\u5524 Builder',
                  content:
                    '\u6211\u4EEC\u5408\u5E76\u4E86 Chat \u548C Builder \u9762\u677F\u3002\u73B0\u5728\uFF0C\u5728\u4E00\u4E2A\u5730\u65B9\u5C31\u80FD\u548C AI \u804A\u6240\u6709\u4E8B\u3002\u8F93\u5165 @Builder \u8BD5\u8BD5\uFF0C\u8FD8\u662F\u719F\u6089\u7684\u914D\u65B9\u3002',
                },
                en: {
                  title: 'Unified AI Panel \u2014 Call Builder with @',
                  content:
                    "We've merged the Chat and Builder panels. Now, you can talk to AI about everything in one place. Try typing @Builder \u2013 it's the same familiar formula.",
                },
                ja: {
                  title:
                    'AI \u30D1\u30CD\u30EB\u7D71\u5408 \u2014\u2014 @\u3067 Builder \u3092\u547C\u3073\u51FA\u3057',
                  content:
                    '\u30C1\u30E3\u30C3\u30C8\u3068 Builder \u30D1\u30CD\u30EB\u3092\u7D71\u5408\u3057\u307E\u3057\u305F\u3002\u4ECA\u3067\u306F\u3001\u4E00\u3064\u306E\u5834\u6240\u3067 AI \u3068\u5168\u3066\u306E\u3053\u3068\u3092\u8A71\u305B\u307E\u3059\u3002@Builder \u3092\u5165\u529B\u3057\u3066\u307F\u3066\u304F\u3060\u3055\u3044\u3001\u99B4\u67D3\u307F\u306E\u3042\u308B\u30D5\u30A9\u30FC\u30DF\u30E5\u30E9\u304C\u305D\u306E\u307E\u307E\u4F7F\u3048\u307E\u3059\u3002',
                },
              },
            },
            {
              media: { local: 'media/2.mp4', type: 'video' },
              language: {
                'zh-cn': {
                  title: '\u652F\u6301\u81EA\u5B9A\u4E49\u521B\u5EFA\u667A\u80FD\u4F53',
                  content:
                    '\u73B0\u5728\u4F60\u53EF\u4EE5\u521B\u5EFA\u81EA\u5DF1\u7684\u667A\u80FD\u4F53\u4E86\uFF01\u8BBE\u7F6E\u4E0D\u540C\u7684\u667A\u80FD\u4F53\u63D0\u793A\u8BCD\u3001\u63A5\u5165 MCP \u6216\u5185\u7F6E\u5DE5\u5177\u589E\u5F3A\u667A\u80FD\u4F53\u7684\u80FD\u529B\u548C\u534F\u4F5C\u6027\uFF0C\u6253\u9020\u4E13\u5C5E\u7684 AI \u4E13\u5BB6\u6765\u5904\u7406\u7279\u5B9A\u4EFB\u52A1\u3002',
                },
                en: {
                  title: 'Support for Custom Agent Creation',
                  content:
                    'You can now create your own Agent! Customize prompts, connect MCP or tools to boost skills and teamwork, and build a dedicated AI expert for specific tasks.',
                },
                ja: {
                  title:
                    '\u30AB\u30B9\u30BF\u30E0\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u4F5C\u6210\u3092\u30B5\u30DD\u30FC\u30C8',
                  content:
                    '\u81EA\u5206\u3060\u3051\u306E\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u3092\u4F5C\u6210\u3067\u304D\u308B\u3088\u3046\u306B\u306A\u308A\u307E\u3057\u305F\uFF01\u30D7\u30ED\u30F3\u30D7\u30C8\u3092\u8A2D\u5B9A\u3057\u3001MCP \u3084\u5185\u8535\u30C4\u30FC\u30EB\u3068\u9023\u643A\u3057\u3066\u3001\u30A8\u30FC\u30B8\u30A7\u30F3\u30C8\u306E\u6A5F\u80FD\u3068\u5354\u8ABF\u6027\u3092\u5F37\u5316\u3002\u7279\u5B9A\u306E\u30BF\u30B9\u30AF\u306B\u5BFE\u5FDC\u3059\u308B\u5C02\u7528 AI \u3092\u69CB',
                },
              },
            },
            {
              media: { local: 'media/3.mp4', type: 'video' },
              language: {
                'zh-cn': {
                  title: '\u66F4\u591A\u5143\u7684\u4E0A\u4E0B\u6587',
                  content:
                    '\u6211\u4EEC\u4E30\u5BCC\u4E86#\u4E0A\u4E0B\u6587\u7684\u7C7B\u578B\u3002\u73B0\u5728\uFF0C\u4F60\u53EF\u4EE5\u4F7F\u7528 #Web \u8FDB\u884C\u5B9E\u65F6\u8054\u7F51\u641C\u7D22\uFF0C\u4E5F\u53EF\u4EE5\u642D\u5EFA\u6587\u6863\u96C6\u5E76\u901A\u8FC7 #Doc \u4E3A AI \u7CBE\u51C6\u63D0\u4F9B\u53C2\u8003\u5185\u5BB9\uFF0C\u8BA9\u5BF9\u8BDD\u66F4\u8D34\u5408\u4F60\u7684\u4EFB\u52A1\u9700\u6C42\u3002',
                },
                en: {
                  title: 'More Diverse Contexts',
                  content:
                    'We\u2019ve expanded #Context. Use #Web for real-time search, or build docs with #Doc to give AI precise references for smarter conversations.',
                },
                ja: {
                  title: '\u3088\u308A\u591A\u69D8\u306A\u6587\u8108',
                  content:
                    '#\u6587\u8108\u306E\u7A2E\u985E\u3092\u62E1\u5145\u3057\u307E\u3057\u305F\u3002#Web \u3067\u30EA\u30A2\u30EB\u30BF\u30A4\u30E0\u691C\u7D22\u3001#Doc \u3067\u6B63\u78BA\u306A\u60C5\u5831\u3092 AI \u306B\u63D0\u4F9B\u3057\u3001\u3088\u308A\u9069\u5207\u306A\u4F1A\u8A71\u304C\u53EF\u80FD\u306B\u3002',
                },
              },
            },
            {
              media: { local: 'media/4.mp4', type: 'video' },
              language: {
                'zh-cn': {
                  title: '\u914D\u7F6E\u89C4\u5219\u81EA\u5B9A\u4E49 AI \u5BF9\u8BDD',
                  content:
                    '\u6211\u4EEC\u652F\u6301\u4E3A Trae \u914D\u7F6E\u7528\u6237\u3001\u9879\u76EE\u7EF4\u5EA6\u7684 Rules.md\uFF0C\u5728\u5168\u5C40\u6216\u5355\u4E2A\u9879\u76EE\u4E2D\u751F\u6548\uFF0C\u7CBE\u7EC6\u5316\u63A7\u5236 AI \u7684\u8F93\u51FA\u98CE\u683C\u548C\u884C\u4E3A\uFF0C\u5BF9\u8BDD\u7ED3\u679C\u66F4\u7B26\u5408\u9884\u671F\uFF01',
                },
                en: {
                  title: 'Define Rules to Shape AI Responses',
                  content:
                    'Set Rules.md at the user or project level to refine Trae\u2019s behavior and response style \u2014 apply globally or per project to ensure consistent results.',
                },
                ja: {
                  title:
                    'Trae \u306E\u5FDC\u7B54\u3092\u30EB\u30FC\u30EB\u3067\u30B3\u30F3\u30C8\u30ED\u30FC\u30EB',
                  content:
                    '\u30E6\u30FC\u30B6\u30FC\u307E\u305F\u306F\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u5358\u4F4D\u3067 Rules.md \u3092\u8A2D\u5B9A\u3057\u3066\u3001Trae \u306E\u5FDC\u7B54\u30B9\u30BF\u30A4\u30EB\u3084\u632F\u308B\u821E\u3044\u3092\u7D30\u304B\u304F\u8ABF\u6574\u3067\u304D\u307E\u3059\u3002',
                },
              },
            },
          ],
        }),
        (xh = 'icube.newVersionGuide.items'),
        (J1 = class extends H {
          constructor(e, i, s, r, n) {
            super(),
              (this.h = e),
              (this.m = i),
              (this.n = s),
              (this.r = r),
              (this.s = n),
              (this.f = {}),
              (this.g = !1),
              (this.c = [{ ...Qx, routes: this.h.iCubeApp?.newVersionGuideRoute || [] }]),
              this.s.applicationStorage.whenInit.then(() => {
                const o = this.s.applicationStorage.get(Yx);
                this.trace('lastVersion:', o), (this.f.lastVersion = o), this.t();
              });
          }
          get shouldShowGuide() {
            const { matchVersionCode: e, matchConfig: i, action: s } = this.f;
            return !(!this.c || !e || !i || !s || s != no.showGuide || this.m.getItem(xh, {})[e]);
          }
          async t() {
            this.handlePageStateAndReturnShowStrategy();
          }
          async getContext() {
            return (
              this.g || (await this.handlePageStateAndReturnShowStrategy()),
              {
                ...this.f,
                cdnRegion: (await c$(this.h))?.cdnRegion,
                shouldShowGuide: this.shouldShowGuide,
              }
            );
          }
          async handlePageStateAndReturnShowStrategy() {
            this.g = !0;
            const e = this.h.appVersion,
              { lastVersion: i } = this.f;
            if (!this.c || (e === i && wo(this.h) === 'stable')) return;
            const s = this.c.sort((n, o) => Number(o.code) - Number(n.code));
            for (let n = 0; n < s.length; n++) {
              const o = s[n],
                a = o.code;
              if (this.f.action) break;
              for (let c = 0; c < o.routes.length; c++) {
                const l = o.routes[c];
                if (
                  l.action === no.showGuide &&
                  l.match.lastVersion &&
                  l.match.currentVersion &&
                  i &&
                  Dh.satisfies(i, l.match.lastVersion) &&
                  Dh.satisfies(e, l.match.currentVersion)
                ) {
                  this.updateContext(l.action, a, o);
                  break;
                }
                if (
                  l.action === no.markAndHide &&
                  l.match.lastVersion &&
                  l.match.currentVersion &&
                  i
                ) {
                  if (
                    Dh.satisfies(i, l.match.lastVersion) &&
                    Dh.satisfies(e, l.match.currentVersion)
                  ) {
                    this.updateContext(l.action, a, o);
                    break;
                  }
                } else if (
                  l.action === no.markAndHide &&
                  l.match.currentVersion &&
                  !l.match.lastVersion &&
                  Dh.satisfies(e, l.match.currentVersion)
                ) {
                  this.updateContext(l.action, a, o);
                  break;
                }
              }
            }
            const r = this.f.action;
            if ((this.trace('action=' + r, 'lastVersion=', i, 'currentVersion=', e), !!r))
              switch (r) {
                case no.showGuide:
                  await this.showGuidePage();
                  break;
                case no.markAndHide:
                  this.hideGuidePage();
                  break;
              }
          }
          updateContext(e, i, s) {
            (this.f.action = e), (this.f.matchVersionCode = i), (this.f.matchConfig = s);
          }
          updateStorageForShowed() {
            const { matchConfig: e, matchVersionCode: i } = this.f;
            if (!e || !i) return;
            const s = this.m.getItem(xh, {});
            (s[i] = !0), this.m.setItem(xh, s);
          }
          async showGuidePage() {
            this.shouldShowGuide &&
              (this.u({ action: 'doShow', value: await this.getContext() }),
              this.trace('guide show'));
          }
          hideGuidePage() {
            this.updateStorageForShowed(),
              this.u({ action: 'doHide', value: !1 }),
              this.trace('guide hide');
          }
          resetGuideState() {
            this.m.removeItem(xh), this.trace('guide state reset');
          }
          u(e) {
            const i = this.r?.getWindows();
            if (i)
              for (const s of i)
                try {
                  s.win?.webContents.send(nt.MAIN_TO_SANDBOX_SEND_NEW_VERSION_CHANGE, e);
                } catch (r) {
                  this.n.warn(`broadcast to windowId=${s.win?.id} failed: `, r);
                }
          }
          trace(e, ...i) {
            this.h.quality === 'stable'
              ? this.n.trace(`[ICubeNewVersionGuideService] ${e}`, ...i)
              : this.n.info(`[ICubeNewVersionGuideService] ${e}`, ...i);
          }
        }),
        (J1 = __decorate(
          [__param(0, Be), __param(1, kt), __param(2, ee), __param(3, Tt), __param(4, zn)],
          J1
        ));
    },
  }),
  X1,
  fY = b({
    'out-build/vs/platform/iCubeProduct/electron-main/iCubeProductService.js'() {
      'use strict';
      U(),
        ie(),
        wi(),
        or(),
        Ge(),
        gh(),
        Ze(),
        (X1 = class extends H {
          constructor(e, i, s, r, n) {
            super(),
              (this.c = e),
              (this.f = i),
              (this.g = s),
              (this.h = r),
              (this.j = n),
              this.B(this.g.onDidChangeUserInfo((o) => this.m(o))),
              (this.b = this.h.c),
              this.B(this.h.onDidChangeDeviceId((o) => this.n(o)));
          }
          m(e) {
            this.a = e;
          }
          n(e) {
            this.b = e;
          }
          get iCubePPE() {
            return this.j.getValue('iCube.request.ppe') || '';
          }
          getDeviceId() {
            if (this.b)
              return parseInt(this.b).toString() == this.b
                ? this.b
                : `${this.stringToNumber32(this.b)}000`;
          }
          stringToNumber32(e) {
            let r = 2166136261;
            for (let n = 0; n < e.length; n++) (r ^= e.charCodeAt(n)), (r = Math.imul(r, 16777619));
            return r >>> 0;
          }
          getCommonApiParams() {
            return {
              mid: this.c,
              did: this.getDeviceId() || '0',
              uid: this.a?.userId || '',
              userRegion: this.a?.region,
              organization: this.a?.account?.organization || '',
              packageType: E4(this.f),
              platform: t2,
              arch: process.arch,
              tenant: this.a?.account?.scope,
              appVersion: this.f.appVersion,
              buildVersion: this.f.tronBuildVersion || '',
              traeVersionCode: this.f.traeVersionCode,
            };
          }
        }),
        (X1 = __decorate([__param(1, Be), __param(2, fs), __param(3, so), __param(4, Ve)], X1));
    },
  });
import {
  app as oo,
  BrowserWindow as pY,
  protocol as Zx,
  session as Lc,
  systemPreferences as eA,
} from 'electron';
import { jsonrepair as gY } from 'jsonrepair';
import { hostname as mY, release as wY } from 'os';
var Sy,
  Y1,
  bY = b({
    'out-build/vs/code/electron-main/app.js'() {
      'use strict';
      Kc(),
        Ei(),
        bt(),
        Fn(),
        He(),
        X(),
        Gc(),
        Yr(),
        U(),
        Oe(),
        xe(),
        ie(),
        $e(),
        be(),
        hi(),
        R_(),
        Zr(),
        B_(),
        M6(),
        E9(),
        he(),
        Gl(),
        FL(),
        Ge(),
        BL(),
        bf(),
        lw(),
        jo(),
        B6(),
        mT(),
        vt(),
        Zl(),
        fw(),
        RT(),
        NT(),
        BT(),
        HT(),
        sM(),
        ft(),
        AM(),
        Aw(),
        Eo(),
        K(),
        Iw(),
        IM(),
        gF(),
        mF(),
        bF(),
        St(),
        se(),
        EF(),
        uc(),
        Ze(),
        Xl(),
        RF(),
        Qw(),
        Pt(),
        NF(),
        Gn(),
        $3(),
        Gt(),
        BF(),
        jF(),
        Jo(),
        ln(),
        WF(),
        GG(),
        qG(),
        YG(),
        iq(),
        m3(),
        sq(),
        rq(),
        nq(),
        oq(),
        uq(),
        Jn(),
        qt(),
        Dq(),
        xq(),
        Oi(),
        cw(),
        Yf(),
        Aq(),
        Wo(),
        Pr(),
        Iq(),
        Fo(),
        a1(),
        EC(),
        CK(),
        DK(),
        xK(),
        le(),
        MK(),
        FK(),
        OK(),
        vu(),
        RK(),
        NK(),
        VC(),
        WK(),
        bJ(),
        vJ(),
        xa(),
        Vl(),
        CJ(),
        vd(),
        _w(),
        or(),
        DJ(),
        E1(),
        xJ(),
        RJ(),
        Xu(),
        rD(),
        pc(),
        Xo(),
        vD(),
        JE(),
        Gc(),
        QJ(),
        ls(),
        hi(),
        cX(),
        lX(),
        uX(),
        fD(),
        hX(),
        dX(),
        _E(),
        OS(),
        mX(),
        bX(),
        gh(),
        EX(),
        Qv(),
        DX(),
        th(),
        xX(),
        TX(),
        NX(),
        BX(),
        cY(),
        _x(),
        uY(),
        dY(),
        Xx(),
        ty(),
        iy(),
        fY(),
        DD(),
        (Y1 = class extends H {
          static {
            Sy = this;
          }
          static {
            this.b = {
              [N.file]: 'security.promptForLocalFileProtocolHandling',
              [N.vscodeRemote]: 'security.promptForRemoteFileProtocolHandling',
            };
          }
          constructor(e, i, s, r, n, o, a, c, l, h, d, p) {
            super(),
              (this.j = e),
              (this.m = i),
              (this.s = s),
              (this.t = r),
              (this.u = n),
              (this.w = o),
              (this.y = a),
              (this.z = c),
              (this.C = l),
              (this.D = h),
              (this.F = d),
              (this.G = p),
              this.H(),
              this.I();
          }
          H() {
            const e = (d) => d?.startsWith(`${N.vscodeFileResource}://${yl}`),
              i = (d) => d?.startsWith(`${N.vscodeWebview}://`),
              s = new Set([
                'clipboard-read',
                'clipboard-sanitized-write',
                'deprecated-sync-clipboard-read',
              ]),
              r = new Set(['media', 'local-fonts', 'deprecated-sync-clipboard-read']);
            Lc.defaultSession.setPermissionRequestHandler((d, p, m, w) =>
              i(w.requestingUrl) ? m(s.has(p)) : e(w.requestingUrl) ? m(r.has(p)) : m(!1)
            ),
              Lc.defaultSession.setPermissionCheckHandler((d, p, m, w) =>
                i(w.requestingUrl) ? s.has(p) : e(w.requestingUrl) ? r.has(p) : !1
              );
            const n = new Set([
                N.file,
                N.vscodeFileResource,
                N.vscodeRemoteResource,
                N.vscodeManagedRemoteResource,
                'devtools',
              ]),
              o = (d) => {
                for (let p = d; p; p = p.parent)
                  if (p.url.startsWith(`${N.vscodeWebview}://`) || this.J(new URL(p.url).host))
                    return !0;
                return !1;
              },
              a = (d) => d.resourceType === 'xhr' || o(d.frame),
              c = (d) => {
                const p = d.frame;
                if (!p || !this.f) return !1;
                const m = pY.getAllWindows();
                for (const w of m) if (p.processId === w.webContents.mainFrame.processId) return !0;
                return !1;
              },
              l = (d, p) => {
                if (d.path !== '/index.html') return !0;
                const m = p.frame;
                if (!m || !this.f) return !1;
                for (const w of this.f.getWindows())
                  if (w.win && m.processId === w.win.webContents.mainFrame.processId) return !0;
                return !1;
              };
            Lc.defaultSession.webRequest.onBeforeRequest((d, p) => {
              const m = _.parse(d.url);
              return m.scheme === N.vscodeWebview && !l(m, d)
                ? (this.t.error('Blocked vscode-webview request', d.url), p({ cancel: !0 }))
                : m.scheme === N.vscodeFileResource && !c(d)
                ? (this.t.error('Blocked vscode-file request', d.url), p({ cancel: !0 }))
                : m.scheme === 'https' && d.resourceType === 'xhr' && this.J(m.authority)
                ? (this.t.trace('Bypass https resource for:', d.url), p({ cancel: !1 }))
                : m.path.endsWith('.svg') && !n.has(m.scheme)
                ? p({ cancel: !a(d) })
                : p({ cancel: !1 });
            }),
              Lc.defaultSession.webRequest.onHeadersReceived((d, p) => {
                const m = d.responseHeaders,
                  w = m['content-type'] || m['Content-Type'];
                if (w && Array.isArray(w)) {
                  const v = _.parse(d.url);
                  if (v.path.endsWith('.svg') && n.has(v.scheme))
                    return (
                      (m['Content-Type'] = ['image/svg+xml']), p({ cancel: !1, responseHeaders: m })
                    );
                  if (
                    !v.path.endsWith(N.vscodeRemoteResource) &&
                    w.some((k) => k.toLowerCase().includes('image/svg'))
                  )
                    return p({ cancel: !a(d) });
                }
                return p({ cancel: !1 });
              }),
              Lc.defaultSession.webRequest.onHeadersReceived((d, p) => {
                if (d.url.startsWith('https://vscode.download.prss.microsoft.com/')) {
                  const m = d.responseHeaders ?? Object.create(null);
                  if (m['Access-Control-Allow-Origin'] === void 0)
                    return (
                      (m['Access-Control-Allow-Origin'] = ['*']),
                      p({ cancel: !1, responseHeaders: m })
                    );
                }
                return p({ cancel: !1 });
              });
            const h = Lc.defaultSession;
            typeof h.setCodeCachePath == 'function' &&
              this.w.codeCachePath &&
              h.setCodeCachePath(M(this.w.codeCachePath, 'chrome')),
              J &&
                (this.z.getValue('security.restrictUNCAccess') === !1
                  ? d$()
                  : qc(this.z.getValue('security.allowedUNCHosts')));
          }
          I() {
            f4((s) => this.L(s)),
              process.on('uncaughtException', (s) => {
                XI(s) || Xt(s);
              }),
              process.on('unhandledRejection', (s) => Xt(s)),
              P.once(this.y.onWillShutdown)(() => this.dispose()),
              O_(),
              oo.on('accessibility-support-changed', (s, r) => {
                this.f?.sendToAll('vscode:accessibilitySupportChanged', r);
              }),
              oo.on('activate', async (s, r) => {
                this.t.trace('app#activate'), r || (await this.f?.openEmptyWindow({ context: 1 }));
              }),
              oo.on('certificate-error', (s, r, n, o, a, c) => {
                this.J(new URL(n).host) ? (s.preventDefault(), c(!0)) : c(!1);
              }),
              oo.on('web-contents-created', (s, r) => {
                r?.opener?.url.startsWith(`${N.vscodeFileResource}://${yl}/`) &&
                  (this.t.trace(
                    '[aux window]  app.on("web-contents-created"): Registering auxiliary window'
                  ),
                  this.g?.registerWindow(r)),
                  r.setWindowOpenHandler((n) =>
                    n.url === 'about:blank'
                      ? (this.t.trace(
                          '[aux window] webContents#setWindowOpenHandler: Allowing auxiliary window to open on about:blank'
                        ),
                        { action: 'allow', overrideBrowserWindowOptions: this.g?.createWindow(n) })
                      : (this.t.trace(
                          `webContents#setWindowOpenHandler: Prevented opening window with URL ${n.url}}`
                        ),
                        this.h?.openExternal(void 0, n.url),
                        { action: 'deny' })
                  );
              });
            let e = [],
              i;
            oo.on('open-file', (s, r) => {
              (r = La(r)),
                this.t.trace('app#open-file: ', r),
                s.preventDefault(),
                e.push(Mo(r) ? { workspaceUri: _.file(r) } : { fileUri: _.file(r) }),
                i !== void 0 && (clearTimeout(i), (i = void 0)),
                (i = setTimeout(async () => {
                  await this.f?.open({
                    context: 1,
                    cli: this.w.args,
                    urisToOpen: e,
                    gotoLineMode: !1,
                    preferNewWindow: !0,
                  }),
                    (e = []),
                    (i = void 0);
                }, 100));
            }),
              oo.on('new-window-for-tab', async () => {
                await this.f?.openEmptyWindow({ context: 4 });
              }),
              de.handle('vscode:fetchShellEnv', (s) => {
                const r = this.f?.getWindowByWebContents(s.sender);
                let n, o;
                return (
                  r?.config
                    ? ((n = r.config), (o = { ...process.env, ...r.config.userEnv }))
                    : ((n = this.w.args), (o = process.env)),
                  this.ab(n, o, !1)
                );
              }),
              de.on('vscode:toggleDevTools', (s) => s.sender.toggleDevTools()),
              de.on('vscode:openDevTools', (s) => s.sender.openDevTools()),
              de.on('vscode:reloadWindow', (s) => s.sender.reload()),
              de.handle('vscode:notifyZoomLevel', async (s, r) => {
                const n = this.f?.getWindowByWebContents(s.sender);
                n && n.notifyZoomLevel(r);
              });
          }
          J(e) {
            return this.F.iCubeApp?.nativeAppConfig &&
              Array.isArray(this.F.iCubeApp?.nativeAppConfig?.bypassHosts)
              ? this.F.iCubeApp.nativeAppConfig.bypassHosts.some((i) => e.endsWith(i))
              : !1;
          }
          L(e) {
            if (e) {
              const i = { message: `[uncaught exception in main]: ${e.message}`, stack: e.stack };
              this.f?.sendToFocused('vscode:reportError', JSON.stringify(i));
            }
            this.t.error(`[uncaught exception in main]: ${e}`), e.stack && this.t.error(e.stack);
          }
          async startup() {
            this.t.debug('Starting VS Code'),
              this.t.debug(`from: ${this.w.appRoot}`),
              this.t.debug('args:', this.w.args);
            const e = this.F.win32AppUserModelId;
            J && e && oo.setAppUserModelId(e);
            try {
              Q &&
                this.z.getValue('window.nativeTabs') === !0 &&
                !eA.getUserDefault('NSUseImprovedLayoutPass', 'boolean') &&
                eA.setUserDefault('NSUseImprovedLayoutPass', 'boolean', !0);
            } catch (h) {
              this.t.error(h);
            }
            const i = new _6();
            P.once(this.y.onWillShutdown)((h) => {
              h.reason === 2 && i.dispose();
            }),
              this.t.trace('Resolving machine identifier...');
            const [s, r, n] = await Promise.all([
              PK(this.C, this.t),
              _K(this.C, this.t),
              LK(this.C, this.t),
            ]);
            this.t.trace(`Resolved machine identifier: ${s}`);
            const { sharedProcessReady: o, sharedProcessClient: a } = this.U(s, r, n),
              c = await this.W(s, r, n, o);
            this.B(c.createInstance(Vp)),
              this.B(c.createInstance(S1)),
              c.invokeFunction((h) => h.get(ff)),
              this.B(c.createInstance(u1)),
              this.B(c.createInstance(_1)),
              c.invokeFunction((h) => this.X(h, i, a)),
              (this.a = await c.invokeFunction((h) => this.N(h, i))),
              this.O(i),
              (this.y.phase = 2),
              this.C.setItem(Vv, !0),
              this.cb(),
              await c.invokeFunction(async (h) => {
                (this.f = h.get(Tt)), (this.g = h.get(Ya)), (this.c = h.get(ny));
                const d = h.get($r),
                  p = h.get(Ju),
                  m = h.get(Vt),
                  w = h.get(zn),
                  v = h.get(so),
                  k = h.get(Bi);
                this.c.initialize({ iCubeEventReportService: k, telemetryService: m });
                const y = h.get(fs);
                de.handle('vscode:installMarscodeCli', async (F) => {
                  this.t.info('installMarscodeCli');
                  try {
                    J ? await this.c?.installCliInWindows() : await d.installShellCommand(void 0);
                  } catch (Y) {
                    this.t.info(Y);
                  }
                }),
                  de.handle('vscode:setupTheme', async (F, Y) => {
                    this.t.info('setup page getTheme', Y);
                    const B = await new mv(this.D).getColorTheme(Y);
                    if (B)
                      return (
                        w.applicationStorage.init(),
                        w.applicationStorage.set(
                          Mp.STORAGE_KEY,
                          Mp.getToStorageData(B.currentTheme)
                        ),
                        JSON.stringify({ id: B.currentTheme.id, css: B.css })
                      );
                  }),
                  de.handle(nt.SANDBOX_TO_MAIN_BROADCAST_ICUBE_AGENT_CHANGE, async (F, ...Y) => {
                    this.M(nt.MAIN_TO_SANDBOX_ICUBE_AGENT_CHANGE, ...Y);
                  }),
                  de.handle(
                    nt.SANDBOX_TO_MAIN_BROADCAST_ICUBE_MODEL_MANAGEMENT_CHANGE,
                    async (F, ...Y) => {
                      this.M(nt.MAIN_TO_SANDBOX_ICUBE_MODEL_MANAGEMENT_CHANGE, ...Y);
                    }
                  ),
                  de.handle('vscode:login', async (F, Y) => {
                    this.t.info('login'), await y.login(Y);
                  }),
                  h.get(j1).init(this.M.bind(this));
                const I = h.get(dn);
                await y.initialize({
                  broadcastToCodeWindows: this.M.bind(this),
                  nativeHostMainService: d,
                  telemetryService: m,
                  onLogout: () => {
                    this.M(nt.EVENT_MAIN_TO_SANDBOX_LOGOUT);
                  },
                  onLoginSuccess: (F) => {
                    this.M(nt.EVENT_MAIN_TO_SANDBOX_LOGIN, F);
                  },
                  iCubeEventReportService: k,
                  mainICubeSetupManagement: p,
                }),
                  I.initialize({
                    broadcastToCodeWindows: this.M.bind(this),
                    mainICubeAuthManagementService: y,
                  }),
                  I.refreshRegion();
                const E = await y.getAuthUserInfo({ forceLogin: !1 }),
                  x = await p.get();
                if ((this.t.info('[Startup]', 'check setup state', x), x !== io.DONE))
                  return this.c.openSetup({
                    skipLogin: !!E,
                    machineId: m.machineId,
                    deviceId: v.c,
                  });
                this.Y();
              }),
              (this.y.phase = 3),
              this.Z(),
              this.B(
                new As(() => {
                  this.B(
                    V0(() => {
                      (this.y.phase = 4), this.db();
                    }, 2500)
                  );
                }, 2500)
              ).schedule();
          }
          M(e, ...i) {
            const s = this.c?.getWindow();
            s && s.webContents.send(e, ...i);
            const r = this.f?.getWindows();
            if (r) for (const n of r) n.win?.webContents.send(e, ...i);
          }
          async N(e, i) {
            const s = (this.f = e.get(Tt)),
              r = e.get(mu),
              n = (this.h = e.get($r)),
              o = e.get(rn),
              a = this;
            r.registerHandler({
              async handleURL(m, w) {
                return a.S(s, o, r, m, w);
              },
            });
            const c = this.B(
                new cC({
                  onDidOpenMainWindow: n.onDidOpenMainWindow,
                  onDidFocusMainWindow: n.onDidFocusMainWindow,
                  getActiveWindowId: () => n.getActiveWindowId(-1),
                })
              ),
              l = new o6((m) => c.getActiveClientId().then((w) => m === w)),
              h = new tC(l, this.t),
              d = i.getChannel('urlHandler', h);
            r.registerHandler(new eC(d));
            const p = await this.P(s, o);
            return this.B(new rC(p?.urls, r, s, this.w, this.F, this.t)), p;
          }
          O(e) {
            const i = () => ({ statusCode: 404, data: 'Not found' }),
              s = new Jr(() => e.getChannel(tD, new iD()));
            Zx.registerBufferProtocol(N.vscodeManagedRemoteResource, (r, n) => {
              const o = _.parse(r.url);
              if (!o.authority.startsWith('window:')) return n(i());
              s.value.call(Nv, [o]).then(
                (a) => n({ ...a, data: Buffer.from(a.body, 'base64') }),
                (a) => {
                  this.t.warn('error dispatching remote resource call', a),
                    n({ statusCode: 500, data: String(a) });
                }
              );
            });
          }
          async P(e, i) {
            const s = this.w.args['open-url'] ? this.w.args._urls || [] : [];
            s.length > 0 &&
              this.t.trace('app#resolveInitialProtocolUrls() protocol urls from command line:', s);
            const r = global.getOpenUrls() || [];
            if (
              (r.length > 0 &&
                this.t.trace(
                  "app#resolveInitialProtocolUrls() protocol urls from macOS 'open-url' event:",
                  r
                ),
              s.length + r.length === 0)
            )
              return;
            const n = [...s, ...r].map((c) => {
                try {
                  return { uri: _.parse(c), originalUrl: c };
                } catch {
                  this.t.trace('app#resolveInitialProtocolUrls() protocol url failed to parse:', c);
                  return;
                }
              }),
              o = [],
              a = [];
            for (const c of n) {
              if (!c) continue;
              const l = this.R(c.uri);
              if (l)
                if (await this.Q(l, e, i)) {
                  this.t.trace(
                    'app#resolveInitialProtocolUrls() protocol url was blocked:',
                    c.uri.toString(!0)
                  );
                  continue;
                } else
                  this.t.trace(
                    'app#resolveInitialProtocolUrls() protocol url will be handled as window to open:',
                    c.uri.toString(!0),
                    l
                  ),
                    o.push(l);
              else
                this.t.trace(
                  'app#resolveInitialProtocolUrls() protocol url will be passed to active window for handling:',
                  c.uri.toString(!0)
                ),
                  a.push(c);
            }
            return { urls: a, openables: o };
          }
          async Q(e, i, s) {
            let r, n;
            if (
              (zm(e)
                ? ((r = e.workspaceUri),
                  (n = u(
                    152,
                    null,
                    r.scheme === N.file ? _a(r, { os: ws, tildify: this.w }) : r.toString(!0),
                    this.F.nameShort
                  )))
                : a9(e)
                ? ((r = e.folderUri),
                  (n = u(
                    153,
                    null,
                    r.scheme === N.file ? _a(r, { os: ws, tildify: this.w }) : r.toString(!0),
                    this.F.nameShort
                  )))
                : ((r = e.fileUri),
                  (n = u(
                    154,
                    null,
                    r.scheme === N.file ? _a(r, { os: ws, tildify: this.w }) : r.toString(!0),
                    this.F.nameShort
                  ))),
              (r.scheme !== N.file && r.scheme !== N.vscodeRemote) ||
                this.z.getValue(Sy.b[r.scheme]) === !1)
            )
              return !1;
            const { response: a, checkboxChecked: c } = await s.showMessageBox({
              type: 'warning',
              buttons: [u(155, null), u(156, null)],
              message: n,
              detail: u(157, null),
              checkboxLabel: r.scheme === N.file ? u(158, null) : u(159, null),
              cancelId: 1,
            });
            if (a !== 0) return !0;
            if (c) {
              const l = {
                channel: 'vscode:disablePromptForProtocolHandling',
                args: r.scheme === N.file ? 'local' : 'remote',
              };
              i.sendToFocused(l.channel, l.args), i.sendToOpeningWindow(l.channel, l.args);
            }
            return !1;
          }
          R(e) {
            if (e.path) {
              if (e.authority === N.file) {
                const i = _.file(e.fsPath);
                return Mo(i) ? { workspaceUri: i } : { fileUri: i };
              } else if (e.authority === N.vscodeRemote) {
                const i = e.path.indexOf(Ce.sep, 1);
                let s, r;
                i !== -1
                  ? ((s = e.path.substring(1, i)), (r = e.path.substring(i)))
                  : ((s = e.path.substring(1)), (r = '/'));
                let n = e.query;
                const o = new URLSearchParams(e.query);
                o.get('windowId') === '_blank' && (o.delete('windowId'), (n = o.toString()));
                const a = _.from({
                  scheme: N.vscodeRemote,
                  authority: s,
                  path: r,
                  query: n,
                  fragment: e.fragment,
                });
                return Mo(r)
                  ? { workspaceUri: a }
                  : /:[\d]+$/.test(r)
                  ? { fileUri: a }
                  : { folderUri: a };
              }
            }
          }
          async S(e, i, s, r, n) {
            this.t.trace('app#handleProtocolUrl():', r.toString(!0), n),
              r.scheme === this.F.urlProtocol &&
                r.path === 'workspace' &&
                (r = r.with({ authority: 'file', path: _.parse(r.query).path, query: '' }));
            let o = !1;
            const a = new URLSearchParams(r.query);
            a.get('windowId') === '_blank'
              ? (this.t.trace(
                  "app#handleProtocolUrl() found 'windowId=_blank' as parameter, setting shouldOpenInNewWindow=true:",
                  r.toString(!0)
                ),
                a.delete('windowId'),
                (r = r.with({ query: a.toString() })),
                (o = !0))
              : Q &&
                e.getWindowCount() === 0 &&
                (this.t.trace(
                  'app#handleProtocolUrl() running on macOS with no window open, setting shouldOpenInNewWindow=true:',
                  r.toString(!0)
                ),
                (o = !0));
            const c = a.get('continueOn');
            c !== null &&
              (this.t.trace(
                "app#handleProtocolUrl() found 'continueOn' as parameter:",
                r.toString(!0)
              ),
              a.delete('continueOn'),
              (r = r.with({ query: a.toString() })),
              (this.w.continueOn = c ?? void 0));
            const l = this.R(r);
            return l
              ? (await this.Q(l, e, i))
                ? (this.t.trace(
                    'app#handleProtocolUrl() protocol url was blocked:',
                    r.toString(!0)
                  ),
                  !0)
                : (this.t.trace(
                    'app#handleProtocolUrl() opening protocol url as window:',
                    l,
                    r.toString(!0)
                  ),
                  (
                    await e.open({
                      context: 6,
                      cli: { ...this.w.args },
                      urisToOpen: [l],
                      forceNewWindow: o,
                      gotoLineMode: !0,
                    })
                  )
                    .at(0)
                    ?.focus(),
                  !0)
              : o
              ? (this.t.trace(
                  'app#handleProtocolUrl() opening empty window and passing in protocol url:',
                  r.toString(!0)
                ),
                await (
                  await e.open({
                    context: 6,
                    cli: { ...this.w.args },
                    forceNewWindow: !0,
                    forceEmpty: !0,
                    gotoLineMode: !0,
                    remoteAuthority: ic(r),
                  })
                )
                  .at(0)
                  ?.ready(),
                s.open(r, n))
              : (this.t.trace('app#handleProtocolUrl(): not handled', r.toString(!0), n), !1);
          }
          U(e, i, s) {
            const r = this.B(this.s.createInstance(sp, e, i, s));
            this.B(r.onDidCrash(() => this.f?.sendToFocused('vscode:reportSharedProcessCrash')));
            const n = (async () => {
              this.t.trace('Main->SharedProcess#connect');
              const a = await r.connect();
              return (
                this.t.trace('Main->SharedProcess#connect: connection established'),
                new om(a, 'main')
              );
            })();
            return {
              sharedProcessReady: (async () => (await r.whenReady(), n))(),
              sharedProcessClient: n,
            };
          }
          async W(e, i, s, r) {
            const n = new Rf(),
              o = new I1(this.t, this.C, this.F, this.w, s);
            switch ((n.set(so, o), process.platform)) {
              case 'win32':
                n.set(Go, new ve(ih));
                break;
              case 'linux':
                n0
                  ? n.set(Go, new ve(Jp, [process.env.SNAP, process.env.SNAP_REVISION]))
                  : n.set(Go, new ve(qp));
                break;
              case 'darwin':
                n.set(Go, new ve(bn));
                break;
            }
            const a = ei();
            n.set(Tt, new ve(r1, [e, i, s, a, this.m], !1)), n.set(Ya, new ve(k1, void 0, !1));
            const c = new kf(this.t, this.F);
            n.set(rn, c),
              n.set(Vw, new ve(Jf, void 0, !1)),
              n.set(Ql, new ve(xf, void 0, !1)),
              n.set(iw, Qe.toService(Il(r.then((ae) => ae.getChannel('diagnostics'))))),
              n.set($w, new ve(qf, [this.m])),
              n.set(j1, new ve(L1)),
              n.set(Ld, new ve(Af)),
              n.set(zw, new ve(Kf)),
              n.set($r, new ve(du, void 0, !1)),
              n.set(Cv, new ve(Qp)),
              n.set(Gw, new ve(tp)),
              n.set(pw, new ve(Tf)),
              n.set(zn, new ve(cf)),
              n.set(Vn, new ve(lf)),
              n.set(oy, new ve(G1));
            const l = new Yu(this.F, this.C, this.t, this.w, this.D, this.z),
              h = this.s.createInstance(cp);
            n.set(dn, h), n.set(fs, l);
            const d = new U1(this.t);
            n.set(Yv, d);
            const p = new $1(l, h, o, d, this.F, this.z, this.C, e, a);
            o.initICubeEventReportService(p);
            const m = new T1(p),
              w = new M1(p);
            n.set(Bi, p), n.set(Wv, m), n.set(ND, w);
            const v = new p1(
                {
                  graceTime: 6e4,
                  shortGraceTime: 6e3,
                  scrollback:
                    this.z.getValue('terminal.integrated.persistentSessionScrollback') ?? 100,
                },
                this.z,
                this.w,
                this.y,
                this.t,
                p
              ),
              k = new v1(v, this.z, this.t, this.u);
            n.set(Mv, k),
              J ? n.set(iu, new ve(Ff)) : Q ? n.set(iu, new ve(p8)) : Fe && n.set(iu, new ve(bw));
            const y = new mf(this.w, this.z, this.t, this.C);
            n.set(Qa, y);
            const C = new Cf(this.w, this.t, this.G, y, c);
            if (
              (n.set(Yn, C),
              n.set(aw, new ve(n1, void 0, !1)),
              n.set(wu, new ve(Xf, void 0, !1)),
              n.set(mu, new ve(Yp, void 0, !1)),
              P3(this.F, this.w))
            ) {
              const ae = PF(this.F, this.z),
                Me = Il(r.then((pe) => pe.getChannel('telemetryAppender'))),
                fe = new O3(Me),
                { memory: _t, cpu: V, memoryUsagePercentage: R, usage: z } = sD(),
                q = IF(
                  wY(),
                  mY(),
                  process.arch,
                  this.F.commit,
                  this.F.version,
                  this.F.appVersion,
                  e,
                  i,
                  s,
                  ae,
                  void 0,
                  this.F.tronBuildVersion,
                  JSON.stringify(_t),
                  JSON.stringify(V),
                  R,
                  z,
                  this.F.quality,
                  o.c
                ),
                ne = _F(this.w),
                me = { appenders: [fe], commonProperties: q, piiPaths: ne, sendErrorTelemetry: !0 };
              n.set(Vt, new ve(rp, [me], !1));
            } else n.set(Vt, yu);
            n.set(Ic, new ve(h1, void 0, !0)),
              n.set(kC, new ve(l1, void 0, !0)),
              n.set(Tv, new ve(d1, void 0, !0)),
              n.set(ff, new ve(pf)),
              n.set(Bf, new ve(Uf, void 0, !0));
            const I = new D1(this.F, this.w, this.t, this.C, m);
            n.set(Bv, I);
            const E = new ve(X1, [e]);
            n.set(O1, E);
            const x = new ve(q1, [e]);
            n.set(F1, x);
            const F = new ve(N1, [e]);
            n.set(ra, F), n.set(ky, new ve(J1)), n.set(ny, this.s.createInstance(B1, I));
            const Y = Qe.toService(Il(r.then((ae) => ae.getChannel('icubeHtmlToMarkdown'))));
            n.set(wy, Y);
            const oe = new Jx(this.t),
              B = new Kx(this.t, Y, w, oe);
            return (
              n.set(lx, B),
              await ui.settled([y.initialize(), C.initialize()]),
              this.s.createChild(n)
            );
          }
          X(e, i, s) {
            const r = this.B(new je()),
              n = Qe.fromService(e.get(Vw), r, { disableMarshalling: !0 });
            this.j.registerChannel('launch', n);
            const o = Qe.fromService(e.get(Ql), r, { disableMarshalling: !0 });
            this.j.registerChannel('diagnostics', o);
            const a = r.add(new lC(e.get(Ko)));
            i.registerChannel('policy', a), s.then((ut) => ut.registerChannel('policy', a));
            const c = this.D.getProvider(N.file);
            i$(c instanceof Of);
            const l = r.add(new Y8(c, this.t, this.w));
            i.registerChannel(Dw, l), s.then((ut) => ut.registerChannel(Dw, l));
            const h = Qe.fromService(e.get(xr), r);
            i.registerChannel('userDataProfiles', h),
              s.then((ut) => ut.registerChannel('userDataProfiles', h));
            const d = new R3(e.get(Go));
            i.registerChannel('update', d);
            const p = Qe.fromService(e.get($w), r);
            i.registerChannel('process', p);
            const m = Qe.fromService(e.get(Ld), r);
            i.registerChannel('encryption', m);
            const w = Qe.fromService(e.get(fc), r);
            i.registerChannel('sign', w);
            const v = Qe.fromService(e.get(zw), r);
            i.registerChannel('keyboardLayout', v), (this.h = e.get($r));
            const k = Qe.fromService(this.h, r);
            i.registerChannel('nativeHost', k), s.then((ut) => ut.registerChannel('nativeHost', k));
            const y = Qe.fromService(e.get(aw), r);
            i.registerChannel('workspaces', y);
            const C = Qe.fromService(e.get(Gw), r);
            i.registerChannel('menubar', C);
            const I = Qe.fromService(e.get(mu), r);
            i.registerChannel('url', I);
            const E = Qe.fromService(e.get(Cv), r);
            i.registerChannel('webview', E);
            const x = r.add(new F3(this.t, e.get(zn)));
            i.registerChannel('storage', x), s.then((ut) => ut.registerChannel('storage', x));
            const F = r.add(new CC(e.get(zn), e.get(xr), this.t));
            s.then((ut) => ut.registerChannel('profileStorageListener', F));
            const Y = Qe.fromService(e.get(Mv), r);
            i.registerChannel(Pc.LocalPty, Y);
            const oe = Qe.fromService(e.get(iu), r);
            i.registerChannel('externalTerminal', oe);
            const B = new xC(e.get(dc));
            i.registerChannel('logger', B), s.then((ut) => ut.registerChannel('logger', B));
            const ae = e.get(so),
              Me = Qe.fromService(ae, r);
            i.registerChannel(A1, Me), s.then((ut) => ut.registerChannel(A1, Me));
            const fe = e.get(F1),
              _t = Qe.fromService(fe, r);
            i.registerChannel('iCubeMessageCenterChannel', _t),
              s.then((ut) => ut.registerChannel('iCubeMessageCenterChannel', _t));
            const V = e.get(fs),
              R = e.get(dn),
              z = e.get(ra),
              q = Qe.fromService(V, r),
              ne = Qe.fromService(R, r),
              me = Qe.fromService(z, r);
            i.registerChannel('dynamicConfig', me),
              i.registerChannel('userInfo', q),
              i.registerChannel('region', ne),
              s.then((ut) => {
                ut.registerChannel('userInfo', q),
                  ut.registerChannel('region', ne),
                  ut.registerChannel('dynamicConfig', me);
              });
            const pe = e.get(ky);
            de.handle(K1.getContext, async () => pe.getContext()),
              de.handle(K1.hide, async () => pe.hideGuidePage()),
              de.handle(K1.reset, async () => pe.resetGuideState());
            const O = e.get(j1),
              Ee = Qe.fromService(O, r);
            i.registerChannel('processDiagnosis', Ee),
              s.then((ut) => ut.registerChannel('processDiagnosis', Ee));
            const ze = new I9(e.get(Tt));
            i.registerChannel('extensionhostdebugservice', ze);
            const Br = Qe.fromService(e.get(pw), r);
            i.registerChannel(f8, Br);
            const Us = Qe.fromService(e.get(Tv), r);
            i.registerChannel(AC, Us);
            const En = new nD(e.get(Bv));
            i.registerChannel('iCubeVSImportChannel', En);
            const Es = Qe.fromService(e.get(oy), r);
            i.registerChannel(GD, Es);
          }
          async Y() {
            const e = this.f,
              i = zo(process.env) ? 0 : 4,
              s = this.w.args,
              r = this.a;
            if (r) {
              if (r.openables.length > 0)
                return e?.open({
                  context: i,
                  cli: s,
                  urisToOpen: r.openables,
                  gotoLineMode: !0,
                  initialStartup: !0,
                });
              if (r.urls.length > 0)
                for (const w of r.urls) {
                  const v = new URLSearchParams(w.uri.query);
                  if (v.get('windowId') === '_blank')
                    return (
                      v.delete('windowId'),
                      (w.originalUrl = w.uri.toString(!0)),
                      (w.uri = w.uri.with({ query: v.toString() })),
                      e?.open({
                        context: i,
                        cli: s,
                        forceNewWindow: !0,
                        forceEmpty: !0,
                        gotoLineMode: !0,
                        initialStartup: !0,
                      })
                    );
                }
            }
            const n = global.macOpenFiles,
              o = s._.length,
              a = !!s['folder-uri'],
              c = !!s['file-uri'],
              l = s['skip-add-to-recently-opened'] === !0,
              h = s.wait && s.waitMarkerFilePath ? _.file(s.waitMarkerFilePath) : void 0,
              d = s.remote || void 0,
              p = s.profile,
              m = s['profile-temp'];
            if (!o && !a && !c) {
              if (s['new-window'] || p || m)
                return e?.open({
                  context: i,
                  cli: s,
                  forceNewWindow: !0,
                  forceEmpty: !0,
                  noRecentEntry: l,
                  waitMarkerFileURI: h,
                  initialStartup: !0,
                  remoteAuthority: d,
                  forceProfile: p,
                  forceTempProfile: m,
                });
              if (n.length)
                return e?.open({
                  context: 1,
                  cli: s,
                  urisToOpen: n.map(
                    (w) => (
                      (w = La(w)), Mo(w) ? { workspaceUri: _.file(w) } : { fileUri: _.file(w) }
                    )
                  ),
                  noRecentEntry: l,
                  waitMarkerFileURI: h,
                  initialStartup: !0,
                });
            }
            return e?.open({
              context: i,
              cli: s,
              forceNewWindow: s['new-window'],
              diffMode: s.diff,
              mergeMode: s.merge,
              noRecentEntry: l,
              waitMarkerFileURI: h,
              gotoLineMode: s.goto,
              initialStartup: !0,
              remoteAuthority: d,
              forceProfile: p,
              forceTempProfile: m,
            });
          }
          Z() {
            this.$(),
              Zx.registerHttpProtocol(N.vscodeRemoteResource, (e, i) => {
                i({ url: e.url.replace(/^vscode-remote-resource:/, 'http:'), method: e.method });
              }),
              this.ab(this.w.args, process.env, !0),
              this.bb(),
              this.cb(),
              Q &&
                oo.runningUnderARM64Translation &&
                this.f?.sendToFocused('vscode:showTranslatedBuildWarning');
          }
          async $() {
            const e = this.F.win32MutexName;
            if (J && e)
              try {
                const i = await import('@vscode/windows-mutex'),
                  s = new i.Mutex(e);
                P.once(this.y.onWillShutdown)(() => s.release());
              } catch (i) {
                this.t.error(i);
              }
          }
          async ab(e, i, s) {
            try {
              return await dw(this.z, this.t, e, i);
            } catch (r) {
              const n = ki(r);
              s ? this.f?.sendToFocused('vscode:showResolveShellEnvError', n) : this.t.error(n);
            }
            return {};
          }
          async bb() {
            try {
              const i = (await this.D.readFile(this.w.argvResource)).value.toString(),
                s = k4(i),
                n = Jw(this.z) >= 1;
              if (s['enable-crash-reporter'] === void 0) {
                const o = [
                    '',
                    '	// Allows to disable crash reporting.',
                    '	// Should restart the app if the value is changed.',
                    `	"enable-crash-reporter": ${n},`,
                    '',
                    '	// Unique id used for correlating crash reports sent from this instance.',
                    '	// Do not edit this value.',
                    `	"crash-reporter-id": "${ei()}"`,
                    '}',
                  ],
                  a = i.substring(0, i.length - 2).concat(
                    `,
`,
                    o.join(`
`)
                  );
                await this.D.writeFile(this.w.argvResource, re.fromString(a));
              } else {
                const o = i.replace(
                  /"enable-crash-reporter": .*,/,
                  `"enable-crash-reporter": ${n},`
                );
                o !== i && (await this.D.writeFile(this.w.argvResource, re.fromString(o)));
              }
            } catch (e) {
              this.t.error(e), this.f?.sendToFocused('vscode:showArgvParseWarning');
            }
          }
          async cb() {
            try {
              const i = (await this.D.readFile(this.w.argvResource)).value.toString();
              try {
                JSON.parse(Vc(i));
              } catch {
                const r = gY(i);
                await this.D.writeFile(this.w.argvResource, re.fromString(r));
              }
            } catch (e) {
              console.error(e);
            }
          }
          db() {
            TK(this.C, this.t);
          }
        }),
        (Y1 = Sy =
          __decorate(
            [
              __param(2, Ks),
              __param(3, ee),
              __param(4, Po),
              __param(5, dt),
              __param(6, st),
              __param(7, Ve),
              __param(8, kt),
              __param(9, $t),
              __param(10, Be),
              __param(11, xr),
            ],
            Y1
          ));
    },
  });
function Ah(t) {
  return Object.isFrozen(t) ? t : n$(t);
}
function ao(t, e) {
  const { added: i, removed: s, updated: r } = tA(e?.rawConfiguration, t?.rawConfiguration),
    n = [],
    o = t?.getAllOverrideIdentifiers() || [],
    a = e?.getAllOverrideIdentifiers() || [];
  if (e) {
    const c = a.filter((l) => !o.includes(l));
    for (const l of c) n.push([l, e.getKeysForOverrideIdentifier(l)]);
  }
  if (t) {
    const c = o.filter((l) => !a.includes(l));
    for (const l of c) n.push([l, t.getKeysForOverrideIdentifier(l)]);
  }
  if (e && t) {
    for (const c of o)
      if (a.includes(c)) {
        const l = tA(
          {
            contents: t.getOverrideValue(void 0, c) || {},
            keys: t.getKeysForOverrideIdentifier(c),
          },
          { contents: e.getOverrideValue(void 0, c) || {}, keys: e.getKeysForOverrideIdentifier(c) }
        );
        n.push([c, [...l.added, ...l.removed, ...l.updated]]);
      }
  }
  return { added: i, removed: s, updated: r, overrides: n };
}
function tA(t, e) {
  const i = t ? (e ? t.keys.filter((n) => e.keys.indexOf(n) === -1) : [...t.keys]) : [],
    s = e ? (t ? e.keys.filter((n) => t.keys.indexOf(n) === -1) : [...e.keys]) : [],
    r = [];
  if (t && e) {
    for (const n of e.keys)
      if (t.keys.indexOf(n) !== -1) {
        const o = fd(e.contents, n),
          a = fd(t.contents, n);
        Ws(o, a) || r.push(n);
      }
  }
  return { added: i, removed: s, updated: r };
}
var Nt,
  Ey,
  iA,
  sA,
  Q1,
  rA,
  nA = b({
    'out-build/vs/platform/configuration/common/configurationModels.js'() {
      'use strict';
      ni(),
        X(),
        Ys(),
        U(),
        Pi(),
        mi(),
        $e(),
        be(),
        Ge(),
        _n(),
        li(),
        (Nt = class ga {
          static createEmptyModel(e) {
            return new ga({}, [], [], void 0, e);
          }
          constructor(e, i, s, r, n) {
            (this.b = e),
              (this.c = i),
              (this.d = s),
              (this.raw = r),
              (this.f = n),
              (this.a = new Map());
          }
          get rawConfiguration() {
            if (!this.g)
              if (this.raw) {
                const e = (Array.isArray(this.raw) ? this.raw : [this.raw]).map((i) => {
                  if (i instanceof ga) return i;
                  const s = new Ey('', this.f);
                  return s.parseRaw(i), s.configurationModel;
                });
                this.g = e.reduce((i, s) => (s === i ? s : i.merge(s)), e[0]);
              } else this.g = this;
            return this.g;
          }
          get contents() {
            return this.b;
          }
          get overrides() {
            return this.d;
          }
          get keys() {
            return this.c;
          }
          isEmpty() {
            return this.c.length === 0 && Object.keys(this.b).length === 0 && this.d.length === 0;
          }
          getValue(e) {
            return e ? fd(this.contents, e) : this.contents;
          }
          inspect(e, i) {
            const s = this;
            return {
              get value() {
                return Ah(s.rawConfiguration.getValue(e));
              },
              get override() {
                return i ? Ah(s.rawConfiguration.getOverrideValue(e, i)) : void 0;
              },
              get merged() {
                return Ah(
                  i ? s.rawConfiguration.override(i).getValue(e) : s.rawConfiguration.getValue(e)
                );
              },
              get overrides() {
                const r = [];
                for (const { contents: n, identifiers: o, keys: a } of s.rawConfiguration
                  .overrides) {
                  const c = new ga(n, a, [], void 0, s.f).getValue(e);
                  c !== void 0 && r.push({ identifiers: o, value: c });
                }
                return r.length ? Ah(r) : void 0;
              },
            };
          }
          getOverrideValue(e, i) {
            const s = this.j(i);
            return s ? (e ? fd(s, e) : s) : void 0;
          }
          getKeysForOverrideIdentifier(e) {
            const i = [];
            for (const s of this.overrides) s.identifiers.includes(e) && i.push(...s.keys);
            return zs(i);
          }
          getAllOverrideIdentifiers() {
            const e = [];
            for (const i of this.overrides) e.push(...i.identifiers);
            return zs(e);
          }
          override(e) {
            let i = this.a.get(e);
            return i || ((i = this.h(e)), this.a.set(e, i)), i;
          }
          merge(...e) {
            const i = ms(this.contents),
              s = ms(this.overrides),
              r = [...this.keys],
              n = this.raw ? (Array.isArray(this.raw) ? [...this.raw] : [this.raw]) : [this];
            for (const o of e)
              if (
                (n.push(...(o.raw ? (Array.isArray(o.raw) ? o.raw : [o.raw]) : [o])), !o.isEmpty())
              ) {
                this.i(i, o.contents);
                for (const a of o.overrides) {
                  const [c] = s.filter((l) => Zc(l.identifiers, a.identifiers));
                  c
                    ? (this.i(c.contents, a.contents),
                      c.keys.push(...a.keys),
                      (c.keys = zs(c.keys)))
                    : s.push(ms(a));
                }
                for (const a of o.keys) r.indexOf(a) === -1 && r.push(a);
              }
            return new ga(
              i,
              r,
              s,
              !n.length || n.every((o) => o instanceof ga) ? void 0 : n,
              this.f
            );
          }
          h(e) {
            const i = this.j(e);
            if (!i || typeof i != 'object' || !Object.keys(i).length) return this;
            const s = {};
            for (const r of zs([...Object.keys(this.contents), ...Object.keys(i)])) {
              let n = this.contents[r];
              const o = i[r];
              o &&
                (typeof n == 'object' && typeof o == 'object'
                  ? ((n = ms(n)), this.i(n, o))
                  : (n = o)),
                (s[r] = n);
            }
            return new ga(s, this.keys, this.overrides, void 0, this.f);
          }
          i(e, i) {
            for (const s of Object.keys(i)) {
              if (s in e && Lt(e[s]) && Lt(i[s])) {
                this.i(e[s], i[s]);
                continue;
              }
              e[s] = ms(i[s]);
            }
          }
          j(e) {
            let i = null,
              s = null;
            const r = (n) => {
              n && (s ? this.i(s, n) : (s = ms(n)));
            };
            for (const n of this.overrides)
              n.identifiers.length === 1 && n.identifiers[0] === e
                ? (i = n.contents)
                : n.identifiers.includes(e) && r(n.contents);
            return r(i), s;
          }
          toJSON() {
            return { contents: this.contents, overrides: this.overrides, keys: this.keys };
          }
          addValue(e, i) {
            this.k(e, i, !0);
          }
          setValue(e, i) {
            this.k(e, i, !1);
          }
          removeValue(e) {
            const i = this.keys.indexOf(e);
            i !== -1 &&
              (this.keys.splice(i, 1),
              eP(this.contents, e),
              wr.test(e) &&
                this.overrides.splice(
                  this.overrides.findIndex((s) => Zc(s.identifiers, nl(e))),
                  1
                ));
          }
          k(e, i, s) {
            if (
              (V2(this.contents, e, i, (r) => this.f.error(r)),
              (s = s || this.keys.indexOf(e) === -1),
              s && this.keys.push(e),
              wr.test(e))
            ) {
              const r = nl(e),
                n = {
                  identifiers: r,
                  keys: Object.keys(this.contents[e]),
                  contents: A0(this.contents[e], (a) => this.f.error(a)),
                },
                o = this.overrides.findIndex((a) => Zc(a.identifiers, r));
              o !== -1 ? (this.overrides[o] = n) : this.overrides.push(n);
            }
          }
        }),
        (Ey = class {
          constructor(t, e) {
            (this.f = t),
              (this.g = e),
              (this.a = null),
              (this.b = null),
              (this.c = []),
              (this.d = []);
          }
          get configurationModel() {
            return this.b || Nt.createEmptyModel(this.g);
          }
          get restrictedConfigurations() {
            return this.c;
          }
          get errors() {
            return this.d;
          }
          parse(t, e) {
            if (!Ii(t)) {
              const i = this.h(t);
              this.parseRaw(i, e);
            }
          }
          reparse(t) {
            this.a && this.parseRaw(this.a, t);
          }
          parseRaw(t, e) {
            this.a = t;
            const {
              contents: i,
              keys: s,
              overrides: r,
              restricted: n,
              hasExcludedProperties: o,
            } = this.i(t, e);
            (this.b = new Nt(i, s, r, o ? [t] : void 0, this.g)), (this.c = n || []);
          }
          h(t) {
            let e = {},
              i = null,
              s = [];
            const r = [],
              n = [];
            function o(c) {
              Array.isArray(s) ? s.push(c) : i !== null && (s[i] = c);
            }
            const a = {
              onObjectBegin: () => {
                const c = {};
                o(c), r.push(s), (s = c), (i = null);
              },
              onObjectProperty: (c) => {
                i = c;
              },
              onObjectEnd: () => {
                s = r.pop();
              },
              onArrayBegin: () => {
                const c = [];
                o(c), r.push(s), (s = c), (i = null);
              },
              onArrayEnd: () => {
                s = r.pop();
              },
              onLiteralValue: o,
              onError: (c, l, h) => {
                n.push({ error: c, offset: l, length: h });
              },
            };
            if (t)
              try {
                yf(t, a), (e = s[0] || {});
              } catch (c) {
                this.g.error(`Error while parsing settings file ${this.f}: ${c}`), (this.d = [c]);
              }
            return e;
          }
          i(t, e) {
            const i = tt.as(Li.Configuration).getConfigurationProperties(),
              s = this.j(t, i, !0, e);
            t = s.raw;
            const r = A0(t, (a) => this.g.error(`Conflict in settings file ${this.f}: ${a}`)),
              n = Object.keys(t),
              o = this.l(t, (a) => this.g.error(`Conflict in settings file ${this.f}: ${a}`));
            return {
              contents: r,
              keys: n,
              overrides: o,
              restricted: s.restricted,
              hasExcludedProperties: s.hasExcludedProperties,
            };
          }
          j(t, e, i, s) {
            let r = !1;
            if (!s?.scopes && !s?.skipRestricted && !s?.exclude?.length)
              return { raw: t, restricted: [], hasExcludedProperties: r };
            const n = {},
              o = [];
            for (const a in t)
              if (wr.test(a) && i) {
                const c = this.j(t[a], e, !1, s);
                (n[a] = c.raw), (r = r || c.hasExcludedProperties), o.push(...c.restricted);
              } else {
                const c = e[a],
                  l = c ? (typeof c.scope < 'u' ? c.scope : 4) : void 0;
                c?.restricted && o.push(a),
                  !s.exclude?.includes(a) &&
                  (s.include?.includes(a) ||
                    ((l === void 0 || s.scopes === void 0 || s.scopes.includes(l)) &&
                      !(s.skipRestricted && c?.restricted)))
                    ? (n[a] = t[a])
                    : (r = !0);
              }
            return { raw: n, restricted: o, hasExcludedProperties: r };
          }
          l(t, e) {
            const i = [];
            for (const s of Object.keys(t))
              if (wr.test(s)) {
                const r = {};
                for (const n in t[s]) r[n] = t[s][n];
                i.push({ identifiers: nl(s), keys: Object.keys(r), contents: A0(r, e) });
              }
            return i;
          }
        }),
        (iA = class extends H {
          constructor(t, e, i, s, r) {
            super(),
              (this.c = t),
              (this.f = e),
              (this.g = s),
              (this.h = r),
              (this.b = this.B(new $())),
              (this.onDidChange = this.b.event),
              (this.a = new Ey(this.c.toString(), r)),
              this.B(this.g.watch(i.dirname(this.c))),
              this.B(this.g.watch(this.c)),
              this.B(
                P.any(
                  P.filter(this.g.onDidFilesChange, (n) => n.contains(this.c)),
                  P.filter(
                    this.g.onDidRunOperation,
                    (n) =>
                      (n.isOperation(0) ||
                        n.isOperation(3) ||
                        n.isOperation(1) ||
                        n.isOperation(4)) &&
                      i.isEqual(n.resource, t)
                  )
                )(() => this.b.fire())
              );
          }
          async loadConfiguration() {
            try {
              const t = await this.g.readFile(this.c);
              return this.a.parse(t.value.toString() || '{}', this.f), this.a.configurationModel;
            } catch {
              return Nt.createEmptyModel(this.h);
            }
          }
          reparse(t) {
            return t && (this.f = t), this.a.reparse(this.f), this.a.configurationModel;
          }
          getRestrictedSettings() {
            return this.a.restrictedConfigurations;
          }
        }),
        (sA = class {
          constructor(t, e, i, s, r, n, o, a, c, l, h, d, p) {
            (this.a = t),
              (this.b = e),
              (this.c = i),
              (this.overrideIdentifiers = s),
              (this.d = r),
              (this.f = n),
              (this.g = o),
              (this.h = a),
              (this.i = c),
              (this.j = l),
              (this.k = h),
              (this.l = d),
              (this.m = p);
          }
          get value() {
            return Ah(this.c);
          }
          n(t) {
            return t?.value !== void 0 || t?.override !== void 0 || t?.overrides !== void 0
              ? t
              : void 0;
          }
          get q() {
            return this.p || (this.p = this.d.inspect(this.a, this.b.overrideIdentifier)), this.p;
          }
          get defaultValue() {
            return this.q.merged;
          }
          get default() {
            return this.n(this.q);
          }
          get s() {
            return this.r === void 0 && (this.r = this.f ? this.f.inspect(this.a) : null), this.r;
          }
          get policyValue() {
            return this.s?.merged;
          }
          get policy() {
            return this.s?.value !== void 0 ? { value: this.s.value } : void 0;
          }
          get u() {
            return this.t === void 0 && (this.t = this.g ? this.g.inspect(this.a) : null), this.t;
          }
          get applicationValue() {
            return this.u?.merged;
          }
          get application() {
            return this.n(this.u);
          }
          get w() {
            return this.v || (this.v = this.h.inspect(this.a, this.b.overrideIdentifier)), this.v;
          }
          get userValue() {
            return this.w.merged;
          }
          get user() {
            return this.n(this.w);
          }
          get y() {
            return this.x || (this.x = this.i.inspect(this.a, this.b.overrideIdentifier)), this.x;
          }
          get userLocalValue() {
            return this.y.merged;
          }
          get userLocal() {
            return this.n(this.y);
          }
          get A() {
            return this.z || (this.z = this.j.inspect(this.a, this.b.overrideIdentifier)), this.z;
          }
          get userRemoteValue() {
            return this.A.merged;
          }
          get userRemote() {
            return this.n(this.A);
          }
          get D() {
            return (
              this.B === void 0 &&
                (this.B = this.k ? this.k.inspect(this.a, this.b.overrideIdentifier) : null),
              this.B
            );
          }
          get workspaceValue() {
            return this.D?.merged;
          }
          get workspace() {
            return this.n(this.D);
          }
          get F() {
            return (
              this.E === void 0 &&
                (this.E = this.l ? this.l.inspect(this.a, this.b.overrideIdentifier) : null),
              this.E
            );
          }
          get workspaceFolderValue() {
            return this.F?.merged;
          }
          get workspaceFolder() {
            return this.n(this.F);
          }
          get H() {
            return (
              this.G === void 0 && (this.G = this.m.inspect(this.a, this.b.overrideIdentifier)),
              this.G
            );
          }
          get memoryValue() {
            return this.H.merged;
          }
          get memory() {
            return this.n(this.H);
          }
        }),
        (Q1 = class FI {
          constructor(e, i, s, r, n, o, a, c, l, h) {
            (this.j = e),
              (this.l = i),
              (this.m = s),
              (this.n = r),
              (this.p = n),
              (this.q = o),
              (this.r = a),
              (this.s = c),
              (this.t = l),
              (this.u = h),
              (this.h = null),
              (this.i = new bi()),
              (this.v = null);
          }
          getValue(e, i, s) {
            return this.w(i, s).getValue(e);
          }
          updateValue(e, i, s = {}) {
            let r;
            s.resource
              ? ((r = this.t.get(s.resource)),
                r || ((r = Nt.createEmptyModel(this.u)), this.t.set(s.resource, r)))
              : (r = this.s),
              i === void 0 ? r.removeValue(e) : r.setValue(e, i),
              s.resource || (this.h = null);
          }
          inspect(e, i, s) {
            const r = this.w(i, s),
              n = this.A(i.resource, s),
              o = i.resource ? this.t.get(i.resource) || this.s : this.s,
              a = new Set();
            for (const c of r.overrides)
              for (const l of c.identifiers) r.getOverrideValue(e, l) !== void 0 && a.add(l);
            return new sA(
              e,
              i,
              r.getValue(e),
              a.size ? [...a] : void 0,
              this.j,
              this.l.isEmpty() ? void 0 : this.l,
              this.applicationConfiguration.isEmpty() ? void 0 : this.applicationConfiguration,
              this.userConfiguration,
              this.localUserConfiguration,
              this.remoteUserConfiguration,
              s ? this.q : void 0,
              n || void 0,
              o
            );
          }
          keys(e) {
            const i = this.A(void 0, e);
            return {
              default: this.j.keys.slice(0),
              user: this.userConfiguration.keys.slice(0),
              workspace: this.q.keys.slice(0),
              workspaceFolder: i ? i.keys.slice(0) : [],
            };
          }
          updateDefaultConfiguration(e) {
            (this.j = e), (this.h = null), this.i.clear();
          }
          updatePolicyConfiguration(e) {
            this.l = e;
          }
          updateApplicationConfiguration(e) {
            (this.m = e), (this.h = null), this.i.clear();
          }
          updateLocalUserConfiguration(e) {
            (this.n = e), (this.v = null), (this.h = null), this.i.clear();
          }
          updateRemoteUserConfiguration(e) {
            (this.p = e), (this.v = null), (this.h = null), this.i.clear();
          }
          updateWorkspaceConfiguration(e) {
            (this.q = e), (this.h = null), this.i.clear();
          }
          updateFolderConfiguration(e, i) {
            this.r.set(e, i), this.i.delete(e);
          }
          deleteFolderConfiguration(e) {
            this.folderConfigurations.delete(e), this.i.delete(e);
          }
          compareAndUpdateDefaultConfiguration(e, i) {
            const s = [];
            if (!i) {
              const { added: r, updated: n, removed: o } = ao(this.j, e);
              i = [...r, ...n, ...o];
            }
            for (const r of i)
              for (const n of nl(r)) {
                const o = this.j.getKeysForOverrideIdentifier(n),
                  a = e.getKeysForOverrideIdentifier(n),
                  c = [
                    ...a.filter((l) => o.indexOf(l) === -1),
                    ...o.filter((l) => a.indexOf(l) === -1),
                    ...o.filter(
                      (l) => !Ws(this.j.override(n).getValue(l), e.override(n).getValue(l))
                    ),
                  ];
                s.push([n, c]);
              }
            return this.updateDefaultConfiguration(e), { keys: i, overrides: s };
          }
          compareAndUpdatePolicyConfiguration(e) {
            const { added: i, updated: s, removed: r } = ao(this.l, e),
              n = [...i, ...s, ...r];
            return n.length && this.updatePolicyConfiguration(e), { keys: n, overrides: [] };
          }
          compareAndUpdateApplicationConfiguration(e) {
            const {
                added: i,
                updated: s,
                removed: r,
                overrides: n,
              } = ao(this.applicationConfiguration, e),
              o = [...i, ...s, ...r];
            return o.length && this.updateApplicationConfiguration(e), { keys: o, overrides: n };
          }
          compareAndUpdateLocalUserConfiguration(e) {
            const {
                added: i,
                updated: s,
                removed: r,
                overrides: n,
              } = ao(this.localUserConfiguration, e),
              o = [...i, ...s, ...r];
            return o.length && this.updateLocalUserConfiguration(e), { keys: o, overrides: n };
          }
          compareAndUpdateRemoteUserConfiguration(e) {
            const {
                added: i,
                updated: s,
                removed: r,
                overrides: n,
              } = ao(this.remoteUserConfiguration, e),
              o = [...i, ...s, ...r];
            return o.length && this.updateRemoteUserConfiguration(e), { keys: o, overrides: n };
          }
          compareAndUpdateWorkspaceConfiguration(e) {
            const {
                added: i,
                updated: s,
                removed: r,
                overrides: n,
              } = ao(this.workspaceConfiguration, e),
              o = [...i, ...s, ...r];
            return o.length && this.updateWorkspaceConfiguration(e), { keys: o, overrides: n };
          }
          compareAndUpdateFolderConfiguration(e, i) {
            const s = this.folderConfigurations.get(e),
              { added: r, updated: n, removed: o, overrides: a } = ao(s, i),
              c = [...r, ...n, ...o];
            return (
              (c.length || !s) && this.updateFolderConfiguration(e, i), { keys: c, overrides: a }
            );
          }
          compareAndDeleteFolderConfiguration(e) {
            const i = this.folderConfigurations.get(e);
            if (!i) throw new Error('Unknown folder');
            this.deleteFolderConfiguration(e);
            const { added: s, updated: r, removed: n, overrides: o } = ao(i, void 0);
            return { keys: [...s, ...r, ...n], overrides: o };
          }
          get defaults() {
            return this.j;
          }
          get applicationConfiguration() {
            return this.m;
          }
          get userConfiguration() {
            if (!this.v)
              if (this.p.isEmpty()) this.v = this.n;
              else {
                const e = this.n.merge(this.p);
                this.v = new Nt(e.contents, e.keys, e.overrides, void 0, this.u);
              }
            return this.v;
          }
          get localUserConfiguration() {
            return this.n;
          }
          get remoteUserConfiguration() {
            return this.p;
          }
          get workspaceConfiguration() {
            return this.q;
          }
          get folderConfigurations() {
            return this.r;
          }
          w(e, i) {
            let s = this.x(e, i);
            if (
              (e.overrideIdentifier && (s = s.override(e.overrideIdentifier)), !this.l.isEmpty())
            ) {
              s = s.merge();
              for (const r of this.l.keys) s.setValue(r, this.l.getValue(r));
            }
            return s;
          }
          x({ resource: e }, i) {
            let s = this.y();
            if (i && e) {
              const r = i.getFolder(e);
              r && (s = this.z(r.uri) || s);
              const n = this.t.get(e);
              n && (s = s.merge(n));
            }
            return s;
          }
          y() {
            return (
              this.h ||
                (this.h = this.j.merge(
                  this.applicationConfiguration,
                  this.userConfiguration,
                  this.q,
                  this.s
                )),
              this.h
            );
          }
          z(e) {
            let i = this.i.get(e);
            if (!i) {
              const s = this.y(),
                r = this.r.get(e);
              r ? ((i = s.merge(r)), this.i.set(e, i)) : (i = s);
            }
            return i;
          }
          A(e, i) {
            if (i && e) {
              const s = i.getFolder(e);
              if (s) return this.r.get(s.uri);
            }
          }
          toData() {
            return {
              defaults: {
                contents: this.j.contents,
                overrides: this.j.overrides,
                keys: this.j.keys,
              },
              policy: { contents: this.l.contents, overrides: this.l.overrides, keys: this.l.keys },
              application: {
                contents: this.applicationConfiguration.contents,
                overrides: this.applicationConfiguration.overrides,
                keys: this.applicationConfiguration.keys,
                raw: Array.isArray(this.applicationConfiguration.raw)
                  ? void 0
                  : this.applicationConfiguration.raw,
              },
              userLocal: {
                contents: this.localUserConfiguration.contents,
                overrides: this.localUserConfiguration.overrides,
                keys: this.localUserConfiguration.keys,
                raw: Array.isArray(this.localUserConfiguration.raw)
                  ? void 0
                  : this.localUserConfiguration.raw,
              },
              userRemote: {
                contents: this.remoteUserConfiguration.contents,
                overrides: this.remoteUserConfiguration.overrides,
                keys: this.remoteUserConfiguration.keys,
                raw: Array.isArray(this.remoteUserConfiguration.raw)
                  ? void 0
                  : this.remoteUserConfiguration.raw,
              },
              workspace: {
                contents: this.q.contents,
                overrides: this.q.overrides,
                keys: this.q.keys,
              },
              folders: [...this.r.keys()].reduce((e, i) => {
                const { contents: s, overrides: r, keys: n } = this.r.get(i);
                return e.push([i, { contents: s, overrides: r, keys: n }]), e;
              }, []),
            };
          }
          allKeys() {
            const e = new Set();
            return (
              this.j.keys.forEach((i) => e.add(i)),
              this.userConfiguration.keys.forEach((i) => e.add(i)),
              this.q.keys.forEach((i) => e.add(i)),
              this.r.forEach((i) => i.keys.forEach((s) => e.add(s))),
              [...e.values()]
            );
          }
          B() {
            const e = new Set();
            return (
              this.j.getAllOverrideIdentifiers().forEach((i) => e.add(i)),
              this.userConfiguration.getAllOverrideIdentifiers().forEach((i) => e.add(i)),
              this.q.getAllOverrideIdentifiers().forEach((i) => e.add(i)),
              this.r.forEach((i) => i.getAllOverrideIdentifiers().forEach((s) => e.add(s))),
              [...e.values()]
            );
          }
          D(e) {
            const i = new Set();
            return (
              this.j.getKeysForOverrideIdentifier(e).forEach((s) => i.add(s)),
              this.userConfiguration.getKeysForOverrideIdentifier(e).forEach((s) => i.add(s)),
              this.q.getKeysForOverrideIdentifier(e).forEach((s) => i.add(s)),
              this.r.forEach((s) => s.getKeysForOverrideIdentifier(e).forEach((r) => i.add(r))),
              [...i.values()]
            );
          }
          static parse(e, i) {
            const s = this.E(e.defaults, i),
              r = this.E(e.policy, i),
              n = this.E(e.application, i),
              o = this.E(e.userLocal, i),
              a = this.E(e.userRemote, i),
              c = this.E(e.workspace, i),
              l = e.folders.reduce((h, d) => (h.set(_.revive(d[0]), this.E(d[1], i)), h), new bi());
            return new FI(s, r, n, o, a, c, l, Nt.createEmptyModel(i), new bi(), i);
          }
          static E(e, i) {
            return new Nt(e.contents, e.keys, e.overrides, e.raw, i);
          }
        }),
        (rA = class {
          constructor(t, e, i, s, r) {
            (this.change = t),
              (this.f = e),
              (this.g = i),
              (this.h = s),
              (this.i = r),
              (this.a = `
`),
              (this.b = this.a.charCodeAt(0)),
              (this.c = 46),
              (this.affectedKeys = new Set()),
              (this.j = void 0);
            for (const n of t.keys) this.affectedKeys.add(n);
            for (const [, n] of t.overrides) for (const o of n) this.affectedKeys.add(o);
            this.d = this.a;
            for (const n of this.affectedKeys) this.d += n + this.a;
          }
          get previousConfiguration() {
            return !this.j && this.f && (this.j = Q1.parse(this.f.data, this.i)), this.j;
          }
          affectsConfiguration(t, e) {
            const i = this.a + t,
              s = this.d.indexOf(i);
            if (s < 0) return !1;
            const r = s + i.length;
            if (r >= this.d.length) return !1;
            const n = this.d.charCodeAt(r);
            if (n !== this.b && n !== this.c) return !1;
            if (e) {
              const o = this.previousConfiguration
                  ? this.previousConfiguration.getValue(t, e, this.f?.workspace)
                  : void 0,
                a = this.g.getValue(t, e, this.h);
              return !Ws(o, a);
            }
            return !0;
          }
        });
    },
  }),
  oA,
  aA,
  Z1,
  vY = b({
    'out-build/vs/platform/configuration/common/configurations.js'() {
      'use strict';
      ni(),
        X(),
        U(),
        mi(),
        $e(),
        nA(),
        _n(),
        se(),
        Pr(),
        li(),
        He(),
        Ys(),
        (oA = class extends H {
          get configurationModel() {
            return this.b;
          }
          constructor(t) {
            super(),
              (this.c = t),
              (this.a = this.B(new $())),
              (this.onDidChangeConfiguration = this.a.event),
              (this.b = Nt.createEmptyModel(this.c));
          }
          async initialize() {
            return (
              this.h(),
              this.B(
                tt
                  .as(Li.Configuration)
                  .onDidUpdateConfiguration(({ properties: t, defaultsOverrides: e }) =>
                    this.f(Array.from(t), e)
                  )
              ),
              this.configurationModel
            );
          }
          reload() {
            return this.h(), this.configurationModel;
          }
          f(t, e) {
            this.j(t, tt.as(Li.Configuration).getConfigurationProperties()),
              this.a.fire({ defaults: this.configurationModel, properties: t });
          }
          g() {
            return {};
          }
          h() {
            this.b = Nt.createEmptyModel(this.c);
            const t = tt.as(Li.Configuration).getConfigurationProperties();
            this.j(Object.keys(t), t);
          }
          j(t, e) {
            const i = this.g();
            for (const s of t) {
              const r = i[s],
                n = e[s];
              r !== void 0
                ? this.b.setValue(s, r)
                : n
                ? this.b.setValue(s, n.default)
                : this.b.removeValue(s);
            }
          }
        }),
        (aA = class {
          constructor() {
            (this.onDidChangeConfiguration = P.None),
              (this.configurationModel = Nt.createEmptyModel(new p7()));
          }
          async initialize() {
            return this.configurationModel;
          }
        }),
        (Z1 = class extends H {
          get configurationModel() {
            return this.b;
          }
          constructor(e, i, s) {
            super(),
              (this.c = e),
              (this.f = i),
              (this.g = s),
              (this.a = this.B(new $())),
              (this.onDidChangeConfiguration = this.a.event),
              (this.b = Nt.createEmptyModel(this.g));
          }
          async initialize() {
            return (
              this.g.trace('PolicyConfiguration#initialize'),
              this.m(await this.h(this.c.configurationModel.keys), !1),
              this.B(this.f.onDidChange((e) => this.j(e))),
              this.B(
                this.c.onDidChangeConfiguration(async ({ properties: e }) =>
                  this.m(await this.h(e), !0)
                )
              ),
              this.b
            );
          }
          async h(e) {
            this.g.trace('PolicyConfiguration#updatePolicyDefinitions', e);
            const i = {},
              s = [],
              r = tt.as(Li.Configuration).getConfigurationProperties();
            for (const n of e) {
              const o = r[n];
              if (!o) {
                s.push(n);
                continue;
              }
              if (o.policy) {
                if (
                  o.type !== 'string' &&
                  o.type !== 'number' &&
                  o.type !== 'array' &&
                  o.type !== 'object'
                ) {
                  this.g.warn(`Policy ${o.policy.name} has unsupported type ${o.type}`);
                  continue;
                }
                s.push(n), (i[o.policy.name] = { type: o.type === 'number' ? 'number' : 'string' });
              }
            }
            return w4(i) || (await this.f.updatePolicyDefinitions(i)), s;
          }
          j(e) {
            this.g.trace('PolicyConfiguration#onDidChangePolicies', e);
            const i = tt.as(Li.Configuration).getPolicyConfigurations(),
              s = Yt(e.map((r) => i.get(r)));
            this.m(s, !0);
          }
          m(e, i) {
            this.g.trace('PolicyConfiguration#update', e);
            const s = tt.as(Li.Configuration).getConfigurationProperties(),
              r = [],
              n = this.b.isEmpty();
            for (const o of e) {
              const a = s[o],
                c = a?.policy?.name;
              if (c) {
                let l = this.f.getPolicyValue(c);
                if (ot(l) && a.type !== 'string')
                  try {
                    l = this.n(l);
                  } catch (h) {
                    this.g.error(`Error parsing policy value ${c}:`, Ds(h));
                    continue;
                  }
                (n ? l !== void 0 : !Ws(this.b.getValue(o), l)) && r.push([o, l]);
              } else this.b.getValue(o) !== void 0 && r.push([o, void 0]);
            }
            if (r.length) {
              this.g.trace('PolicyConfiguration#changed', r);
              const o = this.b;
              this.b = Nt.createEmptyModel(this.g);
              for (const a of o.keys) this.b.setValue(a, o.getValue(a));
              for (const [a, c] of r) c === void 0 ? this.b.removeValue(a) : this.b.setValue(a, c);
              i && this.a.fire(this.b);
            }
          }
          n(e) {
            let i = {},
              s = null,
              r = [];
            const n = [],
              o = [];
            function a(l) {
              if (Array.isArray(r)) r.push(l);
              else if (s !== null) {
                if (r[s] !== void 0) throw new Error(`Duplicate property found: ${s}`);
                r[s] = l;
              }
            }
            if (
              (e &&
                (yf(e, {
                  onObjectBegin: () => {
                    const l = {};
                    a(l), n.push(r), (r = l), (s = null);
                  },
                  onObjectProperty: (l) => {
                    s = l;
                  },
                  onObjectEnd: () => {
                    r = n.pop();
                  },
                  onArrayBegin: () => {
                    const l = [];
                    a(l), n.push(r), (r = l), (s = null);
                  },
                  onArrayEnd: () => {
                    r = n.pop();
                  },
                  onLiteralValue: a,
                  onError: (l, h, d) => {
                    o.push({ error: l, offset: h, length: d });
                  },
                }),
                (i = r[0] || {})),
              o.length > 0)
            )
              throw new Error(
                o.map((l) => Ds(l.error)).join(`
`)
              );
            return i;
          }
        }),
        (Z1 = __decorate([__param(1, Ko), __param(2, ee)], Z1));
    },
  }),
  cA,
  lA,
  yY = b({
    'out-build/vs/platform/configuration/common/configurationService.js'() {
      'use strict';
      ni(),
        le(),
        bt(),
        X(),
        Ys(),
        j9(),
        U(),
        Pi(),
        mi(),
        ie(),
        lt(),
        Ge(),
        nA(),
        _n(),
        vY(),
        Pr(),
        (cA = class extends H {
          constructor(t, e, i, s) {
            super(),
              (this.m = t),
              (this.n = s),
              (this.h = this.B(new $())),
              (this.onDidChangeConfiguration = this.h.event),
              (this.b = this.B(new oA(s))),
              (this.c = i instanceof Kw ? new aA() : this.B(new Z1(this.b, i, s))),
              (this.f = this.B(new iA(this.m, {}, yt, e, s))),
              (this.a = new Q1(
                this.b.configurationModel,
                this.c.configurationModel,
                Nt.createEmptyModel(s),
                Nt.createEmptyModel(s),
                Nt.createEmptyModel(s),
                Nt.createEmptyModel(s),
                new bi(),
                Nt.createEmptyModel(s),
                new bi(),
                s
              )),
              (this.j = new lA(t, e, this)),
              (this.g = this.B(new As(() => this.reloadConfiguration(), 50))),
              this.B(
                this.b.onDidChangeConfiguration(({ defaults: r, properties: n }) => this.s(r, n))
              ),
              this.B(this.c.onDidChangeConfiguration((r) => this.t(r))),
              this.B(this.f.onDidChange(() => this.g.schedule()));
          }
          async initialize() {
            const [t, e, i] = await Promise.all([
              this.b.initialize(),
              this.c.initialize(),
              this.f.loadConfiguration(),
            ]);
            this.a = new Q1(
              t,
              e,
              Nt.createEmptyModel(this.n),
              i,
              Nt.createEmptyModel(this.n),
              Nt.createEmptyModel(this.n),
              new bi(),
              Nt.createEmptyModel(this.n),
              new bi(),
              this.n
            );
          }
          getConfigurationData() {
            return this.a.toData();
          }
          getValue(t, e) {
            const i = typeof t == 'string' ? t : void 0;
            switch (i) {
              case 'window.titleBarStyle':
                return 'custom';
            }
            const s = x0(t) ? t : x0(e) ? e : {};
            return this.a.getValue(i, s, void 0);
          }
          async updateValue(t, e, i, s, r) {
            const n = Z$(i)
                ? i
                : x0(i)
                ? {
                    resource: i.resource,
                    overrideIdentifiers: i.overrideIdentifier ? [i.overrideIdentifier] : void 0,
                  }
                : void 0,
              o = n ? s : i;
            if (o !== void 0 && o !== 3 && o !== 2)
              throw new Error(`Unable to write ${t} to target ${o}.`);
            n?.overrideIdentifiers &&
              ((n.overrideIdentifiers = zs(n.overrideIdentifiers)),
              (n.overrideIdentifiers = n.overrideIdentifiers.length
                ? n.overrideIdentifiers
                : void 0));
            const a = this.inspect(t, {
              resource: n?.resource,
              overrideIdentifier: n?.overrideIdentifiers ? n.overrideIdentifiers[0] : void 0,
            });
            if (a.policyValue !== void 0)
              throw new Error(`Unable to write ${t} because it is configured in system policy.`);
            if (
              (Ws(e, a.defaultValue) && (e = void 0),
              n?.overrideIdentifiers?.length && n.overrideIdentifiers.length > 1)
            ) {
              const l = n.overrideIdentifiers.sort(),
                h = this.a.localUserConfiguration.overrides.find((d) =>
                  Zc([...d.identifiers].sort(), l)
                );
              h && (n.overrideIdentifiers = h.identifiers);
            }
            const c = n?.overrideIdentifiers?.length ? [oP(n.overrideIdentifiers), t] : [t];
            await this.j.write(c, e), await this.reloadConfiguration();
          }
          inspect(t, e = {}) {
            return this.a.inspect(t, e, void 0);
          }
          keys() {
            return this.a.keys(void 0);
          }
          async reloadConfiguration() {
            const t = await this.f.loadConfiguration();
            this.r(t);
          }
          r(t) {
            const e = this.a.toData(),
              i = this.a.compareAndUpdateLocalUserConfiguration(t);
            this.u(i, e, 2);
          }
          s(t, e) {
            const i = this.a.toData(),
              s = this.a.compareAndUpdateDefaultConfiguration(t, e);
            this.u(s, i, 7);
          }
          t(t) {
            const e = this.a.toData(),
              i = this.a.compareAndUpdatePolicyConfiguration(t);
            this.u(i, e, 7);
          }
          u(t, e, i) {
            const s = new rA(t, { data: e }, this.a, void 0, this.n);
            (s.source = i), this.h.fire(s);
          }
        }),
        (lA = class {
          constructor(t, e, i) {
            (this.b = t), (this.c = e), (this.d = i), (this.a = new Pa());
          }
          write(t, e) {
            return this.a.queue(() => this.e(t, e));
          }
          async e(t, e) {
            let i;
            try {
              i = (await this.c.readFile(this.b)).value.toString();
            } catch (n) {
              if (n.fileOperationResult === 1) i = '{}';
              else throw n;
            }
            const s = [];
            if ((Ar(i, s, { allowTrailingComma: !0, allowEmptyContent: !0 }), s.length > 0))
              throw new Error(
                'Unable to write into the settings file. Please open the file to correct errors/warnings in the file and try again.'
              );
            const r = this.f(i, t, e);
            (i = XL(i, r)), await this.c.writeFile(this.b, re.fromString(i));
          }
          f(t, e, i) {
            const { tabSize: s, insertSpaces: r, eol: n } = this.h;
            if (!e.length) {
              const o = JSON.stringify(i, null, r ? ' '.repeat(s) : '	');
              return [{ content: o, length: o.length, offset: 0 }];
            }
            return JL(t, e, i, { tabSize: s, insertSpaces: r, eol: n });
          }
          get h() {
            if (!this.g) {
              let t =
                ws === 3 || ws === 2
                  ? `
`
                  : `\r
`;
              const e = this.d.getValue('files.eol', { overrideIdentifier: 'jsonc' });
              e && typeof e == 'string' && e !== 'auto' && (t = e),
                (this.g = {
                  eol: t,
                  insertSpaces: !!this.d.getValue('editor.insertSpaces', {
                    overrideIdentifier: 'jsonc',
                  }),
                  tabSize: this.d.getValue('editor.tabSize', { overrideIdentifier: 'jsonc' }),
                });
            }
            return this.g;
          }
        });
    },
  });
import * as kY from 'fs';
import * as is from 'os';
async function Cy(t, e) {
  const i = `${t}::${e.join(':')}`,
    s = xy.get(i);
  if (s) return s;
  const r = [
      { tag: 'grunt.js', filePattern: /^gruntfile\.js$/i },
      { tag: 'gulp.js', filePattern: /^gulpfile\.js$/i },
      { tag: 'tsconfig.json', filePattern: /^tsconfig\.json$/i },
      { tag: 'package.json', filePattern: /^package\.json$/i },
      { tag: 'jsconfig.json', filePattern: /^jsconfig\.json$/i },
      { tag: 'tslint.json', filePattern: /^tslint\.json$/i },
      { tag: 'eslint.json', filePattern: /^eslint\.json$/i },
      { tag: 'tasks.json', filePattern: /^tasks\.json$/i },
      { tag: 'launch.json', filePattern: /^launch\.json$/i },
      { tag: 'settings.json', filePattern: /^settings\.json$/i },
      { tag: 'webpack.config.js', filePattern: /^webpack\.config\.js$/i },
      { tag: 'project.json', filePattern: /^project\.json$/i },
      { tag: 'makefile', filePattern: /^makefile$/i },
      { tag: 'sln', filePattern: /^.+\.sln$/i },
      { tag: 'csproj', filePattern: /^.+\.csproj$/i },
      { tag: 'cmake', filePattern: /^.+\.cmake$/i },
      {
        tag: 'github-actions',
        filePattern: /^.+\.ya?ml$/i,
        relativePathPattern: /^\.github(?:\/|\\)workflows$/i,
      },
      { tag: 'devcontainer.json', filePattern: /^devcontainer\.json$/i },
      { tag: 'dockerfile', filePattern: /^(dockerfile|docker\-compose\.ya?ml)$/i },
      { tag: 'cursorrules', filePattern: /^\.cursorrules$/i },
    ],
    n = new Map(),
    o = new Map(),
    a = 2e4;
  function c(h, d, p, m) {
    const w = d.substring(h.length + 1);
    return ui.withAsyncBody(async (v) => {
      let k;
      m.readdirCount++;
      try {
        k = await ge.readdir(d, { withFileTypes: !0 });
      } catch {
        v();
        return;
      }
      if (m.count >= a) {
        (m.count += k.length), (m.maxReached = !0), v();
        return;
      }
      let y = k.length;
      if (y === 0) {
        v();
        return;
      }
      let C = k;
      m.count + k.length > a && ((m.maxReached = !0), (y = a - m.count), (C = k.slice(0, y))),
        (m.count += k.length);
      for (const I of C)
        if (I.isDirectory()) {
          if ((p.includes(I.name) || (await c(h, M(d, I.name), p, m)), --y === 0)) {
            v();
            return;
          }
        } else {
          const E = I.name.lastIndexOf('.');
          if (E >= 0) {
            const x = I.name.substring(E + 1);
            x && n.set(x, (n.get(x) ?? 0) + 1);
          }
          for (const x of r)
            x.relativePathPattern?.test(w) !== !1 &&
              x.filePattern.test(I.name) &&
              o.set(x.tag, (o.get(x.tag) ?? 0) + 1);
          if (--y === 0) {
            v();
            return;
          }
        }
    });
  }
  const l = ui.withAsyncBody(async (h) => {
    const d = { count: 0, maxReached: !1, readdirCount: 0 },
      p = new gr(!0);
    await c(t, t, e, d);
    const m = await EY(t);
    h({
      configFiles: Dy(o),
      fileTypes: Dy(n),
      fileCount: d.count,
      maxFilesReached: d.maxReached,
      launchConfigFiles: m,
      totalScanTime: p.elapsed(),
      totalReaddirCount: d.readdirCount,
    });
  });
  return xy.set(i, l), l;
}
function Dy(t) {
  return Array.from(t.entries(), ([e, i]) => ({ name: e, count: i })).sort(
    (e, i) => i.count - e.count
  );
}
function SY() {
  const t = {
      os: `${is.type()} ${is.arch()} ${is.release()}`,
      memory: `${(is.totalmem() / To.GB).toFixed(2)}GB (${(is.freemem() / To.GB).toFixed(
        2
      )}GB free)`,
      vmHint: `${Math.round(jf.value() * 100)}%`,
    },
    e = is.cpus();
  return e && e.length > 0 && (t.cpus = `${e[0].model} (${e.length} x ${e[0].speed})`), t;
}
async function EY(t) {
  try {
    const e = new Map(),
      i = M(t, '.vscode', 'launch.json'),
      s = await kY.promises.readFile(i),
      r = [],
      n = Ar(s.toString(), r);
    if (r.length) return console.log(`Unable to parse ${i}`), [];
    if (Bo(n) === 'object' && n.configurations)
      for (const o of n.configurations) {
        const a = o.type;
        a && (e.has(a) ? e.set(a, e.get(a) + 1) : e.set(a, 1));
      }
    return Dy(e);
  } catch {
    return [];
  }
}
var xy,
  eg,
  CY = b({
    'out-build/vs/platform/diagnostics/node/diagnosticsService.js'() {
      'use strict';
      le(),
        Ys(),
        Oe(),
        xe(),
        ie(),
        Hr(),
        be(),
        cu(),
        Zt(),
        au(),
        bf(),
        ft(),
        Ze(),
        Gt(),
        (xy = new Map()),
        (eg = class {
          constructor(e, i) {
            (this.c = e), (this.d = i);
          }
          f(e) {
            const i = [];
            return (
              i.push(`OS Version:       ${e.os}`),
              i.push(`CPUs:             ${e.cpus}`),
              i.push(`Memory (System):  ${e.memory}`),
              i.push(`VM:               ${e.vmHint}`),
              i.join(`
`)
            );
          }
          g(e) {
            const i = [];
            i.push(
              `Version:          ${this.d.nameShort} ${this.d.version} (${
                this.d.commit || 'Commit unknown'
              }, ${this.d.date || 'Date unknown'})`
            ),
              i.push(`OS Version:       ${is.type()} ${is.arch()} ${is.release()}`);
            const s = is.cpus();
            return (
              s &&
                s.length > 0 &&
                i.push(`CPUs:             ${s[0].model} (${s.length} x ${s[0].speed})`),
              i.push(
                `Memory (System):  ${(is.totalmem() / To.GB).toFixed(2)}GB (${(
                  is.freemem() / To.GB
                ).toFixed(2)}GB free)`
              ),
              J ||
                i.push(
                  `Load (avg):       ${is
                    .loadavg()
                    .map((r) => Math.round(r))
                    .join(', ')}`
                ),
              i.push(`VM:               ${Math.round(jf.value() * 100)}%`),
              i.push(`Screen Reader:    ${e.screenReader ? 'yes' : 'no'}`),
              i.push(`Process Argv:     ${e.mainArguments.join(' ')}`),
              i.push(`GPU Status:       ${this.j(e.gpuFeatureStatus)}`),
              i.join(`
`)
            );
          }
          async getPerformanceInfo(e, i) {
            return Promise.all([Nf(e.mainPID), this.k(e)]).then(async (s) => {
              let [r, n] = s,
                o = this.m(e, r);
              return (
                i.forEach((a) => {
                  if (wf(a))
                    (o += `
${a.errorMessage}`),
                      (n += `
${a.errorMessage}`);
                  else if (
                    ((o += `

Remote: ${a.hostName}`),
                    a.processes &&
                      (o += `
${this.m(e, a.processes)}`),
                    a.workspaceMetadata)
                  ) {
                    n += `
|  Remote: ${a.hostName}`;
                    for (const c of Object.keys(a.workspaceMetadata)) {
                      const l = a.workspaceMetadata[c];
                      let h = `${l.fileCount} files`;
                      l.maxFilesReached && (h = `more than ${h}`),
                        (n += `|    Folder (${c}): ${h}`),
                        (n += this.h(l));
                    }
                  }
                }),
                { processInfo: o, workspaceInfo: n }
              );
            });
          }
          async getSystemInfo(e, i) {
            const { memory: s, vmHint: r, os: n, cpus: o } = SY(),
              a = {
                os: n,
                memory: s,
                cpus: o,
                vmHint: r,
                processArgs: `${e.mainArguments.join(' ')}`,
                gpuStatus: e.gpuFeatureStatus,
                screenReader: `${e.screenReader ? 'yes' : 'no'}`,
                remoteData: i,
              };
            return (
              J ||
                (a.load = `${is
                  .loadavg()
                  .map((c) => Math.round(c))
                  .join(', ')}`),
              Fe &&
                (a.linuxEnv = {
                  desktopSession: process.env.DESKTOP_SESSION,
                  xdgSessionDesktop: process.env.XDG_SESSION_DESKTOP,
                  xdgCurrentDesktop: process.env.XDG_CURRENT_DESKTOP,
                  xdgSessionType: process.env.XDG_SESSION_TYPE,
                }),
              Promise.resolve(a)
            );
          }
          async getDiagnostics(e, i) {
            const s = [];
            return Nf(e.mainPID).then(
              async (r) => (
                s.push(''),
                s.push(this.g(e)),
                s.push(''),
                s.push(this.m(e, r)),
                e.windows.some(
                  (n) => n.folderURIs && n.folderURIs.length > 0 && !n.remoteAuthority
                ) && (s.push(''), s.push('Workspace Stats: '), s.push(await this.k(e))),
                i.forEach((n) => {
                  if (wf(n))
                    s.push(`
${n.errorMessage}`);
                  else if (
                    (s.push(`

`),
                    s.push(`Remote:           ${n.hostName}`),
                    s.push(this.f(n.machineInfo)),
                    n.processes && s.push(this.m(e, n.processes)),
                    n.workspaceMetadata)
                  )
                    for (const o of Object.keys(n.workspaceMetadata)) {
                      const a = n.workspaceMetadata[o];
                      let c = `${a.fileCount} files`;
                      a.maxFilesReached && (c = `more than ${c}`),
                        s.push(`Folder (${o}): ${c}`),
                        s.push(this.h(a));
                    }
                }),
                s.push(''),
                s.push(''),
                s.join(`
`)
              )
            );
          }
          h(e) {
            const i = [];
            let r = 0;
            const n = (l, h) => {
              const d = ` ${l}(${h})`;
              r + d.length > 60
                ? (i.push(o), (o = '|                 '), (r = o.length))
                : (r += d.length),
                (o += d);
            };
            let o = '|      File types:';
            const a = 10,
              c = e.fileTypes.length > a ? a : e.fileTypes.length;
            for (let l = 0; l < c; l++) {
              const h = e.fileTypes[l];
              n(h.name, h.count);
            }
            if (
              (i.push(o),
              e.configFiles.length >= 0 &&
                ((o = '|      Conf files:'),
                (r = 0),
                e.configFiles.forEach((l) => {
                  n(l.name, l.count);
                }),
                i.push(o)),
              e.launchConfigFiles.length > 0)
            ) {
              let l = '|      Launch Configs:';
              e.launchConfigFiles.forEach((h) => {
                const d = h.count > 1 ? ` ${h.name}(${h.count})` : ` ${h.name}`;
                l += d;
              }),
                i.push(l);
            }
            return i.join(`
`);
          }
          j(e) {
            const i = Math.max(...Object.keys(e).map((s) => s.length));
            return Object.keys(e).map((s) => `${s}:  ${' '.repeat(i - s.length)}  ${e[s]}`).join(`
                  `);
          }
          k(e) {
            const i = [],
              s = [];
            return (
              e.windows.forEach((r) => {
                r.folderURIs.length === 0 ||
                  r.remoteAuthority ||
                  (i.push(`|  Window (${r.title})`),
                  r.folderURIs.forEach((n) => {
                    const o = _.revive(n);
                    if (o.scheme === N.file) {
                      const a = o.fsPath;
                      s.push(
                        Cy(a, ['node_modules', '.git'])
                          .then((c) => {
                            let l = `${c.fileCount} files`;
                            c.maxFilesReached && (l = `more than ${l}`),
                              i.push(`|    Folder (${ct(a)}): ${l}`),
                              i.push(this.h(c));
                          })
                          .catch((c) => {
                            i.push(
                              `|      Error: Unable to collect workspace stats for folder ${a} (${c.toString()})`
                            );
                          })
                      );
                    } else i.push(`|    Folder (${o.toString()}): Workspace stats not available.`);
                  }));
              }),
              Promise.all(s)
                .then((r) =>
                  i.join(`
`)
                )
                .catch((r) => `Unable to collect workspace stats: ${r}`)
            );
          }
          m(e, i) {
            const s = new Map();
            e.windows.forEach((n) => s.set(n.pid, `window [${n.id}] (${n.title})`)),
              e.pidToNames.forEach(({ pid: n, name: o }) => s.set(n, o));
            const r = [];
            return (
              r.push('CPU %	Mem MB	   PID	Process'),
              i && this.n(e.mainPID, s, r, i, 0),
              r.join(`
`)
            );
          }
          n(e, i, s, r, n) {
            const o = n === 0;
            let a;
            o
              ? (a = r.pid === e ? `${this.d.applicationName} main` : 'remote agent')
              : i.has(r.pid)
              ? (a = i.get(r.pid))
              : (a = `${'  '.repeat(n)} ${r.name}`);
            const c = process.platform === 'win32' ? r.mem : is.totalmem() * (r.mem / 100);
            s.push(
              `${r.load.toFixed(0).padStart(5, ' ')}	${(c / To.MB)
                .toFixed(0)
                .padStart(6, ' ')}	${r.pid.toFixed(0).padStart(6, ' ')}	${a}`
            ),
              Array.isArray(r.children) && r.children.forEach((l) => this.n(e, i, s, l, n + 1));
          }
          async getWorkspaceFileExtensions(e) {
            const i = new Set();
            for (const { uri: s } of e.folders) {
              const r = _.revive(s);
              if (r.scheme !== N.file) continue;
              const n = r.fsPath;
              try {
                (await Cy(n, ['node_modules', '.git'])).fileTypes.forEach((a) => i.add(a.name));
              } catch {}
            }
            return { extensions: [...i] };
          }
          async reportWorkspaceStats(e) {
            for (const { uri: i } of e.folders) {
              const s = _.revive(i);
              if (s.scheme !== N.file) continue;
              const r = s.fsPath;
              try {
                const n = await Cy(r, ['node_modules', '.git']);
                this.c.publicLog2('workspace.stats', {
                  'workspace.id': e.telemetryId,
                  rendererSessionId: e.rendererSessionId,
                }),
                  n.fileTypes.forEach((o) => {
                    this.c.publicLog2('workspace.stats.file', {
                      rendererSessionId: e.rendererSessionId,
                      type: o.name,
                      count: o.count,
                    });
                  }),
                  n.launchConfigFiles.forEach((o) => {
                    this.c.publicLog2('workspace.stats.launchConfigFile', {
                      rendererSessionId: e.rendererSessionId,
                      type: o.name,
                      count: o.count,
                    });
                  }),
                  n.configFiles.forEach((o) => {
                    this.c.publicLog2('workspace.stats.configFiles', {
                      rendererSessionId: e.rendererSessionId,
                      type: o.name,
                      count: o.count,
                    });
                  }),
                  this.c.publicLog2('workspace.stats.metadata', {
                    duration: n.totalScanTime,
                    reachedLimit: n.maxFilesReached,
                    fileCount: n.fileCount,
                    readdirCount: n.totalReaddirCount,
                  });
              } catch {}
            }
          }
        }),
        (eg = __decorate([__param(0, Vt), __param(1, Be)], eg));
    },
  });
import { writeFileSync as DY } from 'fs';
import { tmpdir as xY } from 'os';
function AY(t) {
  const e = vl(xY());
  try {
    return DY(e, ''), t && console.log(`Marker file for --wait created: ${e}`), e;
  } catch (i) {
    t && console.error(`Failed to create marker file for --wait: ${i}`);
    return;
  }
}
var IY = b({
    'out-build/vs/platform/environment/node/wait.js'() {
      'use strict';
      qi();
    },
  }),
  Ay,
  tg,
  $Y = b({
    'out-build/vs/platform/files/common/fileService.js'() {
      'use strict';
      ni(),
        le(),
        bt(),
        jt(),
        X(),
        Io(),
        el(),
        U(),
        Ha(),
        Oe(),
        jr(),
        lt(),
        Dl(),
        he(),
        ft(),
        R8(),
        se(),
        He(),
        Hr(),
        (tg = class extends H {
          static {
            Ay = this;
          }
          set telemetryService(e) {
            (this.b = e),
              this.c.forEach(([i, s]) => {
                e.publicLog2(i, s);
              }),
              (this.c = []);
          }
          f(e, i) {
            this.b ? this.b.publicLog2(e, i) : this.c.push([e, i]);
          }
          constructor(e) {
            super(),
              (this.g = e),
              (this.a = 256 * 1024),
              (this.c = []),
              (this.h = this.B(new $())),
              (this.onDidChangeFileSystemProviderRegistrations = this.h.event),
              (this.j = this.B(new $())),
              (this.onWillActivateFileSystemProvider = this.j.event),
              (this.m = this.B(new $())),
              (this.onDidChangeFileSystemProviderCapabilities = this.m.event),
              (this.n = new Map()),
              (this.u = this.B(new $())),
              (this.onDidRunOperation = this.u.event),
              (this.ab = this.B(new $())),
              (this.bb = this.B(new $())),
              (this.onDidFilesChange = this.bb.event),
              (this.cb = this.B(new $())),
              (this.onDidWatchError = this.cb.event),
              (this.db = new Map()),
              (this.gb = this.B(new z0()));
          }
          registerProvider(e, i) {
            if (this.n.has(e))
              throw new Error(`A filesystem provider for the scheme '${e}' is already registered.`);
            Xe(`code/registerFilesystem/${e}`);
            const s = new je();
            return (
              this.n.set(e, i),
              this.h.fire({ added: !0, scheme: e, provider: i }),
              s.add(
                i.onDidChangeFile((r) => {
                  const n = new A7(r, !this.Y(i));
                  this.ab.fire(n), n.hasCorrelation() || this.bb.fire(n);
                })
              ),
              typeof i.onDidWatchError == 'function' &&
                s.add(i.onDidWatchError((r) => this.cb.fire(new Error(r)))),
              s.add(i.onDidChangeCapabilities(() => this.m.fire({ provider: i, scheme: e }))),
              _e(() => {
                this.h.fire({ added: !1, scheme: e, provider: i }), this.n.delete(e), Qt(s);
              })
            );
          }
          getProvider(e) {
            return this.n.get(e);
          }
          async activateProvider(e) {
            const i = [];
            if (
              (this.j.fire({
                scheme: e,
                join(r) {
                  i.push(r);
                },
              }),
              this.n.has(e))
            )
              return;
            const s = new gr();
            this.f('fileServiceActivateProvider:start', { time: Date.now(), scheme: e }),
              await ui.settled(i),
              this.f('fileServiceActivateProvider:end', { scheme: e, elapsed: s.elapsed() }),
              this.g.info(`Activate provider for scheme ${e} took ${s.elapsed()}ms.`);
          }
          async canHandleResource(e) {
            return await this.activateProvider(e.scheme), this.hasProvider(e);
          }
          hasProvider(e) {
            return this.n.has(e.scheme);
          }
          hasCapability(e, i) {
            const s = this.n.get(e.scheme);
            return !!(s && s.capabilities & i);
          }
          listCapabilities() {
            return An.map(this.n, ([e, i]) => ({ scheme: e, capabilities: i.capabilities }));
          }
          async r(e) {
            if (!C5(e)) throw new Fi(u(1995, null, this.wb(e)), 8);
            await this.activateProvider(e.scheme);
            const i = this.n.get(e.scheme);
            if (!i) {
              const s = new Dn();
              throw ((s.message = u(1996, null, e.toString())), s);
            }
            return i;
          }
          async s(e) {
            const i = await this.r(e);
            if (Hn(i) || Ps(i) || Sm(i)) return i;
            throw new Error(
              `Filesystem provider for scheme '${e.scheme}' neither has FileReadWrite, FileReadStream nor FileOpenReadWriteClose capability which is needed for the read operation.`
            );
          }
          async t(e) {
            const i = await this.r(e);
            if (Hn(i) || Ps(i)) return i;
            throw new Error(
              `Filesystem provider for scheme '${e.scheme}' neither has FileReadWrite nor FileOpenReadWriteClose capability which is needed for the write operation.`
            );
          }
          async resolve(e, i) {
            try {
              return await this.w(e, i);
            } catch (s) {
              throw zd(s) === Se.FileNotFound ? new Fi(u(1997, null, this.wb(e)), 1) : _o(s);
            }
          }
          async w(e, i) {
            const s = await this.r(e),
              r = this.Y(s),
              n = i?.resolveTo,
              o = i?.resolveSingleChildDescendants,
              a = i?.resolveMetadata,
              c = i?.cachedStat ?? (await s.stat(e));
            let l;
            return this.z(
              s,
              e,
              c,
              void 0,
              !!a,
              (h, d) => (
                l || ((l = Wn.forUris(() => !r)), l.set(e, !0), n && l.fill(!0, n)),
                l.get(h.resource) ||
                l.findSuperstr(h.resource.with({ query: null, fragment: null }))
                  ? !0
                  : h.isDirectory && o
                  ? d === 1
                  : !1
              )
            );
          }
          async z(e, i, s, r, n, o) {
            const { providerExtUri: a } = this.X(e),
              c = {
                resource: i,
                name: a.basename(i),
                isFile: (s.type & ai.File) !== 0,
                isDirectory: (s.type & ai.Directory) !== 0,
                isSymbolicLink: (s.type & ai.SymbolicLink) !== 0,
                mtime: s.mtime,
                ctime: s.ctime,
                size: s.size,
                readonly: !!((s.permissions ?? 0) & Va.Readonly) || !!(e.capabilities & 2048),
                locked: !!((s.permissions ?? 0) & Va.Locked),
                etag: S7({ mtime: s.mtime, size: s.size }),
                children: void 0,
              };
            if (c.isDirectory && o(c, r)) {
              try {
                const l = await e.readdir(i),
                  h = await ui.settled(
                    l.map(async ([d, p]) => {
                      try {
                        const m = a.joinPath(i, d),
                          w = n ? await e.stat(m) : { type: p };
                        return await this.z(e, m, w, l.length, n, o);
                      } catch (m) {
                        return this.g.trace(m), null;
                      }
                    })
                  );
                c.children = Yt(h);
              } catch (l) {
                this.g.trace(l), (c.children = []);
              }
              return c;
            }
            return c;
          }
          async resolveAll(e) {
            return ui.settled(
              e.map(async (i) => {
                try {
                  return { stat: await this.w(i.resource, i.options), success: !0 };
                } catch (s) {
                  return this.g.trace(s), { stat: void 0, success: !1 };
                }
              })
            );
          }
          async stat(e) {
            const i = await this.r(e),
              s = await i.stat(e);
            return this.z(i, e, s, void 0, !0, () => !1);
          }
          async exists(e) {
            const i = await this.r(e);
            try {
              return !!(await i.stat(e));
            } catch {
              return !1;
            }
          }
          async canCreateFile(e, i) {
            try {
              await this.C(e, i);
            } catch (s) {
              return s;
            }
            return !0;
          }
          async C(e, i) {
            if (!i?.overwrite && (await this.exists(e)))
              throw new Fi(u(1998, null, this.wb(e)), 3, i);
          }
          async createFile(e, i = re.fromString(''), s) {
            await this.C(e, s);
            const r = await this.writeFile(e, i);
            return this.u.fire(new Lo(e, 0, r)), r;
          }
          async writeFile(e, i, s) {
            const r = this.ub(await this.t(e), e),
              { providerExtUri: n } = this.X(r);
            let o = s;
            if (k7(r) && !o?.atomic) {
              const a = r.enforceAtomicWriteFile?.(e);
              a && (o = { ...s, atomic: a });
            }
            try {
              let { stat: a, buffer: c } = await this.F(r, e, i, o);
              a || (await this.Z(r, n.dirname(e))),
                c || (c = await this.D(r, i)),
                !Hn(r) || (Ps(r) && c instanceof re) || (Ps(r) && k7(r) && o?.atomic)
                  ? await this.lb(r, e, o, c)
                  : await this.hb(r, e, o, c instanceof re ? m_(c) : c),
                this.u.fire(new Lo(e, 4));
            } catch (a) {
              throw new Fi(u(1999, null, this.wb(e), _o(a).toString()), kr(a), o);
            }
            return this.resolve(e, { resolveMetadata: !0 });
          }
          async D(e, i) {
            let s;
            if (Ps(e) && !(i instanceof re))
              if (kd(i)) {
                const r = await o_(i, 3);
                r.ended ? (s = re.concat(r.buffer)) : (s = r);
              } else s = n_(i, (r) => re.concat(r), 3);
            else s = i;
            return s;
          }
          async F(e, i, s, r) {
            const n = !!r?.unlock;
            if (n && !(e.capabilities & 8192)) throw new Error(u(2e3, null, this.wb(i)));
            if (!!r?.atomic) {
              if (!(e.capabilities & 32768)) throw new Error(u(2001, null, this.wb(i)));
              if (!(e.capabilities & 2)) throw new Error(u(2002, null, this.wb(i)));
              if (n) throw new Error(u(2003, null, this.wb(i)));
            }
            let a;
            try {
              a = await e.stat(i);
            } catch {
              return Object.create(null);
            }
            if ((a.type & ai.Directory) !== 0) throw new Fi(u(2004, null, this.wb(i)), 0, r);
            this.vb(i, a);
            let c;
            if (
              typeof r?.mtime == 'number' &&
              typeof r.etag == 'string' &&
              r.etag !== Jd &&
              typeof a.mtime == 'number' &&
              typeof a.size == 'number' &&
              r.mtime < a.mtime &&
              r.etag !== S7({ mtime: r.mtime, size: a.size })
            ) {
              if (((c = await this.D(e, s)), c instanceof re && c.byteLength === a.size))
                try {
                  const { value: l } = await this.readFile(i, { limits: { size: a.size } });
                  if (c.equals(l)) return { stat: a, buffer: c };
                } catch {}
              throw new Fi(u(2005, null), 3, r);
            }
            return { stat: a, buffer: c };
          }
          async readFile(e, i, s) {
            const r = await this.s(e);
            return i?.atomic ? this.G(r, e, i, s) : this.H(r, e, i, s);
          }
          async G(e, i, s, r) {
            return new Promise((n, o) => {
              this.gb.queueFor(
                i,
                async () => {
                  try {
                    const a = await this.H(e, i, s, r);
                    n(a);
                  } catch (a) {
                    o(a);
                  }
                },
                this.X(e).providerExtUri
              );
            });
          }
          async H(e, i, s, r) {
            const n = await this.I(e, i, { ...s, preferUnbuffered: !0 }, r);
            return { ...n, value: await xl(n.value) };
          }
          async readFileStream(e, i, s) {
            const r = await this.s(e);
            return this.I(r, e, i, s);
          }
          async I(e, i, s, r) {
            const n = new Js(r);
            let o = s;
            Em(e) && e.enforceAtomicReadFile?.(i) && (o = { ...s, atomic: !0 });
            const a = this.O(i, o).then(
              (l) => l,
              (l) => {
                throw (n.dispose(!0), l);
              }
            );
            let c;
            try {
              return (
                typeof o?.etag == 'string' && o.etag !== Jd && (await a),
                (o?.atomic && Em(e)) || !(Hn(e) || Sm(e)) || (Ps(e) && o?.preferUnbuffered)
                  ? (c = this.N(e, i, o))
                  : Sm(e)
                  ? (c = this.L(e, i, n.token, o))
                  : (c = this.M(e, i, n.token, o)),
                c.on('end', () => n.dispose()),
                c.on('error', () => n.dispose()),
                { ...(await a), value: c }
              );
            } catch (l) {
              throw (c && (await X5(c)), this.J(l, i, o));
            }
          }
          J(e, i, s) {
            const r = u(2006, null, this.wb(i), _o(e).toString());
            return e instanceof qd
              ? new qd(r, e.stat, s)
              : e instanceof Gd
              ? new Gd(r, e.fileOperationResult, e.size, e.options)
              : new Fi(r, kr(e), s);
          }
          L(e, i, s, r = Object.create(null)) {
            const n = e.readFileStream(i, r, s);
            return Y5(
              n,
              { data: (o) => (o instanceof re ? o : re.wrap(o)), error: (o) => this.J(o, i, r) },
              (o) => re.concat(o)
            );
          }
          M(e, i, s, r = Object.create(null)) {
            const n = v_();
            return (
              O8(
                e,
                i,
                n,
                (o) => o,
                { ...r, bufferSize: this.a, errorTransformer: (o) => this.J(o, i, r) },
                s
              ),
              n
            );
          }
          N(e, i, s) {
            const r = Sd((n) => re.concat(n));
            return (
              (async () => {
                try {
                  let n;
                  s?.atomic && Em(e)
                    ? (n = await e.readFile(i, { atomic: !0 }))
                    : (n = await e.readFile(i)),
                    typeof s?.position == 'number' && (n = n.slice(s.position)),
                    typeof s?.length == 'number' && (n = n.slice(0, s.length)),
                    this.P(i, n.byteLength, s),
                    r.end(re.wrap(n));
                } catch (n) {
                  r.error(n), r.end();
                }
              })(),
              r
            );
          }
          async O(e, i) {
            const s = await this.resolve(e, { resolveMetadata: !0 });
            if (s.isDirectory) throw new Fi(u(2007, null, this.wb(e)), 0, i);
            if (typeof i?.etag == 'string' && i.etag !== Jd && i.etag === s.etag)
              throw new qd(u(2008, null), s, i);
            return this.P(e, s.size, i), s;
          }
          P(e, i, s) {
            if (typeof s?.limits?.size == 'number' && i > s.limits.size)
              throw new Gd(u(2009, null, this.wb(e)), 7, i, s);
          }
          async canMove(e, i, s) {
            return this.Q(e, i, 'move', s);
          }
          async canCopy(e, i, s) {
            return this.Q(e, i, 'copy', s);
          }
          async Q(e, i, s, r) {
            if (e.toString() !== i.toString())
              try {
                const n = s === 'move' ? this.ub(await this.t(e), e) : await this.s(e),
                  o = this.ub(await this.t(i), i);
                await this.W(n, e, o, i, s, r);
              } catch (n) {
                return n;
              }
            return !0;
          }
          async move(e, i, s) {
            const r = this.ub(await this.t(e), e),
              n = this.ub(await this.t(i), i),
              o = await this.R(r, e, n, i, 'move', !!s),
              a = await this.resolve(i, { resolveMetadata: !0 });
            return this.u.fire(new Lo(e, o === 'move' ? 2 : 3, a)), a;
          }
          async copy(e, i, s) {
            const r = await this.s(e),
              n = this.ub(await this.t(i), i),
              o = await this.R(r, e, n, i, 'copy', !!s),
              a = await this.resolve(i, { resolveMetadata: !0 });
            return this.u.fire(new Lo(e, o === 'copy' ? 3 : 2, a)), a;
          }
          async R(e, i, s, r, n, o) {
            if (i.toString() === r.toString()) return n;
            const { exists: a, isSameResourceWithDifferentPathCase: c } = await this.W(
              e,
              i,
              s,
              r,
              n,
              o
            );
            if (
              (a && !c && o && (await this.del(r, { recursive: !0 })),
              await this.Z(s, this.X(s).providerExtUri.dirname(r)),
              n === 'copy')
            ) {
              if (e === s && km(e)) await e.copy(i, r, { overwrite: o });
              else {
                const l = await this.resolve(i);
                l.isDirectory ? await this.U(e, l, s, r) : await this.S(e, i, s, r);
              }
              return n;
            } else
              return e === s
                ? (await e.rename(i, r, { overwrite: o }), n)
                : (await this.R(e, i, s, r, 'copy', o),
                  await this.del(i, { recursive: !0 }),
                  'copy');
          }
          async S(e, i, s, r) {
            if (Hn(e) && Hn(s)) return this.nb(e, i, s, r);
            if (Hn(e) && Ps(s)) return this.tb(e, i, s, r);
            if (Ps(e) && Hn(s)) return this.rb(e, i, s, r);
            if (Ps(e) && Ps(s)) return this.pb(e, i, s, r);
          }
          async U(e, i, s, r) {
            await s.mkdir(r),
              Array.isArray(i.children) &&
                (await ui.settled(
                  i.children.map(async (n) => {
                    const o = this.X(s).providerExtUri.joinPath(r, n.name);
                    return n.isDirectory
                      ? this.U(e, await this.resolve(n.resource), s, o)
                      : this.S(e, n.resource, s, o);
                  })
                ));
          }
          async W(e, i, s, r, n, o) {
            let a = !1;
            if (e === s) {
              const { providerExtUri: l, isPathCaseSensitive: h } = this.X(e);
              if ((h || (a = l.isEqual(i, r)), a && n === 'copy'))
                throw new Error(u(2010, null, this.wb(i), this.wb(r)));
              if (!a && l.isEqualOrParent(r, i))
                throw new Error(u(2011, null, this.wb(i), this.wb(r)));
            }
            const c = await this.exists(r);
            if (c && !a) {
              if (!o) throw new Fi(u(2012, null, this.wb(i), this.wb(r)), 4);
              if (e === s) {
                const { providerExtUri: l } = this.X(e);
                if (l.isEqualOrParent(i, r)) throw new Error(u(2013, null, this.wb(i), this.wb(r)));
              }
            }
            return { exists: c, isSameResourceWithDifferentPathCase: a };
          }
          X(e) {
            const i = this.Y(e);
            return { providerExtUri: i ? Re : O0, isPathCaseSensitive: i };
          }
          Y(e) {
            return !!(e.capabilities & 1024);
          }
          async createFolder(e) {
            const i = this.ub(await this.r(e), e);
            await this.Z(i, e);
            const s = await this.resolve(e, { resolveMetadata: !0 });
            return this.u.fire(new Lo(e, 0, s)), s;
          }
          async Z(e, i) {
            const s = [],
              { providerExtUri: r } = this.X(e);
            for (; !r.isEqual(i, r.dirname(i)); )
              try {
                if (((await e.stat(i)).type & ai.Directory) === 0)
                  throw new Error(u(2014, null, this.wb(i)));
                break;
              } catch (n) {
                if (zd(n) !== Se.FileNotFound) throw n;
                s.push(r.basename(i)), (i = r.dirname(i));
              }
            for (let n = s.length - 1; n >= 0; n--) {
              i = r.joinPath(i, s[n]);
              try {
                await e.mkdir(i);
              } catch (o) {
                if (zd(o) !== Se.FileExists) throw o;
              }
            }
          }
          async canDelete(e, i) {
            try {
              await this.$(e, i);
            } catch (s) {
              return s;
            }
            return !0;
          }
          async $(e, i) {
            const s = this.ub(await this.r(e), e),
              r = !!i?.useTrash;
            if (r && !(s.capabilities & 4096)) throw new Error(u(2015, null, this.wb(e)));
            const n = i?.atomic;
            if (n && !(s.capabilities & 65536)) throw new Error(u(2016, null, this.wb(e)));
            if (r && n) throw new Error(u(2017, null, this.wb(e)));
            let o;
            try {
              o = await s.stat(e);
            } catch {}
            if (o) this.vb(e, o);
            else throw new Fi(u(2018, null, this.wb(e)), 1);
            if (!!!i?.recursive) {
              const c = await this.resolve(e);
              if (c.isDirectory && Array.isArray(c.children) && c.children.length > 0)
                throw new Error(u(2019, null, this.wb(e)));
            }
            return s;
          }
          async del(e, i) {
            const s = await this.$(e, i);
            let r = i;
            if (cL(s) && !r?.atomic) {
              const c = s.enforceAtomicDelete?.(e);
              c && (r = { ...i, atomic: c });
            }
            const n = !!r?.useTrash,
              o = !!r?.recursive,
              a = r?.atomic ?? !1;
            await s.delete(e, { recursive: o, useTrash: n, atomic: a }), this.u.fire(new Lo(e, 1));
          }
          async cloneFile(e, i) {
            const s = await this.r(e),
              r = this.ub(await this.t(i), i);
            if (!(s === r && this.X(s).providerExtUri.isEqual(e, i)))
              return s === r && y7(s)
                ? s.cloneFile(e, i)
                : (await this.Z(r, this.X(r).providerExtUri.dirname(i)),
                  s === r && km(s)
                    ? this.gb.queueFor(
                        e,
                        () => s.copy(e, i, { overwrite: !0 }),
                        this.X(s).providerExtUri
                      )
                    : this.gb.queueFor(e, () => this.S(s, e, r, i), this.X(s).providerExtUri));
          }
          static {
            this.eb = 0;
          }
          createWatcher(e, i) {
            return this.watch(e, { ...i, correlationId: Ay.eb++ });
          }
          watch(e, i = { recursive: !1, excludes: [] }) {
            const s = new je();
            let r = !1,
              n = () => {
                r = !0;
              };
            s.add(_e(() => n())),
              (async () => {
                try {
                  const a = await this.fb(e, i);
                  r ? Qt(a) : (n = () => Qt(a));
                } catch (a) {
                  this.g.error(a);
                }
              })();
            const o = i.correlationId;
            if (typeof o == 'number') {
              const a = s.add(new $());
              return (
                s.add(
                  this.ab.event((l) => {
                    l.correlates(o) && a.fire(l);
                  })
                ),
                { onDidChange: a.event, dispose: () => s.dispose() }
              );
            }
            return s;
          }
          async fb(e, i) {
            const s = await this.r(e),
              r = Un([this.X(s).providerExtUri.getComparisonKey(e), i]);
            let n = this.db.get(r);
            return (
              n || ((n = { count: 0, disposable: s.watch(e, i) }), this.db.set(r, n)),
              (n.count += 1),
              _e(() => {
                n && (n.count--, n.count === 0 && (Qt(n.disposable), this.db.delete(r)));
              })
            );
          }
          dispose() {
            super.dispose();
            for (const [, e] of this.db) Qt(e.disposable);
            this.db.clear();
          }
          async hb(e, i, s, r) {
            return this.gb.queueFor(
              i,
              async () => {
                const n = await e.open(i, { create: !0, unlock: s?.unlock ?? !1 });
                try {
                  kd(r) || Y0(r) ? await this.ib(e, n, r) : await this.jb(e, n, r);
                } catch (o) {
                  throw _o(o);
                } finally {
                  await e.close(n);
                }
              },
              this.X(e).providerExtUri
            );
          }
          async ib(e, i, s) {
            let r = 0,
              n;
            if (Y0(s)) {
              if (s.buffer.length > 0) {
                const o = re.concat(s.buffer);
                await this.kb(e, i, o, o.byteLength, r, 0), (r += o.byteLength);
              }
              if (s.ended) return;
              n = s.stream;
            } else n = s;
            return new Promise((o, a) => {
              Ed(n, {
                onData: async (c) => {
                  n.pause();
                  try {
                    await this.kb(e, i, c, c.byteLength, r, 0);
                  } catch (l) {
                    return a(l);
                  }
                  (r += c.byteLength), setTimeout(() => n.resume());
                },
                onError: (c) => a(c),
                onEnd: () => o(),
              });
            });
          }
          async jb(e, i, s) {
            let r = 0,
              n;
            for (; (n = s.read()) !== null; )
              await this.kb(e, i, n, n.byteLength, r, 0), (r += n.byteLength);
          }
          async kb(e, i, s, r, n, o) {
            let a = 0;
            for (; a < r; ) {
              const c = await e.write(i, n + a, s.buffer, o + a, r - a);
              a += c;
            }
          }
          async lb(e, i, s, r) {
            return this.gb.queueFor(i, () => this.mb(e, i, s, r), this.X(e).providerExtUri);
          }
          async mb(e, i, s, r) {
            let n;
            r instanceof re
              ? (n = r)
              : kd(r)
              ? (n = await xl(r))
              : Y0(r)
              ? (n = await w_(r))
              : (n = g_(r)),
              await e.writeFile(i, n.buffer, {
                create: !0,
                overwrite: !0,
                unlock: s?.unlock ?? !1,
                atomic: s?.atomic ?? !1,
              });
          }
          async nb(e, i, s, r) {
            return this.gb.queueFor(r, () => this.ob(e, i, s, r), this.X(s).providerExtUri);
          }
          async ob(e, i, s, r) {
            let n, o;
            try {
              (n = await e.open(i, { create: !1 })),
                (o = await s.open(r, { create: !0, unlock: !1 }));
              const a = re.alloc(this.a);
              let c = 0,
                l = 0,
                h = 0;
              do
                (h = await e.read(n, c, a.buffer, l, a.byteLength - l)),
                  await this.kb(s, o, a, h, c, l),
                  (c += h),
                  (l += h),
                  l === a.byteLength && (l = 0);
              while (h > 0);
            } catch (a) {
              throw _o(a);
            } finally {
              await ui.settled([
                typeof n == 'number' ? e.close(n) : Promise.resolve(),
                typeof o == 'number' ? s.close(o) : Promise.resolve(),
              ]);
            }
          }
          async pb(e, i, s, r) {
            return this.gb.queueFor(r, () => this.qb(e, i, s, r), this.X(s).providerExtUri);
          }
          async qb(e, i, s, r) {
            return s.writeFile(r, await e.readFile(i), {
              create: !0,
              overwrite: !0,
              unlock: !1,
              atomic: !1,
            });
          }
          async rb(e, i, s, r) {
            return this.gb.queueFor(r, () => this.sb(e, i, s, r), this.X(s).providerExtUri);
          }
          async sb(e, i, s, r) {
            const n = await s.open(r, { create: !0, unlock: !1 });
            try {
              const o = await e.readFile(i);
              await this.kb(s, n, re.wrap(o), o.byteLength, 0, 0);
            } catch (o) {
              throw _o(o);
            } finally {
              await s.close(n);
            }
          }
          async tb(e, i, s, r) {
            const n = await xl(this.M(e, i, gt.None));
            await this.lb(s, r, void 0, n);
          }
          ub(e, i) {
            if (e.capabilities & 2048) throw new Fi(u(2020, null, this.wb(i)), 6);
            return e;
          }
          vb(e, i) {
            if ((i.permissions ?? 0) & Va.Readonly) throw new Fi(u(2021, null, this.wb(e)), 6);
          }
          wb(e) {
            return e.scheme === N.file ? e.fsPath : e.toString(!0);
          }
        }),
        (tg = Ay = __decorate([__param(0, ee)], tg));
    },
  }),
  uA,
  Iy,
  PY = b({
    'out-build/vs/platform/instantiation/common/graph.js'() {
      'use strict';
      (uA = class {
        constructor(t, e) {
          (this.key = t), (this.data = e), (this.incoming = new Map()), (this.outgoing = new Map());
        }
      }),
        (Iy = class {
          constructor(t) {
            (this.b = t), (this.a = new Map());
          }
          roots() {
            const t = [];
            for (const e of this.a.values()) e.outgoing.size === 0 && t.push(e);
            return t;
          }
          insertEdge(t, e) {
            const i = this.lookupOrInsertNode(t),
              s = this.lookupOrInsertNode(e);
            i.outgoing.set(s.key, s), s.incoming.set(i.key, i);
          }
          removeNode(t) {
            const e = this.b(t);
            this.a.delete(e);
            for (const i of this.a.values()) i.outgoing.delete(e), i.incoming.delete(e);
          }
          lookupOrInsertNode(t) {
            const e = this.b(t);
            let i = this.a.get(e);
            return i || ((i = new uA(e, t)), this.a.set(e, i)), i;
          }
          lookup(t) {
            return this.a.get(this.b(t));
          }
          isEmpty() {
            return this.a.size === 0;
          }
          toString() {
            const t = [];
            for (const [e, i] of this.a)
              t.push(`${e}
	(-> incoming)[${[...i.incoming.keys()].join(', ')}]
	(outgoing ->)[${[...i.outgoing.keys()].join(',')}]
`);
            return t.join(`
`);
          }
          findCycleSlow() {
            for (const [t, e] of this.a) {
              const i = new Set([t]),
                s = this.c(e, i);
              if (s) return s;
            }
          }
          c(t, e) {
            for (const [i, s] of t.outgoing) {
              if (e.has(i)) return [...e, i].join(' -> ');
              e.add(i);
              const r = this.c(s, e);
              if (r) return r;
              e.delete(i);
            }
          }
        });
    },
  }),
  hA,
  $y,
  dA,
  fA,
  ig,
  _Y = b({
    'out-build/vs/platform/instantiation/common/instantiationService.js'() {
      'use strict';
      le(),
        He(),
        U(),
        Eo(),
        PY(),
        K(),
        Iw(),
        p0(),
        (hA = !1),
        ($y = class extends Error {
          constructor(t) {
            super('cyclic dependency between services'),
              (this.message =
                t.findCycleSlow() ??
                `UNABLE to detect cycle, dumping graph: 
${t.toString()}`);
          }
        }),
        (dA = class s4 {
          constructor(e = new Rf(), i = !1, s, r = hA) {
            (this.i = e),
              (this.j = i),
              (this.k = s),
              (this.l = r),
              (this.f = !1),
              (this.g = new Set()),
              (this.h = new Set()),
              (this.t = new Set()),
              this.i.set(Ks, this),
              (this._globalGraph = r ? s?._globalGraph ?? new Iy((n) => n) : void 0);
          }
          dispose() {
            if (!this.f) {
              (this.f = !0), Qt(this.h), this.h.clear();
              for (const e of this.g) U$(e) && e.dispose();
              this.g.clear();
            }
          }
          m() {
            if (this.f) throw new Error('InstantiationService has been disposed');
          }
          createChild(e, i) {
            this.m();
            const s = this,
              r = new (class extends s4 {
                dispose() {
                  s.h.delete(r), super.dispose();
                }
              })(e, this.j, this, this.l);
            return this.h.add(r), i?.add(r), r;
          }
          invokeFunction(e, ...i) {
            this.m();
            const s = ig.traceInvocation(this.l, e);
            let r = !1;
            try {
              return e(
                {
                  get: (o) => {
                    if (r)
                      throw p4(
                        'service accessor is only valid during the invocation of its target method'
                      );
                    const a = this.s(o, s);
                    if (!a) throw new Error(`[invokeFunction] unknown service '${o}'`);
                    return a;
                  },
                },
                ...i
              );
            } finally {
              (r = !0), s.stop();
            }
          }
          createInstance(e, ...i) {
            this.m();
            let s, r;
            return (
              e instanceof ve
                ? ((s = ig.traceCreation(this.l, e.ctor)),
                  (r = this.o(e.ctor, e.staticArguments.concat(i), s)))
                : ((s = ig.traceCreation(this.l, e)), (r = this.o(e, i, s))),
              s.stop(),
              r
            );
          }
          o(e, i = [], s) {
            const r = qs.getServiceDependencies(e).sort((a, c) => a.index - c.index),
              n = [];
            for (const a of r) {
              const c = this.s(a.id, s);
              c || this.y(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id}.`, !1),
                n.push(c);
            }
            const o = r.length > 0 ? r[0].index : i.length;
            if (i.length !== o) {
              console.trace(
                `[createInstance] First service dependency of ${e.name} at position ${
                  o + 1
                } conflicts with ${i.length} static arguments`
              );
              const a = o - i.length;
              a > 0 ? (i = i.concat(new Array(a))) : (i = i.slice(0, o));
            }
            return Reflect.construct(e, i.concat(n));
          }
          q(e, i) {
            if (this.i.get(e) instanceof ve) this.i.set(e, i);
            else if (this.k) this.k.q(e, i);
            else throw new Error('illegalState - setting UNKNOWN service instance');
          }
          r(e) {
            const i = this.i.get(e);
            return !i && this.k ? this.k.r(e) : i;
          }
          s(e, i) {
            this._globalGraph && this.c && this._globalGraph.insertEdge(this.c, String(e));
            const s = this.r(e);
            return s instanceof ve ? this.u(e, s, i.branch(e, !0)) : (i.branch(e, !1), s);
          }
          u(e, i, s) {
            if (this.t.has(e))
              throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);
            this.t.add(e);
            try {
              return this.v(e, i, s);
            } finally {
              this.t.delete(e);
            }
          }
          v(e, i, s) {
            const r = new Iy((c) => c.id.toString());
            let n = 0;
            const o = [{ id: e, desc: i, _trace: s }],
              a = new Set();
            for (; o.length; ) {
              const c = o.pop();
              if (!a.has(String(c.id))) {
                if ((a.add(String(c.id)), r.lookupOrInsertNode(c), n++ > 1e3)) throw new $y(r);
                for (const l of qs.getServiceDependencies(c.desc.ctor)) {
                  const h = this.r(l.id);
                  if (
                    (h ||
                      this.y(
                        `[createInstance] ${e} depends on ${l.id} which is NOT registered.`,
                        !0
                      ),
                    this._globalGraph?.insertEdge(String(c.id), String(l.id)),
                    h instanceof ve)
                  ) {
                    const d = { id: l.id, desc: h, _trace: c._trace.branch(l.id, !0) };
                    r.insertEdge(c, d), o.push(d);
                  }
                }
              }
            }
            for (;;) {
              const c = r.roots();
              if (c.length === 0) {
                if (!r.isEmpty()) throw new $y(r);
                break;
              }
              for (const { data: l } of c) {
                if (this.r(l.id) instanceof ve) {
                  const d = this.w(
                    l.id,
                    l.desc.ctor,
                    l.desc.staticArguments,
                    l.desc.supportsDelayedInstantiation,
                    l._trace
                  );
                  this.q(l.id, d);
                }
                r.removeNode(l);
              }
            }
            return this.r(e);
          }
          w(e, i, s = [], r, n) {
            if (this.i.get(e) instanceof ve) return this.x(e, i, s, r, n, this.g);
            if (this.k) return this.k.w(e, i, s, r, n);
            throw new Error(`illegalState - creating UNKNOWN service instance ${i.name}`);
          }
          x(e, i, s = [], r, n, o) {
            if (r) {
              const a = new s4(void 0, this.j, this, this.l);
              a.c = String(e);
              const c = new Map(),
                l = new M5(() => {
                  const h = a.o(i, s, n);
                  for (const [d, p] of c) {
                    const m = h[d];
                    if (typeof m == 'function')
                      for (const w of p) w.disposable = m.apply(h, w.listener);
                  }
                  return c.clear(), o.add(h), h;
                });
              return new Proxy(Object.create(null), {
                get(h, d) {
                  if (
                    !l.isInitialized &&
                    typeof d == 'string' &&
                    (d.startsWith('onDid') || d.startsWith('onWill'))
                  ) {
                    let w = c.get(d);
                    return (
                      w || ((w = new rd()), c.set(d, w)),
                      (k, y, C) => {
                        if (l.isInitialized) return l.value[d](k, y, C);
                        {
                          const I = { listener: [k, y, C], disposable: void 0 },
                            E = w.push(I);
                          return _e(() => {
                            E(), I.disposable?.dispose();
                          });
                        }
                      }
                    );
                  }
                  if (d in h) return h[d];
                  const p = l.value;
                  let m = p[d];
                  return typeof m != 'function' || ((m = m.bind(p)), (h[d] = m)), m;
                },
                set(h, d, p) {
                  return (l.value[d] = p), !0;
                },
                getPrototypeOf(h) {
                  return i.prototype;
                },
              });
            } else {
              const a = this.o(i, s, n);
              return o.add(a), a;
            }
          }
          y(e, i) {
            if ((i && console.warn(e), this.j)) throw new Error(e);
          }
        }),
        (function (t) {
          (t[(t.None = 0)] = 'None'),
            (t[(t.Creation = 1)] = 'Creation'),
            (t[(t.Invocation = 2)] = 'Invocation'),
            (t[(t.Branch = 3)] = 'Branch');
        })(fA || (fA = {})),
        (ig = class Nr {
          static {
            this.all = new Set();
          }
          static {
            this.c = new (class extends Nr {
              constructor() {
                super(0, null);
              }
              stop() {}
              branch() {
                return this;
              }
            })();
          }
          static traceInvocation(e, i) {
            return e
              ? new Nr(
                  2,
                  i.name ||
                    new Error().stack
                      .split(
                        `
`
                      )
                      .slice(3, 4).join(`
`)
                )
              : Nr.c;
          }
          static traceCreation(e, i) {
            return e ? new Nr(1, i.name) : Nr.c;
          }
          static {
            this.f = 0;
          }
          constructor(e, i) {
            (this.type = e), (this.name = i), (this.g = Date.now()), (this.h = []);
          }
          branch(e, i) {
            const s = new Nr(3, e.toString());
            return this.h.push([e, i, s]), s;
          }
          stop() {
            const e = Date.now() - this.g;
            Nr.f += e;
            let i = !1;
            function s(n, o) {
              const a = [],
                c = new Array(n + 1).join('	');
              for (const [l, h, d] of o.h)
                if (h && d) {
                  (i = !0), a.push(`${c}CREATES -> ${l}`);
                  const p = s(n + 1, d);
                  p && a.push(p);
                } else a.push(`${c}uses -> ${l}`);
              return a.join(`
`);
            }
            const r = [
              `${this.type === 1 ? 'CREATE' : 'CALL'} ${this.name}`,
              `${s(1, this)}`,
              `DONE, took ${e.toFixed(2)}ms (grand total ${Nr.f.toFixed(2)}ms)`,
            ];
            (e > 2 || i) &&
              Nr.all.add(
                r.join(`
`)
              );
          }
        });
    },
  }),
  pA,
  LY = b({
    'out-build/vs/platform/log/common/bufferLog.js'() {
      'use strict';
      U(),
        se(),
        (pA = class extends vm {
          constructor(t = Ml) {
            super(),
              (this.n = []),
              (this.r = void 0),
              (this.s = this.B(new ko())),
              this.setLevel(t);
          }
          set logger(t) {
            (this.r = t),
              this.setLevel(t.getLevel()),
              (this.s.value = t.onDidChangeLogLevel(this.setLevel, this));
            for (const { level: e, message: i } of this.n) bm(t, e, i);
            this.n = [];
          }
          m(t, e) {
            this.r
              ? bm(this.r, t, e)
              : this.getLevel() <= t && this.n.push({ level: t, message: e });
          }
          dispose() {
            this.r?.dispose(), super.dispose();
          }
          flush() {
            this.r?.flush();
          }
        });
    },
  });
import { session as TY } from 'electron';
var sg,
  MY = b({
    'out-build/vs/platform/protocol/electron-main/protocolMainService.js'() {
      'use strict';
      U(),
        Oe(),
        xe(),
        ie(),
        Ha(),
        be(),
        hi(),
        Ei(),
        Xi(),
        se(),
        Dr(),
        (sg = class extends H {
          constructor(e, i, s) {
            super(),
              (this.c = e),
              (this.f = s),
              (this.a = Wn.forPaths(!Fe)),
              (this.b = new Set([
                '.svg',
                '.png',
                '.jpg',
                '.jpeg',
                '.gif',
                '.bmp',
                '.webp',
                '.mp4',
                '.otf',
                '.ttf',
              ])),
              this.addValidFileRoot(e.appRoot),
              this.addValidFileRoot(e.extensionsPath),
              this.addValidFileRoot(
                i.defaultProfile.globalStorageHome.with({ scheme: N.file }).fsPath
              ),
              this.addValidFileRoot(e.workspaceStorageHome.with({ scheme: N.file }).fsPath),
              this.g();
          }
          g() {
            const { defaultSession: e } = TY;
            e.protocol.registerFileProtocol(N.vscodeFileResource, (i, s) => this.j(i, s)),
              e.protocol.interceptFileProtocol(N.file, (i, s) => this.h(i, s)),
              this.B(
                _e(() => {
                  e.protocol.unregisterProtocol(N.vscodeFileResource),
                    e.protocol.uninterceptProtocol(N.file);
                })
              );
          }
          addValidFileRoot(e) {
            const i = _i(e);
            return this.a.get(i) ? H.None : (this.a.set(i, !0), _e(() => this.a.delete(i)));
          }
          h(e, i) {
            const s = _.parse(e.url);
            return (
              this.f.error(
                `Refused to load resource ${s.fsPath} from ${N.file}: protocol (original URL: ${e.url})`
              ),
              i({ error: -3 })
            );
          }
          j(e, i) {
            const s = this.m(e);
            let r;
            if (this.c.crossOriginIsolated) {
              const n = ct(s);
              n === 'workbench.html' || n === 'workbench-dev.html'
                ? (r = kl.CoopAndCoep)
                : (r = kl.getHeadersFromQuery(e.url));
            }
            return (
              this.c.isBuilt || (r = { ...r, ...E5 }),
              this.a.findSubstr(s)
                ? i({ path: s, headers: r })
                : this.b.has(ld(s).toLowerCase())
                ? i({ path: s, headers: r })
                : (this.f.error(
                    `${N.vscodeFileResource}: Refused to load resource ${s} from ${N.vscodeFileResource}: protocol (original URL: ${e.url})`
                  ),
                  i({ error: -3 }))
            );
          }
          m(e) {
            const i = _.parse(e.url),
              s = Ht.uriToFileUri(i);
            return _i(s.fsPath);
          }
          createIPCObjectUrl() {
            let e;
            const i = _.from({ scheme: 'vscode', path: ei() }),
              s = i.toString(),
              r = async () => e;
            return (
              de.handle(s, r),
              this.f.trace(`IPC Object URL: Registered new channel ${s}.`),
              {
                resource: i,
                update: (n) => (e = n),
                dispose: () => {
                  this.f.trace(`IPC Object URL: Removed channel ${s}.`), de.removeHandler(s);
                },
              }
            );
          }
          createIPCObjectUrlHandler(e, i) {
            const s = _.from({ scheme: 'vscode', path: `${e}-${ei()}` }),
              r = s.toString();
            return (
              de.handle(r, i),
              this.f.trace(`IPC Object URL: Registered new channel ${r}.`),
              {
                resource: s,
                dispose: () => {
                  this.f.trace(`IPC Object URL: Removed channel ${r}.`), de.removeHandler(r);
                },
              }
            );
          }
        }),
        (sg = __decorate([__param(0, $s), __param(1, Cr), __param(2, ee)], sg));
    },
  });
function FY(t) {
  return !!t.forwardPort;
}
function OY(t) {
  if (t.scheme !== 'http' && t.scheme !== 'https') return;
  const e = /^(localhost|127\.0\.0\.1|0\.0\.0\.0):(\d+)$/.exec(t.authority);
  if (e) return { address: e[1], port: +e[2] };
}
function Py(t) {
  return ng.indexOf(t) >= 0;
}
function Ih(t) {
  return og.indexOf(t) >= 0;
}
function RY(t, e, i, s) {
  if (i === 1) return !1;
  if (i === 2 && Ih(e)) {
    const r = /(\d+)\.(\d+)\.(\d+)/g.exec(s);
    if (r?.length === 4 && parseInt(r[1]) >= 18) return !1;
  }
  return t < 1024;
}
var gA,
  NY,
  mA,
  rg,
  wA,
  ng,
  og,
  ag,
  bA = b({
    'out-build/vs/platform/tunnel/common/tunnel.js'() {
      'use strict';
      X(),
        U(),
        be(),
        Ge(),
        K(),
        se(),
        (gA = W('tunnelService')),
        (NY = W('sharedTunnelsService')),
        (function (t) {
          (t.Http = 'http'), (t.Https = 'https');
        })(mA || (mA = {})),
        (function (t) {
          (t.ConstantPrivate = 'constantPrivate'), (t.Private = 'private'), (t.Public = 'public');
        })(rg || (rg = {})),
        (function (t) {
          (t[(t.Notify = 1)] = 'Notify'),
            (t[(t.OpenBrowser = 2)] = 'OpenBrowser'),
            (t[(t.OpenPreview = 3)] = 'OpenPreview'),
            (t[(t.Silent = 4)] = 'Silent'),
            (t[(t.Ignore = 5)] = 'Ignore'),
            (t[(t.OpenBrowserOnce = 6)] = 'OpenBrowserOnce');
        })(wA || (wA = {})),
        (ng = ['localhost', '127.0.0.1', '0:0:0:0:0:0:0:1', '::1']),
        (og = ['0.0.0.0', '0:0:0:0:0:0:0:0', '::']),
        (ag = class extends H {
          constructor(e, i) {
            super(),
              (this.r = e),
              (this.s = i),
              (this.a = new $()),
              (this.onTunnelOpened = this.a.event),
              (this.b = new $()),
              (this.onTunnelClosed = this.b.event),
              (this.c = new $()),
              (this.onAddedTunnelProvider = this.c.event),
              (this.f = new Map()),
              (this.h = !1),
              (this.j = !0),
              (this.m = []),
              (this.n = new Set());
          }
          get hasTunnelProvider() {
            return !!this.g;
          }
          get t() {
            const e = this.s.getValue('remote.localPortHost');
            return !e || e === 'localhost' ? '127.0.0.1' : '0.0.0.0';
          }
          setTunnelProvider(e) {
            return (
              (this.g = e),
              e
                ? (this.c.fire(),
                  {
                    dispose: () => {
                      (this.g = void 0), (this.h = !1), (this.m = []);
                    },
                  })
                : ((this.h = !1), (this.m = []), this.c.fire(), { dispose: () => {} })
            );
          }
          setTunnelFeatures(e) {
            (this.h = e.elevation), (this.m = e.privacyOptions), (this.j = e.protocol);
          }
          get canChangeProtocol() {
            return this.j;
          }
          get canElevate() {
            return this.h;
          }
          get canChangePrivacy() {
            return this.m.length > 0;
          }
          get privacyOptions() {
            return this.m;
          }
          get tunnels() {
            return this.u();
          }
          async u() {
            const e = [],
              i = Array.from(this.f.values());
            for (const s of i) {
              const r = Array.from(s.values());
              for (const n of r) {
                const o = await n.value;
                o && typeof o != 'string' && e.push(o);
              }
            }
            return e;
          }
          async dispose() {
            super.dispose();
            for (const e of this.f.values()) {
              for (const { value: i } of e.values())
                await i.then((s) => (typeof s != 'string' ? s?.dispose() : void 0));
              e.clear();
            }
            this.f.clear();
          }
          setEnvironmentTunnel(e, i, s, r, n) {
            this.z(
              e,
              i,
              Promise.resolve({
                tunnelRemoteHost: e,
                tunnelRemotePort: i,
                localAddress: s,
                privacy: r,
                protocol: n,
                dispose: () => Promise.resolve(),
              })
            );
          }
          async getExistingTunnel(e, i) {
            (Ih(e) || Py(e)) && (e = ng[0]);
            const s = this.D(e, i);
            if (s) return ++s.refcount, s.value;
          }
          openTunnel(e, i, s, r, n, o = !1, a, c) {
            this.r.trace(
              `ForwardedPorts: (TunnelService) openTunnel request for ${i}:${s} on local port ${n}.`
            );
            const l = this.g ?? e;
            if (!l) return;
            if ((i || (i = 'localhost'), r || (r = this.t), this.g && this.n.has(s))) {
              this.r.debug(
                'ForwardedPorts: (TunnelService) Another call to create a tunnel with the same address has occurred before the last one completed. This call will be ignored.'
              );
              return;
            }
            const h = this.F(l, i, s, r, n, o, a, c);
            return h
              ? h.then((d) => {
                  if (d) {
                    if (typeof d == 'string')
                      return (
                        this.r.trace(
                          'ForwardedPorts: (TunnelService) The tunnel provider returned an error when creating the tunnel.'
                        ),
                        this.C(i, s),
                        d
                      );
                  } else {
                    this.r.trace('ForwardedPorts: (TunnelService) New tunnel is undefined.'),
                      this.C(i, s);
                    return;
                  }
                  this.r.trace('ForwardedPorts: (TunnelService) New tunnel established.');
                  const p = this.w(d);
                  return (
                    (d.tunnelRemoteHost !== i || d.tunnelRemotePort !== s) &&
                      this.r.warn(
                        'ForwardedPorts: (TunnelService) Created tunnel does not match requirements of requested tunnel. Host or port mismatch.'
                      ),
                    a &&
                      d.privacy !== a &&
                      this.r.warn(
                        'ForwardedPorts: (TunnelService) Created tunnel does not match requirements of requested tunnel. Privacy mismatch.'
                      ),
                    this.a.fire(p),
                    p
                  );
                })
              : (this.r.trace('ForwardedPorts: (TunnelService) Tunnel was not created.'), h);
          }
          w(e) {
            return {
              tunnelRemotePort: e.tunnelRemotePort,
              tunnelRemoteHost: e.tunnelRemoteHost,
              tunnelLocalPort: e.tunnelLocalPort,
              localAddress: e.localAddress,
              privacy: e.privacy,
              protocol: e.protocol,
              dispose: async () => {
                this.r.trace(
                  `ForwardedPorts: (TunnelService) dispose request for ${e.tunnelRemoteHost}:${e.tunnelRemotePort} `
                );
                const i = this.f.get(e.tunnelRemoteHost);
                if (i) {
                  const s = i.get(e.tunnelRemotePort);
                  s && (s.refcount--, await this.y(e.tunnelRemoteHost, e.tunnelRemotePort, s));
                }
              },
            };
          }
          async y(e, i, s) {
            if (s.refcount <= 0) {
              this.r.trace(`ForwardedPorts: (TunnelService) Tunnel is being disposed ${e}:${i}.`);
              const r = s.value.then(async (n) => {
                n &&
                  typeof n != 'string' &&
                  (await n.dispose(!0),
                  this.b.fire({ host: n.tunnelRemoteHost, port: n.tunnelRemotePort }));
              });
              return this.f.has(e) && this.f.get(e).delete(i), r;
            }
          }
          async closeTunnel(e, i) {
            this.r.trace(`ForwardedPorts: (TunnelService) close request for ${e}:${i} `);
            const s = this.f.get(e);
            if (s && s.has(i)) {
              const r = s.get(i);
              (r.refcount = 0), await this.y(e, i, r);
            }
          }
          z(e, i, s) {
            this.f.has(e) || this.f.set(e, new Map()),
              this.f.get(e).set(i, { refcount: 1, value: s });
          }
          async C(e, i) {
            const s = this.f.get(e);
            if (s) {
              const r = s.get(i),
                n = r ? await r.value : void 0;
              (!n || typeof n == 'string') && s.delete(i), s.size === 0 && this.f.delete(e);
            }
          }
          D(e, i) {
            const s = [e];
            Py(e) ? (s.push(...ng), s.push(...og)) : Ih(e) && s.push(...og);
            const r = s.map((n) => this.f.get(n));
            for (const n of r) {
              const o = n?.get(i);
              if (o) return o;
            }
          }
          canTunnel(e) {
            return !!OY(e);
          }
          G(e, i, s, r, n, o, a) {
            this.r.trace(
              `ForwardedPorts: (TunnelService) Creating tunnel with provider ${i}:${s} on local port ${r}.`
            );
            const c = s;
            this.n.add(c);
            const l = r === void 0 ? s : r,
              h = { elevationRequired: n ? this.isPortPrivileged(l) : !1 },
              d = {
                remoteAddress: { host: i, port: s },
                localAddressPort: r,
                privacy: o,
                public: o ? o !== rg.Private : void 0,
                protocol: a,
              },
              p = e.forwardPort(d, h);
            return (
              p
                ? (this.z(i, s, p),
                  p.finally(() => {
                    this.r.trace('ForwardedPorts: (TunnelService) Tunnel created by provider.'),
                      this.n.delete(c);
                  }))
                : this.n.delete(c),
              p
            );
          }
        }),
        (ag = __decorate([__param(0, ee), __param(1, Ve)], ag));
    },
  }),
  cg,
  BY,
  vA,
  UY,
  co,
  yn,
  jY = b({
    'out-build/vs/platform/remote/common/remoteAuthorityResolver.js'() {
      'use strict';
      He(),
        K(),
        (cg = '__ICUBE_LIGHT_RESOLVER_PERMANENT_CLOSE__'),
        (BY = W('remoteAuthorityResolverService')),
        (function (t) {
          (t[(t.WebSocket = 0)] = 'WebSocket'), (t[(t.Managed = 1)] = 'Managed');
        })(vA || (vA = {})),
        (UY = class {
          static {
            this.WEB_MANAGED_ID = Number.MAX_SAFE_INTEGER;
          }
          constructor(t) {
            (this.id = t), (this.type = 1);
          }
          toString() {
            return `Managed(${this.id})`;
          }
        }),
        (function (t) {
          (t.Unknown = 'Unknown'),
            (t.NotAvailable = 'NotAvailable'),
            (t.TemporarilyNotAvailable = 'TemporarilyNotAvailable'),
            (t.NoResolverFound = 'NoResolverFound'),
            (t.InvalidAuthority = 'InvalidAuthority');
        })(co || (co = {})),
        (yn = class ma extends Dn {
          static isNotAvailable(e) {
            return e instanceof ma && e._code === co.NotAvailable;
          }
          static isTemporarilyNotAvailable(e) {
            return e instanceof ma && e._code === co.TemporarilyNotAvailable;
          }
          static isNoResolverFound(e) {
            return e instanceof ma && e._code === co.NoResolverFound;
          }
          static isInvalidAuthority(e) {
            return e instanceof ma && e._code === co.InvalidAuthority;
          }
          static isHandled(e) {
            return e?.message?.includes(cg) || (e instanceof ma && e.isHandled);
          }
          constructor(e, i = co.Unknown, s) {
            super(e),
              (this._message = e),
              (this._code = i),
              (this._detail = s),
              (this.isHandled = i === co.NotAvailable && s === !0),
              Object.setPrototypeOf(this, ma.prototype);
          }
        });
    },
  });
function xi(t) {
  switch (t) {
    case 1:
      return 'Management';
    case 2:
      return 'ExtensionHost';
    case 3:
      return 'Tunnel';
    case 128:
      return 'Download';
  }
}
function _y(t) {
  const e = new Js();
  return setTimeout(() => e.cancel(), t), e.token;
}
function WY(t, e) {
  if (t.isCancellationRequested || e.isCancellationRequested) return gt.Cancelled;
  const i = new Js();
  return (
    t.onCancellationRequested(() => i.cancel()),
    e.onCancellationRequested(() => i.cancel()),
    i.token
  );
}
function HY(t, e) {
  const i = new lg(e);
  return (
    i.registerDisposable(
      t.onControlMessage((s) => {
        const r = JSON.parse(s.toString()),
          n = KY(r);
        n ? i.reject(n) : i.resolve(r);
      })
    ),
    i.promise
  );
}
function zY(t, e, i, s, r, n, o, a) {
  const c = new lg(a),
    l = gr.create(!1);
  return (
    t.info(`Creating a socket (${o})...`),
    Xe(`code/willCreateSocket/${n}`),
    e.connect(i, s, r, o).then(
      (h) => {
        c.didTimeout
          ? (Xe(`code/didCreateSocketError/${n}`),
            t.info(
              `Creating a socket (${o}) finished after ${l.elapsed()} ms, but this is too late and has timed out already.`
            ),
            ri(
              `Creating a socket (${o}) finished after ${l.elapsed()} ms, but this is too late and has timed out already. will dispose socket`,
              n
            ),
            h?.dispose())
          : (Xe(`code/didCreateSocketOK/${n}`),
            t.info(`Creating a socket (${o}) was successful after ${l.elapsed()} ms.`),
            ri(`Creating a socket (${o}) was successful after ${l.elapsed()} ms.`, n),
            c.resolve(h));
      },
      (h) => {
        Xe(`code/didCreateSocketError/${n}`),
          t.info(`Creating a socket (${o}) returned an error after ${l.elapsed()} ms.`),
          ri(
            `Creating a socket (${o}) returned an error after ${l.elapsed()} ms. Error: ${ki(h)}`,
            n
          ),
          c.reject(h);
      }
    ),
    c.promise
  );
}
function Ly(t, e) {
  const i = new lg(e);
  return (
    t.then(
      (s) => {
        i.didTimeout || i.resolve(s);
      },
      (s) => {
        i.didTimeout || i.reject(s);
      }
    ),
    i.promise
  );
}
function ri(t, e) {
  const i = H2.serviceCollection?.get(Vt);
  !i ||
    i instanceof ve ||
    i.publicLog2('remoteAgentConnectionState', {
      connectionType: typeof e == 'string' ? e : xi(e),
      trace: t,
    });
}
async function VY(t, e, i, s) {
  const r = kA(t, e);
  t.logService.trace(`${r} 1/6. invoking socketFactory.connect().`),
    ri('invoking socketFactory.connect()', e);
  let n;
  try {
    const h = globalThis;
    (n =
      h.__vscodeCachedSocket ||
      (await zY(
        t.logService,
        t.remoteSocketFactoryService,
        t.connectTo,
        F0.getServerRootPath(),
        `reconnectionToken=${t.reconnectionToken}&reconnection=${
          t.reconnectionProtocol ? 'true' : 'false'
        }`,
        xi(e),
        `renderer-${xi(e)}-${t.reconnectionToken}`,
        s
      ))),
      h.__vscodeCachedSocket &&
        ((h.__vscodeCachedSocket.vscodeVars.VSBuffer = re), delete h.__vscodeCachedSocket);
  } catch (h) {
    throw (
      (t.logService.error(`${r} socketFactory.connect() failed or timed out. Error:`),
      ri(`socketFactory.connect() failed or timed out. Error: ${ki(h)}`, e),
      h)
    );
  }
  t.logService.trace(`${r} 2/6. socketFactory.connect() was successful.`),
    ri('socketFactory.connect() was successful.', e);
  let o, a;
  t.reconnectionProtocol
    ? (t.reconnectionProtocol.beginAcceptReconnection(n, null),
      (o = t.reconnectionProtocol),
      (a = !1))
    : ((o = new b6({ socket: n })), (a = !0)),
    t.logService.trace(`${r} 3/6. sending AuthRequest control message.`),
    ri('sending AuthRequest control message.', e);
  const c = await Ly(t.signService.createNewMessage(ei()), s),
    l = { type: 'auth', auth: t.connectionToken || '00000000000000000000', data: c.data };
  o.sendControl(re.fromString(JSON.stringify(l)));
  try {
    const h = await HY(o, WY(s, _y(1e4)));
    if (h.type !== 'sign' || typeof h.data != 'string') {
      const w = new Error('Unexpected handshake message');
      throw ((w.code = 'VSCODE_CONNECTION_ERROR'), w);
    }
    if (
      (t.logService.trace(`${r} 4/6. received SignRequest control message.`),
      ri('received SignRequest control message.', e),
      !(await Ly(t.signService.validate(c, h.signedData), s)))
    ) {
      const w = new Error('Refused to connect to unsupported server');
      throw ((w.code = 'VSCODE_CONNECTION_ERROR'), w);
    }
    const p = await Ly(t.signService.sign(h.data), s),
      m = { type: 'connectionType', commit: t.commit, signedData: p, desiredConnectionType: e };
    return (
      i && (m.args = i),
      e === 2 && (m.args = { ...i, product: { iCubeApp: _s.iCubeApp } }),
      t.logService.trace(`${r} 5/6. sending ConnectionTypeRequest control message.`),
      ri('sending ConnectionTypeRequest control message.', e),
      o.sendControl(re.fromString(JSON.stringify(m))),
      { protocol: o, ownsProtocol: a }
    );
  } catch (h) {
    throw (
      (h &&
        h.code === 'ETIMEDOUT' &&
        (t.logService.error(`${r} the handshake timed out. Error:`),
        ri(`the handshake timed out. Error: ${ki(h)}`, e)),
      h &&
        h.code === 'VSCODE_CONNECTION_ERROR' &&
        (t.logService.error(
          `${r} received error control message when negotiating connection. Error:`
        ),
        ri(`received error control message when negotiating connection. Error: ${ki(h)}`, e)),
      a && My(o, xi(e)),
      h)
    );
  }
}
async function GY(t, e, i) {
  const s = Date.now(),
    r = kA(t, 3),
    { protocol: n } = await VY(t, 3, e, i);
  return (
    t.logService.trace(
      `${r} 6/6. handshake finished, connection is up and running after ${SA(s)}!`
    ),
    ri(`handshake finished, connection is up and running after ${SA(s)}!`, 3),
    n
  );
}
async function Ty(t, e, i) {
  const { connectTo: s, connectionToken: r } = await t.addressProvider.getAddress();
  return {
    commit: t.commit,
    quality: t.quality,
    connectTo: s,
    connectionToken: r,
    reconnectionToken: e,
    reconnectionProtocol: i,
    remoteSocketFactoryService: t.remoteSocketFactoryService,
    signService: t.signService,
    logService: t.logService,
  };
}
async function qY(t, e, i) {
  const s = await Ty(t, ei(), null);
  return await GY(s, { host: e, port: i }, gt.None);
}
function yA(t) {
  return $a(
    (e) =>
      new Promise((i, s) => {
        const r = setTimeout(i, t * 1e3);
        e.onCancellationRequested(() => {
          clearTimeout(r), i();
        });
      })
  );
}
function My(t, e) {
  try {
    t.acceptDisconnect();
    const i = t.getSocket();
    t.dispose(), i.dispose(), ri('safeDisposeProtocolAndSocket', e);
  } catch (i) {
    Xt(i), ri(`got error when safeDisposeProtocolAndSocket, Error: ${ki(i)}`, e);
  }
}
function KY(t) {
  if (t && t.type === 'error') {
    const e = new Error(`Connection error: ${t.reason}`);
    return (e.code = 'VSCODE_CONNECTION_ERROR'), e;
  }
  return null;
}
function JY(t, e) {
  for (; t.length < e; ) t += ' ';
  return t;
}
function XY(t, e) {
  return `[remote-connection][${JY(xi(t), 13)}][${e.substr(0, 5)}\u2026]`;
}
function da(t, e, i) {
  return `${XY(t, e)}[${i ? 'reconnect' : 'initial'}]`;
}
function kA(t, e) {
  return `${da(e, t.reconnectionToken, !!t.reconnectionProtocol)}[${t.connectTo}]`;
}
function SA(t) {
  return `${Date.now() - t} ms`;
}
var Fy,
  EA,
  lg,
  CA,
  Oy,
  Ry,
  Ny,
  $h,
  By,
  DA,
  YY,
  QY = b({
    'out-build/vs/platform/remote/common/remoteAgentConnection.js'() {
      'use strict';
      le(),
        bt(),
        jt(),
        He(),
        X(),
        U(),
        Oe(),
        jr(),
        Hr(),
        hi(),
        v6(),
        jY(),
        z2(),
        Gt(),
        Eo(),
        Fn(),
        fu(),
        (Fy = 30 * 1e3),
        (function (t) {
          (t[(t.Management = 1)] = 'Management'),
            (t[(t.ExtensionHost = 2)] = 'ExtensionHost'),
            (t[(t.Tunnel = 3)] = 'Tunnel'),
            (t[(t.Download = 128)] = 'Download');
        })(EA || (EA = {})),
        (lg = class {
          get didTimeout() {
            return this.c === 'timedout';
          }
          constructor(t) {
            (this.c = 'pending'),
              (this.d = new je()),
              ({ promise: this.promise, resolve: this.f, reject: this.g } = MP()),
              t.isCancellationRequested
                ? this.h()
                : this.d.add(t.onCancellationRequested(() => this.h()));
          }
          registerDisposable(t) {
            this.c === 'pending' ? this.d.add(t) : t.dispose();
          }
          h() {
            this.c === 'pending' && (this.d.dispose(), (this.c = 'timedout'), this.g(this.i()));
          }
          i() {
            const t = new Error('Time limit reached');
            return (t.code = 'ETIMEDOUT'), (t.syscall = 'connect'), t;
          }
          resolve(t) {
            this.c === 'pending' && (this.d.dispose(), (this.c = 'resolved'), this.f(t));
          }
          reject(t) {
            this.c === 'pending' && (this.d.dispose(), (this.c = 'rejected'), this.g(t));
          }
        }),
        (function (t) {
          (t[(t.ConnectionLost = 0)] = 'ConnectionLost'),
            (t[(t.ReconnectionWait = 1)] = 'ReconnectionWait'),
            (t[(t.ReconnectionRunning = 2)] = 'ReconnectionRunning'),
            (t[(t.ReconnectionPermanentFailure = 3)] = 'ReconnectionPermanentFailure'),
            (t[(t.ConnectionGain = 4)] = 'ConnectionGain');
        })(CA || (CA = {})),
        (Oy = class {
          constructor(t, e, i) {
            (this.reconnectionToken = t),
              (this.millisSinceLastIncomingData = e),
              (this.connectionType = i),
              (this.type = 0);
          }
        }),
        (Ry = class {
          constructor(t, e, i, s) {
            (this.reconnectionToken = t),
              (this.millisSinceLastIncomingData = e),
              (this.durationSeconds = i),
              (this.c = s),
              (this.type = 1);
          }
          skipWait() {
            this.c.cancel();
          }
        }),
        (Ny = class {
          constructor(t, e, i, s) {
            (this.reconnectionToken = t),
              (this.millisSinceLastIncomingData = e),
              (this.attempt = i),
              (this.connectionType = s),
              (this.type = 2);
          }
        }),
        ($h = class {
          constructor(t, e, i, s, r) {
            (this.reconnectionToken = t),
              (this.millisSinceLastIncomingData = e),
              (this.millisSinceLastLost = i),
              (this.attempt = s),
              (this.connectionType = r),
              (this.type = 4);
          }
        }),
        (By = class {
          constructor(t, e, i, s, r) {
            (this.reconnectionToken = t),
              (this.millisSinceLastIncomingData = e),
              (this.attempt = i),
              (this.handled = s),
              (this.connectionType = r),
              (this.type = 3);
          }
        }),
        (DA = class Sn extends H {
          static triggerPermanentFailure(e, i, s) {
            (this._permanentFailure = !0),
              (this.f = e),
              (this.g = i),
              (this.h = s),
              this.j.forEach((r) => r.F(this.f, this.g, this.h));
          }
          static debugTriggerReconnection() {
            this.j.forEach((e) => e.z());
          }
          static debugPauseSocketWriting() {
            this.j.forEach((e) => e.G());
          }
          static {
            this._permanentFailure = !1;
          }
          static {
            this.f = 0;
          }
          static {
            this.g = 0;
          }
          static {
            this.h = !1;
          }
          static {
            this.j = [];
          }
          get n() {
            return this.c || Sn._permanentFailure;
          }
          constructor(e, i, s, r, n) {
            super(),
              (this.u = e),
              (this.w = i),
              (this.reconnectionToken = s),
              (this.protocol = r),
              (this.y = n),
              (this.m = this.B(new $())),
              (this.onDidStateChange = this.m.event),
              (this.c = !1),
              (this.r = !1),
              (this.s = !1),
              (this.t = !1),
              this.m.fire(new $h(this.reconnectionToken, 0, 0, 0, xi(this.u))),
              this.B(
                r.onSocketClose((o) => {
                  const a = da(this.u, this.reconnectionToken, !0);
                  if (!o)
                    this.w.logService.info(`${a} received socket close event.`),
                      ri('received socket close event.', this.u);
                  else if (o.type === 0) {
                    if (
                      (this.w.logService.info(
                        `${a} received socket close event (hadError: ${o.hadError}).`
                      ),
                      ri(`received socket close event (hadError: ${o.hadError}).`, this.u),
                      o.error?.message?.includes(cg))
                    ) {
                      this.t = !0;
                      return;
                    }
                    o.error && ri(ki(o.error), this.u);
                  } else
                    this.w.logService.info(
                      `${a} received socket close event (wasClean: ${o.wasClean}, code: ${o.code}, reason: ${o.reason}).`
                    ),
                      ri(
                        `received socket close event (wasClean: ${o.wasClean}, code: ${o.code}, reason: ${o.reason}).`,
                        this.u
                      ),
                      o.event && ri(ki(o.event), this.u);
                  this.z();
                })
              ),
              this.B(
                r.onSocketTimeout((o) => {
                  if (this.t) return;
                  const a = da(this.u, this.reconnectionToken, !0);
                  this.w.logService.info(
                    `${a} received socket timeout event (unacknowledgedMsgCount: ${o.unacknowledgedMsgCount}, timeSinceOldestUnacknowledgedMsg: ${o.timeSinceOldestUnacknowledgedMsg}, timeSinceLastReceivedSomeData: ${o.timeSinceLastReceivedSomeData}).`
                  ),
                    ri(
                      `received socket timeout event (unacknowledgedMsgCount: ${o.unacknowledgedMsgCount}, timeSinceOldestUnacknowledgedMsg: ${o.timeSinceOldestUnacknowledgedMsg}, timeSinceLastReceivedSomeData: ${o.timeSinceLastReceivedSomeData}).`,
                      this.u
                    ),
                    this.z();
                })
              ),
              Sn.j.push(this),
              this.B(
                _e(() => {
                  const o = Sn.j.indexOf(this);
                  o >= 0 && Sn.j.splice(o, 1);
                })
              ),
              this.n && this.F(Sn.f, Sn.g, Sn.h);
          }
          dispose() {
            super.dispose(), (this.s = !0);
          }
          async z() {
            if (!this.r)
              try {
                (this.r = !0), await this.C();
              } finally {
                this.r = !1;
              }
          }
          async C() {
            if (this.n || this.s) return;
            const e = da(this.u, this.reconnectionToken, !0);
            this.w.logService.info(
              `${e} starting reconnecting loop. You can get more information with the trace log level.`
            );
            const i = Date.now();
            this.m.fire(
              new Oy(
                this.reconnectionToken,
                this.protocol.getMillisSinceLastIncomingData(),
                xi(this.u)
              )
            );
            const s = [0, 5, 5, 10, 10, 10, 10, 10, 30];
            let r = -1;
            do {
              r++;
              const n = r < s.length ? s[r] : s[s.length - 1];
              try {
                if (n > 0) {
                  const a = yA(n);
                  this.m.fire(
                    new Ry(
                      this.reconnectionToken,
                      this.protocol.getMillisSinceLastIncomingData(),
                      n,
                      a
                    )
                  ),
                    this.w.logService.info(`${e} waiting for ${n} seconds before reconnecting...`);
                  try {
                    await a;
                  } catch {}
                }
                if (this.n) {
                  this.w.logService.error(
                    `${e} permanent failure occurred while running the reconnecting loop.`
                  );
                  break;
                }
                this.m.fire(
                  new Ny(
                    this.reconnectionToken,
                    this.protocol.getMillisSinceLastIncomingData(),
                    r + 1,
                    xi(this.u)
                  )
                ),
                  this.w.logService.info(`${e} resolving connection...`);
                const o = await Ty(this.w, this.reconnectionToken, this.protocol);
                this.w.logService.info(`${e} connecting to ${o.connectTo}...`),
                  await this.H(o, _y(Fy)),
                  this.w.logService.info(`${e} reconnected!`),
                  this.m.fire(
                    new $h(
                      this.reconnectionToken,
                      this.protocol.getMillisSinceLastIncomingData(),
                      r + 1,
                      Date.now() - i,
                      xi(this.u)
                    )
                  );
                break;
              } catch (o) {
                if (o.code === 'VSCODE_CONNECTION_ERROR') {
                  this.w.logService.error(
                    `${e} A permanent error occurred in the reconnecting loop! Will give up now! Error:`
                  ),
                    this.y && this.w.logService.error(o),
                    this.D(this.protocol.getMillisSinceLastIncomingData(), r + 1, !1);
                  break;
                }
                if (r > 360) {
                  this.w.logService.error(
                    `${e} An error occurred while reconnecting, but it will be treated as a permanent error because the reconnection grace time has expired! Will give up now! Error:`
                  ),
                    this.y && this.w.logService.error(o),
                    this.D(this.protocol.getMillisSinceLastIncomingData(), r + 1, !1);
                  break;
                }
                if (
                  yn.isTemporarilyNotAvailable(o) ||
                  o?.error?.message?.includes('TemporarilyNotAvailable')
                ) {
                  this.w.logService.info(
                    `${e} A temporarily not available error occurred while trying to reconnect, will try again...`
                  ),
                    this.w.logService.trace(o);
                  continue;
                }
                if (
                  (o.code === 'ETIMEDOUT' ||
                    o.code === 'ENETUNREACH' ||
                    o.code === 'ECONNREFUSED' ||
                    o.code === 'ECONNRESET') &&
                  o.syscall === 'connect'
                ) {
                  this.w.logService.info(
                    `${e} A network error occurred while trying to reconnect, will try again...`
                  ),
                    this.w.logService.trace(o);
                  continue;
                }
                if (qh(o)) {
                  this.w.logService.info(
                    `${e} A promise cancelation error occurred while trying to reconnect, will try again...`
                  ),
                    this.w.logService.trace(o);
                  continue;
                }
                if (o instanceof yn) {
                  this.w.logService.error(
                    `${e} A RemoteAuthorityResolverError occurred while trying to reconnect. Will give up now! Error:`
                  ),
                    this.y && this.w.logService.error(o),
                    this.D(this.protocol.getMillisSinceLastIncomingData(), r + 1, yn.isHandled(o));
                  break;
                }
                this.w.logService.error(
                  `${e} An unknown error occurred while trying to reconnect, since this is an unknown case, it will be treated as a permanent error! Will give up now! Error:`
                ),
                  this.y && this.w.logService.error(o),
                  this.D(this.protocol.getMillisSinceLastIncomingData(), r + 1, yn.isHandled(o));
                break;
              }
            } while (!this.n && !this.s);
          }
          D(e, i, s) {
            this.y ? Sn.triggerPermanentFailure(e, i, s) : this.F(e, i, s);
          }
          F(e, i, s) {
            this.m.fire(new By(this.reconnectionToken, e, i, s, xi(this.u))),
              My(this.protocol, xi(this.u));
          }
          G() {
            this.protocol.pauseSocketWriting();
          }
        }),
        (YY = class fo extends H {
          static triggerPermanentFailure(e, i, s) {
            (this._permanentFailure = !0),
              (this.f = e),
              (this.g = i),
              (this.h = s),
              this.j.forEach((r) => r.F(this.f, this.g, this.h));
          }
          static debugTriggerReconnection() {
            this.j.forEach((e) => e.z());
          }
          static debugPauseSocketWriting() {
            this.j.forEach((e) => e.G());
          }
          static {
            this._permanentFailure = !1;
          }
          static {
            this.f = 0;
          }
          static {
            this.g = 0;
          }
          static {
            this.h = !1;
          }
          static {
            this.j = [];
          }
          get n() {
            return this.c || fo._permanentFailure;
          }
          constructor(e, i, s, r, n) {
            super(),
              (this.u = e),
              (this.w = i),
              (this.reconnectionToken = s),
              (this.protocol = r),
              (this.y = n),
              (this.m = this.B(new $())),
              (this.onDidStateChange = this.m.event),
              (this.c = !1),
              (this.r = !1),
              (this.s = !1),
              (this.t = !1),
              this.m.fire(new $h(this.reconnectionToken, 0, 0, 0, xi(this.u))),
              this.B(
                r.onSocketClose((o) => {
                  const a = da(this.u, this.reconnectionToken, !0);
                  if (!o) this.w.logService.info(`${a} received socket close event.`);
                  else if (o.type === 0) {
                    if (
                      (this.w.logService.info(
                        `${a} received socket close event (hadError: ${o.hadError}).`
                      ),
                      o.error?.message?.includes(cg))
                    ) {
                      this.t = !0;
                      return;
                    }
                  } else
                    this.w.logService.info(
                      `${a} received socket close event (wasClean: ${o.wasClean}, code: ${o.code}, reason: ${o.reason}).`
                    );
                  this.z();
                })
              ),
              this.B(
                r.onSocketTimeout((o) => {
                  if (this.t) return;
                  const a = da(this.u, this.reconnectionToken, !0);
                  this.w.logService.info(
                    `${a} received socket timeout event (unacknowledgedMsgCount: ${o.unacknowledgedMsgCount}, timeSinceOldestUnacknowledgedMsg: ${o.timeSinceOldestUnacknowledgedMsg}, timeSinceLastReceivedSomeData: ${o.timeSinceLastReceivedSomeData}).`
                  ),
                    this.z();
                })
              ),
              fo.j.push(this),
              this.B(
                _e(() => {
                  const o = fo.j.indexOf(this);
                  o >= 0 && fo.j.splice(o, 1);
                })
              ),
              this.n && this.F(fo.f, fo.g, fo.h);
          }
          dispose() {
            super.dispose(), (this.s = !0);
          }
          async z() {
            if (!this.r)
              try {
                (this.r = !0), await this.C();
              } finally {
                this.r = !1;
              }
          }
          async C() {
            if (this.n || this.s) return;
            const e = da(this.u, this.reconnectionToken, !0);
            this.w.logService.info(
              `${e} starting reconnecting loop. You can get more information with the trace log level.`
            );
            const i = Date.now();
            this.m.fire(
              new Oy(
                this.reconnectionToken,
                this.protocol.getMillisSinceLastIncomingData(),
                xi(this.u)
              )
            );
            const s = [0, 5, 5, 10, 10, 10, 10, 10, 30];
            let r = -1;
            do {
              r++;
              const n = r < s.length ? s[r] : s[s.length - 1];
              try {
                if (n > 0) {
                  const a = yA(n);
                  this.m.fire(
                    new Ry(
                      this.reconnectionToken,
                      this.protocol.getMillisSinceLastIncomingData(),
                      n,
                      a
                    )
                  ),
                    this.w.logService.info(`${e} waiting for ${n} seconds before reconnecting...`);
                  try {
                    await a;
                  } catch {}
                }
                if (this.n) {
                  this.w.logService.error(
                    `${e} permanent failure occurred while running the reconnecting loop.`
                  );
                  break;
                }
                this.m.fire(
                  new Ny(
                    this.reconnectionToken,
                    this.protocol.getMillisSinceLastIncomingData(),
                    r + 1,
                    xi(this.u)
                  )
                ),
                  this.w.logService.info(`${e} resolving connection...`);
                const o = await Ty(this.w, this.reconnectionToken, this.protocol);
                this.w.logService.info(`${e} connecting to ${o.connectTo}...`),
                  await this.H(o, _y(Fy)),
                  this.w.logService.info(`${e} reconnected!`),
                  this.m.fire(
                    new $h(
                      this.reconnectionToken,
                      this.protocol.getMillisSinceLastIncomingData(),
                      Date.now() - i,
                      r + 1,
                      xi(this.u)
                    )
                  );
                break;
              } catch (o) {
                if (o.code === 'VSCODE_CONNECTION_ERROR') {
                  this.w.logService.error(
                    `${e} A permanent error occurred in the reconnecting loop! Will give up now! Error:`
                  ),
                    this.y && this.w.logService.error(o),
                    this.D(this.protocol.getMillisSinceLastIncomingData(), r + 1, !1);
                  break;
                }
                if (r > 360) {
                  this.w.logService.error(
                    `${e} An error occurred while reconnecting, but it will be treated as a permanent error because the reconnection grace time has expired! Will give up now! Error:`
                  ),
                    this.y && this.w.logService.error(o),
                    this.D(this.protocol.getMillisSinceLastIncomingData(), r + 1, !1);
                  break;
                }
                if (
                  yn.isTemporarilyNotAvailable(o) ||
                  o?.error?.message?.includes('TemporarilyNotAvailable')
                ) {
                  this.w.logService.info(
                    `${e} A temporarily not available error occurred while trying to reconnect, will try again...`
                  ),
                    this.w.logService.trace(o);
                  continue;
                }
                if (
                  (o.code === 'ETIMEDOUT' ||
                    o.code === 'ENETUNREACH' ||
                    o.code === 'ECONNREFUSED' ||
                    o.code === 'ECONNRESET') &&
                  o.syscall === 'connect'
                ) {
                  this.w.logService.info(
                    `${e} A network error occurred while trying to reconnect, will try again...`
                  ),
                    this.w.logService.trace(o);
                  continue;
                }
                if (qh(o)) {
                  this.w.logService.info(
                    `${e} A promise cancelation error occurred while trying to reconnect, will try again...`
                  ),
                    this.w.logService.trace(o);
                  continue;
                }
                if (o instanceof yn) {
                  this.w.logService.error(
                    `${e} A RemoteAuthorityResolverError occurred while trying to reconnect. Will give up now! Error:`
                  ),
                    this.y && this.w.logService.error(o),
                    this.D(this.protocol.getMillisSinceLastIncomingData(), r + 1, yn.isHandled(o));
                  break;
                }
                this.w.logService.error(
                  `${e} An unknown error occurred while trying to reconnect, since this is an unknown case, it will be treated as a permanent error! Will give up now! Error:`
                ),
                  this.y && this.w.logService.error(o),
                  this.D(this.protocol.getMillisSinceLastIncomingData(), r + 1, yn.isHandled(o));
                break;
              }
            } while (!this.n && !this.s);
          }
          D(e, i, s) {
            this.y ? DA.triggerPermanentFailure(e, i, s) : this.F(e, i, s);
          }
          F(e, i, s) {
            this.m.fire(new By(this.reconnectionToken, e, i, s, xi(this.u))),
              My(this.protocol, xi(this.u));
          }
          G() {
            this.protocol.pauseSocketWriting();
          }
        });
    },
  }),
  ug,
  ZY = b({
    'out-build/vs/platform/remote/common/remoteSocketFactoryService.js'() {
      'use strict';
      U(), K(), (ug = W('remoteSocketFactoryService'));
    },
  });
import * as eQ from 'net';
import * as tQ from 'os';
async function iQ(t, e, i, s, r) {
  let n;
  for (
    let o = 3;
    o &&
    (n?.dispose(),
    (n = await new xA(t, e, i, s, r).waitForReady()),
    !((r && Mw[r]) || !Mw[n.tunnelLocalPort]));
    o--
  );
  return n;
}
var xA,
  hg,
  Ph,
  Uy,
  sQ = b({
    'out-build/vs/platform/tunnel/node/tunnelService.js'() {
      'use strict';
      c3(),
        rm(),
        le(),
        U(),
        ie(),
        Ge(),
        se(),
        Ze(),
        QY(),
        ZY(),
        Qw(),
        bA(),
        bt(),
        (xA = class extends H {
          constructor(t, e, i, s, r) {
            super(),
              (this.m = e),
              (this.n = r),
              (this.privacy = rg.Private),
              (this.j = new Map()),
              (this.a = t),
              (this.b = eQ.createServer()),
              (this.c = new Mn()),
              (this.f = () => this.c.open()),
              this.b.on('listening', this.f),
              (this.g = (n) => this.r(n)),
              this.b.on('connection', this.g),
              (this.h = () => {}),
              this.b.on('error', this.h),
              (this.tunnelRemotePort = s),
              (this.tunnelRemoteHost = i);
          }
          async dispose() {
            super.dispose(),
              this.b.removeListener('listening', this.f),
              this.b.removeListener('connection', this.g),
              this.b.removeListener('error', this.h),
              this.b.close(),
              Array.from(this.j.values()).forEach((e) => {
                e();
              });
          }
          async waitForReady() {
            const t = this.n ?? this.tunnelRemotePort,
              e = Ih(this.m) ? '0.0.0.0' : '127.0.0.1';
            let i = await FM(t, 2, 1e3, e),
              s = null;
            return (
              this.b.listen(i, this.m),
              await this.c.wait(),
              (s = this.b.address()),
              s || ((i = 0), this.b.listen(i, this.m), await this.c.wait(), (s = this.b.address())),
              (this.tunnelLocalPort = s.port),
              (this.localAddress = `${
                this.tunnelRemoteHost === '127.0.0.1' ? '127.0.0.1' : 'localhost'
              }:${s.port}`),
              this
            );
          }
          async r(t) {
            t.pause();
            const e =
                Py(this.tunnelRemoteHost) || Ih(this.tunnelRemoteHost)
                  ? 'localhost'
                  : this.tunnelRemoteHost,
              i = await qY(this.a, e, this.tunnelRemotePort),
              s = i.getSocket(),
              r = i.readEntireBuffer();
            i.dispose(),
              r.byteLength > 0 && t.write(r.buffer),
              t.on('end', () => {
                t.localAddress && this.j.delete(t.localAddress), s.end();
              }),
              t.on('close', () => s.end()),
              t.on('error', () => {
                t.localAddress && this.j.delete(t.localAddress),
                  s instanceof Pl ? s.socket.destroy() : s.end();
              }),
              s instanceof Pl ? this.t(t, s) : this.s(t, s),
              t.localAddress &&
                this.j.set(t.localAddress, () => {
                  t.end(), s.end();
                });
          }
          s(t, e) {
            e.onClose(() => t.destroy()),
              e.onEnd(() => t.end()),
              e.onData((i) => t.write(i.buffer)),
              t.on('data', (i) => e.write(re.wrap(i))),
              t.resume();
          }
          t(t, e) {
            const i = e.socket;
            i.on('end', () => t.end()),
              i.on('close', () => t.end()),
              i.on('error', () => {
                t.destroy();
              }),
              i.pipe(t),
              t.pipe(i);
          }
        }),
        (hg = class extends ag {
          constructor(e, i, s, r, n) {
            super(i, n), (this.H = e), (this.I = s), (this.J = r);
          }
          isPortPrivileged(e) {
            return RY(e, this.t, ws, tQ.release());
          }
          F(e, i, s, r, n, o, a, c) {
            const l = this.D(i, s);
            if (l) return ++l.refcount, l.value;
            if (FY(e)) return this.G(e, i, s, n, o, a, c);
            {
              this.r.trace(
                `ForwardedPorts: (TunnelService) Creating tunnel without provider ${i}:${s} on local port ${n}.`
              );
              const h = {
                  commit: this.J.commit,
                  quality: this.J.quality,
                  addressProvider: e,
                  remoteSocketFactoryService: this.H,
                  signService: this.I,
                  logService: this.r,
                  ipcLogger: null,
                },
                d = iQ(h, r, i, s, n);
              return (
                this.r.trace('ForwardedPorts: (TunnelService) Tunnel created without provider.'),
                this.z(i, s, d),
                d
              );
            }
          }
        }),
        (hg = __decorate(
          [__param(0, ug), __param(1, ee), __param(2, fc), __param(3, Be), __param(4, Ve)],
          hg
        )),
        (Ph = class extends hg {
          constructor(e, i, s, r, n) {
            super(e, i, s, r, n);
          }
        }),
        (Ph = __decorate(
          [__param(0, ug), __param(1, ee), __param(2, fc), __param(3, Be), __param(4, Ve)],
          Ph
        )),
        (Uy = class extends H {
          constructor(e, i, s, r, n) {
            super(),
              (this.b = e),
              (this.c = i),
              (this.f = s),
              (this.g = r),
              (this.h = n),
              (this.a = new Map());
          }
          async openTunnel(e, i, s, r, n, o, a, c, l) {
            if (
              (this.c.trace(
                `ForwardedPorts: (SharedTunnelService) openTunnel request for ${s}:${r} on local port ${o}.`
              ),
              !this.a.has(e))
            ) {
              const h = new Ph(this.b, this.c, this.g, this.f, this.h);
              this.B(h),
                this.a.set(e, h),
                h.onTunnelClosed(async () => {
                  (await h.tunnels).length === 0 && (h.dispose(), this.a.delete(e));
                });
            }
            return this.a.get(e).openTunnel(i, s, r, n, o, a, c, l);
          }
        }),
        (Uy = __decorate(
          [__param(0, ug), __param(1, ee), __param(2, Be), __param(3, fc), __param(4, Ve)],
          Uy
        ));
    },
  });
import { parse as AA } from 'url';
function rQ(t, e) {
  return t.protocol === 'http:'
    ? e.HTTP_PROXY || e.http_proxy || null
    : (t.protocol === 'https:' &&
        (e.HTTPS_PROXY || e.https_proxy || e.HTTP_PROXY || e.http_proxy)) ||
        null;
}
async function nQ(t, e, i = {}) {
  const s = AA(t),
    r = i.proxyUrl || rQ(s, e);
  if (!r) return null;
  const n = AA(r);
  if (!/^https?:$/.test(n.protocol || '')) return null;
  const o = {
    host: n.hostname || '',
    port: (n.port ? +n.port : 0) || (n.protocol === 'https' ? 443 : 80),
    auth: n.auth,
    rejectUnauthorized: mo(i.strictSSL) ? i.strictSSL : !0,
  };
  if (s.protocol === 'http:') {
    const { default: a } = await import('http-proxy-agent');
    return new a.HttpProxyAgent(r, o);
  } else {
    const { default: a } = await import('https-proxy-agent');
    return new a.HttpsProxyAgent(r, o);
  }
}
var oQ = b({
  'out-build/vs/platform/request/node/proxy.js'() {
    'use strict';
    $e();
  },
});
import { parse as IA } from 'url';
import { createGunzip as aQ } from 'zlib';
async function cQ(t, e, i, s) {
  const r = await import('kerberos'),
    n = r.default || r,
    o = new URL(t),
    a = e || (process.platform === 'win32' ? `HTTP/${o.hostname}` : `HTTP@${o.hostname}`);
  return (
    i.debug(`${s} Kerberos authentication lookup`, `proxyURL:${o}`, `spn:${a}`),
    (await n.initializeClient(a)).step('')
  );
}
async function lQ(t) {
  return (IA(t.url).protocol === 'https:' ? await import('https') : await import('http')).request;
}
async function $A(t, e) {
  return ui.withAsyncBody(async (i, s) => {
    const r = IA(t.url),
      n = t.getRawRequest ? t.getRawRequest(t) : await lQ(t),
      o = {
        hostname: r.hostname,
        port: r.port ? parseInt(r.port) : r.protocol === 'https:' ? 443 : 80,
        protocol: r.protocol,
        path: r.path,
        method: t.type || 'GET',
        headers: t.headers,
        agent: t.agent,
        rejectUnauthorized: mo(t.strictSSL) ? t.strictSSL : !0,
      };
    t.user && t.password && (o.auth = t.user + ':' + t.password),
      t.disableCache && (o.cache = 'no-store');
    const a = n(o, (c) => {
      const l = Xh(t.followRedirects) ? t.followRedirects : 3;
      if (c.statusCode && c.statusCode >= 300 && c.statusCode < 400 && l > 0 && c.headers.location)
        $A({ ...t, url: c.headers.location, followRedirects: l - 1 }, e).then(i, s);
      else {
        let h = c;
        !t.isChromiumNetwork && c.headers['content-encoding'] === 'gzip' && (h = c.pipe(aQ())),
          i({ res: c, stream: b_(h) });
      }
    });
    if ((a.on('error', s), t.timeout))
      if (t.isChromiumNetwork) {
        const c = setTimeout(() => {
          a.abort(), s(new Error(`Request timeout after ${t.timeout}ms`));
        }, t.timeout);
        a.on('response', () => clearTimeout(c)),
          a.on('error', () => clearTimeout(c)),
          a.on('abort', () => clearTimeout(c));
      } else a.setTimeout(t.timeout);
    t.isChromiumNetwork && a.removeHeader('Content-Length'),
      t.data && typeof t.data == 'string' && a.write(t.data),
      a.end(),
      e.onCancellationRequested(() => {
        a.abort(), s(new Hi());
      });
  });
}
var dg,
  uQ = b({
    'out-build/vs/platform/request/node/requestService.js'() {
      'use strict';
      le(),
        bt(),
        He(),
        $e(),
        Ge(),
        Xi(),
        fw(),
        se(),
        Ir(),
        oQ(),
        (dg = class extends h3 {
          constructor(e, i, s, r) {
            super(r),
              (this.m = e),
              (this.n = i),
              (this.r = s),
              this.s(),
              this.B(
                i.onDidChangeConfiguration((n) => {
                  n.affectsConfiguration('http') && this.s();
                })
              );
          }
          s() {
            (this.f = this.t('http.proxy')),
              (this.g = !!this.t('http.proxyStrictSSL')),
              (this.h = this.t('http.proxyAuthorization'));
          }
          async request(e, i) {
            const { f: s, g: r } = this;
            let n;
            try {
              n = await dw(this.n, this.b, this.r.args, process.env);
            } catch (c) {
              this.j || ((this.j = !0), this.b.error('resolving shell environment failed', Ds(c)));
            }
            const o = { ...process.env, ...n },
              a = e.agent ? e.agent : await nQ(e.url || '', o, { proxyUrl: s, strictSSL: r });
            return (
              (e.agent = a),
              (e.strictSSL = r),
              this.h && (e.headers = { ...(e.headers || {}), 'Proxy-Authorization': this.h }),
              this.c(e, () => $A(e, i))
            );
          }
          async resolveProxy(e) {}
          async lookupAuthorization(e) {}
          async lookupKerberosAuthorization(e) {
            try {
              const i = this.t('http.proxyKerberosServicePrincipal');
              return (
                'Negotiate ' +
                (await cQ(e, i, this.b, 'RequestService#lookupKerberosAuthorization'))
              );
            } catch (i) {
              this.b.debug(
                'RequestService#lookupKerberosAuthorization Kerberos authentication failed',
                i
              );
              return;
            }
          }
          async loadCertificates() {
            return (await import('@vscode/proxy-agent')).loadSystemCertificates({ log: this.b });
          }
          t(e) {
            if (this.m === 'remote') return this.n.getValue(e);
            const i = this.n.inspect(e);
            return i.userLocalValue || i.defaultValue;
          }
        }),
        (dg = __decorate([__param(1, Ve), __param(2, $s), __param(3, ee)], dg));
    },
  });
import { net as hQ } from 'electron';
function dQ(t) {
  return hQ.request;
}
var fg,
  fQ = b({
    'out-build/vs/platform/request/electron-utility/requestService.js'() {
      'use strict';
      uQ(),
        Ge(),
        Xi(),
        se(),
        (fg = class extends dg {
          constructor(e, i, s) {
            super('local', e, i, s);
          }
          request(e, i) {
            return super.request({ ...(e || {}), getRawRequest: dQ, isChromiumNetwork: !0 }, i);
          }
        }),
        (fg = __decorate([__param(0, Ve), __param(1, $s), __param(2, ee)], fg));
    },
  }),
  PA,
  pQ = b({
    'out-build/vs/platform/sign/common/abstractSignService.js'() {
      'use strict';
      PA = class OI {
        constructor() {
          this.b = new Map();
        }
        static {
          this.a = 1;
        }
        async createNewMessage(e) {
          try {
            const i = await this.c();
            if (i) {
              const s = String(OI.a++);
              return this.b.set(s, i), { id: s, data: i.createNewMessage(e) };
            }
          } catch {}
          return { id: '', data: e };
        }
        async validate(e, i) {
          if (!e.id) return !0;
          const s = this.b.get(e.id);
          if (!s) return !1;
          this.b.delete(e.id);
          try {
            return s.validate(i) === 'ok';
          } catch {
            return !1;
          } finally {
            s.dispose?.();
          }
        }
        async sign(e) {
          try {
            return await this.d(e);
          } catch {}
          return e;
        }
      };
    },
  }),
  _A,
  gQ = b({
    'out-build/vs/platform/sign/node/signService.js'() {
      'use strict';
      pQ(),
        (_A = class extends PA {
          c() {
            return this.h().then((t) => new t.validator());
          }
          d(t) {
            return this.h().then((e) => new e.signer().sign(t));
          }
          async h() {
            const t = 'vsda',
              { default: e } = await import(t);
            return e;
          }
        });
    },
  }),
  pg,
  mQ = b({
    'out-build/vs/platform/policy/node/nativePolicyService.js'() {
      'use strict';
      Pr(),
        le(),
        U(),
        se(),
        (pg = class extends qw {
          constructor(e, i) {
            super(), (this.m = e), (this.n = i), (this.a = new W0()), (this.b = this.B(new ko()));
          }
          async j(e) {
            this.m.trace(
              `NativePolicyService#_updatePolicyDefinitions - Found ${
                Object.keys(e).length
              } policy definitions`
            );
            const { createWatcher: i } = await import('@vscode/policy-watcher');
            await this.a.queue(
              () =>
                new Promise((s, r) => {
                  try {
                    this.b.value = i(this.n, e, (n) => {
                      this.t(n), s();
                    });
                  } catch (n) {
                    this.m.error(
                      'NativePolicyService#_updatePolicyDefinitions - Error creating watcher:',
                      n
                    ),
                      r(n);
                  }
                })
            );
          }
          t(e) {
            this.m.trace(
              `NativePolicyService#_onDidPolicyChange - Updated policy values: ${JSON.stringify(e)}`
            );
            for (const i in e) {
              const s = e[i];
              s === void 0 ? this.g.delete(i) : this.g.set(i, s);
            }
            this.h.fire(Object.keys(e));
          }
        }),
        (pg = __decorate([__param(0, ee)], pg));
    },
  });
function wQ(t, e) {
  const i = [];
  for (const s of new Set(An.concat(t.keys(), e.keys()))) t.get(s) !== e.get(s) && i.push(s);
  return i;
}
var gg,
  bQ = b({
    'out-build/vs/platform/policy/common/filePolicyService.js'() {
      'use strict';
      le(),
        X(),
        el(),
        $e(),
        ft(),
        se(),
        Pr(),
        (gg = class extends qw {
          constructor(e, i, s) {
            super(), (this.m = e), (this.n = i), (this.s = s), (this.c = this.B(new Xr(500)));
            const r = P.filter(i.onDidFilesChange, (n) => n.affects(e));
            this.B(i.watch(e)), this.B(r(() => this.c.trigger(() => this.w())));
          }
          async j() {
            await this.w();
          }
          async u() {
            const e = new Map();
            try {
              const i = await this.n.readFile(this.m),
                s = JSON.parse(i.value.toString());
              if (!Lt(s)) throw new Error("Policy file isn't a JSON object");
              for (const r of Object.keys(s)) this.f[r] && e.set(r, s[r]);
            } catch (i) {
              i.fileOperationResult !== 1 &&
                this.s.error('[FilePolicyService] Failed to read policies', i);
            }
            return e;
          }
          async w() {
            const e = await this.u(),
              i = wQ(this.g, e);
            (this.g = e), i.length > 0 && this.h.fire(i);
          }
        }),
        (gg = __decorate([__param(1, $t), __param(2, ee)], gg));
    },
  });
function vQ(t, e, i) {
  e instanceof ve || (e = new ve(e, [], !!i)), LA.push([t, e]);
}
var LA,
  TA,
  yQ = b({
    'out-build/vs/platform/instantiation/common/extensions.js'() {
      'use strict';
      Eo(),
        (LA = []),
        (function (t) {
          (t[(t.Eager = 0)] = 'Eager'), (t[(t.Delayed = 1)] = 'Delayed');
        })(TA || (TA = {}));
    },
  }),
  MA,
  mg,
  Tc,
  FA,
  kQ = b({
    'out-build/vs/base/common/skipList.js'() {
      'use strict';
      (mg = class {
        constructor(t, e, i) {
          (this.level = t), (this.key = e), (this.value = i), (this.forward = []);
        }
      }),
        (Tc = void 0),
        (FA = class Bc {
          constructor(e, i = 2 ** 16) {
            (this.comparator = e),
              (this[MA] = 'SkipList'),
              (this.d = 0),
              (this.f = 0),
              (this.c = Math.max(1, Math.log2(i) | 0)),
              (this.e = new mg(this.c, Tc, Tc));
          }
          get size() {
            return this.f;
          }
          clear() {
            (this.e = new mg(this.c, Tc, Tc)), (this.f = 0);
          }
          has(e) {
            return !!Bc.g(this, e, this.comparator);
          }
          get(e) {
            return Bc.g(this, e, this.comparator)?.value;
          }
          set(e, i) {
            return Bc.h(this, e, i, this.comparator) && (this.f += 1), this;
          }
          delete(e) {
            const i = Bc.k(this, e, this.comparator);
            return i && (this.f -= 1), i;
          }
          forEach(e, i) {
            let s = this.e.forward[0];
            for (; s; ) e.call(i, s.value, s.key, this), (s = s.forward[0]);
          }
          [((MA = Symbol.toStringTag), Symbol.iterator)]() {
            return this.entries();
          }
          *entries() {
            let e = this.e.forward[0];
            for (; e; ) yield [e.key, e.value], (e = e.forward[0]);
          }
          *keys() {
            let e = this.e.forward[0];
            for (; e; ) yield e.key, (e = e.forward[0]);
          }
          *values() {
            let e = this.e.forward[0];
            for (; e; ) yield e.value, (e = e.forward[0]);
          }
          toString() {
            let e = '[SkipList]:',
              i = this.e.forward[0];
            for (; i; ) (e += `node(${i.key}, ${i.value}, lvl:${i.level})`), (i = i.forward[0]);
            return e;
          }
          static g(e, i, s) {
            let r = e.e;
            for (let n = e.d - 1; n >= 0; n--)
              for (; r.forward[n] && s(r.forward[n].key, i) < 0; ) r = r.forward[n];
            if (((r = r.forward[0]), r && s(r.key, i) === 0)) return r;
          }
          static h(e, i, s, r) {
            const n = [];
            let o = e.e;
            for (let a = e.d - 1; a >= 0; a--) {
              for (; o.forward[a] && r(o.forward[a].key, i) < 0; ) o = o.forward[a];
              n[a] = o;
            }
            if (((o = o.forward[0]), o && r(o.key, i) === 0)) return (o.value = s), !1;
            {
              const a = Bc.j(e);
              if (a > e.d) {
                for (let c = e.d; c < a; c++) n[c] = e.e;
                e.d = a;
              }
              o = new mg(a, i, s);
              for (let c = 0; c < a; c++) (o.forward[c] = n[c].forward[c]), (n[c].forward[c] = o);
              return !0;
            }
          }
          static j(e, i = 0.5) {
            let s = 1;
            for (; Math.random() < i && s < e.c; ) s += 1;
            return s;
          }
          static k(e, i, s) {
            const r = [];
            let n = e.e;
            for (let o = e.d - 1; o >= 0; o--) {
              for (; n.forward[o] && s(n.forward[o].key, i) < 0; ) n = n.forward[o];
              r[o] = n;
            }
            if (((n = n.forward[0]), !n || s(n.key, i) !== 0)) return !1;
            for (let o = 0; o < e.d && r[o].forward[o] === n; o++) r[o].forward[o] = n.forward[o];
            for (; e.d > 0 && e.e.forward[e.d - 1] === Tc; ) e.d -= 1;
            return !0;
          }
        });
    },
  }),
  jy,
  _h,
  SQ = b({
    'out-build/vs/platform/uriIdentity/common/uriIdentityService.js'() {
      'use strict';
      Er(),
        yQ(),
        ft(),
        lt(),
        kQ(),
        X(),
        U(),
        (jy = class r4 {
          static {
            this._clock = 0;
          }
          constructor(e) {
            (this.uri = e), (this.time = r4._clock++);
          }
          touch() {
            return (this.time = r4._clock++), this;
          }
        }),
        (_h = class {
          constructor(e) {
            (this.g = e), (this.c = new je()), (this.f = 2 ** 16);
            const i = new Map(),
              s = (r) => {
                let n = i.get(r.scheme);
                return (
                  n === void 0 &&
                    ((n = e.hasProvider(r) && !this.g.hasCapability(r, 1024)), i.set(r.scheme, n)),
                  n
                );
              };
            this.c.add(
              P.any(
                e.onDidChangeFileSystemProviderRegistrations,
                e.onDidChangeFileSystemProviderCapabilities
              )((r) => {
                i.delete(r.scheme);
              })
            ),
              (this.extUri = new Sl(s)),
              (this.d = new FA((r, n) => this.extUri.compare(r, n, !0), this.f));
          }
          dispose() {
            this.c.dispose(), this.d.clear();
          }
          asCanonicalUri(e) {
            this.g.hasProvider(e) && (e = B0(e));
            const i = this.d.get(e);
            return i
              ? i.touch().uri.with({ fragment: e.fragment })
              : (this.d.set(e, new jy(e)), this.h(), e);
          }
          h() {
            if (this.d.size < this.f) return;
            const e = [...this.d.entries()].sort((s, r) =>
              s[1].time < r[1].time ? 1 : s[1].time > r[1].time ? -1 : 0
            );
            (jy._clock = 0), this.d.clear();
            const i = this.f * 0.5;
            for (let s = 0; s < i; s++) this.d.set(e[s][0], e[s][1].touch());
          }
        }),
        (_h = __decorate([__param(0, $t)], _h)),
        vQ(Zi, _h, 1);
    },
  }),
  OA,
  EQ = b({
    'out-build/vs/platform/log/common/logService.js'() {
      'use strict';
      U(),
        se(),
        (OA = class extends H {
          constructor(t, e = []) {
            super(),
              (this.a = new h7([t, ...e])),
              this.B(t.onDidChangeLogLevel((i) => this.setLevel(i)));
          }
          get onDidChangeLogLevel() {
            return this.a.onDidChangeLogLevel;
          }
          setLevel(t) {
            this.a.setLevel(t);
          }
          getLevel() {
            return this.a.getLevel();
          }
          trace(t, ...e) {
            this.a.trace(t, ...e);
          }
          debug(t, ...e) {
            this.a.debug(t, ...e);
          }
          info(t, ...e) {
            this.a.info(t, ...e);
          }
          warn(t, ...e) {
            this.a.warn(t, ...e);
          }
          error(t, ...e) {
            this.a.error(t, ...e);
          }
          flush() {
            this.a.flush();
          }
        });
    },
  }),
  RA,
  CQ = b({
    'out-build/vs/platform/userData/common/fileUserDataProvider.js'() {
      'use strict';
      X(),
        U(),
        ft(),
        Ha(),
        Pi(),
        (RA = class extends H {
          constructor(t, e, i, s, r, n) {
            super(),
              (this.f = t),
              (this.g = e),
              (this.h = i),
              (this.j = s),
              (this.m = r),
              (this.n = n),
              (this.capabilities = this.g.capabilities),
              (this.onDidChangeCapabilities = this.g.onDidChangeCapabilities),
              (this.a = this.B(new $())),
              (this.onDidChangeFile = this.a.event),
              (this.b = Wn.forUris(() => !(this.capabilities & 1024))),
              (this.c = new d0((o) => this.m.extUri.getComparisonKey(this.t(o)))),
              this.r(),
              this.B(s.onDidChangeProfiles(() => this.r())),
              this.B(this.g.onDidChangeFile((o) => this.s(o)));
          }
          r() {
            this.c.clear();
            for (const t of this.j.profiles)
              this.c.add(t.settingsResource),
                this.c.add(t.keybindingsResource),
                this.c.add(t.tasksResource),
                this.c.add(t.extensionsResource);
          }
          open(t, e) {
            return this.g.open(this.t(t), e);
          }
          close(t) {
            return this.g.close(t);
          }
          read(t, e, i, s, r) {
            return this.g.read(t, e, i, s, r);
          }
          write(t, e, i, s, r) {
            return this.g.write(t, e, i, s, r);
          }
          watch(t, e) {
            this.b.set(t, t);
            const i = this.g.watch(this.t(t), e);
            return _e(() => {
              this.b.delete(t), i.dispose();
            });
          }
          stat(t) {
            return this.g.stat(this.t(t));
          }
          mkdir(t) {
            return this.g.mkdir(this.t(t));
          }
          rename(t, e, i) {
            return this.g.rename(this.t(t), this.t(e), i);
          }
          readFile(t, e) {
            return this.g.readFile(this.t(t), e);
          }
          readFileStream(t, e, i) {
            return this.g.readFileStream(this.t(t), e, i);
          }
          readdir(t) {
            return this.g.readdir(this.t(t));
          }
          enforceAtomicReadFile(t) {
            return this.c.has(t);
          }
          writeFile(t, e, i) {
            return this.g.writeFile(this.t(t), e, i);
          }
          enforceAtomicWriteFile(t) {
            return this.c.has(t) ? { postfix: '.vsctmp' } : !1;
          }
          delete(t, e) {
            return this.g.delete(this.t(t), e);
          }
          copy(t, e, i) {
            if (km(this.g)) return this.g.copy(this.t(t), this.t(e), i);
            throw new Error('copy not supported');
          }
          cloneFile(t, e) {
            if (y7(this.g)) return this.g.cloneFile(this.t(t), this.t(e));
            throw new Error('clone not supported');
          }
          s(t) {
            const e = [];
            for (const i of t) {
              if (i.resource.scheme !== this.f) continue;
              const s = this.u(i.resource);
              this.b.findSubstr(s) && e.push({ resource: s, type: i.type, cId: i.cId });
            }
            e.length && (this.n.debug('User data changed'), this.a.fire(e));
          }
          t(t) {
            return t.with({ scheme: this.f });
          }
          u(t) {
            return t.with({ scheme: this.h });
          }
        });
    },
  }),
  DQ = {};
import { app as xQ, dialog as AQ } from 'electron';
import { unlinkSync as IQ, promises as NA } from 'fs';
var BA,
  UA,
  $Q = b({
    'out-build/vs/code/electron-main/main.js'() {
      'use strict';
      lP(),
        uP(),
        be(),
        ni(),
        le(),
        Fn(),
        He(),
        qi(),
        X(),
        Yr(),
        Oe(),
        xe(),
        jr(),
        ie(),
        Vs(),
        Wt(),
        Zt(),
        Zr(),
        rm(),
        bY(),
        he(),
        Ge(),
        yY(),
        CY(),
        vt(),
        Zl(),
        IY(),
        ft(),
        $Y(),
        Aw(),
        Eo(),
        _Y(),
        Iw(),
        St(),
        LY(),
        se(),
        fu(),
        Ze(),
        pu(),
        MY(),
        bA(),
        sQ(),
        Ir(),
        fQ(),
        Qw(),
        gQ(),
        Pt(),
        Jo(),
        zl(),
        Fo(),
        Pr(),
        mQ(),
        bQ(),
        U(),
        Er(),
        SQ(),
        vu(),
        EQ(),
        B9(),
        t9(),
        CQ(),
        Kc(),
        Xu(),
        (BA = class {
          main() {
            try {
              this.a();
            } catch (t) {
              console.error(t.message), xQ.exit(1);
            }
          }
          async a() {
            f4((c) => console.error(c));
            const [t, e, i, s, r, n, o, a] = this.b();
            try {
              try {
                await this.d(i, a, s, r, o);
              } catch (c) {
                throw (this.g(i, o, c), c);
              }
              await t.invokeFunction(async (c) => {
                const l = c.get(ee),
                  h = c.get(st),
                  d = c.get($t),
                  p = c.get(Po),
                  m = await this.f(l, i, h, t, o, !0);
                return (
                  ge.writeFile(i.mainLockfile, String(process.pid)).catch((w) => {
                    l.warn(`app#startup(): Error writing main lockfile: ${w.stack}`);
                  }),
                  (n.logger = p.createLogger('main', { name: u(160, null) })),
                  P.once(h.onWillShutdown)((w) => {
                    d.dispose(),
                      s.dispose(),
                      w.join(
                        'instanceLockfile',
                        NA.unlink(i.mainLockfile).catch(() => {})
                      );
                  }),
                  t.createInstance(Y1, m, e).startup()
                );
              });
            } catch (c) {
              t.invokeFunction(this.j, c);
            }
          }
          b() {
            const t = new Rf(),
              e = new je();
            process.once('exit', () => e.dispose());
            const i = { _serviceBrand: void 0, ..._s };
            t.set(Be, i);
            const s = new tn(this.k(), i),
              r = this.c(s);
            t.set(dt, s);
            const n = new I3(rL(s), s.logsHome);
            t.set(dc, n);
            const o = new pA(n.getLogLevel()),
              a = e.add(new OA(o, [new u7(n.getLogLevel())]));
            t.set(ee, a);
            const c = new tg(a);
            t.set($t, c);
            const l = new Of(a);
            c.registerProvider(N.file, l);
            const h = new _h(c);
            t.set(Zi, h);
            const d = new Nm(1, s, a, c);
            t.set(Cm, d), t.set(kt, d), t.set(Ju, new Hp(d));
            const p = new af(d, h, s, c, a);
            t.set(xr, p),
              c.registerProvider(N.vscodeUserData, new RA(N.file, l, N.vscodeUserData, p, h, a));
            const m =
              J && i.win32RegValueName
                ? e.add(new pg(a, i.win32RegValueName))
                : s.policyFile
                ? e.add(new gg(s.policyFile, c, a))
                : new Kw();
            t.set(Ko, m);
            const w = new cA(p.defaultProfile.settingsResource, c, m, a);
            return (
              t.set(Ve, w),
              t.set(st, new ve(Xd, void 0, !1)),
              t.set(an, new ve(fg, void 0, !0)),
              t.set(Ja, new ve(uf)),
              t.set(fc, new ve(_A, void 0, !1)),
              t.set(gA, new ve(Ph)),
              t.set(hc, new sg(s, p, a)),
              [new dA(t, !0), r, s, w, d, o, i, p]
            );
          }
          c(t) {
            const e = { VSCODE_IPC_HOOK: t.mainIPCHandle };
            return (
              ['VSCODE_NLS_CONFIG', 'VSCODE_PORTABLE'].forEach((i) => {
                const s = process.env[i];
                typeof s == 'string' && (e[i] = s);
              }),
              Object.assign(process.env, e),
              e
            );
          }
          async d(t, e, i, s, r) {
            await ui.settled([
              Promise.all(
                [
                  this.e(t.extensionsPath),
                  this.e(t.iCubeAgentExtensionsPath),
                  t.codeCachePath,
                  t.logsHome.with({ scheme: N.file }).fsPath,
                  e.defaultProfile.globalStorageHome.with({ scheme: N.file }).fsPath,
                  t.workspaceStorageHome.with({ scheme: N.file }).fsPath,
                  t.localHistoryHome.with({ scheme: N.file }).fsPath,
                  t.backupHome,
                ].map((n) => (n ? NA.mkdir(n, { recursive: !0 }) : void 0))
              ),
              s.init(),
              i.initialize(),
            ]),
              e.init();
          }
          e(t) {
            if (J) {
              const e = A4(t);
              e && qc(e);
            }
            return t;
          }
          async f(t, e, i, s, r, n) {
            let o;
            try {
              Xe('code/willStartMainServer'),
                (o = await L_(e.mainIPCHandle)),
                Xe('code/didStartMainServer'),
                P.once(i.onWillShutdown)(() => o.dispose());
            } catch (a) {
              if (a.code !== 'EADDRINUSE') throw (this.g(e, r, a), a);
              let c;
              try {
                c = await T_(e.mainIPCHandle, 'main');
              } catch (p) {
                if (!n || J || p.code !== 'ECONNREFUSED')
                  throw (
                    (p.code === 'EPERM' && this.h(u(161, null, r.nameShort), u(162, null), r), p)
                  );
                try {
                  IQ(e.mainIPCHandle);
                } catch (m) {
                  throw (t.warn('Could not delete obsolete instance handle', m), m);
                }
                return this.f(t, e, i, s, r, !1);
              }
              if (e.extensionTestsLocationURI && !e.debugExtensionHost.break) {
                const p = `Running extension tests from the command line is currently only supported if no other instance of ${r.nameShort} is running.`;
                throw (t.error(p), c.dispose(), new Error(p));
              }
              let l;
              !e.args.wait &&
                !e.args.status &&
                (l = setTimeout(() => {
                  this.h(u(163, null, r.nameShort), u(164, null), r);
                }, 1e4));
              const h = Qe.toService(c.getChannel('launch'), { disableMarshalling: !0 }),
                d = Qe.toService(c.getChannel('diagnostics'), { disableMarshalling: !0 });
              if (e.args.status)
                return s.invokeFunction(async () => {
                  const p = new eg(yu, r),
                    m = await d.getMainDiagnostics(),
                    w = await d.getRemoteDiagnostics({
                      includeProcesses: !0,
                      includeWorkspaceMetadata: !0,
                    }),
                    v = await p.getDiagnostics(m, w);
                  throw (console.log(v), new Kh());
                });
              throw (
                (J && (await this.i(h, t)),
                t.trace('Sending env to running instance...'),
                await h.start(e.args, process.env),
                c.dispose(),
                l && clearTimeout(l),
                new Kh('Sent env to running instance. Terminating...'))
              );
            }
            if (e.args.status)
              throw (console.log(u(165, null, r.nameShort)), new Kh('Terminating...'));
            return (process.env.VSCODE_PID = String(process.pid)), o;
          }
          g(t, e, i) {
            if (i.code === 'EACCES' || i.code === 'EPERM') {
              const s = Yt([t.userDataPath, t.extensionsPath, _d]).map((r) =>
                _a(_.file(r), { os: ws, tildify: t })
              );
              this.h(
                u(166, null),
                u(
                  167,
                  null,
                  ki(i),
                  s.join(`
`)
                ),
                e
              );
            }
          }
          h(t, e, i) {
            AQ.showMessageBoxSync(
              O9({ type: 'warning', buttons: [u(168, null)], message: t, detail: e }, i).options
            );
          }
          async i(t, e) {
            if (J) {
              const i = await t.getMainProcessId();
              e.trace('Sending some foreground love to the running instance:', i);
              try {
                (await import('windows-foreground-love')).allowSetForegroundWindow(i);
              } catch (s) {
                e.error(s);
              }
            }
          }
          j(t, e) {
            const i = t.get(ee),
              s = t.get(st);
            let r = 0;
            e &&
              (e.isExpected
                ? e.message && i.trace(e.message)
                : ((r = 1),
                  e.stack ? i.error(e.stack) : i.error(`Startup error: ${e.toString()}`))),
              s.kill(r);
          }
          k() {
            const t = this.l(yT(process.argv));
            if (t.wait && !t.waitMarkerFilePath) {
              const e = AY(t.verbose);
              e && (kT(process.argv, '--waitMarkerFilePath', e), (t.waitMarkerFilePath = e));
            }
            return t;
          }
          l(t) {
            if ((t['open-url'] && ((t._urls = t._), (t._ = [])), !t.remote)) {
              const e = this.m(t._, t.goto);
              t._ = e;
            }
            return t;
          }
          m(t, e) {
            const i = zr(),
              s = t.map((o) => {
                let a = String(o),
                  c;
                e && ((c = gd(a)), (a = c.path)), a && (a = this.n(i, a));
                const l = h5(a, i),
                  h = ct(l);
                return h && !EP(h) ? null : e && c ? ((c.path = l), this.o(c)) : l;
              }),
              r = J || Q,
              n = zs(s, (o) => (o && r ? o.toLowerCase() : o || ''));
            return Yt(n);
          }
          n(t, e) {
            return (
              J && (e = Co(e, '"')),
              (e = s5(s5(e, ' '), '	')),
              J && ((e = Gs(t, e)), (e = Co(e, '.'))),
              e
            );
          }
          o(t) {
            const e = [t.path];
            return (
              typeof t.line == 'number' && e.push(String(t.line)),
              typeof t.column == 'number' && e.push(String(t.column)),
              e.join(':')
            );
          }
        }),
        (UA = new BA()),
        UA.main();
    },
  });
import * as gs from 'path';
import * as lo from 'original-fs';
import * as PQ from 'os';
import { performance as _Q } from 'perf_hooks';
import * as Rs from 'path';
import * as jA from 'fs';
import { fileURLToPath as LQ } from 'url';
import { createRequire as TQ } from 'node:module';
var Ose = TQ(import.meta.url),
  MQ = Rs.dirname(LQ(import.meta.url));
if (((Error.stackTraceLimit = 100), !process.env.VSCODE_HANDLES_SIGPIPE)) {
  let t = !1;
  process.on('SIGPIPE', () => {
    t || ((t = !0), console.error(new Error('Unexpected SIGPIPE')));
  });
}
function FQ() {
  try {
    typeof process.env.VSCODE_CWD != 'string' && (process.env.VSCODE_CWD = process.cwd()),
      process.platform === 'win32' && process.chdir(Rs.dirname(process.execPath));
  } catch (t) {
    console.error(t);
  }
}
FQ();
function OQ(t) {
  const e = Rs.dirname(MQ);
  function i() {
    return process.env.VSCODE_DEV
      ? e
      : process.platform === 'darwin'
      ? Rs.dirname(Rs.dirname(Rs.dirname(e)))
      : Rs.dirname(Rs.dirname(e));
  }
  function s() {
    if (process.env.VSCODE_PORTABLE) return process.env.VSCODE_PORTABLE;
    if (process.platform === 'win32' || process.platform === 'linux') return Rs.join(i(), 'data');
    const c = t.portable || `${t.applicationName}-portable-data`;
    return Rs.join(Rs.dirname(i()), c);
  }
  const r = s(),
    n = !('target' in t) && jA.existsSync(r),
    o = Rs.join(r, 'tmp'),
    a = n && jA.existsSync(o);
  return (
    n ? (process.env.VSCODE_PORTABLE = r) : delete process.env.VSCODE_PORTABLE,
    a &&
      (process.platform === 'win32'
        ? ((process.env.TMP = o), (process.env.TEMP = o))
        : (process.env.TMPDIR = o)),
    { portableDataPath: r, isPortable: n }
  );
}
import * as Wy from 'path';
import * as Mc from 'fs';
import * as WA from 'crypto';
import { fileURLToPath as RQ } from 'url';
import { createRequire as NQ, register as BQ } from 'node:module';
import { createRequire as UQ } from 'node:module';
var HA = UQ(import.meta.url),
  Hy = { BUILD_INSERT_PRODUCT_CONFIGURATION: 'BUILD_INSERT_PRODUCT_CONFIGURATION' };
Hy.BUILD_INSERT_PRODUCT_CONFIGURATION && (Hy = HA('../product.json'));
var zy = {
  name: 'Trae',
  version: '1.98.2',
  distro: 'de81a091068fb03e277543d4f4900db005edf9f3',
  author: { name: 'Microsoft Corporation' },
  license: 'MIT',
  main: './out/main.js',
  type: 'module',
  private: true,
  scripts: {
    test: 'echo Please run any of the test scripts from the scripts folder.',
    'test-browser': 'npx playwright install && node test/unit/browser/index.js',
    'test-browser-no-install': 'node test/unit/browser/index.js',
    'test-node': 'mocha test/unit/node/index.js --delay --ui=tdd --timeout=5000 --exit',
    'test-icube': 'mocha test/unit/node/icube.js --delay --ui=tdd --timeout=5000 --exit',
    'test-extension': 'vscode-test',
    preinstall: 'node build/npm/icube-preinstall.js && node build/npm/preinstall.js',
    postinstall:
      'node build/npm/postinstall.js && node build/npm/update-stable-webcomponents-pkg.js',
    'watch-stable-webcomponents': 'cd stable-webcomponents && npm run watch',
    'tron-memorize': 'tron-client memorize',
    'watch:debug':
      'npm-run-all -lp watch-client:inline-sourcemap watch-extensions:inline-sourcemap',
    'watch-client:inline-sourcemap':
      'INLINE_SOURCEMAP=1 node --max_old_space_size=4095 ./node_modules/gulp/bin/gulp.js watch-client',
    compile: 'node ./node_modules/gulp/bin/gulp.js compile',
    watch: 'npm-run-all -lp watch-client watch-extensions',
    watchd: 'deemon npm run watch',
    'watch-webd': 'deemon npm run watch-web',
    'kill-watchd': 'deemon --kill npm run watch',
    'kill-watch-webd': 'deemon --kill npm run watch-web',
    'restart-watchd': 'deemon --restart npm run watch',
    'restart-watch-webd': 'deemon --restart npm run watch-web',
    'watch-client': 'node --max-old-space-size=8192 ./node_modules/gulp/bin/gulp.js watch-client',
    'watch-clientd': 'deemon npm run watch-client',
    'kill-watch-clientd': 'deemon --kill npm run watch-client',
    'watch-extensions':
      'node --max-old-space-size=8192 ./node_modules/gulp/bin/gulp.js watch-extensions watch-extension-media',
    'watch-extensionsd': 'deemon npm run watch-extensions',
    'kill-watch-extensionsd': 'deemon --kill npm run watch-extensions',
    precommit: 'node build/hygiene.js',
    gulp: 'node --max-old-space-size=10240 ./node_modules/gulp/bin/gulp.js',
    'gulp-stable': 'node --max-old-space-size=32768 ./node_modules/gulp/bin/gulp.js',
    electron: 'node build/lib/electron',
    '7z': '7z',
    'update-grammars': 'node build/npm/update-all-grammars.mjs',
    'update-localization-extension': 'node build/npm/update-localization-extension.js',
    smoketest:
      'node build/lib/preLaunch.js && cd test/smoke && npm run compile && node test/index.js',
    'smoketest-no-compile': 'cd test/smoke && node test/index.js',
    'download-builtin-extensions': 'node build/lib/builtInExtensions.js',
    'download-builtin-extensions-cg': 'node build/lib/builtInExtensionsCG.js',
    'monaco-compile-check': 'tsc -p src/tsconfig.monaco.json --noEmit',
    'tsec-compile-check': 'node node_modules/tsec/bin/tsec -p src/tsconfig.tsec.json',
    'vscode-dts-compile-check':
      'tsc -p src/tsconfig.vscode-dts.json && tsc -p src/tsconfig.vscode-proposed-dts.json',
    'valid-layers-check': 'node build/lib/layersChecker.js',
    'update-distro': 'node build/npm/update-distro.mjs',
    web: "echo 'npm run web' is replaced by './scripts/code-server' or './scripts/code-web'",
    'compile-cli': 'gulp compile-cli',
    'compile-web': 'node ./node_modules/gulp/bin/gulp.js compile-web',
    'watch-web': 'node ./node_modules/gulp/bin/gulp.js watch-web',
    'watch-cli': 'node ./node_modules/gulp/bin/gulp.js watch-cli',
    eslint: 'node build/eslint',
    stylelint: 'node build/stylelint',
    'playwright-install': 'npm exec playwright install',
    'compile-build': 'node ./node_modules/gulp/bin/gulp.js compile-build',
    'compile-extensions-build': 'node ./node_modules/gulp/bin/gulp.js compile-extensions-build',
    'minify-vscode': 'node ./node_modules/gulp/bin/gulp.js minify-vscode',
    'minify-vscode-reh': 'node ./node_modules/gulp/bin/gulp.js minify-vscode-reh',
    'minify-vscode-reh-web': 'node ./node_modules/gulp/bin/gulp.js minify-vscode-reh-web',
    hygiene: 'node ./node_modules/gulp/bin/gulp.js hygiene',
    'core-ci': 'node ./node_modules/gulp/bin/gulp.js core-ci',
    'core-ci-pr': 'node ./node_modules/gulp/bin/gulp.js core-ci-pr',
    'extensions-ci': 'node ./node_modules/gulp/bin/gulp.js extensions-ci',
    'extensions-ci-pr': 'node ./node_modules/gulp/bin/gulp.js extensions-ci-pr',
    perf: 'node scripts/code-perf.js',
    'dev:ai':
      'bash ./scripts/code-server.sh --default-folder=../../extensions/icube-ai --without-connection-token --host=0.0.0.0',
    'dev:ai-cn':
      'export VSCODE_NLS_LOCALE=zh-cn VSCODE_NLS_META_URL=https://lf-cdn.marscode.com/obj/marscode-bucket-sg/mars/ide/91550acc7996260fa4564da33595bd1f/out/nls.metadata.json && bash ./scripts/code-server.sh --default-folder=../../extensions/icube-ai --without-connection-token --host=0.0.0.0',
    'start:ai':
      'rush update && cd ../../modules/ai && rush build -t @byted-icube/ai-modules && rush build -t @byted-icube/ai-modules-ng && rush build -t @byted-icube/desktop-modules && pnpm link --global && pnpm watch',
    'start:icube':
      'cd ../../extensions/icube-ai && pnpm install && pnpm compile && pnpm build:icube-ai && cd icube-ai && pnpm watch',
    'start:vscode':
      'cd ../../ && cd lib/vscode && npm i && npm run watch && pnpm link --global @byted-icube/ai-modules && pnpm link --global @byted-icube/ai-modules',
    'start:code': './scripts/code.sh',
    'update-build-ts-version': 'npm install typescript@next && tsc -p ./build/tsconfig.build.json',
  },
  dependencies: {
    '@byted-fe/fd': '^1.1.0',
    '@byted-icube/ai-modules-chat': 'file:../../modules/ai-chat/cdn',
    '@byted-icube/bundled-deps': 'file:../../modules/bundled-deps',
    '@byted-icube/desktop-modules': 'file:../../modules/desktop/cdn',
    '@byted-icube/env': 'file:../../packages/env/cdn',
    '@byted-icube/lite-modules': 'file:../../modules/lite/cdn',
    '@byted-icube/manager-sdk': '0.0.0-alpha.20250402',
    '@byted-icube/oj-modules': 'file:../../modules/oj/cdn',
    '@byted-icube/slardar': 'file:../../packages/slardar/cdn',
    '@byted-icube/tea': 'file:../../packages/tea/cdn',
    '@byted-icube/webcomponents': 'file:./stable-webcomponents/cdn',
    '@byted/device-register': '0.2.0',
    '@byted/frontier-web-sdk': '^1.25.9',
    '@byted/icube-runtime-installer': '^1.0.7',
    '@microsoft/1ds-core-js': '^3.2.13',
    '@microsoft/1ds-post-js': '^3.2.13',
    '@modelcontextprotocol/sdk': '1.6.0',
    '@mozilla/readability': '^0.6.0',
    '@parcel/watcher': '2.5.1',
    '@vscode/deviceid': '^0.1.1',
    '@vscode/iconv-lite-umd': '0.7.0',
    '@vscode/policy-watcher': '^1.3.0',
    '@vscode/proxy-agent': '^0.32.0',
    '@vscode/ripgrep': '^1.15.10',
    '@vscode/spdlog': '^0.15.0',
    '@vscode/sqlite3': '5.1.8-vscode',
    '@vscode/sudo-prompt': '9.3.1',
    '@vscode/tree-sitter-wasm': '^0.1.3',
    '@vscode/vscode-languagedetection': '1.0.21',
    '@vscode/windows-mutex': '^0.5.0',
    '@vscode/windows-process-tree': '^0.6.0',
    '@vscode/windows-registry': '^1.1.0',
    '@xterm/addon-clipboard': '^0.2.0-beta.81',
    '@xterm/addon-image': '^0.9.0-beta.98',
    '@xterm/addon-ligatures': '^0.10.0-beta.98',
    '@xterm/addon-progress': '^0.2.0-beta.4',
    '@xterm/addon-search': '^0.16.0-beta.98',
    '@xterm/addon-serialize': '^0.14.0-beta.98',
    '@xterm/addon-unicode11': '^0.9.0-beta.98',
    '@xterm/addon-webgl': '^0.19.0-beta.98',
    '@xterm/headless': '^5.6.0-beta.98',
    '@xterm/xterm': '^5.6.0-beta.98',
    axios: '^1.7.9',
    'electron-updater': '^6.3.9',
    'http-proxy-agent': '^7.0.0',
    'https-proxy-agent': '^7.0.2',
    jschardet: '3.1.4',
    jsdom: '^26.0.0',
    jsonrepair: '3.8.1',
    kerberos: '2.1.1',
    'lodash.merge': '^4.6.2',
    minimist: '^1.2.6',
    'native-is-elevated': '0.7.0',
    'native-keymap': '^3.3.5',
    'native-watchdog': '^1.4.1',
    'node-html-markdown': '^1.3.0',
    'node-ipc': '^9.2.1',
    'node-pty': '^1.1.0-beta31',
    open: '^8.4.2',
    qs: '^6.13.0',
    'robots-parser': '^3.0.1',
    systeminformation: '^5.25.11',
    tar: '^6.1.11',
    'tas-client-umd': '0.2.0',
    turndown: '^7.2.0',
    util: '^0.12.4',
    'v8-inspect-profiler': '^0.1.1',
    'vscode-oniguruma': '1.7.0',
    'vscode-regexpp': '^3.1.0',
    'vscode-textmate': '9.2.0',
    ws: '^8.18.0',
    yauzl: '^3.0.0',
    yazl: '^2.4.3',
  },
  devDependencies: {
    '@playwright/test': '^1.50.0',
    '@stylistic/eslint-plugin-ts': '^2.8.0',
    '@types/cookie': '^0.3.3',
    '@types/debug': '^4.1.5',
    '@types/eslint': '^9.6.1',
    '@types/fs-extra': '~11.0.4',
    '@types/gulp-svgmin': '^1.2.1',
    '@types/http-proxy-agent': '^2.0.1',
    '@types/kerberos': '^1.1.2',
    '@types/lodash.merge': '^4.6.9',
    '@types/minimist': '^1.2.1',
    '@types/mocha': '^9.1.1',
    '@types/node': '20.x',
    '@types/node-ipc': '^9.2.3',
    '@types/qs': '^6.9.16',
    '@types/semver': '^7.5.8',
    '@types/sinon': '^10.0.2',
    '@types/sinon-test': '^2.4.2',
    '@types/tar': '^6.1.11',
    '@types/trusted-types': '^1.0.6',
    '@types/turndown': '^5.0.5',
    '@types/vscode-notebook-renderer': '^1.72.0',
    '@types/webpack': '^5.28.5',
    '@types/wicg-file-system-access': '^2020.9.6',
    '@types/windows-foreground-love': '^0.3.0',
    '@types/winreg': '^1.2.30',
    '@types/ws': '^8.5.13',
    '@types/yauzl': '^2.10.0',
    '@types/yazl': '^2.4.2',
    '@typescript-eslint/utils': '^8.8.0',
    '@vscode/gulp-electron': '^1.36.0',
    '@vscode/l10n-dev': '0.0.35',
    '@vscode/telemetry-extractor': '^1.10.2',
    '@vscode/test-cli': '^0.0.6',
    '@vscode/test-electron': '^2.4.0',
    '@vscode/test-web': '^0.0.62',
    '@vscode/v8-heap-parser': '^0.1.0',
    '@vscode/vscode-perf': '^0.0.19',
    '@webgpu/types': '^0.1.44',
    'ansi-colors': '^3.2.3',
    asar: '^3.0.3',
    'chromium-pickle-js': '^0.2.0',
    'clang-format': '^1.8.0',
    cookie: '^0.7.2',
    'copy-webpack-plugin': '^11.0.0',
    'css-loader': '^6.9.1',
    cssnano: '^6.0.3',
    debounce: '^1.0.0',
    deemon: '^1.8.0',
    electron: '34.2.0',
    eslint: '^9.11.1',
    'eslint-formatter-compact': '^8.40.0',
    'eslint-plugin-header': '3.1.1',
    'eslint-plugin-jsdoc': '^50.3.1',
    'eslint-plugin-local': '^6.0.0',
    'event-stream': '3.3.4',
    'fancy-log': '^1.3.3',
    'file-loader': '^6.2.0',
    'fs-extra': '~11.2.0',
    glob: '^5.0.13',
    gulp: '^4.0.0',
    'gulp-azure-storage': '^0.12.1',
    'gulp-bom': '^3.0.0',
    'gulp-buffer': '0.0.2',
    'gulp-filter': '^5.1.0',
    'gulp-flatmap': '^1.0.2',
    'gulp-gunzip': '^1.0.0',
    'gulp-gzip': '^1.4.2',
    'gulp-json-editor': '^2.5.0',
    'gulp-plumber': '^1.2.0',
    'gulp-rename': '^1.2.0',
    'gulp-replace': '^0.5.4',
    'gulp-sourcemaps': '^3.0.0',
    'gulp-svgmin': '^4.1.0',
    'gulp-untar': '^0.0.7',
    husky: '^0.13.1',
    innosetup: '^6.4.1',
    'innosetup-compiler': '6.3.1',
    'istanbul-lib-coverage': '^3.2.0',
    'istanbul-lib-instrument': '^6.0.1',
    'istanbul-lib-report': '^3.0.0',
    'istanbul-lib-source-maps': '^4.0.1',
    'istanbul-reports': '^3.1.5',
    'lazy.js': '^0.4.2',
    'merge-options': '^1.0.1',
    mime: '^1.4.1',
    minimatch: '^3.0.4',
    minimist: '^1.2.6',
    mocha: '^10.8.2',
    'mocha-junit-reporter': '^2.2.1',
    'mocha-multi-reporters': '^1.5.1',
    'npm-run-all': '^4.1.5',
    'os-browserify': '^0.3.0',
    'p-all': '^1.0.0',
    'path-browserify': '^1.0.1',
    postcss: '^8.4.33',
    'postcss-nesting': '^12.0.2',
    pump: '^1.0.1',
    rcedit: '^1.1.0',
    rimraf: '^2.2.8',
    sinon: '^12.0.1',
    'sinon-test': '^3.1.3',
    'source-map': '0.6.1',
    'source-map-support': '^0.3.2',
    'style-loader': '^3.3.2',
    'ts-loader': '^9.5.1',
    'ts-node': '^10.9.1',
    tsec: '0.2.7',
    tslib: '^2.6.3',
    typescript: '^5.8.0-dev.20250207',
    'typescript-eslint': '^8.8.0',
    util: '^0.12.4',
    webpack: '^5.94.0',
    'webpack-cli': '^5.1.4',
    'webpack-stream': '^7.0.0',
    xml2js: '^0.5.0',
    yaserver: '^0.4.0',
  },
  overrides: { 'node-gyp-build': '4.8.1', 'kerberos@2.1.1': { 'node-addon-api': '7.1.0' } },
  repository: { type: 'git', url: 'https://github.com/microsoft/vscode.git' },
  bugs: { url: 'https://github.com/microsoft/vscode/issues' },
  optionalDependencies: { 'windows-foreground-love': '0.5.0' },
  buildId: '12319307',
  branch: 'release_desktop_i18n',
};
zy.BUILD_INSERT_PACKAGE_CONFIGURATION && (zy = HA('../package.json'));
var Mt = Hy,
  jQ = zy;
jr(), zg(), mi();
import wg from 'lodash.merge';
var bg = NQ(import.meta.url),
  zA = Wy.dirname(RQ(import.meta.url));
if (
  ((process.env.ELECTRON_RUN_AS_NODE || process.versions.electron) &&
    BQ(
      `data:text/javascript;base64,${Buffer.from(
        `
	export async function resolve(specifier, context, nextResolve) {
		if (specifier === 'fs') {
			return {
				format: 'builtin',
				shortCircuit: true,
				url: 'node:original-fs'
			};
		}

		// Defer to the next hook in the chain, which would be the
		// Node.js default resolve if this is the last user-specified loader.
		return nextResolve(specifier, context);
	}`
      ).toString('base64')}`,
      import.meta.url
    ),
  (globalThis._VSCODE_PRODUCT_JSON = { ...Mt }),
  process.env.VSCODE_DEV)
) {
  try {
    const t = bg('../product.overrides.json');
    globalThis._VSCODE_PRODUCT_JSON = Object.assign(globalThis._VSCODE_PRODUCT_JSON, t);
  } catch {}
  try {
    if (process.env.ICUBE_DEV_PROVIDER === 'Spring') {
      const t = bg('../product.desktop.spring.json');
      globalThis._VSCODE_PRODUCT_JSON = wg(globalThis._VSCODE_PRODUCT_JSON, t);
    } else {
      const t = bg('../product.desktop.json');
      globalThis._VSCODE_PRODUCT_JSON = wg(globalThis._VSCODE_PRODUCT_JSON, t);
    }
    if (Mc.existsSync(Wy.join(zA, '../product.desktop.local.json'))) {
      const t = bg('../product.desktop.local.json');
      globalThis._VSCODE_PRODUCT_JSON = wg(globalThis._VSCODE_PRODUCT_JSON, t);
    }
    globalThis._VSCODE_PRODUCT_JSON = wg(globalThis._VSCODE_PRODUCT_JSON, { quality: 'local' });
  } catch {}
}
try {
  WQ();
} catch (t) {
  console.error(`Error when merging config: ${t}`);
}
function WQ() {
  let t = globalThis._VSCODE_PRODUCT_JSON.nameShort;
  process.env.VSCODE_DEV && (t = `${t} - Local`);
  const e = Hg({}, t),
    i = Wy.join(e, 'Local Storage', 'config.db');
  if (!Mc.existsSync(i)) {
    console.log('No config file found');
    return;
  }
  const s = Mc.readFileSync(i),
    r = s.slice(0, 16),
    n = s.slice(16),
    o = WA.createHash('md5').update(t).digest('hex'),
    a = WA.createDecipheriv('aes-256-cbc', Buffer.from(o), r);
  let c = a.update(n);
  (c = Buffer.concat([c, a.final()])),
    (globalThis._VSCODE_PRODUCT_JSON.__iCube_app = ms(globalThis._VSCODE_PRODUCT_JSON.iCubeApp));
  const l = JSON.parse(c.toString());
  l.iCubeApp &&
    (globalThis._VSCODE_PRODUCT_JSON = dr(globalThis._VSCODE_PRODUCT_JSON, {
      iCubeApp: l.iCubeApp,
    }));
}
(globalThis._VSCODE_PACKAGE_JSON = { ...jQ }), (globalThis._VSCODE_FILE_ROOT = zA);
var Vy = void 0;
function HQ() {
  return Vy || (Vy = zQ()), Vy;
}
async function zQ() {
  Xe('code/willLoadNls');
  let t, e;
  if (process.env.VSCODE_NLS_CONFIG)
    try {
      (t = JSON.parse(process.env.VSCODE_NLS_CONFIG)),
        t?.languagePack?.messagesFile
          ? (e = t.languagePack.messagesFile)
          : t?.defaultMessagesFile && (e = t.defaultMessagesFile),
        (globalThis._VSCODE_NLS_LANGUAGE = t?.resolvedLanguage);
    } catch (i) {
      console.error(`Error reading VSCODE_NLS_CONFIG from environment: ${i}`);
    }
  if (!(process.env.VSCODE_DEV || !e)) {
    try {
      globalThis._VSCODE_NLS_MESSAGES = JSON.parse((await Mc.promises.readFile(e)).toString());
    } catch (i) {
      if (
        (console.error(`Error reading NLS messages file ${e}: ${i}`),
        t?.languagePack?.corruptMarkerFile)
      )
        try {
          await Mc.promises.writeFile(t.languagePack.corruptMarkerFile, 'corrupted');
        } catch (s) {
          console.error(`Error writing corrupted NLS marker file: ${s}`);
        }
      if (t?.defaultMessagesFile && t.defaultMessagesFile !== e)
        try {
          globalThis._VSCODE_NLS_MESSAGES = JSON.parse(
            (await Mc.promises.readFile(t.defaultMessagesFile)).toString()
          );
        } catch (s) {
          console.error(`Error reading default NLS messages file ${t.defaultMessagesFile}: ${s}`);
        }
    }
    return Xe('code/didLoadNls'), t;
  }
}
async function VQ() {
  await HQ();
}
var GQ = u4(y4(), 1);
import { fileURLToPath as qQ } from 'url';
import {
  app as et,
  protocol as KQ,
  crashReporter as JQ,
  Menu as XQ,
  contentTracing as YQ,
} from 'electron';
Gc(), zg(), jr(), jr(), mi(), wi();
import * as Ns from 'path';
import * as lr from 'fs';
async function QQ(t) {
  if (t.endsWith('.i18n.json')) {
    const e = t.slice(0, -10) + '.i18n.override.json';
    try {
      return JSON.parse(await lr.promises.readFile(e, 'utf-8'));
    } catch {
      return;
    }
  }
}
async function VA({
  userLocale: t,
  osLocale: e,
  userDataPath: i,
  commit: s,
  nlsMetadataPath: r,
  quality: n,
}) {
  if (process.env.VSCODE_DEV) return tZ(t, e, r);
  if ((Xe('code/willGenerateNls'), t === 'pseudo' || t.startsWith('en') || !s || !i || !l$(n)))
    return Fc(t, e, r);
  try {
    const o = await ZQ(i);
    if (!o) return Fc(t, e, r);
    const a = eZ(o, t);
    if (!a) return Fc(t, e, r);
    const c = o[a],
      l = c?.translations?.vscode;
    if (
      !c ||
      typeof c.hash != 'string' ||
      !c.translations ||
      typeof l != 'string' ||
      !(await Gy(l))
    )
      return Fc(t, e, r);
    const h = `${c.hash}.${a}`,
      d = Ns.join(i, 'clp', h),
      p = Ns.join(d, s),
      m = Ns.join(p, 'nls.messages.json'),
      w = Ns.join(d, 'tcf.json'),
      v = Ns.join(d, 'corrupted.info');
    (await Gy(v)) && (await lr.promises.rm(d, { recursive: !0, force: !0, maxRetries: 3 }));
    const k = {
      userLocale: t,
      osLocale: e,
      resolvedLanguage: a,
      defaultMessagesFile: Ns.join(r, 'nls.messages.json'),
      languagePack: { translationsConfigFile: w, messagesFile: m, corruptMarkerFile: v },
      locale: t,
      availableLanguages: { '*': a },
      _languagePackId: h,
      _languagePackSupport: !0,
      _translationsConfigFile: w,
      _cacheRoot: d,
      _resolvedLanguagePackCoreLocation: p,
      _corruptedFile: v,
    };
    if (await Gy(p)) return iZ(p).catch(() => {}), Xe('code/didGenerateNls'), k;
    const [, y, C, I, E] = await Promise.all([
      lr.promises.mkdir(p, { recursive: !0 }),
      lr.promises.readFile(Ns.join(r, 'nls.keys.json'), 'utf-8').then((Y) => JSON.parse(Y)),
      lr.promises.readFile(Ns.join(r, 'nls.messages.json'), 'utf-8').then((Y) => JSON.parse(Y)),
      lr.promises.readFile(l, 'utf-8').then((Y) => JSON.parse(Y)),
      QQ(l),
    ]);
    E && dr(I, E);
    const x = [];
    let F = 0;
    for (const [Y, oe] of y) {
      const B = I.contents[Y];
      for (const ae of oe) x.push(B?.[ae] || C[F]), F++;
    }
    return (
      await Promise.all([
        lr.promises.writeFile(m, JSON.stringify(x), 'utf-8'),
        lr.promises.writeFile(w, JSON.stringify(c.translations), 'utf-8'),
      ]),
      Xe('code/didGenerateNls'),
      k
    );
  } catch (o) {
    console.error('Generating translation files failed.', o);
  }
  return Fc(t, e, r);
}
async function ZQ(t) {
  const e = Ns.join(t, 'languagepacks.json');
  try {
    return JSON.parse(await lr.promises.readFile(e, 'utf-8'));
  } catch {
    return;
  }
}
function eZ(t, e) {
  try {
    for (; e; ) {
      if (t[e]) return e;
      const i = e.lastIndexOf('-');
      if (i > 0) e = e.substring(0, i);
      else return;
    }
  } catch (i) {
    console.error('Resolving language pack configuration failed.', i);
  }
}
function Fc(t, e, i) {
  if ((Xe('code/didGenerateNls'), process.env.ICUBE_ENABLE_MARSCODE_NLS)) {
    Xe('code/didGenerateNls');
    const s = GA(t),
      r = s === 'en' ? 'nls.messages.json' : `nls.${s}.messages.json`;
    return {
      userLocale: t,
      osLocale: e,
      resolvedLanguage: s,
      defaultMessagesFile: Ns.join(i, r),
      locale: t,
      availableLanguages: {},
    };
  }
  return {
    userLocale: t,
    osLocale: e,
    resolvedLanguage: 'en',
    defaultMessagesFile: Ns.join(i, 'nls.messages.json'),
    locale: t,
    availableLanguages: {},
  };
}
function GA(t) {
  const e = { 'zh-cn': 'zh-cn', en: 'en', ja: 'ja' };
  return e[t?.toLowerCase()]
    ? e[t?.toLowerCase()]
    : t?.startsWith('en')
    ? 'en'
    : t.startsWith('ja')
    ? 'ja'
    : t?.startsWith('zh')
    ? 'zh-cn'
    : 'en';
}
function tZ(t, e, i) {
  Xe('code/didGenerateNls');
  const s = GA(t);
  return {
    userLocale: t,
    osLocale: e,
    resolvedLanguage: s,
    defaultMessagesFile: Ns.join(i, 'nls.messages.json'),
    locale: t,
    availableLanguages: {},
  };
}
async function Gy(t) {
  try {
    return await lr.promises.access(t), !0;
  } catch {
    return !1;
  }
}
function iZ(t) {
  const e = new Date();
  return lr.promises.utimes(t, e, e);
}
Kc(), T4();
import * as sZ from 'path';
import * as Lh from 'fs';
import * as qA from 'crypto';
var uo;
function rZ(t) {
  try {
    const e = P4();
    return qA.createHash('sha256').update(e, 'utf8').digest('hex');
  } catch (e) {
    t?.(e);
    return;
  }
}
function nZ(t, e) {
  try {
    return JSON.parse(t);
  } catch (i) {
    e?.(i);
    return;
  }
}
function oZ(t, e, i) {
  if (!uo)
    try {
      if (Lh.existsSync(t)) {
        const s = Lh.readFileSync(t, 'utf8'),
          r = nZ(s) || {};
        r && r[e] && typeof r[e] == 'string' && (uo = r[e]);
      }
      uo ||
        ((uo = rZ() || qA.randomUUID()),
        uo &&
          (Lh.existsSync(t) || Lh.mkdirSync(sZ.dirname(t), { recursive: !0 }),
          Lh.writeFileSync(t, JSON.stringify({ [e]: uo }), 'utf8')));
    } catch (s) {
      i?.(s), (uo = void 0);
    }
  return uo;
}
wi(), F4();
import { createRequire as aZ } from 'module';
import vg from 'lodash.merge';
var yg = gs.dirname(qQ(import.meta.url)),
  qy = aZ(import.meta.url);
process.env.VSCODE_DEV || (process.env.ELECTRON_FORCE_IS_PACKAGED = 'true'),
  Xe('code/didStartMain'),
  Xe('code/willLoadMainBundle', { startTime: Math.floor(_Q.timeOrigin) }),
  Xe('code/didLoadMainBundle');
var KA = OQ(Mt);
function cZ() {
  if (process.env.ICUBE_DEV_PROVIDER === 'Spring') {
    const t = qy('../product.desktop.spring.json');
    vg(Mt, t);
  } else {
    const t = qy('../product.desktop.json');
    vg(Mt, t);
  }
  if (lo.existsSync(gs.join(yg, '../product.desktop.local.json'))) {
    const t = qy('../product.desktop.local.json');
    vg(Mt, t);
  }
  vg(Mt, { quality: 'local' });
}
if (process.env.VSCODE_DEV)
  try {
    cZ();
  } catch (t) {
    console.error('setup product config error', t);
  }
var ks = mZ(),
  kg = uZ(ks);
ks.sandbox && !ks['disable-chromium-sandbox'] && !kg['disable-chromium-sandbox']
  ? et.enableSandbox()
  : et.commandLine.hasSwitch('no-sandbox') && !et.commandLine.hasSwitch('disable-gpu-sandbox')
  ? et.commandLine.appendSwitch('disable-gpu-sandbox')
  : (et.commandLine.appendSwitch('no-sandbox'), et.commandLine.appendSwitch('disable-gpu-sandbox'));
var Or = Hg(ks, Mt.nameShort ?? 'marscode-local');
if (
  (process.env.VSCODE_DEV && (Or = gs.resolve(gs.dirname(Or), `${gs.basename(Or)} - Local`)),
  process.platform === 'win32')
) {
  const t = A4(Or);
  t && qc(t);
}
et.setPath('userData', Or);
var JA = bZ();
XQ.setApplicationMenu(null),
  Xe('code/willStartCrashReporter'),
  (ks['crash-reporter-directory'] ||
    (kg['enable-crash-reporter'] && !ks['disable-crash-reporter'])) &&
    pZ(),
  Xe('code/didStartCrashReporter'),
  KA && KA.isPortable && et.setAppLogsPath(gs.join(Or, 'logs')),
  KQ.registerSchemesAsPrivileged([
    {
      scheme: 'vscode-webview',
      privileges: {
        standard: !0,
        secure: !0,
        supportFetchAPI: !0,
        corsEnabled: !0,
        allowServiceWorkers: !0,
        codeCache: !0,
      },
    },
    {
      scheme: 'vscode-file',
      privileges: { secure: !0, standard: !0, supportFetchAPI: !0, corsEnabled: !0, codeCache: !0 },
    },
  ]),
  wZ(),
  process.env.VSCODE_DEV || (process.env.ICUBE_ENABLE_MARSCODE_NLS = '1');
var Ky = void 0,
  Oc = Jy((et.getPreferredSystemLanguages()?.[0] ?? 'en').toLowerCase()),
  Rc = SZ(kg);
if (
  (Rc &&
    (Ky = VA({
      userLocale: Rc,
      osLocale: Oc,
      commit: Mt.commit,
      userDataPath: Or,
      nlsMetadataPath: yg,
      quality: wo(Mt),
    })),
  process.platform === 'win32' || process.platform === 'linux')
) {
  let t = !Rc || Rc === 'qps-ploc' ? 'en' : Rc;
  !Rc && Oc && M4(Oc) && (t = Oc), et.commandLine.appendSwitch('lang', t);
}
et.once('ready', function () {
  if (ks.trace) {
    let t;
    if (ks['trace-memory-infra']) {
      const e = ks['trace-category-filter']?.split(',') || [];
      e.push('disabled-by-default-memory-infra', 'disabled-by-default-memory-infra.v8.code_stats'),
        (t = {
          included_categories: e,
          excluded_categories: ['*'],
          memory_dump_config: {
            allowed_dump_modes: ['light', 'detailed'],
            triggers: [
              { type: 'periodic_interval', mode: 'detailed', min_time_between_dumps_ms: 1e4 },
              { type: 'periodic_interval', mode: 'light', min_time_between_dumps_ms: 1e3 },
            ],
          },
        });
    } else
      t = {
        categoryFilter: ks['trace-category-filter'] || '*',
        traceOptions: ks['trace-options'] || 'record-until-full,enable-sampling',
      };
    YQ.startRecording(t).finally(() => XA());
  } else XA();
});
async function XA() {
  Xe('code/mainAppReady');
  try {
    const [, t] = await Promise.all([vZ(JA), kZ()]);
    await lZ(JA, t);
  } catch (t) {
    console.error(t);
  }
}
async function lZ(t, e) {
  (process.env.VSCODE_NLS_CONFIG = JSON.stringify(e)),
    (process.env.VSCODE_CODE_CACHE_PATH = t || ''),
    await VQ(),
    await Promise.resolve().then(() => ($Q(), DQ)),
    Xe('code/didRunMainBundle');
}
function uZ(t) {
  const e = [
    'disable-hardware-acceleration',
    'force-color-profile',
    'disable-lcd-text',
    'proxy-bypass-list',
  ];
  process.platform === 'linux' &&
    (e.push('force-renderer-accessibility'), e.push('password-store'));
  const i = ['enable-proposed-api', 'log-level', 'use-inmemory-secretstorage'],
    s = hZ();
  Object.keys(s).forEach((a) => {
    const c = s[a];
    if (e.indexOf(a) !== -1) {
      if (c === !0 || c === 'true')
        a === 'disable-hardware-acceleration'
          ? et.disableHardwareAcceleration()
          : et.commandLine.appendSwitch(a);
      else if (typeof c == 'string' && c)
        if (a === 'password-store') {
          let l = c;
          (c === 'gnome' || c === 'gnome-keyring') && (l = 'gnome-libsecret'),
            et.commandLine.appendSwitch(a, l);
        } else et.commandLine.appendSwitch(a, c);
    } else if (i.indexOf(a) !== -1)
      switch (a) {
        case 'enable-proposed-api':
          Array.isArray(c)
            ? c.forEach(
                (l) => l && typeof l == 'string' && process.argv.push('--enable-proposed-api', l)
              )
            : console.error(
                'Unexpected value for `enable-proposed-api` in argv.json. Expected array of extension ids.'
              );
          break;
        case 'log-level':
          if (typeof c == 'string') process.argv.push('--log', c);
          else if (Array.isArray(c)) for (const l of c) process.argv.push('--log', l);
          break;
        case 'use-inmemory-secretstorage':
          c && process.argv.push('--use-inmemory-secretstorage');
          break;
      }
  });
  const r = `CalculateNativeWinOcclusion,${et.commandLine.getSwitchValue('disable-features')}`;
  et.commandLine.appendSwitch('disable-features', r);
  const n = `FontMatchingCTMigration,StandardizedBrowserZoom,${et.commandLine.getSwitchValue(
    'disable-blink-features'
  )}`;
  et.commandLine.appendSwitch('disable-blink-features', n);
  const o = gZ(t);
  return (
    o && et.commandLine.appendSwitch('js-flags', o),
    et.commandLine.appendSwitch('xdg-portal-required-version', '4'),
    s
  );
}
function hZ() {
  const t = fZ();
  let e;
  try {
    e = k4(lo.readFileSync(t).toString());
  } catch (i) {
    i && i.code === 'ENOENT'
      ? dZ(t)
      : console.warn(
          `Unable to read argv.json configuration file in ${t}, falling back to defaults (${i})`
        );
  }
  return e || (e = {}), e;
}
function dZ(t) {
  try {
    const e = gs.dirname(t);
    lo.existsSync(e) || lo.mkdirSync(e);
    const i = [
      '// This configuration file allows you to pass permanent command line arguments to VS Code.',
      '// Only a subset of arguments is currently supported to reduce the likelihood of breaking',
      '// the installation.',
      '//',
      '// PLEASE DO NOT CHANGE WITHOUT UNDERSTANDING THE IMPACT',
      '//',
      '// NOTE: Changing this file requires a restart of VS Code.',
      '{',
      '	// Use software rendering instead of hardware accelerated rendering.',
      '	// This can help in cases where you see rendering issues in VS Code.',
      '	// "disable-hardware-acceleration": true',
      '}',
    ];
    lo.writeFileSync(
      t,
      i.join(`
`)
    );
  } catch (e) {
    console.error(
      `Unable to create argv.json configuration file in ${t}, falling back to defaults (${e})`
    );
  }
}
function fZ() {
  const t = process.env.VSCODE_PORTABLE;
  if (t) return gs.join(t, 'argv.json');
  let e = Mt.dataFolderName;
  return process.env.VSCODE_DEV && (e = `${e}-local`), gs.join(PQ.homedir(), e, 'argv.json');
}
function pZ() {
  let t = ks['crash-reporter-directory'],
    e = '';
  if (t) {
    if (
      ((t = gs.normalize(t)),
      gs.isAbsolute(t) ||
        (console.error(
          `The path '${t}' specified for --crash-reporter-directory must be absolute.`
        ),
        et.exit(1)),
      !lo.existsSync(t))
    )
      try {
        lo.mkdirSync(t, { recursive: !0 });
      } catch {
        console.error(
          `The path '${t}' specified for --crash-reporter-directory does not seem to exist or cannot be created.`
        ),
          et.exit(1);
      }
    console.log(
      `Found --crash-reporter-directory argument. Setting crashDumps directory to be '${t}'`
    ),
      et.setPath('crashDumps', t);
  } else {
    const o = Mt.appCenter;
    if (o) {
      const a = process.platform === 'win32',
        c = process.platform === 'linux',
        l = process.platform === 'darwin',
        h = kg['crash-reporter-id'];
      if (h && /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(h)) {
        if (a)
          switch (process.arch) {
            case 'x64':
              e = o['win32-x64'];
              break;
            case 'arm64':
              e = o['win32-arm64'];
              break;
          }
        else if (l)
          if (Mt.darwinUniversalAssetId) e = o['darwin-universal'];
          else
            switch (process.arch) {
              case 'x64':
                e = o.darwin;
                break;
              case 'arm64':
                e = o['darwin-arm64'];
                break;
            }
        else c && (e = o['linux-x64']);
        e = e.concat('&uid=', h, '&iid=', h, '&sid=', h);
        const p = process.argv,
          m = p.indexOf('--');
        m === -1 ? p.push('--crash-reporter-id', h) : p.splice(m, 0, '--crash-reporter-id', h);
      }
    }
  }
  const i = (Mt.crashReporter ? Mt.crashReporter.productName : void 0) || Mt.nameShort,
    s = (Mt.crashReporter ? Mt.crashReporter.companyName : void 0) || 'Microsoft',
    r = !!(!process.env.VSCODE_DEV && e),
    n = oZ(
      gs.resolve(Or, 'User/globalStorage/storage.json'),
      'telemetry.machineId',
      console.error.bind(console)
    );
  JQ.start({
    companyName: s,
    productName: process.env.VSCODE_DEV ? `${i} Dev` : i,
    submitURL: e,
    uploadToServer: r,
    compress: !1,
    globalExtra: {
      machine_id: n || '',
      build_version: Mt.tronBuildVersion || '',
      quality: Mt.quality || '',
      build_time: Mt.date || '',
    },
    extra: { process_name: 'main' },
  });
}
function gZ(t) {
  const e = [];
  return t['js-flags'] && e.push(t['js-flags']), e.length > 0 ? e.join(' ') : null;
}
function mZ() {
  return (0, GQ.default)(process.argv, {
    string: ['user-data-dir', 'locale', 'js-flags', 'crash-reporter-directory'],
    boolean: ['disable-chromium-sandbox'],
    default: { sandbox: !0 },
    alias: { 'no-sandbox': 'sandbox' },
  });
}
function wZ() {
  const t = [];
  (globalThis.macOpenFiles = t),
    et.on('open-file', function (s, r) {
      t.push(r);
    });
  const e = [],
    i = function (s, r) {
      s.preventDefault(), e.push(r);
    };
  et.on('will-finish-launching', function () {
    et.on('open-url', i);
  }),
    (globalThis.getOpenUrls = function () {
      return et.removeListener('open-url', i), e;
    });
}
function bZ() {
  if (process.argv.indexOf('--no-cached-data') > 0 || process.env.VSCODE_DEV) return;
  const t = Mt.commit;
  if (t) return gs.join(Or, 'CachedData', t);
}
async function vZ(t) {
  if (typeof t == 'string')
    try {
      return await lo.promises.mkdir(t, { recursive: !0 }), t;
    } catch {}
}
function Jy(t) {
  if (t.startsWith('zh')) {
    const e = t.split('-')[1];
    return ['hans', 'cn', 'sg', 'my'].includes(e) ? 'zh-cn' : 'zh-tw';
  }
  return t;
}
function yZ(t) {
  return t.startsWith('zh') ? 'zh-cn' : t.startsWith('ja') ? 'ja' : t.startsWith('en') ? 'en' : t;
}
async function kZ() {
  const t = Ky ? await Ky : void 0;
  if (t) return t;
  let e = et.getLocale();
  return e
    ? ((e = Jy(e.toLowerCase())),
      process.platform === 'win32' &&
        et.getSystemLocale() &&
        ((e = Jy(et.getSystemLocale()?.toLowerCase() ?? 'en')),
        (e = yZ(e)),
        M4(e) || (e = 'en'),
        et.commandLine.appendSwitch('lang', e)),
      VA({
        userLocale: e,
        osLocale: Oc,
        commit: Mt.commit,
        quality: wo(Mt),
        userDataPath: Or,
        nlsMetadataPath: yg,
      }))
    : {
        userLocale: 'en',
        osLocale: Oc,
        resolvedLanguage: 'en',
        defaultMessagesFile: gs.join(yg, 'nls.messages.json'),
        locale: 'en',
        availableLanguages: {},
      };
}
function SZ(t) {
  const e = ks.locale;
  return e ? e.toLowerCase() : typeof t?.locale == 'string' ? t.locale.toLowerCase() : void 0;
}

//# sourceMappingURL=https://trae.local/sourcemaps/undefined/main.js.map
